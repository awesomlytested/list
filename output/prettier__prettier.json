{"repo":"prettier/prettier","url":"https://github.com/prettier/prettier","branch":"main","configs":[{"package":"prettier","lang":"js","dir":"tests","framework":"jest","pattern":"**/*[._-]{test,spec,unittest,unit}.{ts,js}"},{"lang":"js","dir":"scripts/release/__tests__","framework":"jest","pattern":"**/*[._-]{test,spec,unittest,unit}.{ts,js}"}],"tests":[{"name":"translates cursor correctly in basic case","suites":[],"updatePoint":{"line":6,"column":47,"index":188},"line":6,"code":"test(\"translates cursor correctly in basic case\", () => {\n  expect(prettier.formatWithCursor(\" 1\", {\n    parser: \"babel\",\n    cursorOffset: 2\n  })).toMatchObject({\n    formatted: \"1;\\n\",\n    cursorOffset: 1\n  });\n});","file":"format/js/cursor/jsfmt.spec.js","skipped":false,"dir":"tests"},{"name":"positions cursor relative to closest node, not SourceElement","suites":[],"updatePoint":{"line":15,"column":66,"index":424},"line":15,"code":"test(\"positions cursor relative to closest node, not SourceElement\", () => {\n  const code = \"return         15\";\n  expect(prettier.formatWithCursor(code, {\n    parser: \"babel\",\n    cursorOffset: 15\n  })).toMatchObject({\n    formatted: \"return 15;\\n\",\n    cursorOffset: 7\n  });\n});","file":"format/js/cursor/jsfmt.spec.js","skipped":false,"dir":"tests"},{"name":"keeps cursor inside formatted node","suites":[],"updatePoint":{"line":25,"column":40,"index":679},"line":25,"code":"test(\"keeps cursor inside formatted node\", () => {\n  const code = \"return         15\";\n  expect(prettier.formatWithCursor(code, {\n    parser: \"babel\",\n    cursorOffset: 14\n  })).toMatchObject({\n    formatted: \"return 15;\\n\",\n    cursorOffset: 7\n  });\n});","file":"format/js/cursor/jsfmt.spec.js","skipped":false,"dir":"tests"},{"name":"doesn't insert second placeholder for nonexistent TypeAnnotation","suites":[],"updatePoint":{"line":35,"column":70,"index":964},"line":35,"code":"test(\"doesn't insert second placeholder for nonexistent TypeAnnotation\", () => {\n  const code = \"\\n\" + outdent`\n      foo('bar', cb => {\n        console.log('stuff')\n      })\n    `;\n  expect(prettier.formatWithCursor(code, {\n    parser: \"babel\",\n    cursorOffset: 24\n  })).toMatchObject({\n    formatted: outdent`\n        foo(\"bar\", (cb) => {\n          console.log(\"stuff\");\n        });\n      ` + \"\\n\",\n    cursorOffset: 25\n  });\n});","file":"format/js/cursor/jsfmt.spec.js","skipped":false,"dir":"tests"},{"name":"cursorOffset === rangeStart","suites":[],"updatePoint":{"line":53,"column":33,"index":1360},"line":53,"code":"test(\"cursorOffset === rangeStart\", () => {\n  const code = \"1.0000\\n2.0000\\n3.0000\";\n  expect(prettier.formatWithCursor(code, {\n    parser: \"babel\",\n    cursorOffset: 7,\n    rangeStart: 7,\n    rangeEnd: 8\n  })).toMatchObject({\n    formatted: \"1.0000\\n2.0;\\n3.0000\",\n    cursorOffset: 7\n  });\n});","file":"format/js/cursor/jsfmt.spec.js","skipped":false,"dir":"tests"},{"name":"returns URL for patch releasing","suites":["publish-to-npm","getReleaseUrl"],"updatePoint":{"line":4,"column":39,"index":195},"line":4,"code":"    it(\"returns URL for patch releasing\", () => {\n      const result = getReleaseUrl(\"2.3.1\", \"2.3.0\");\n      expect(result).toBe(\"https://github.com/prettier/prettier/releases/new?tag=2.3.1&title=2.3.1&body=%F0%9F%94%97%20%5BChangelog%5D(https%3A%2F%2Fgithub.com%2Fprettier%2Fprettier%2Fblob%2Fmain%2FCHANGELOG.md%23231)\");\n    });","file":"steps/publish-to-npm.spec.js","skipped":false,"dir":"scripts/release/__tests__"},{"name":"returns URL for minor releasing","suites":["publish-to-npm","getReleaseUrl"],"updatePoint":{"line":8,"column":39,"index":528},"line":8,"code":"    it(\"returns URL for minor releasing\", () => {\n      const result = getReleaseUrl(\"2.4.0\", \"2.3.0\");\n      expect(result).toBe(\"https://github.com/prettier/prettier/releases/new?tag=2.4.0&title=2.4.0&body=%5Bdiff%5D(https%3A%2F%2Fgithub.com%2Fprettier%2Fprettier%2Fcompare%2F2.3.0...2.4.0)%0A%0A%F0%9F%94%97%20%5BRelease%20note%5D(https%3A%2F%2Fprettier.io%2Fblog%2F2021%2F09%2F01%2F2.4.0.html)\");\n    });","file":"steps/publish-to-npm.spec.js","skipped":false,"dir":"scripts/release/__tests__"},{"name":"returns URL for major releasing","suites":["publish-to-npm","getReleaseUrl"],"updatePoint":{"line":12,"column":39,"index":937},"line":12,"code":"    it(\"returns URL for major releasing\", () => {\n      const result = getReleaseUrl(\"2.3.0\", \"2.2.0\");\n      expect(result).toBe(\"https://github.com/prettier/prettier/releases/new?tag=2.3.0&title=2.3.0&body=%5Bdiff%5D(https%3A%2F%2Fgithub.com%2Fprettier%2Fprettier%2Fcompare%2F2.2.0...2.3.0)%0A%0A%F0%9F%94%97%20%5BRelease%20note%5D(https%3A%2F%2Fprettier.io%2Fblog%2F2021%2F09%2F01%2F2.3.0.html)\");\n    });","file":"steps/publish-to-npm.spec.js","skipped":false,"dir":"scripts/release/__tests__"},{"name":"throws error for invalid semver","suites":["validate-new-version"],"updatePoint":{"line":4,"column":37,"index":162},"line":4,"code":"  it(\"throws error for invalid semver\", () => {\n    expect(() => {\n      step({\n        version: \"foo\"\n      });\n    }).toThrow(\"Invalid version specified\");\n  });","file":"steps/validate-new-version.spec.js","skipped":false,"dir":"scripts/release/__tests__"},{"name":"throws error when version isn't greater than prev version","suites":["validate-new-version"],"updatePoint":{"line":11,"column":63,"index":352},"line":11,"code":"  it(\"throws error when version isn't greater than prev version\", () => {\n    expect(() => {\n      step({\n        version: \"0.0.1\",\n        previousVersion: \"0.0.2\"\n      });\n    }).toThrow(`Version ${chalk.yellow(\"0.0.1\")} has already been published`);\n  });","file":"steps/validate-new-version.spec.js","skipped":false,"dir":"scripts/release/__tests__"},{"name":"returns true for existing version","suites":["isVersionReleased"],"updatePoint":{"line":3,"column":41,"index":153},"line":3,"code":"  test(\"returns true for existing version\", async () => {\n    const result = await isVersionReleased(\"1.0.0\");\n    expect(result).toBe(true);\n  });","file":"steps/version-check.spec.js","skipped":false,"dir":"scripts/release/__tests__"},{"name":"rejects true for non-existing version","suites":["isVersionReleased"],"updatePoint":{"line":7,"column":45,"index":305},"line":7,"code":"  test(\"rejects true for non-existing version\", async () => {\n    await expect(isVersionReleased(\"999.0.0\")).rejects.toThrowErrorMatchingInlineSnapshot('\"prettier@999.0.0 doesn\\'t exit.\"');\n  });","file":"steps/version-check.spec.js","skipped":false,"dir":"scripts/release/__tests__"}]}