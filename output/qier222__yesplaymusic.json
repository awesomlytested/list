{"repo":"qier222/YesPlayMusic","url":"https://github.com/qier222/YesPlayMusic","branch":"master","configs":[{"package":"NeteaseCloudMusicApi","lang":"js","dir":"netease_api/test","framework":"mocha","pattern":"**/*[._-]{test,spec,unittest,unit}.{ts,js}"}],"tests":[{"name":"数据的 code 应该为200","suites":["测试获取歌手专辑列表是否正常"],"updatePoint":{"line":7,"column":21},"line":7,"code":"  it('数据的 code 应该为200', done => {\n    const qs = {\n      id: 32311\n    };\n    axios.get(`${host}/album`, {\n      params: qs\n    }).then(({\n      status,\n      data\n    }) => {\n      if (status == 200) {\n        assert(data.code === 200);\n      }\n\n      done();\n    }).catch(err => {\n      done(err);\n    });\n  });","file":"album.test.js","skipped":false,"dir":"netease_api/test"},{"name":"数据的 code 应该为200","suites":["测试获取评论是否正常"],"updatePoint":{"line":7,"column":21},"line":7,"code":"  it('数据的 code 应该为200', done => {\n    const qs = {\n      id: 32311\n    };\n    axios.get(`${host}/comment/album`, {\n      params: qs\n    }).then(({\n      status,\n      data\n    }) => {\n      if (status == 200) {\n        assert(data.code === 200);\n      }\n\n      done();\n    }).catch(err => {\n      done(err);\n    });\n  });","file":"comment.test.js","skipped":false,"dir":"netease_api/test"},{"name":"手机登录 code 应该等于200","suites":["测试登录是否正常"],"updatePoint":{"line":11,"column":23},"line":11,"code":"  it('手机登录 code 应该等于200', done => {\n    const qs = {\n      countrycode: process.env.NCM_API_TEST_LOGIN_COUNTRY_CODE || country_code || '',\n      phone: process.env.NCM_API_TEST_LOGIN_PHONE || phone || '',\n      password: process.env.NCM_API_TEST_LOGIN_PASSWORD || password || ''\n    };\n    axios.get(`${host}/login/cellphone`, {\n      params: qs\n    }).then(({\n      status,\n      data\n    }) => {\n      if (status == 200) {\n        console.log('昵称:' + data.profile.nickname);\n        assert(data.code === 200);\n        done();\n      } else {\n        done('登录错误');\n      }\n    }).catch(err => {\n      done(err);\n    });\n  });","file":"login.test.js","skipped":false,"dir":"netease_api/test"},{"name":"数据应该有 lrc 字段","suites":["测试获取歌词是否正常"],"updatePoint":{"line":7,"column":18},"line":7,"code":"  it('数据应该有 lrc 字段', done => {\n    const qs = {\n      id: 347230\n    };\n    axios.get(`${host}/lyric`, {\n      params: qs\n    }).then(({\n      status,\n      data\n    }) => {\n      if (status == 200) {\n        assert(typeof data.lrc !== 'undefined');\n      }\n\n      done();\n    }).catch(err => {\n      done(err);\n    });\n  });","file":"lyric.test.js","skipped":false,"dir":"netease_api/test"},{"name":"歌曲的 url 不应该为空","suites":["测试获取歌曲是否正常"],"updatePoint":{"line":7,"column":19},"line":7,"code":"  it('歌曲的 url 不应该为空', done => {\n    const qs = {\n      id: 462791935,\n      br: 999000\n    };\n    axios.get(`${host}/song/url`, {\n      params: qs\n    }).then(({\n      status,\n      data\n    }) => {\n      if (status == 200) {\n        assert(!!data.data[0].url);\n      }\n\n      done();\n    }).catch(err => {\n      done(err);\n    });\n  });","file":"music_url.test.js","skipped":false,"dir":"netease_api/test"},{"name":"获取到的数据的 name 应该和搜索关键词一致","suites":["测试搜索是否正常"],"updatePoint":{"line":7,"column":29},"line":7,"code":"  it('获取到的数据的 name 应该和搜索关键词一致', done => {\n    const qs = {\n      keywords: '海阔天空',\n      type: 1\n    };\n    axios.get(`${host}/search`, {\n      params: qs\n    }).then(({\n      status,\n      data\n    }) => {\n      if (status == 200) {\n        assert(data.result.songs[0].name === '海阔天空');\n      }\n\n      done();\n    }).catch(err => {\n      done(err);\n    });\n  });","file":"search.test.js","skipped":false,"dir":"netease_api/test"}]}