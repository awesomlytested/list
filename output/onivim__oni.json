{"repo":"onivim/oni","url":"https://github.com/onivim/oni","branch":"master","configs":[{"package":"oni","lang":"ts","dir":"test","framework":"mocha","pattern":"**/*.{js,ts}"}],"tests":[{"name":"installs / uninstalls to a test directory","suites":["WindowsInstallerTests"],"updatePoint":{"line":61,"column":53},"line":61,"code":"        it(\"installs / uninstalls to a test directory\", () => {\n            const testDirectory = \"oni-test-install-\" + new Date().getTime()\n            const testPath = path.join(\"C:\", testDirectory)\n\n            log(\"Installing to: \" + testPath)\n            const result = runInstaller(installExecutablePath, testPath)\n\n            const doesInstallFolderExist = fs.existsSync(testPath)\n            assert.strictEqual(doesInstallFolderExist, true, \"Validate install folder exists now\")\n\n            const doesOniExeExists = fs.existsSync(path.join(testPath, \"Oni.exe\"))\n            assert.strictEqual(doesOniExeExists, true, \"Validate Oni.exe exists\")\n\n            const uninstallExecutablePath = path.join(testPath, \"unins000.exe\")\n            const doesUninstallExist = fs.existsSync(uninstallExecutablePath)\n            assert.strictEqual(doesUninstallExist, true, \"Validate uninstaller exists\")\n\n            const pathKey = getPathRegistryKey()\n            assert.ok(\n                pathKey.indexOf(testDirectory) >= 0,\n                \"Validate path was added to registry key\",\n            )\n\n            log(\"Running uninstaller...\")\n            const uninstallResult = runUninstaller(uninstallExecutablePath)\n\n            assert.strictEqual(\n                doesInstallFolderExist,\n                true,\n                \"Validate install folder doesn't exist after uninstall\",\n            )\n\n            const pathKey2 = getPathRegistryKey()\n            assert.ok(\n                pathKey2.indexOf(testDirectory) === -1,\n                \"Validate path was removed from registry after installation\",\n            )\n        })","file":"setup/WindowsInstallerTests.ts","skipped":false,"dir":"test"}]}