{"repo":"keeweb/keeweb","url":"https://github.com/keeweb/keeweb","branch":"master","configs":[{"package":"keeweb","lang":"js","dir":"test","framework":"mocha","pattern":"**/*.{js,ts}"}],"tests":[{"name":"should return months","suites":["DateFormat"],"updatePoint":{"line":5,"column":26},"line":5,"code":"  it('should return months', () => {\n    expect(DateFormat.months()).to.eql(['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']);\n  });","file":"src/comp/i18n/date-format.js","skipped":false,"dir":"test"},{"name":"should return week days","suites":["DateFormat"],"updatePoint":{"line":8,"column":29},"line":8,"code":"  it('should return week days', () => {\n    expect(DateFormat.weekDays()).to.eql(['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']);\n  });","file":"src/comp/i18n/date-format.js","skipped":false,"dir":"test"},{"name":"should return short week days","suites":["DateFormat"],"updatePoint":{"line":11,"column":35},"line":11,"code":"  it('should return short week days', () => {\n    expect(DateFormat.shortWeekDays()).to.eql(['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']);\n  });","file":"src/comp/i18n/date-format.js","skipped":false,"dir":"test"},{"name":"should format date","suites":["DateFormat"],"updatePoint":{"line":14,"column":24},"line":14,"code":"  it('should format date', () => {\n    expect(DateFormat.dStr(dt)).to.eql('Jan 2, 2020');\n  });","file":"src/comp/i18n/date-format.js","skipped":false,"dir":"test"},{"name":"should format date and time","suites":["DateFormat"],"updatePoint":{"line":17,"column":33},"line":17,"code":"  it('should format date and time', () => {\n    expect(DateFormat.dtStr(dt)).to.eql('Jan 2, 2020, 3:04:05 AM');\n  });","file":"src/comp/i18n/date-format.js","skipped":false,"dir":"test"},{"name":"should format date and time in sortable format","suites":["DateFormat"],"updatePoint":{"line":20,"column":52},"line":20,"code":"  it('should format date and time in sortable format', () => {\n    expect(DateFormat.dtStrFs(dt)).to.eql('2020-01-02T03-04-05');\n  });","file":"src/comp/i18n/date-format.js","skipped":false,"dir":"test"},{"name":"should create a collection without models","suites":["Collection"],"updatePoint":{"line":21,"column":47},"line":21,"code":"  it('should create a collection without models', () => {\n    const collection = new TestCollection();\n    expect(collection).to.be.ok;\n    expect(collection.length).to.eql(0);\n  });","file":"src/framework/collection.js","skipped":false,"dir":"test"},{"name":"should create a collection with models","suites":["Collection"],"updatePoint":{"line":26,"column":44},"line":26,"code":"  it('should create a collection with models', () => {\n    const collection = new TestCollection([new TestModel('1'), new TestModel('2')]);\n    expect(collection).to.be.ok;\n    expect(collection.length).to.eql(2);\n    expect(collection[0]).to.be.ok;\n    expect(collection[0].id).to.eql('1');\n    expect(collection[1]).to.be.ok;\n    expect(collection[1].id).to.eql('2');\n    expect(collection[2]).to.be.undefined;\n  });","file":"src/framework/collection.js","skipped":false,"dir":"test"},{"name":"should check types when adding new items","suites":["Collection"],"updatePoint":{"line":36,"column":46},"line":36,"code":"  it('should check types when adding new items', () => {\n    const collection = new TestCollection();\n    expect(() => {\n      collection.push({\n        id: 'bar'\n      });\n    }).to.throw();\n  });","file":"src/framework/collection.js","skipped":false,"dir":"test"},{"name":"should serialize a collection to JSON","suites":["Collection"],"updatePoint":{"line":44,"column":43},"line":44,"code":"  it('should serialize a collection to JSON', () => {\n    const collection = new TestCollection([new TestModel('1'), new TestModel('2')]);\n    expect(JSON.stringify(collection)).to.eql('[{\"id\":\"1\"},{\"id\":\"2\"}]');\n  });","file":"src/framework/collection.js","skipped":false,"dir":"test"},{"name":"should add models with push","suites":["Collection"],"updatePoint":{"line":48,"column":33},"line":48,"code":"  it('should add models with push', () => {\n    const collection = new TestCollection();\n    const callsChange = [];\n    const callsAdd = [];\n    collection.on('change', (...args) => callsChange.push(args));\n    collection.on('add', (...args) => callsAdd.push(args));\n    expect(JSON.stringify(collection)).to.eql('[]');\n    const model1 = new TestModel(1);\n    collection.push(model1);\n    expect(callsChange).to.eql([[{\n      added: [model1],\n      removed: []\n    }, collection]]);\n    expect(callsAdd).to.eql([[model1, collection]]);\n    expect(collection.length).to.eql(1);\n    expect(JSON.stringify(collection)).to.eql('[{\"id\":1}]');\n    callsChange.length = 0;\n    callsAdd.length = 0;\n    const modelA = new TestModel('a');\n    const modelB = new TestModel('b');\n    collection.push(modelA, modelB);\n    expect(callsChange).to.eql([[{\n      added: [modelA, modelB],\n      removed: []\n    }, collection]]);\n    expect(callsAdd).to.eql([[modelA, collection], [modelB, collection]]);\n    expect(collection.length).to.eql(3);\n    expect(JSON.stringify(collection)).to.eql('[{\"id\":1},{\"id\":\"a\"},{\"id\":\"b\"}]');\n  });","file":"src/framework/collection.js","skipped":false,"dir":"test"},{"name":"should add models with unshift","suites":["Collection"],"updatePoint":{"line":77,"column":36},"line":77,"code":"  it('should add models with unshift', () => {\n    const collection = new TestCollection([new TestModel(1)]);\n    const callsChange = [];\n    const callsAdd = [];\n    collection.on('change', (...args) => callsChange.push(args));\n    collection.on('add', (...args) => callsAdd.push(args));\n    expect(JSON.stringify(collection)).to.eql('[{\"id\":1}]');\n    const model2 = new TestModel(2);\n    collection.unshift(model2);\n    expect(callsChange).to.eql([[{\n      added: [model2],\n      removed: []\n    }, collection]]);\n    expect(callsAdd).to.eql([[model2, collection]]);\n    expect(collection.length).to.eql(2);\n    expect(JSON.stringify(collection)).to.eql('[{\"id\":2},{\"id\":1}]');\n    callsChange.length = 0;\n    callsAdd.length = 0;\n    const modelA = new TestModel('a');\n    const modelB = new TestModel('b');\n    collection.unshift(modelA, modelB);\n    expect(callsChange).to.eql([[{\n      added: [modelA, modelB],\n      removed: []\n    }, collection]]);\n    expect(callsAdd).to.eql([[modelA, collection], [modelB, collection]]);\n    expect(collection.length).to.eql(4);\n    expect(JSON.stringify(collection)).to.eql('[{\"id\":\"a\"},{\"id\":\"b\"},{\"id\":2},{\"id\":1}]');\n  });","file":"src/framework/collection.js","skipped":false,"dir":"test"},{"name":"should remove models with pop","suites":["Collection"],"updatePoint":{"line":106,"column":35},"line":106,"code":"  it('should remove models with pop', () => {\n    const model1 = new TestModel(1);\n    const model2 = new TestModel(2);\n    const collection = new TestCollection([model1, model2]);\n    const callsChange = [];\n    const callsRemove = [];\n    collection.on('change', (...args) => callsChange.push(args));\n    collection.on('remove', (...args) => callsRemove.push(args));\n    expect(JSON.stringify(collection)).to.eql('[{\"id\":1},{\"id\":2}]');\n    const popped1 = collection.pop();\n    expect(popped1).to.eql(model2);\n    expect(callsChange).to.eql([[{\n      added: [],\n      removed: [model2]\n    }, collection]]);\n    expect(callsRemove).to.eql([[model2, collection]]);\n    expect(collection.length).to.eql(1);\n    expect(JSON.stringify(collection)).to.eql('[{\"id\":1}]');\n    callsChange.length = 0;\n    callsRemove.length = 0;\n    const popped2 = collection.pop();\n    expect(popped2).to.eql(model1);\n    expect(callsChange).to.eql([[{\n      added: [],\n      removed: [model1]\n    }, collection]]);\n    expect(callsRemove).to.eql([[model1, collection]]);\n    expect(JSON.stringify(collection)).to.eql('[]');\n    callsChange.length = 0;\n    callsRemove.length = 0;\n    const popped3 = collection.pop();\n    expect(popped3).to.be.undefined;\n    expect(callsChange).to.eql([]);\n    expect(callsRemove).to.eql([]);\n    expect(JSON.stringify(collection)).to.eql('[]');\n  });","file":"src/framework/collection.js","skipped":false,"dir":"test"},{"name":"should remove models with shift","suites":["Collection"],"updatePoint":{"line":142,"column":37},"line":142,"code":"  it('should remove models with shift', () => {\n    const model1 = new TestModel(1);\n    const model2 = new TestModel(2);\n    const collection = new TestCollection([model1, model2]);\n    const callsChange = [];\n    const callsRemove = [];\n    collection.on('change', (...args) => callsChange.push(args));\n    collection.on('remove', (...args) => callsRemove.push(args));\n    expect(JSON.stringify(collection)).to.eql('[{\"id\":1},{\"id\":2}]');\n    const shifted1 = collection.shift();\n    expect(shifted1).to.eql(model1);\n    expect(callsChange).to.eql([[{\n      added: [],\n      removed: [model1]\n    }, collection]]);\n    expect(callsRemove).to.eql([[model1, collection]]);\n    expect(collection.length).to.eql(1);\n    expect(JSON.stringify(collection)).to.eql('[{\"id\":2}]');\n    callsChange.length = 0;\n    callsRemove.length = 0;\n    const shifted2 = collection.shift();\n    expect(shifted2).to.eql(model2);\n    expect(callsChange).to.eql([[{\n      added: [],\n      removed: [model2]\n    }, collection]]);\n    expect(callsRemove).to.eql([[model2, collection]]);\n    expect(collection.length).to.eql(0);\n    expect(JSON.stringify(collection)).to.eql('[]');\n    callsChange.length = 0;\n    callsRemove.length = 0;\n    const shifted3 = collection.shift();\n    expect(shifted3).to.be.undefined;\n    expect(callsChange).to.eql([]);\n    expect(callsRemove).to.eql([]);\n    expect(collection.length).to.eql(0);\n    expect(JSON.stringify(collection)).to.eql('[]');\n  });","file":"src/framework/collection.js","skipped":false,"dir":"test"},{"name":"should remove models by setting length","suites":["Collection"],"updatePoint":{"line":180,"column":44},"line":180,"code":"  it('should remove models by setting length', () => {\n    const model1 = new TestModel(1);\n    const model2 = new TestModel(2);\n    const model3 = new TestModel(3);\n    const collection = new TestCollection([model1, model2, model3]);\n    const callsChange = [];\n    const callsRemove = [];\n    collection.on('change', (...args) => callsChange.push(args));\n    collection.on('remove', (...args) => callsRemove.push(args));\n    expect(JSON.stringify(collection)).to.eql('[{\"id\":1},{\"id\":2},{\"id\":3}]');\n    collection.length = 1;\n    expect(callsChange).to.eql([[{\n      added: [],\n      removed: [model2, model3]\n    }, collection]]);\n    expect(callsRemove).to.eql([[model2, collection], [model3, collection]]);\n    expect(collection.length).to.eql(1);\n    expect(JSON.stringify(collection)).to.eql('[{\"id\":1}]');\n    callsChange.length = 0;\n    callsRemove.length = 0;\n    collection.length = 1;\n    expect(callsChange).to.eql([]);\n    expect(callsRemove).to.eql([]);\n    expect(collection.length).to.eql(1);\n    expect(JSON.stringify(collection)).to.eql('[{\"id\":1}]');\n    collection.length = 0;\n    expect(callsChange).to.eql([[{\n      added: [],\n      removed: [model1]\n    }, collection]]);\n    expect(callsRemove).to.eql([[model1, collection]]);\n    expect(collection.length).to.eql(0);\n    expect(JSON.stringify(collection)).to.eql('[]');\n  });","file":"src/framework/collection.js","skipped":false,"dir":"test"},{"name":"should set custom properties","suites":["Collection"],"updatePoint":{"line":214,"column":34},"line":214,"code":"  it('should set custom properties', () => {\n    const collection = new TestCollection();\n    const calls = [];\n    collection.on('change', (...args) => calls.push(args));\n    collection.on('add', (...args) => calls.push(args));\n    collection.on('remove', (...args) => calls.push(args));\n    collection.prop = 'val';\n    expect(collection.prop).to.eql('val');\n    expect(collection.length).to.eql(0);\n    expect(JSON.stringify(collection)).to.eql('[]');\n    expect(calls).to.eql([]);\n  });","file":"src/framework/collection.js","skipped":false,"dir":"test"},{"name":"should check types when setting items","suites":["Collection"],"updatePoint":{"line":226,"column":43},"line":226,"code":"  it('should check types when setting items', () => {\n    const collection = new TestCollection();\n    expect(() => {\n      collection[0] = {\n        id: 'bar'\n      };\n    }).to.throw();\n  });","file":"src/framework/collection.js","skipped":false,"dir":"test"},{"name":"should set new items","suites":["Collection"],"updatePoint":{"line":234,"column":26},"line":234,"code":"  it('should set new items', () => {\n    const collection = new TestCollection();\n    const callsChange = [];\n    const callsAdd = [];\n    const callsRemove = [];\n    collection.on('change', (...args) => callsChange.push(args));\n    collection.on('add', (...args) => callsAdd.push(args));\n    collection.on('remove', (...args) => callsRemove.push(args));\n    const model = new TestModel(1);\n    collection[0] = model;\n    expect(collection.length).to.eql(1);\n    expect(JSON.stringify(collection)).to.eql('[{\"id\":1}]');\n    expect(callsChange).to.eql([[{\n      added: [model],\n      removed: []\n    }, collection]]);\n    expect(callsAdd).to.eql([[model, collection]]);\n    expect(callsRemove).to.eql([]);\n  });","file":"src/framework/collection.js","skipped":false,"dir":"test"},{"name":"should set existing items","suites":["Collection"],"updatePoint":{"line":253,"column":31},"line":253,"code":"  it('should set existing items', () => {\n    const model1 = new TestModel(1);\n    const model2 = new TestModel(2);\n    const collection = new TestCollection([model1, model2]);\n    const callsChange = [];\n    const callsAdd = [];\n    const callsRemove = [];\n    collection.on('change', (...args) => callsChange.push(args));\n    collection.on('add', (...args) => callsAdd.push(args));\n    collection.on('remove', (...args) => callsRemove.push(args));\n    expect(JSON.stringify(collection)).to.eql('[{\"id\":1},{\"id\":2}]');\n    const model3 = new TestModel(3);\n    collection[1] = model3;\n    expect(collection.length).to.eql(2);\n    expect(JSON.stringify(collection)).to.eql('[{\"id\":1},{\"id\":3}]');\n    expect(callsChange).to.eql([[{\n      added: [model3],\n      removed: [model2]\n    }, collection]]);\n    expect(callsAdd).to.eql([[model3, collection]]);\n    expect(callsRemove).to.eql([[model2, collection]]);\n  });","file":"src/framework/collection.js","skipped":false,"dir":"test"},{"name":"should get items by id","suites":["Collection"],"updatePoint":{"line":275,"column":28},"line":275,"code":"  it('should get items by id', () => {\n    const model1 = new TestModel(1);\n    const model2 = new TestModel(2);\n    const collection = new TestCollection([model1, model2]);\n    expect(collection.get(1)).to.eql(model1);\n    expect(collection.get(2)).to.eql(model2);\n    expect(collection.get(3)).to.be.undefined;\n  });","file":"src/framework/collection.js","skipped":false,"dir":"test"},{"name":"should remove items","suites":["Collection"],"updatePoint":{"line":283,"column":25},"line":283,"code":"  it('should remove items', () => {\n    const model1 = new TestModel(1);\n    const model2 = new TestModel(2);\n    const collection = new TestCollection([model1, model2]);\n    const callsChange = [];\n    const callsRemove = [];\n    collection.on('change', (...args) => callsChange.push(args));\n    collection.on('remove', (...args) => callsRemove.push(args));\n    collection.remove(1);\n    expect(JSON.stringify(collection)).to.eql('[{\"id\":2}]');\n    expect(callsChange).to.eql([[{\n      added: [],\n      removed: [model1]\n    }, collection]]);\n    expect(callsRemove).to.eql([[model1, collection]]);\n    callsChange.length = 0;\n    callsRemove.length = 0;\n    collection.remove(model2);\n    expect(JSON.stringify(collection)).to.eql('[]');\n    expect(callsChange).to.eql([[{\n      added: [],\n      removed: [model2]\n    }, collection]]);\n    expect(callsRemove).to.eql([[model2, collection]]);\n  });","file":"src/framework/collection.js","skipped":false,"dir":"test"},{"name":"should sort items by comparator","suites":["Collection"],"updatePoint":{"line":308,"column":37},"line":308,"code":"  it('should sort items by comparator', () => {\n    const model1 = new TestModel(1);\n    const model2 = new TestModel(2);\n    const collection = new TestCollection([model1, model2]);\n    expect(JSON.stringify(collection)).to.eql('[{\"id\":1},{\"id\":2}]');\n\n    collection.comparator = (x, y) => x.id - y.id;\n\n    collection.sort();\n    expect(JSON.stringify(collection)).to.eql('[{\"id\":1},{\"id\":2}]');\n\n    collection.comparator = (x, y) => y.id - x.id;\n\n    collection.sort();\n    expect(JSON.stringify(collection)).to.eql('[{\"id\":2},{\"id\":1}]');\n  });","file":"src/framework/collection.js","skipped":false,"dir":"test"},{"name":"should splice items","suites":["Collection"],"updatePoint":{"line":324,"column":25},"line":324,"code":"  it('should splice items', () => {\n    const model1 = new TestModel(1);\n    const model2 = new TestModel(2);\n    const model3 = new TestModel(3);\n    const collection = new TestCollection([model1, model2, model3]);\n    const callsChange = [];\n    const callsAdd = [];\n    const callsRemove = [];\n    collection.on('change', (...args) => callsChange.push(args));\n    collection.on('add', (...args) => callsAdd.push(args));\n    collection.on('remove', (...args) => callsRemove.push(args));\n    expect(JSON.stringify(collection)).to.eql('[{\"id\":1},{\"id\":2},{\"id\":3}]');\n    const model4 = new TestModel(4);\n    const model5 = new TestModel(5);\n    const model6 = new TestModel(6);\n    collection.splice(1, 1, model4, model5, model6);\n    expect(collection.length).to.eql(5);\n    expect(JSON.stringify(collection)).to.eql('[{\"id\":1},{\"id\":4},{\"id\":5},{\"id\":6},{\"id\":3}]');\n    expect(callsChange).to.eql([[{\n      added: [model4, model5, model6],\n      removed: [model2]\n    }, collection]]);\n    expect(callsAdd).to.eql([[model4, collection], [model5, collection], [model6, collection]]);\n    expect(callsRemove).to.eql([[model2, collection]]);\n  });","file":"src/framework/collection.js","skipped":false,"dir":"test"},{"name":"should create a model with default properties","suites":["Model"],"updatePoint":{"line":18,"column":51},"line":18,"code":"  it('should create a model with default properties', () => {\n    const model = new TestModel();\n    expect(model).to.be.ok;\n    expect(model.foo).to.eql('bar');\n    expect(model.baz).to.eql(0);\n    expect(model.another).to.be.undefined;\n  });","file":"src/framework/model.js","skipped":false,"dir":"test"},{"name":"should serialize a model to JSON","suites":["Model"],"updatePoint":{"line":25,"column":38},"line":25,"code":"  it('should serialize a model to JSON', () => {\n    const model = new TestModel();\n    model.baz = 1;\n    expect(JSON.stringify(model)).to.eql('{\"foo\":\"bar\",\"baz\":1}');\n  });","file":"src/framework/model.js","skipped":false,"dir":"test"},{"name":"should throw an error for unknown properties","suites":["Model"],"updatePoint":{"line":30,"column":50},"line":30,"code":"  it('should throw an error for unknown properties', () => {\n    const model = new TestModel();\n    expect(() => {\n      model.xxx = 'value';\n    }).to.throw();\n  });","file":"src/framework/model.js","skipped":false,"dir":"test"},{"name":"should set properties","suites":["Model"],"updatePoint":{"line":36,"column":27},"line":36,"code":"  it('should set properties', () => {\n    const model = new TestModel();\n    const calls = [];\n    const callsProp = [];\n    const callsAnother = [];\n    model.on('change', (...args) => calls.push(args));\n    model.on('change:foo', (...args) => callsProp.push(args));\n    model.on('change:baz', (...args) => callsAnother.push(args));\n    model.foo = 123;\n    expect(model.foo).to.eql(123);\n    expect(calls).to.eql([[model, {\n      foo: 123\n    }]]);\n    expect(callsProp).to.eql([[model, 123, 'bar']]);\n    expect(callsAnother).to.eql([]);\n  });","file":"src/framework/model.js","skipped":false,"dir":"test"},{"name":"should set properties using \"set\" method","suites":["Model"],"updatePoint":{"line":52,"column":46},"line":52,"code":"  it('should set properties using \"set\" method', () => {\n    const model = new TestModel();\n    const calls = [];\n    const callsProp = [];\n    const callsAnother = [];\n    model.on('change', (...args) => calls.push(args));\n    model.on('change:foo', (...args) => callsProp.push(args));\n    model.on('change:baz', (...args) => callsAnother.push(args));\n    model.set({\n      foo: 123,\n      baz: 456\n    });\n    expect(model.foo).to.eql(123);\n    expect(model.baz).to.eql(456);\n    expect(calls).to.eql([[model, {\n      foo: 123,\n      baz: 456\n    }]]);\n    expect(callsProp).to.eql([[model, 123, 'bar']]);\n    expect(callsAnother).to.eql([[model, 456, 0]]);\n  });","file":"src/framework/model.js","skipped":false,"dir":"test"},{"name":"should silently set properties using \"set\" method","suites":["Model"],"updatePoint":{"line":73,"column":55},"line":73,"code":"  it('should silently set properties using \"set\" method', () => {\n    const model = new TestModel();\n    const calls = [];\n    const callsProp = [];\n    const callsAnother = [];\n    model.on('change', (...args) => calls.push(args));\n    model.on('change:foo', (...args) => callsProp.push(args));\n    model.on('change:baz', (...args) => callsAnother.push(args));\n    model.set({\n      foo: 123,\n      baz: 456\n    }, {\n      silent: true\n    });\n    expect(model.foo).to.eql(123);\n    expect(model.baz).to.eql(456);\n    expect(calls).to.eql([]);\n    expect(callsProp).to.eql([]);\n    expect(callsAnother).to.eql([]);\n  });","file":"src/framework/model.js","skipped":false,"dir":"test"},{"name":"should delete properties","suites":["Model"],"updatePoint":{"line":93,"column":30},"line":93,"code":"  it('should delete properties', () => {\n    const model = new TestModel();\n    model.foo = 123;\n    const calls = [];\n    const callsProp = [];\n    const callsAnother = [];\n    model.on('change', (...args) => calls.push(args));\n    model.on('change:foo', (...args) => callsProp.push(args));\n    model.on('change:baz', (...args) => callsAnother.push(args));\n    delete model.foo;\n    expect(model.foo).to.eql('bar');\n    expect(calls).to.eql([[model, {\n      foo: 'bar'\n    }]]);\n    expect(callsProp).to.eql([[model, 'bar', 123]]);\n    expect(callsAnother).to.eql([]);\n  });","file":"src/framework/model.js","skipped":false,"dir":"test"},{"name":"should allow extensions for extensible models","suites":["Model"],"updatePoint":{"line":110,"column":51},"line":110,"code":"  it('should allow extensions for extensible models', () => {\n    const model = new TestExtensibleModel();\n    expect(model.foo).to.eql('bar');\n    const calls = [];\n    model.on('change', (...args) => calls.push(args));\n    model.foo = 123;\n    model.xxx = 456;\n    expect(model.foo).to.eql(123);\n    expect(model.xxx).to.eql(456);\n    expect(model).to.have.property('xxx');\n    expect(JSON.stringify(model)).to.eql('{\"foo\":123,\"xxx\":456}');\n    delete model.xxx;\n    expect(model).to.not.have.property('xxx');\n    expect(model.xxx).to.be.undefined;\n    expect(JSON.stringify(model)).to.eql('{\"foo\":123}');\n    expect(calls).to.eql([[model, {\n      foo: 123\n    }], [model, {\n      xxx: 456\n    }], [model, {\n      xxx: undefined\n    }]]);\n  });","file":"src/framework/model.js","skipped":false,"dir":"test"},{"name":"should throw an error for non-passwords","suites":["PasswordStrength"],"updatePoint":{"line":21,"column":45},"line":21,"code":"  it('should throw an error for non-passwords', () => {\n    expect(() => passwordStrength('')).to.throw(TypeError);\n    expect(() => passwordStrength(null)).to.throw(TypeError);\n  });","file":"src/util/data/password-strength.js","skipped":false,"dir":"test"},{"name":"should return level None for short passwords","suites":["PasswordStrength"],"updatePoint":{"line":25,"column":50},"line":25,"code":"  it('should return level None for short passwords', () => {\n    check('', {\n      level: PasswordStrengthLevel.None,\n      length: 0\n    });\n    check('1234', {\n      level: PasswordStrengthLevel.None,\n      length: 4,\n      onlyDigits: true\n    });\n  });","file":"src/util/data/password-strength.js","skipped":false,"dir":"test"},{"name":"should return level None for single character passwords","suites":["PasswordStrength"],"updatePoint":{"line":36,"column":61},"line":36,"code":"  it('should return level None for single character passwords', () => {\n    check('000000000000', {\n      level: PasswordStrengthLevel.None,\n      length: 12,\n      onlyDigits: true\n    });\n  });","file":"src/util/data/password-strength.js","skipped":false,"dir":"test"},{"name":"should return level Low for simple passwords","suites":["PasswordStrength"],"updatePoint":{"line":43,"column":50},"line":43,"code":"  it('should return level Low for simple passwords', () => {\n    check('12345=', {\n      level: PasswordStrengthLevel.Low,\n      length: 6\n    });\n    check('12345Aa', {\n      level: PasswordStrengthLevel.Low,\n      length: 7\n    });\n    check('1234567a', {\n      level: PasswordStrengthLevel.Low,\n      length: 8\n    });\n    check('1234567ab', {\n      level: PasswordStrengthLevel.Low,\n      length: 9\n    });\n    check('1234Ab', {\n      level: PasswordStrengthLevel.Low,\n      length: 6\n    });\n    check('1234567', {\n      level: PasswordStrengthLevel.Low,\n      length: 7,\n      onlyDigits: true\n    });\n    check('123456789012345678', {\n      level: PasswordStrengthLevel.Low,\n      onlyDigits: true\n    });\n    check('abcdefghijkl', {\n      level: PasswordStrengthLevel.Low\n    });\n  });","file":"src/util/data/password-strength.js","skipped":false,"dir":"test"},{"name":"should return level Good for passwords matching all criteria","suites":["PasswordStrength"],"updatePoint":{"line":77,"column":66},"line":77,"code":"  it('should return level Good for passwords matching all criteria', () => {\n    check('123456ABcdef', {\n      level: PasswordStrengthLevel.Good,\n      length: 12\n    });\n    check('Abcdef=5k', {\n      level: PasswordStrengthLevel.Good,\n      length: 9\n    });\n    check('12345678901234567890123456', {\n      level: PasswordStrengthLevel.Good,\n      onlyDigits: true\n    });\n  });","file":"src/util/data/password-strength.js","skipped":false,"dir":"test"},{"name":"should work with long passwords","suites":["PasswordStrength"],"updatePoint":{"line":91,"column":37},"line":91,"code":"  it('should work with long passwords', () => {\n    check('ABCDabcd_-+=' + '1234567890'.repeat(100), {\n      level: PasswordStrengthLevel.Good\n    });\n  });","file":"src/util/data/password-strength.js","skipped":false,"dir":"test"},{"name":"compares equal versions","suites":["SemVer"],"updatePoint":{"line":4,"column":29},"line":4,"code":"  it('compares equal versions', () => {\n    expect(SemVer.compareVersions('1.11.1', '1.11.1')).to.eql(0);\n  });","file":"src/util/data/semver.js","skipped":false,"dir":"test"},{"name":"compares major versions gt","suites":["SemVer"],"updatePoint":{"line":7,"column":32},"line":7,"code":"  it('compares major versions gt', () => {\n    expect(SemVer.compareVersions('11.1.1', '1.11.1')).to.eql(1);\n  });","file":"src/util/data/semver.js","skipped":false,"dir":"test"},{"name":"compares major versions lt","suites":["SemVer"],"updatePoint":{"line":10,"column":32},"line":10,"code":"  it('compares major versions lt', () => {\n    expect(SemVer.compareVersions('1.11.1', '11.1.1')).to.eql(-1);\n  });","file":"src/util/data/semver.js","skipped":false,"dir":"test"},{"name":"compares minor versions gt","suites":["SemVer"],"updatePoint":{"line":13,"column":32},"line":13,"code":"  it('compares minor versions gt', () => {\n    expect(SemVer.compareVersions('1.11.1', '1.1.11')).to.eql(1);\n  });","file":"src/util/data/semver.js","skipped":false,"dir":"test"},{"name":"compares minor versions lt","suites":["SemVer"],"updatePoint":{"line":16,"column":32},"line":16,"code":"  it('compares minor versions lt', () => {\n    expect(SemVer.compareVersions('1.1.11', '1.11.1')).to.eql(-1);\n  });","file":"src/util/data/semver.js","skipped":false,"dir":"test"},{"name":"should match an empty filter","suites":["EntrySearch"],"updatePoint":{"line":4,"column":34},"line":4,"code":"  it('should match an empty filter', () => {\n    const search = new EntrySearch({\n      searchText: ''\n    });\n    expect(search.matches()).to.be.true;\n  });","file":"src/util/entry-search.js","skipped":false,"dir":"test"},{"name":"should not match an empty entry","suites":["EntrySearch"],"updatePoint":{"line":10,"column":37},"line":10,"code":"  it('should not match an empty entry', () => {\n    const search = new EntrySearch({\n      searchText: ''\n    });\n    expect(search.matches({\n      textLower: 'test'\n    })).to.be.false;\n  });","file":"src/util/entry-search.js","skipped":false,"dir":"test"},{"name":"should match a simple string","suites":["EntrySearch"],"updatePoint":{"line":18,"column":34},"line":18,"code":"  it('should match a simple string', () => {\n    const search = new EntrySearch({\n      searchText: 'some test'\n    });\n    expect(search.matches({\n      textLower: 'test'\n    })).to.be.true;\n  });","file":"src/util/entry-search.js","skipped":false,"dir":"test"},{"name":"should not match a non-existing string","suites":["EntrySearch"],"updatePoint":{"line":26,"column":44},"line":26,"code":"  it('should not match a non-existing string', () => {\n    const search = new EntrySearch({\n      searchText: 'some test'\n    });\n    expect(search.matches({\n      textLower: 'something'\n    })).to.be.false;\n  });","file":"src/util/entry-search.js","skipped":false,"dir":"test"},{"name":"should match text parts","suites":["EntrySearch"],"updatePoint":{"line":34,"column":29},"line":34,"code":"  it('should match text parts', () => {\n    const search = new EntrySearch({\n      searchText: 'some test'\n    });\n    expect(search.matches({\n      textLower: 'some test',\n      textLowerParts: ['some', 'test']\n    })).to.be.true;\n    expect(search.matches({\n      textLower: 'test some',\n      textLowerParts: ['test', 'some']\n    })).to.be.true;\n  });","file":"src/util/entry-search.js","skipped":false,"dir":"test"},{"name":"should convert to dataurl","suites":["IconUrlFormat"],"updatePoint":{"line":4,"column":31},"line":4,"code":"  it('should convert to dataurl', () => {\n    expect(IconUrlFormat.toDataUrl(new Uint8Array([1, 2]))).to.eql('data:image/png;base64,AQI=');\n  });","file":"src/util/formatting/icon-url-format.js","skipped":false,"dir":"test"},{"name":"should convert markdown","suites":["MdToHtml"],"updatePoint":{"line":4,"column":29},"line":4,"code":"  it('should convert markdown', () => {\n    expect(MdToHtml.convert('## head\\n_italic_')).to.eql({\n      html: '<div class=\"markdown\"><h2>head</h2>\\n<p><em>italic</em></p>\\n</div>'\n    });\n  });","file":"src/util/formatting/md-to-html.js","skipped":false,"dir":"test"},{"name":"should not add markdown wrapper tags for plaintext","suites":["MdToHtml"],"updatePoint":{"line":9,"column":56},"line":9,"code":"  it('should not add markdown wrapper tags for plaintext', () => {\n    expect(MdToHtml.convert('plain\\ntext')).to.eql({\n      text: 'plain\\ntext'\n    });\n  });","file":"src/util/formatting/md-to-html.js","skipped":false,"dir":"test"},{"name":"should convert links","suites":["MdToHtml"],"updatePoint":{"line":14,"column":26},"line":14,"code":"  it('should convert links', () => {\n    expect(MdToHtml.convert('[link](https://x)')).to.eql({\n      html: '<div class=\"markdown\">' + '<p><a href=\"https://x\" rel=\"noreferrer noopener\" target=\"_blank\">link</a></p>\\n' + '</div>'\n    });\n  });","file":"src/util/formatting/md-to-html.js","skipped":false,"dir":"test"},{"name":"should replace passwords with dots","suites":["UrlFormat"],"updatePoint":{"line":5,"column":40},"line":5,"code":"  it('should replace passwords with dots', () => {\n    expect(PasswordPresenter.present(10)).to.match(/^•{10}$/);\n  });","file":"src/util/formatting/password-presenter.js","skipped":false,"dir":"test"},{"name":"should preserve line breaks in passwords","suites":["UrlFormat"],"updatePoint":{"line":8,"column":46},"line":8,"code":"  it('should preserve line breaks in passwords', () => {\n    const pw = kdbxweb.ProtectedValue.fromString('12\\nabc\\n\\nd');\n    expect(PasswordPresenter.presentValueWithLineBreaks(pw)).to.eql('••\\n•••\\n\\n•');\n  });","file":"src/util/formatting/password-presenter.js","skipped":false,"dir":"test"},{"name":"should capitalize first character","suites":["StringFormat"],"updatePoint":{"line":4,"column":39},"line":4,"code":"  it('should capitalize first character', () => {\n    expect(StringFormat.capFirst('xYz')).to.eql('XYz');\n  });","file":"src/util/formatting/string-format.js","skipped":false,"dir":"test"},{"name":"should add number padding when required","suites":["StringFormat"],"updatePoint":{"line":7,"column":45},"line":7,"code":"  it('should add number padding when required', () => {\n    expect(StringFormat.pad(123, 5)).to.eql('00123');\n  });","file":"src/util/formatting/string-format.js","skipped":false,"dir":"test"},{"name":"should not add number padding when not required","suites":["StringFormat"],"updatePoint":{"line":10,"column":53},"line":10,"code":"  it('should not add number padding when not required', () => {\n    expect(StringFormat.pad(123, 3)).to.eql('123');\n  });","file":"src/util/formatting/string-format.js","skipped":false,"dir":"test"},{"name":"should add string padding when required","suites":["StringFormat"],"updatePoint":{"line":13,"column":45},"line":13,"code":"  it('should add string padding when required', () => {\n    expect(StringFormat.padStr('abc', 5)).to.eql('abc  ');\n  });","file":"src/util/formatting/string-format.js","skipped":false,"dir":"test"},{"name":"should not add string padding when not required","suites":["StringFormat"],"updatePoint":{"line":16,"column":53},"line":16,"code":"  it('should not add string padding when not required', () => {\n    expect(StringFormat.padStr('abc', 3)).to.eql('abc');\n  });","file":"src/util/formatting/string-format.js","skipped":false,"dir":"test"},{"name":"should convert kebab case to camel case","suites":["StringFormat"],"updatePoint":{"line":19,"column":45},"line":19,"code":"  it('should convert kebab case to camel case', () => {\n    expect(StringFormat.camelCase('aa-bbb-c')).to.eql('aaBbbC');\n  });","file":"src/util/formatting/string-format.js","skipped":false,"dir":"test"},{"name":"should convert kebab case to pascal case","suites":["StringFormat"],"updatePoint":{"line":22,"column":46},"line":22,"code":"  it('should convert kebab case to pascal case', () => {\n    expect(StringFormat.pascalCase('aa-bbb-c')).to.eql('AaBbbC');\n  });","file":"src/util/formatting/string-format.js","skipped":false,"dir":"test"},{"name":"should replace version","suites":["StringFormat"],"updatePoint":{"line":25,"column":28},"line":25,"code":"  it('should replace version', () => {\n    expect(StringFormat.replaceVersion('KeeWeb-1.11.123.x64.dmg', 'ver')).to.eql('KeeWeb-ver.x64.dmg');\n  });","file":"src/util/formatting/string-format.js","skipped":false,"dir":"test"},{"name":"should extract file name from url","suites":["UrlFormat"],"updatePoint":{"line":4,"column":39},"line":4,"code":"  it('should extract file name from url', () => {\n    expect(UrlFormat.getDataFileName('https://example.com/data/My.file.kDBx?x=1')).to.eql('My.file');\n  });","file":"src/util/formatting/url-format.js","skipped":false,"dir":"test"},{"name":"should determine if url represents a kdbx file","suites":["UrlFormat"],"updatePoint":{"line":7,"column":52},"line":7,"code":"  it('should determine if url represents a kdbx file', () => {\n    expect(UrlFormat.isKdbx('//data/file.KdBx')).to.be.true;\n    expect(UrlFormat.isKdbx('//data/file.kdb')).to.be.false;\n    expect(UrlFormat.isKdbx('//data/file.kdbxx')).to.be.false;\n  });","file":"src/util/formatting/url-format.js","skipped":false,"dir":"test"},{"name":"should replace multiple slashes","suites":["UrlFormat"],"updatePoint":{"line":12,"column":37},"line":12,"code":"  it('should replace multiple slashes', () => {\n    expect(UrlFormat.fixSlashes('//data/file//ext')).to.eql('/data/file/ext');\n  });","file":"src/util/formatting/url-format.js","skipped":false,"dir":"test"},{"name":"should get directory url by full url","suites":["UrlFormat"],"updatePoint":{"line":15,"column":42},"line":15,"code":"  it('should get directory url by full url', () => {\n    expect(UrlFormat.fileToDir('/var/data/My.file.kdbx')).to.eql('/var/data');\n    expect(UrlFormat.fileToDir('\\\\\\\\share\\\\data\\\\My.file.kdbx')).to.eql('\\\\\\\\share\\\\data');\n    expect(UrlFormat.fileToDir('My.file.kdbx')).to.eql('/');\n  });","file":"src/util/formatting/url-format.js","skipped":false,"dir":"test"},{"name":"should make url from parts","suites":["UrlFormat"],"updatePoint":{"line":20,"column":32},"line":20,"code":"  it('should make url from parts', () => {\n    expect(UrlFormat.makeUrl('/path', {\n      hello: 'world',\n      data: '= &'\n    })).to.eql('/path?hello=world&data=%3D%20%26');\n  });","file":"src/util/formatting/url-format.js","skipped":false,"dir":"test"},{"name":"should make form-data params","suites":["UrlFormat"],"updatePoint":{"line":26,"column":34},"line":26,"code":"  it('should make form-data params', () => {\n    expect(UrlFormat.buildFormData({\n      hello: 'world',\n      data: '= &'\n    })).to.eql('hello=world&data=%3D%20%26');\n  });","file":"src/util/formatting/url-format.js","skipped":false,"dir":"test"},{"name":"should remove anchor for short urls","suites":["UrlFormat"],"updatePoint":{"line":32,"column":41},"line":32,"code":"  it('should remove anchor for short urls', () => {\n    expect(UrlFormat.presentAsShortUrl('https://example.com/path?query=1#anchor' + '0'.repeat(100))).to.eql('https://example.com/path?query=1#…');\n  });","file":"src/util/formatting/url-format.js","skipped":false,"dir":"test"},{"name":"should remove query string for short urls","suites":["UrlFormat"],"updatePoint":{"line":35,"column":47},"line":35,"code":"  it('should remove query string for short urls', () => {\n    expect(UrlFormat.presentAsShortUrl('https://example.com/path?query=' + '1'.repeat(100) + '#anchor' + '0'.repeat(100))).to.eql('https://example.com/path?…');\n  });","file":"src/util/formatting/url-format.js","skipped":false,"dir":"test"},{"name":"should remove query parts of path for short urls","suites":["UrlFormat"],"updatePoint":{"line":38,"column":54},"line":38,"code":"  it('should remove query parts of path for short urls', () => {\n    expect(UrlFormat.presentAsShortUrl('https://example.com/path/' + '1'.repeat(100) + '/' + '0'.repeat(100))).to.eql('https://example.com/path/…');\n  });","file":"src/util/formatting/url-format.js","skipped":false,"dir":"test"},{"name":"should not remove domain for short urls","suites":["UrlFormat"],"updatePoint":{"line":41,"column":45},"line":41,"code":"  it('should not remove domain for short urls', () => {\n    expect(UrlFormat.presentAsShortUrl('https://example' + '0'.repeat(100) + '.com/' + '1'.repeat(100))).to.eql('https://example' + '0'.repeat(100) + '.com/…');\n  });","file":"src/util/formatting/url-format.js","skipped":false,"dir":"test"},{"name":"should generate uuid","suites":["IdGenerator"],"updatePoint":{"line":4,"column":26},"line":4,"code":"  it('should generate uuid', () => {\n    expect(IdGenerator.uuid()).to.match(/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/i);\n  });","file":"src/util/generators/id-generator.js","skipped":false,"dir":"test"},{"name":"should generate s4","suites":["IdGenerator"],"updatePoint":{"line":7,"column":24},"line":7,"code":"  it('should generate s4', () => {\n    expect(IdGenerator.s4()).to.match(/^[a-f0-9]{4}$/i);\n  });","file":"src/util/generators/id-generator.js","skipped":false,"dir":"test"},{"name":"should generate a password with digits","suites":["PasswordGenerator"],"updatePoint":{"line":4,"column":44},"line":4,"code":"  it('should generate a password with digits', () => {\n    expect(PasswordGenerator.generate({\n      length: 10,\n      digits: true\n    })).to.match(/^\\d{10}$/);\n  });","file":"src/util/generators/password-generator.js","skipped":false,"dir":"test"},{"name":"should generate a password with lowercase letters","suites":["PasswordGenerator"],"updatePoint":{"line":10,"column":55},"line":10,"code":"  it('should generate a password with lowercase letters', () => {\n    expect(PasswordGenerator.generate({\n      length: 10,\n      lower: true\n    })).to.match(/^[a-z]{10}$/);\n  });","file":"src/util/generators/password-generator.js","skipped":false,"dir":"test"},{"name":"should generate a password with uppercase letters","suites":["PasswordGenerator"],"updatePoint":{"line":16,"column":55},"line":16,"code":"  it('should generate a password with uppercase letters', () => {\n    expect(PasswordGenerator.generate({\n      length: 10,\n      upper: true\n    })).to.match(/^[A-Z]{10}$/);\n  });","file":"src/util/generators/password-generator.js","skipped":false,"dir":"test"},{"name":"should generate a password with brackets","suites":["PasswordGenerator"],"updatePoint":{"line":22,"column":46},"line":22,"code":"  it('should generate a password with brackets', () => {\n    expect(PasswordGenerator.generate({\n      length: 10,\n      brackets: true\n    })).to.match(/^[(){}[\\]<>]{10}$/);\n  });","file":"src/util/generators/password-generator.js","skipped":false,"dir":"test"},{"name":"should generate a password with ambiguous characters","suites":["PasswordGenerator"],"updatePoint":{"line":28,"column":58},"line":28,"code":"  it('should generate a password with ambiguous characters', () => {\n    expect(PasswordGenerator.generate({\n      length: 10,\n      ambiguous: true\n    })).to.match(new RegExp(`^[O0oIl]{10}$`));\n  });","file":"src/util/generators/password-generator.js","skipped":false,"dir":"test"},{"name":"should generate a password with custom characters","suites":["PasswordGenerator"],"updatePoint":{"line":34,"column":55},"line":34,"code":"  it('should generate a password with custom characters', () => {\n    expect(PasswordGenerator.generate({\n      length: 10,\n      include: '123'\n    })).to.match(/^[123]{10}$/);\n  });","file":"src/util/generators/password-generator.js","skipped":false,"dir":"test"},{"name":"should generate a password with special characters","suites":["PasswordGenerator"],"updatePoint":{"line":40,"column":56},"line":40,"code":"  it('should generate a password with special characters', () => {\n    expect(PasswordGenerator.generate({\n      length: 50,\n      special: true\n    })).to.match(/^[!-\\/:-@[-`~]{50}$/);\n  });","file":"src/util/generators/password-generator.js","skipped":false,"dir":"test"},{"name":"should generate a password with high ascii characters","suites":["PasswordGenerator"],"updatePoint":{"line":46,"column":59},"line":46,"code":"  it('should generate a password with high ascii characters', () => {\n    expect(PasswordGenerator.generate({\n      length: 100,\n      high: true\n    })).to.match(/^[¡-þ]{100}$/);\n  });","file":"src/util/generators/password-generator.js","skipped":false,"dir":"test"},{"name":"should generate a pronounceable password","suites":["PasswordGenerator"],"updatePoint":{"line":52,"column":46},"line":52,"code":"  it('should generate a pronounceable password', () => {\n    for (let i = 0; i < 1000; i++) {\n      expect(PasswordGenerator.generate({\n        length: 10,\n        name: 'Pronounceable'\n      })).to.match(/^[a-zA-Z]{10}$/);\n    }\n  });","file":"src/util/generators/password-generator.js","skipped":false,"dir":"test"},{"name":"should generate a password with pattern","suites":["PasswordGenerator"],"updatePoint":{"line":60,"column":45},"line":60,"code":"  it('should generate a password with pattern', () => {\n    expect(PasswordGenerator.generate({\n      length: 60,\n      pattern: 'Aa1XI-',\n      include: '@#',\n      digits: true,\n      upper: true\n    })).to.match(/^([A-Z][a-z][0-9][0-9A-Z@#][@#]-){10}$/);\n  });","file":"src/util/generators/password-generator.js","skipped":false,"dir":"test"},{"name":"should include all groups of characters at least once","suites":["PasswordGenerator"],"updatePoint":{"line":69,"column":59},"line":69,"code":"  it('should include all groups of characters at least once', () => {\n    for (let i = 0; i < 10; i++) {\n      const password = PasswordGenerator.generate({\n        length: 6,\n        upper: true,\n        lower: true,\n        digits: true,\n        brackets: true,\n        special: true,\n        ambiguous: true\n      });\n      expect(password).to.match(/[A-Z]/);\n      expect(password).to.match(/[a-z]/);\n      expect(password).to.match(/[0-9]/);\n      expect(password).to.match(/[(){}[\\]<>]/);\n      expect(password).to.match(/[!-\\/:-@[-`~]/);\n      expect(password).to.match(/[O0oIl]/);\n    }\n  });","file":"src/util/generators/password-generator.js","skipped":false,"dir":"test"}]}