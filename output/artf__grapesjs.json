{"repo":"artf/grapesjs","url":"https://github.com/artf/grapesjs","branch":"dev","configs":[{"package":"grapesjs","lang":"js","dir":"test","framework":"jest","pattern":"**/*.{js,ts}"}],"tests":[{"name":"Object exists","suites":["Asset Manager","Main"],"updatePoint":{"line":22,"column":23,"index":578},"line":22,"code":"    test('Object exists', () => {\n      expect(obj).toBeTruthy();\n    });","file":"specs/asset_manager/index.js","skipped":false,"dir":"test"},{"name":"No assets inside","suites":["Asset Manager","Main"],"updatePoint":{"line":25,"column":26,"index":655},"line":25,"code":"    test('No assets inside', () => {\n      expect(obj.getAll().length).toEqual(0);\n    });","file":"specs/asset_manager/index.js","skipped":false,"dir":"test"},{"name":"Add new asset","suites":["Asset Manager","Main"],"updatePoint":{"line":28,"column":23,"index":743},"line":28,"code":"    test('Add new asset', () => {\n      obj.add(imgObj);\n      expect(obj.getAll().length).toEqual(1);\n    });","file":"specs/asset_manager/index.js","skipped":false,"dir":"test"},{"name":"Added asset has correct data","suites":["Asset Manager","Main"],"updatePoint":{"line":32,"column":38,"index":869},"line":32,"code":"    test('Added asset has correct data', () => {\n      obj.add(imgObj);\n      var asset = obj.get(imgObj.src);\n      expect(asset.get('width')).toEqual(imgObj.width);\n      expect(asset.get('height')).toEqual(imgObj.height);\n      expect(asset.get('type')).toEqual(imgObj.type);\n    });","file":"specs/asset_manager/index.js","skipped":false,"dir":"test"},{"name":"Add asset with src","suites":["Asset Manager","Main"],"updatePoint":{"line":39,"column":28,"index":1146},"line":39,"code":"    test('Add asset with src', () => {\n      obj.add(imgObj.src);\n      var asset = obj.get(imgObj.src);\n      expect(asset.get('type')).toEqual('image');\n      expect(asset.get('src')).toEqual(imgObj.src);\n    });","file":"specs/asset_manager/index.js","skipped":false,"dir":"test"},{"name":"Add asset with more src","suites":["Asset Manager","Main"],"updatePoint":{"line":45,"column":33,"index":1366},"line":45,"code":"    test('Add asset with more src', () => {\n      obj.add([imgObj.src, imgObj.src + '2']);\n      expect(obj.getAll().length).toEqual(2);\n      var asset1 = obj.getAll().at(0);\n      var asset2 = obj.getAll().at(1);\n      expect(asset1.get('src')).toEqual(imgObj.src);\n      expect(asset2.get('src')).toEqual(imgObj.src + '2');\n    });","file":"specs/asset_manager/index.js","skipped":false,"dir":"test"},{"name":"Remove asset","suites":["Asset Manager","Main"],"updatePoint":{"line":53,"column":22,"index":1690},"line":53,"code":"    test('Remove asset', () => {\n      obj.add(imgObj);\n      obj.remove(imgObj.src);\n      expect(obj.getAll().length).toEqual(0);\n    });","file":"specs/asset_manager/index.js","skipped":false,"dir":"test"},{"name":"Render assets","suites":["Asset Manager","Main"],"updatePoint":{"line":58,"column":23,"index":1831},"line":58,"code":"    test('Render assets', () => {\n      obj.add(imgObj);\n      expect(obj.render()).toBeTruthy();\n    });","file":"specs/asset_manager/index.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["Asset"],"updatePoint":{"line":3,"column":21,"index":95},"line":3,"code":"  test('Object exists', () => {\n    expect(Asset).toBeTruthy();\n  });","file":"specs/asset_manager/model/Asset.js","skipped":false,"dir":"test"},{"name":"Has default values","suites":["Asset"],"updatePoint":{"line":6,"column":26,"index":170},"line":6,"code":"  test('Has default values', () => {\n    var obj = new Asset({});\n    expect(obj.get('type')).toBeFalsy();\n    expect(obj.get('src')).toBeFalsy();\n    expect(obj.getExtension()).toBeFalsy();\n    expect(obj.getFilename()).toBeFalsy();\n  });","file":"specs/asset_manager/model/Asset.js","skipped":false,"dir":"test"},{"name":"Test getFilename","suites":["Asset"],"updatePoint":{"line":13,"column":24,"index":408},"line":13,"code":"  test('Test getFilename', () => {\n    var obj = new Asset({\n      type: 'image',\n      src: 'ch/eck/t.e.s.t'\n    });\n    expect(obj.getFilename()).toEqual('t.e.s.t');\n    var obj = new Asset({\n      type: 'image',\n      src: 'ch/eck/1234abc'\n    });\n    expect(obj.getFilename()).toEqual('1234abc');\n  });","file":"specs/asset_manager/model/Asset.js","skipped":false,"dir":"test"},{"name":"Test getExtension","suites":["Asset"],"updatePoint":{"line":25,"column":25,"index":716},"line":25,"code":"  test('Test getExtension', () => {\n    var obj = new Asset({\n      type: 'image',\n      src: 'ch/eck/t.e.s.t'\n    });\n    expect(obj.getExtension()).toEqual('t');\n    var obj = new Asset({\n      type: 'image',\n      src: 'ch/eck/1234abc.'\n    });\n    expect(obj.getExtension()).toEqual('');\n  });","file":"specs/asset_manager/model/Asset.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["AssetImage"],"updatePoint":{"line":3,"column":21,"index":110},"line":3,"code":"  test('Object exists', () => {\n    expect(AssetImage).toBeTruthy();\n  });","file":"specs/asset_manager/model/AssetImage.js","skipped":false,"dir":"test"},{"name":"Has default values","suites":["AssetImage"],"updatePoint":{"line":6,"column":26,"index":190},"line":6,"code":"  test('Has default values', () => {\n    var obj = new AssetImage({});\n    expect(obj.get('type')).toEqual('image');\n    expect(obj.get('src')).toBeFalsy();\n    expect(obj.get('unitDim')).toEqual('px');\n    expect(obj.get('height')).toEqual(0);\n    expect(obj.get('width')).toEqual(0);\n    expect(obj.getExtension()).toBeFalsy();\n    expect(obj.getFilename()).toBeFalsy();\n  });","file":"specs/asset_manager/model/AssetImage.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["Assets"],"updatePoint":{"line":10,"column":21,"index":202},"line":10,"code":"  test('Object exists', () => {\n    expect(obj).toBeTruthy();\n  });","file":"specs/asset_manager/model/Assets.js","skipped":false,"dir":"test"},{"name":"Collection is empty","suites":["Assets"],"updatePoint":{"line":13,"column":27,"index":276},"line":13,"code":"  test('Collection is empty', () => {\n    expect(obj.length).toEqual(0);\n  });","file":"specs/asset_manager/model/Assets.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["AssetImageView"],"updatePoint":{"line":23,"column":21,"index":621},"line":23,"code":"  test('Object exists', () => {\n    expect(AssetImageView).toBeTruthy();\n  });","file":"specs/asset_manager/view/AssetImageView.js","skipped":false,"dir":"test"},{"name":"Has preview box","suites":["AssetImageView","Asset should be rendered correctly"],"updatePoint":{"line":27,"column":25,"index":761},"line":27,"code":"    test('Has preview box', () => {\n      var $asset = obj.$el;\n      expect($asset.find('.preview').length).toEqual(1);\n    });","file":"specs/asset_manager/view/AssetImageView.js","skipped":false,"dir":"test"},{"name":"Has meta box","suites":["AssetImageView","Asset should be rendered correctly"],"updatePoint":{"line":31,"column":22,"index":887},"line":31,"code":"    test('Has meta box', () => {\n      var $asset = obj.$el;\n      expect($asset.find('.meta').length).toEqual(1);\n    });","file":"specs/asset_manager/view/AssetImageView.js","skipped":false,"dir":"test"},{"name":"Has close button","suites":["AssetImageView","Asset should be rendered correctly"],"updatePoint":{"line":35,"column":26,"index":1014},"line":35,"code":"    test('Has close button', () => {\n      var $asset = obj.$el;\n      expect($asset.find('[data-toggle=asset-remove]').length).toEqual(1);\n    });","file":"specs/asset_manager/view/AssetImageView.js","skipped":false,"dir":"test"},{"name":"Could be selected","suites":["AssetImageView","Asset should be rendered correctly"],"updatePoint":{"line":40,"column":25,"index":1167},"line":40,"code":"  test('Could be selected', () => {\n    var spy = jest.spyOn(obj, 'updateTarget');\n    obj.$el.trigger('click');\n    expect(obj.$el.attr('class')).toContain('highlight');\n    expect(spy).toHaveBeenCalled();\n  });","file":"specs/asset_manager/view/AssetImageView.js","skipped":false,"dir":"test"},{"name":"Could be chosen","suites":["AssetImageView","Asset should be rendered correctly"],"updatePoint":{"line":46,"column":23,"index":1378},"line":46,"code":"  test('Could be chosen', () => {\n    sinon.stub(obj, 'updateTarget');\n    var spy = jest.spyOn(obj, 'updateTarget');\n    obj.$el.trigger('dblclick');\n    expect(spy).toHaveBeenCalled();\n    //obj.updateTarget.calledOnce.should.equal(true);\n  });","file":"specs/asset_manager/view/AssetImageView.js","skipped":false,"dir":"test"},{"name":"Could be removed","suites":["AssetImageView","Asset should be rendered correctly"],"updatePoint":{"line":54,"column":24,"index":1627},"line":54,"code":"  test('Could be removed', () => {\n    var spy = sinon.spy();\n    obj.model.on('remove', spy);\n    obj.onRemove({\n      stopImmediatePropagation() {}\n    });\n    expect(spy.called).toEqual(true);\n  });","file":"specs/asset_manager/view/AssetImageView.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["AssetsView"],"updatePoint":{"line":22,"column":21,"index":640},"line":22,"code":"  test('Object exists', () => {\n    expect(AssetsView).toBeTruthy();\n  });","file":"specs/asset_manager/view/AssetsView.js","skipped":false,"dir":"test"},{"name":"Collection is empty","suites":["AssetsView"],"updatePoint":{"line":25,"column":27,"index":721},"line":25,"code":"  test('Collection is empty', () => {\n    expect(obj.getAssetsEl().innerHTML).toBeFalsy();\n  });","file":"specs/asset_manager/view/AssetsView.js","skipped":false,"dir":"test"},{"name":"Add new asset","suites":["AssetsView"],"updatePoint":{"line":28,"column":21,"index":812},"line":28,"code":"  test('Add new asset', () => {\n    sinon.stub(obj, 'addAsset');\n    coll.add({\n      src: 'test'\n    });\n    expect(obj.addAsset.calledOnce).toEqual(true);\n  });","file":"specs/asset_manager/view/AssetsView.js","skipped":false,"dir":"test"},{"name":"Render new asset","suites":["AssetsView"],"updatePoint":{"line":35,"column":24,"index":978},"line":35,"code":"  test('Render new asset', () => {\n    coll.add({\n      src: 'test'\n    });\n    expect(obj.getAssetsEl().innerHTML).toBeTruthy();\n  });","file":"specs/asset_manager/view/AssetsView.js","skipped":false,"dir":"test"},{"name":"Render correctly new image asset","suites":["AssetsView"],"updatePoint":{"line":41,"column":40,"index":1130},"line":41,"code":"  test('Render correctly new image asset', () => {\n    coll.add({\n      type: 'image',\n      src: 'test'\n    });\n    var asset = obj.getAssetsEl().firstChild;\n    expect(asset.tagName).toEqual('DIV');\n    expect(asset.innerHTML).toBeTruthy();\n  });","file":"specs/asset_manager/view/AssetsView.js","skipped":false,"dir":"test"},{"name":"Clean collection from asset","suites":["AssetsView"],"updatePoint":{"line":50,"column":35,"index":1374},"line":50,"code":"  test('Clean collection from asset', () => {\n    var model = coll.add({\n      src: 'test'\n    });\n    coll.remove(model);\n    expect(obj.getAssetsEl().innerHTML).toBeFalsy();\n  });","file":"specs/asset_manager/view/AssetsView.js","skipped":false,"dir":"test"},{"name":"Deselect works","suites":["AssetsView"],"updatePoint":{"line":57,"column":22,"index":1543},"line":57,"code":"  test('Deselect works', () => {\n    coll.add([{}, {}]);\n    var $asset = obj.$el.children().first();\n    $asset.attr('class', obj.pfx + 'highlight');\n    coll.trigger('deselectAll');\n    expect($asset.attr('class')).toBeFalsy();\n  });","file":"specs/asset_manager/view/AssetsView.js","skipped":false,"dir":"test"},{"name":"Returns not empty assets element","suites":["AssetsView"],"updatePoint":{"line":64,"column":40,"index":1797},"line":64,"code":"  test('Returns not empty assets element', () => {\n    expect(obj.getAssetsEl()).toBeTruthy();\n  });","file":"specs/asset_manager/view/AssetsView.js","skipped":false,"dir":"test"},{"name":"Returns not empty url input","suites":["AssetsView","Assets input is enabled"],"updatePoint":{"line":85,"column":37,"index":2396},"line":85,"code":"    test('Returns not empty url input', () => {\n      expect(obj.getAddInput()).toBeTruthy();\n    });","file":"specs/asset_manager/view/AssetsView.js","skipped":false,"dir":"test"},{"name":"Add image asset from input string","suites":["AssetsView","Assets input is enabled"],"updatePoint":{"line":88,"column":43,"index":2504},"line":88,"code":"    test('Add image asset from input string', () => {\n      obj.getAddInput().value = 'test';\n      obj.handleSubmit({\n        preventDefault() {}\n      });\n      var asset = obj.options.globalCollection.at(0);\n      expect(asset.get('src')).toEqual('test');\n    });","file":"specs/asset_manager/view/AssetsView.js","skipped":false,"dir":"test"},{"name":"No presence of url input","suites":["AssetsView","Assets inputs is disabled"],"updatePoint":{"line":115,"column":34,"index":3274},"line":115,"code":"    test('No presence of url input', () => {\n      expect(obj.getAddInput()).toBeFalsy();\n    });","file":"specs/asset_manager/view/AssetsView.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["AssetView"],"updatePoint":{"line":23,"column":21,"index":613},"line":23,"code":"  test('Object exists', () => {\n    expect(AssetView).toBeTruthy();\n  });","file":"specs/asset_manager/view/AssetView.js","skipped":false,"dir":"test"},{"name":"Has correct prefix","suites":["AssetView"],"updatePoint":{"line":26,"column":26,"index":692},"line":26,"code":"  test('Has correct prefix', () => {\n    expect(testContext.view.pfx).toEqual('');\n  });","file":"specs/asset_manager/view/AssetView.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["File Uploader"],"updatePoint":{"line":14,"column":21,"index":386},"line":14,"code":"  test('Object exists', () => {\n    expect(FileUploader).toBeTruthy();\n  });","file":"specs/asset_manager/view/FileUploader.js","skipped":false,"dir":"test"},{"name":"Has correct prefix","suites":["File Uploader"],"updatePoint":{"line":17,"column":26,"index":468},"line":17,"code":"  test('Has correct prefix', () => {\n    expect(obj.pfx).toBeFalsy();\n  });","file":"specs/asset_manager/view/FileUploader.js","skipped":false,"dir":"test"},{"name":"Has title","suites":["File Uploader","Should be rendered correctly"],"updatePoint":{"line":21,"column":19,"index":588},"line":21,"code":"    test('Has title', () => {\n      expect(obj.$el.find('#title').length).toEqual(1);\n    });","file":"specs/asset_manager/view/FileUploader.js","skipped":false,"dir":"test"},{"name":"Title is empty","suites":["File Uploader","Should be rendered correctly"],"updatePoint":{"line":24,"column":24,"index":687},"line":24,"code":"    test('Title is empty', () => {\n      expect(obj.$el.find('#title').html()).toEqual('');\n    });","file":"specs/asset_manager/view/FileUploader.js","skipped":false,"dir":"test"},{"name":"Has file input","suites":["File Uploader","Should be rendered correctly"],"updatePoint":{"line":27,"column":24,"index":787},"line":27,"code":"    test('Has file input', () => {\n      expect(obj.$el.find('input[type=file]').length).toEqual(1);\n    });","file":"specs/asset_manager/view/FileUploader.js","skipped":false,"dir":"test"},{"name":"File input is enabled","suites":["File Uploader","Should be rendered correctly"],"updatePoint":{"line":30,"column":31,"index":903},"line":30,"code":"    test('File input is enabled', () => {\n      expect(obj.$el.find('input[type=file]').prop('disabled')).toEqual(true);\n    });","file":"specs/asset_manager/view/FileUploader.js","skipped":false,"dir":"test"},{"name":"Could be disabled","suites":["File Uploader","Interprets configurations correctly"],"updatePoint":{"line":35,"column":27,"index":1092},"line":35,"code":"    test('Could be disabled', () => {\n      var view = new FileUploader({\n        config: {\n          disableUpload: true,\n          upload: 'something'\n        }\n      });\n      view.render();\n      expect(view.$el.find('input[type=file]').prop('disabled')).toEqual(true);\n    });","file":"specs/asset_manager/view/FileUploader.js","skipped":false,"dir":"test"},{"name":"Handles multiUpload false","suites":["File Uploader","Interprets configurations correctly"],"updatePoint":{"line":45,"column":35,"index":1382},"line":45,"code":"    test('Handles multiUpload false', () => {\n      var view = new FileUploader({\n        config: {\n          multiUpload: false\n        }\n      });\n      view.render();\n      expect(view.$el.find('input[type=file]').prop('multiple')).toBeFalsy();\n    });","file":"specs/asset_manager/view/FileUploader.js","skipped":false,"dir":"test"},{"name":"Handles embedAsBase64 parameter","suites":["File Uploader","Interprets configurations correctly"],"updatePoint":{"line":54,"column":41,"index":1644},"line":54,"code":"    test('Handles embedAsBase64 parameter', () => {\n      var view = new FileUploader({\n        config: {\n          embedAsBase64: true\n        }\n      });\n      view.render();\n      expect(view.$el.find('input[type=file]').prop('disabled')).toEqual(false);\n      expect(view.uploadFile).toEqual(FileUploader.embedAsBase64);\n    });","file":"specs/asset_manager/view/FileUploader.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["BlockManager","Main"],"updatePoint":{"line":25,"column":23,"index":513},"line":25,"code":"    test('Object exists', () => {\n      expect(obj).toBeTruthy();\n    });","file":"specs/block_manager/index.js","skipped":false,"dir":"test"},{"name":"No blocks inside","suites":["BlockManager","Main"],"updatePoint":{"line":28,"column":26,"index":590},"line":28,"code":"    test('No blocks inside', () => {\n      expect(obj.getAll().length).toEqual(0);\n    });","file":"specs/block_manager/index.js","skipped":false,"dir":"test"},{"name":"No categories inside","suites":["BlockManager","Main"],"updatePoint":{"line":31,"column":30,"index":685},"line":31,"code":"    test('No categories inside', () => {\n      expect(obj.getCategories().length).toEqual(0);\n    });","file":"specs/block_manager/index.js","skipped":false,"dir":"test"},{"name":"Add new block","suites":["BlockManager","Main"],"updatePoint":{"line":34,"column":23,"index":780},"line":34,"code":"    test('Add new block', () => {\n      obj.add(idTest, optsTest);\n      expect(obj.getAll().length).toEqual(1);\n    });","file":"specs/block_manager/index.js","skipped":false,"dir":"test"},{"name":"Added block has correct data","suites":["BlockManager","Main"],"updatePoint":{"line":38,"column":38,"index":916},"line":38,"code":"    test('Added block has correct data', () => {\n      var model = obj.add(idTest, optsTest);\n      expect(model.get('label')).toEqual(optsTest.label);\n      expect(model.get('content')).toEqual(optsTest.content);\n    });","file":"specs/block_manager/index.js","skipped":false,"dir":"test"},{"name":"Add block with attributes","suites":["BlockManager","Main"],"updatePoint":{"line":43,"column":35,"index":1135},"line":43,"code":"    test('Add block with attributes', () => {\n      optsTest.attributes = {\n        class: 'test'\n      };\n      var model = obj.add(idTest, optsTest);\n      expect(model.get('attributes').class).toEqual('test');\n    });","file":"specs/block_manager/index.js","skipped":false,"dir":"test"},{"name":"The id of the block is unique","suites":["BlockManager","Main"],"updatePoint":{"line":50,"column":39,"index":1360},"line":50,"code":"    test('The id of the block is unique', () => {\n      var model = obj.add(idTest, optsTest);\n      var model2 = obj.add(idTest, {\n        other: 'test'\n      });\n      expect(model).toEqual(model2);\n    });","file":"specs/block_manager/index.js","skipped":false,"dir":"test"},{"name":"Get block by id","suites":["BlockManager","Main"],"updatePoint":{"line":57,"column":25,"index":1555},"line":57,"code":"    test('Get block by id', () => {\n      var model = obj.add(idTest, optsTest);\n      var model2 = obj.get(idTest);\n      expect(model).toEqual(model2);\n    });","file":"specs/block_manager/index.js","skipped":false,"dir":"test"},{"name":"Render blocks","suites":["BlockManager","Main"],"updatePoint":{"line":62,"column":23,"index":1715},"line":62,"code":"    test('Render blocks', () => {\n      obj.postRender();\n      obj.render();\n      expect(obj.getContainer()).toBeTruthy();\n    });","file":"specs/block_manager/index.js","skipped":false,"dir":"test"},{"name":"Add triggers proper events","suites":["BlockManager","Main","Events"],"updatePoint":{"line":68,"column":38,"index":1894},"line":68,"code":"      test('Add triggers proper events', () => {\n        const eventAdd = jest.fn();\n        const eventAll = jest.fn();\n        editor.on(obj.events.add, eventAdd);\n        editor.on(obj.events.all, eventAll);\n        const added = obj.add(idTest, optsTest);\n        expect(eventAdd).toBeCalledTimes(1);\n        expect(eventAdd).toBeCalledWith(added, expect.anything());\n        expect(eventAll).toBeCalled();\n      });","file":"specs/block_manager/index.js","skipped":false,"dir":"test"},{"name":"Remove triggers proper events","suites":["BlockManager","Main","Events"],"updatePoint":{"line":78,"column":41,"index":2318},"line":78,"code":"      test('Remove triggers proper events', () => {\n        const eventBfRm = jest.fn();\n        const eventRm = jest.fn();\n        const eventAll = jest.fn();\n        obj.add(idTest, optsTest);\n        editor.on(obj.events.removeBefore, eventBfRm);\n        editor.on(obj.events.remove, eventRm);\n        editor.on(obj.events.all, eventAll);\n        const removed = obj.remove(idTest);\n        expect(obj.getAll().length).toBe(0);\n        expect(eventBfRm).toBeCalledTimes(1);\n        expect(eventRm).toBeCalledTimes(1);\n        expect(eventRm).toBeCalledWith(removed, expect.anything());\n        expect(eventAll).toBeCalled();\n      });","file":"specs/block_manager/index.js","skipped":false,"dir":"test"},{"name":"Update triggers proper events","suites":["BlockManager","Main","Events"],"updatePoint":{"line":93,"column":41,"index":2956},"line":93,"code":"      test('Update triggers proper events', () => {\n        const eventUp = jest.fn();\n        const eventAll = jest.fn();\n        const added = obj.add(idTest, optsTest);\n        const newProps = {\n          label: 'Heading 2'\n        };\n        editor.on(obj.events.update, eventUp);\n        editor.on(obj.events.all, eventAll);\n        added.set(newProps);\n        expect(eventUp).toBeCalledTimes(1);\n        expect(eventUp).toBeCalledWith(added, newProps, expect.anything());\n        expect(eventAll).toBeCalled();\n      });","file":"specs/block_manager/index.js","skipped":false,"dir":"test"},{"name":"The container is not empty","suites":["BlocksView"],"updatePoint":{"line":22,"column":34,"index":598},"line":22,"code":"  test('The container is not empty', () => {\n    expect(view.el.outerHTML).toBeTruthy();\n  });","file":"specs/block_manager/view/BlocksView.js","skipped":false,"dir":"test"},{"name":"No children inside","suites":["BlocksView"],"updatePoint":{"line":25,"column":26,"index":685},"line":25,"code":"  test('No children inside', () => {\n    expect(view.getBlocksEl().children.length).toEqual(0);\n  });","file":"specs/block_manager/view/BlocksView.js","skipped":false,"dir":"test"},{"name":"Render children on add","suites":["BlocksView"],"updatePoint":{"line":28,"column":30,"index":791},"line":28,"code":"  test('Render children on add', () => {\n    model.add({});\n    expect(view.getBlocksEl().children.length).toEqual(1);\n    model.add([{}, {}]);\n    expect(view.getBlocksEl().children.length).toEqual(3);\n  });","file":"specs/block_manager/view/BlocksView.js","skipped":false,"dir":"test"},{"name":"Destroy children on remove","suites":["BlocksView"],"updatePoint":{"line":34,"column":34,"index":1004},"line":34,"code":"  test('Destroy children on remove', () => {\n    model.add([{}, {}]);\n    expect(view.getBlocksEl().children.length).toEqual(2);\n    model.at(0).destroy();\n    expect(view.getBlocksEl().children.length).toEqual(1);\n  });","file":"specs/block_manager/view/BlocksView.js","skipped":false,"dir":"test"},{"name":"Render children","suites":["BlocksView","With configs"],"updatePoint":{"line":57,"column":25,"index":1684},"line":57,"code":"    test('Render children', () => {\n      expect(view.getBlocksEl().children.length).toEqual(2);\n    });","file":"specs/block_manager/view/BlocksView.js","skipped":false,"dir":"test"},{"name":"Render container","suites":["BlocksView","With configs"],"updatePoint":{"line":60,"column":26,"index":1790},"line":60,"code":"    test('Render container', () => {\n      expect(view.getBlocksEl().getAttribute('class')).toEqual(ppfx + 'blocks-c');\n    });","file":"specs/block_manager/view/BlocksView.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["Code Manager","Main"],"updatePoint":{"line":13,"column":23,"index":324},"line":13,"code":"    test('Object exists', () => {\n      expect(CodeManager).toBeTruthy();\n    });","file":"specs/code_manager/index.js","skipped":false,"dir":"test"},{"name":"Add and get code generator","suites":["Code Manager","Main"],"updatePoint":{"line":16,"column":36,"index":419},"line":16,"code":"    test('Add and get code generator', () => {\n      obj.addGenerator('test', 'gen');\n      expect(obj.getGenerator('test')).toEqual('gen');\n    });","file":"specs/code_manager/index.js","skipped":false,"dir":"test"},{"name":"Add and get code viewer","suites":["Code Manager","Main"],"updatePoint":{"line":20,"column":33,"index":565},"line":20,"code":"    test('Add and get code viewer', () => {\n      obj.addViewer('test', 'view');\n      expect(obj.getViewer('test')).toEqual('view');\n    });","file":"specs/code_manager/index.js","skipped":false,"dir":"test"},{"name":"Build correctly one component","suites":["HtmlGenerator"],"updatePoint":{"line":25,"column":37,"index":672},"line":25,"code":"  test('Build correctly one component', () => {\n    expect(obj.build(comp)).toEqual('<div></div>');\n  });","file":"specs/code_manager/model/CodeModels.js","skipped":false,"dir":"test"},{"name":"Build correctly empty component inside","suites":["HtmlGenerator"],"updatePoint":{"line":28,"column":46,"index":787},"line":28,"code":"  test('Build correctly empty component inside', () => {\n    comp.get('components').add({});\n    expect(obj.build(comp)).toEqual('<div><div></div></div>');\n  });","file":"specs/code_manager/model/CodeModels.js","skipped":false,"dir":"test"},{"name":"Build correctly not empty component inside","suites":["HtmlGenerator"],"updatePoint":{"line":32,"column":50,"index":953},"line":32,"code":"  test('Build correctly not empty component inside', () => {\n    const m1 = comp.get('components').add({\n      tagName: 'article',\n      attributes: {\n        'data-test1': 'value1',\n        'data-test2': 'value2'\n      }\n    });\n    expect(obj.build(m1)).toEqual('<article data-test1=\"value1\" data-test2=\"value2\"></article>');\n  });","file":"specs/code_manager/model/CodeModels.js","skipped":false,"dir":"test"},{"name":"Build correctly component with classes","suites":["HtmlGenerator"],"updatePoint":{"line":42,"column":46,"index":1283},"line":42,"code":"  test('Build correctly component with classes', () => {\n    const m1 = comp.get('components').add({\n      tagName: 'article',\n      attributes: {\n        'data-test1': 'value1',\n        'data-test2': 'value2'\n      }\n    });\n    ['class1', 'class2'].forEach(item => {\n      m1.get('classes').add({\n        name: item\n      });\n    });\n    expect(obj.build(m1)).toEqual('<article data-test1=\"value1\" data-test2=\"value2\" class=\"class1 class2\"></article>');\n  });","file":"specs/code_manager/model/CodeModels.js","skipped":false,"dir":"test"},{"name":"Build correctly one component","suites":["CssGenerator"],"updatePoint":{"line":74,"column":37,"index":2118},"line":74,"code":"  test('Build correctly one component', () => {\n    expect(obj.build(comp)).toEqual('');\n  });","file":"specs/code_manager/model/CodeModels.js","skipped":false,"dir":"test"},{"name":"Build correctly empty component inside","suites":["CssGenerator"],"updatePoint":{"line":77,"column":46,"index":2222},"line":77,"code":"  test('Build correctly empty component inside', () => {\n    var m1 = comp.get('components').add({\n      tagName: 'article'\n    });\n    expect(obj.build(comp)).toEqual('');\n  });","file":"specs/code_manager/model/CodeModels.js","skipped":false,"dir":"test"},{"name":"Build correctly component with style inside","suites":["CssGenerator"],"updatePoint":{"line":83,"column":51,"index":2406},"line":83,"code":"  test('Build correctly component with style inside', () => {\n    var m1 = comp.get('components').add({\n      tagName: 'article',\n      style: {\n        prop1: 'value1',\n        prop2: 'value2'\n      }\n    });\n    expect(obj.build(comp)).toEqual('#' + m1.getId() + '{prop1:value1;prop2:value2;}');\n  });","file":"specs/code_manager/model/CodeModels.js","skipped":false,"dir":"test"},{"name":"Build correctly component with class styled","suites":["CssGenerator"],"updatePoint":{"line":93,"column":51,"index":2710},"line":93,"code":"  test('Build correctly component with class styled', () => {\n    var m1 = comp.get('components').add({\n      tagName: 'article'\n    });\n    var cls1 = m1.get('classes').add({\n      name: 'class1'\n    });\n    var cssc = newCssComp();\n    var rule = cssc.add(cls1);\n    rule.set('style', {\n      prop1: 'value1',\n      prop2: 'value2'\n    });\n    expect(obj.build(comp, {\n      cssc\n    })).toEqual('.class1{prop1:value1;prop2:value2;}');\n  });","file":"specs/code_manager/model/CodeModels.js","skipped":false,"dir":"test"},{"name":"Build correctly component styled with class and state","suites":["CssGenerator"],"updatePoint":{"line":110,"column":61,"index":3164},"line":110,"code":"  test('Build correctly component styled with class and state', () => {\n    var m1 = comp.get('components').add({\n      tagName: 'article'\n    });\n    var cls1 = m1.get('classes').add({\n      name: 'class1'\n    });\n    var cssc = newCssComp();\n    var rule = cssc.add(cls1);\n    rule.set('style', {\n      prop1: 'value1',\n      prop2: 'value2'\n    });\n    rule.set('state', 'hover');\n    expect(obj.build(comp, {\n      cssc\n    })).toEqual('.class1:hover{prop1:value1;prop2:value2;}');\n  });","file":"specs/code_manager/model/CodeModels.js","skipped":false,"dir":"test"},{"name":"Build correctly with more classes","suites":["CssGenerator"],"updatePoint":{"line":128,"column":41,"index":3636},"line":128,"code":"  test('Build correctly with more classes', () => {\n    var m1 = comp.get('components').add({\n      tagName: 'article'\n    });\n    var cls1 = m1.get('classes').add({\n      name: 'class1'\n    });\n    var cls2 = m1.get('classes').add({\n      name: 'class2'\n    });\n    var cssc = newCssComp();\n    var rule = cssc.add([cls1, cls2]);\n    rule.set('style', {\n      prop1: 'value1',\n      prop2: 'value2'\n    });\n    expect(obj.build(comp, {\n      cssc\n    })).toEqual('.class1.class2{prop1:value1;prop2:value2;}');\n  });","file":"specs/code_manager/model/CodeModels.js","skipped":false,"dir":"test"},{"name":"Build rules with mixed classes","suites":["CssGenerator"],"updatePoint":{"line":148,"column":38,"index":4150},"line":148,"code":"  test('Build rules with mixed classes', () => {\n    var m1 = comp.get('components').add({\n      tagName: 'article'\n    });\n    var cls1 = m1.get('classes').add({\n      name: 'class1'\n    });\n    var cls2 = m1.get('classes').add({\n      name: 'class2'\n    });\n    var cssc = newCssComp();\n    var rule = cssc.add([cls1, cls2]);\n    rule.set('style', {\n      prop1: 'value1',\n      prop2: 'value2'\n    });\n    rule.set('selectorsAdd', '.class1 .class2, div > .class4');\n    expect(obj.build(comp, {\n      cssc\n    })).toEqual('.class1.class2, .class1 .class2, div > .class4{prop1:value1;prop2:value2;}');\n  });","file":"specs/code_manager/model/CodeModels.js","skipped":false,"dir":"test"},{"name":"Build rules with only not class based selectors","suites":["CssGenerator"],"updatePoint":{"line":169,"column":55,"index":4777},"line":169,"code":"  test('Build rules with only not class based selectors', () => {\n    var cssc = newCssComp();\n    var rule = cssc.add([]);\n    rule.set('style', {\n      prop1: 'value1',\n      prop2: 'value2'\n    });\n    rule.set('selectorsAdd', '.class1 .class2, div > .class4');\n    expect(obj.build(comp, {\n      cssc\n    })).toEqual('.class1 .class2, div > .class4{prop1:value1;prop2:value2;}');\n  });","file":"specs/code_manager/model/CodeModels.js","skipped":false,"dir":"test"},{"name":"Build correctly with class styled out","suites":["CssGenerator"],"updatePoint":{"line":181,"column":45,"index":5157},"line":181,"code":"  test('Build correctly with class styled out', () => {\n    var m1 = comp.get('components').add({\n      tagName: 'article'\n    });\n    var cls1 = m1.get('classes').add({\n      name: 'class1'\n    });\n    var cls2 = m1.get('classes').add({\n      name: 'class2'\n    });\n    var cssc = newCssComp();\n    var rule = cssc.add([cls1, cls2]);\n    rule.set('style', {\n      prop1: 'value1'\n    });\n    var rule2 = cssc.add(cls2);\n    rule2.set('style', {\n      prop2: 'value2'\n    });\n    expect(obj.build(comp, {\n      cssc\n    })).toEqual('.class1.class2{prop1:value1;}.class2{prop2:value2;}');\n  });","file":"specs/code_manager/model/CodeModels.js","skipped":false,"dir":"test"},{"name":"Rule with media query","suites":["CssGenerator"],"updatePoint":{"line":204,"column":29,"index":5735},"line":204,"code":"  test('Rule with media query', () => {\n    var m1 = comp.get('components').add({\n      tagName: 'article'\n    });\n    var cls1 = m1.get('classes').add({\n      name: 'class1'\n    });\n    var cls2 = m1.get('classes').add({\n      name: 'class2'\n    });\n    var cssc = newCssComp();\n    var rule = cssc.add([cls1, cls2]);\n    rule.set('style', {\n      prop1: 'value1'\n    });\n    rule.set('mediaText', '(max-width: 999px)');\n    expect(obj.build(comp, {\n      cssc\n    })).toEqual('@media (max-width: 999px){.class1.class2{prop1:value1;}}');\n  });","file":"specs/code_manager/model/CodeModels.js","skipped":false,"dir":"test"},{"name":"Rules mixed with media queries","suites":["CssGenerator"],"updatePoint":{"line":224,"column":38,"index":6289},"line":224,"code":"  test('Rules mixed with media queries', () => {\n    var m1 = comp.get('components').add({\n      tagName: 'article'\n    });\n    var cls1 = m1.get('classes').add({\n      name: 'class1'\n    });\n    var cls2 = m1.get('classes').add({\n      name: 'class2'\n    });\n    var cssc = newCssComp();\n    var rule = cssc.add([cls1, cls2]);\n    rule.set('style', {\n      prop1: 'value1'\n    });\n    var rule2 = cssc.add(cls2);\n    rule2.set('style', {\n      prop2: 'value2'\n    });\n    var rule3 = cssc.add(cls1, '', '(max-width: 999px)');\n    rule3.set('style', {\n      prop3: 'value3'\n    });\n    var rule4 = cssc.add(cls2, '', '(max-width: 999px)');\n    rule4.set('style', {\n      prop4: 'value4'\n    });\n    var rule5 = cssc.add(cls1, '', '(max-width: 100px)');\n    rule5.set('style', {\n      prop5: 'value5'\n    });\n    expect(obj.build(comp, {\n      cssc\n    })).toEqual('.class1.class2{prop1:value1;}.class2{prop2:value2;}' + '@media (max-width: 999px){.class1{prop3:value3;}.class2{prop4:value4;}}' + '@media (max-width: 100px){.class1{prop5:value5;}}');\n  });","file":"specs/code_manager/model/CodeModels.js","skipped":false,"dir":"test"},{"name":"Avoid useless code","suites":["CssGenerator"],"updatePoint":{"line":259,"column":26,"index":7333},"line":259,"code":"  test('Avoid useless code', () => {\n    var m1 = comp.get('components').add({\n      tagName: 'article'\n    });\n    var cls1 = m1.get('classes').add({\n      name: 'class1'\n    });\n    var cssc = newCssComp();\n    var rule = cssc.add(cls1);\n    rule.set('style', {\n      prop1: 'value1',\n      prop2: 'value2'\n    });\n    comp.get('components').remove(m1);\n    expect(obj.build(comp, {\n      cssc\n    })).toEqual('');\n  });","file":"specs/code_manager/model/CodeModels.js","skipped":false,"dir":"test"},{"name":"Render correctly a rule without avoidInlineStyle option","suites":["CssGenerator"],"updatePoint":{"line":277,"column":63,"index":7793},"line":277,"code":"  test('Render correctly a rule without avoidInlineStyle option', () => {\n    comp.setStyle({\n      color: 'red'\n    });\n    const id = comp.getId();\n    const result = `#${id}{color:red;}`;\n    expect(obj.build(comp, {\n      cssc: cc\n    })).toEqual(result);\n  });","file":"specs/code_manager/model/CodeModels.js","skipped":false,"dir":"test"},{"name":"Render correctly a rule with avoidInlineStyle option","suites":["CssGenerator"],"updatePoint":{"line":287,"column":60,"index":8056},"line":287,"code":"  test('Render correctly a rule with avoidInlineStyle option', () => {\n    em.getConfig().avoidInlineStyle = 1;\n    comp = new Component({}, {\n      em,\n      componentTypes: dcomp.componentTypes\n    });\n    comp.setStyle({\n      color: 'red'\n    });\n    const id = comp.getId();\n    const result = `#${id}{color:red;}`;\n    expect(obj.build(comp, {\n      cssc: cc,\n      em\n    })).toEqual(result);\n  });","file":"specs/code_manager/model/CodeModels.js","skipped":false,"dir":"test"},{"name":"Render correctly a rule with avoidInlineStyle and state","suites":["CssGenerator"],"updatePoint":{"line":303,"column":63,"index":8465},"line":303,"code":"  test('Render correctly a rule with avoidInlineStyle and state', () => {\n    em.getConfig().avoidInlineStyle = 1;\n    const state = 'hover';\n    comp.config.avoidInlineStyle = 1;\n    em.get('SelectorManager').setState(state);\n    comp.setStyle({\n      color: 'red'\n    });\n    const id = comp.getId();\n    const result = `#${id}:${state}{color:red;}`;\n    expect(obj.build(comp, {\n      cssc: cc,\n      em\n    })).toEqual(result);\n  });","file":"specs/code_manager/model/CodeModels.js","skipped":false,"dir":"test"},{"name":"Render correctly a rule with avoidInlineStyle and w/o state","suites":["CssGenerator"],"updatePoint":{"line":318,"column":67,"index":8907},"line":318,"code":"  test('Render correctly a rule with avoidInlineStyle and w/o state', () => {\n    em.getConfig().avoidInlineStyle = 1;\n    const state = 'hover';\n    comp.config.avoidInlineStyle = 1;\n    comp.setStyle({\n      color: 'blue'\n    });\n    em.get('SelectorManager').setState(state);\n    comp.setStyle({\n      color: 'red'\n    });\n    const id = comp.getId();\n    const result = `#${id}{color:blue;}#${id}:${state}{color:red;}`;\n    expect(obj.build(comp, {\n      cssc: cc,\n      em\n    })).toEqual(result);\n  });","file":"specs/code_manager/model/CodeModels.js","skipped":false,"dir":"test"},{"name":"Media queries are correctly cleaned for the length","suites":["CssGenerator"],"updatePoint":{"line":336,"column":58,"index":9407},"line":336,"code":"  test('Media queries are correctly cleaned for the length', () => {\n    [['@media (max-width: 999px)', 999], ['@media (min-width: 123%)', 123], ['@media (min-width: 1040rem)', 1040]].forEach(item => {\n      expect(obj.getQueryLength(item[0])).toBe(item[1]);\n    });\n  });","file":"specs/code_manager/model/CodeModels.js","skipped":false,"dir":"test"},{"name":"The media objects are correctly sorted","suites":["CssGenerator"],"updatePoint":{"line":341,"column":46,"index":9668},"line":341,"code":"  test('The media objects are correctly sorted', () => {\n    expect(obj.sortMediaObject({\n      '@media (max-width: 480px)': 1,\n      '@font-face': 2,\n      '@media (max-width: 768px)': 3,\n      '@media (max-width: 1020ch)': 4,\n      '@media (max-width: 10%)': 5\n    })).toEqual([{\n      key: '@font-face',\n      value: 2\n    }, {\n      key: '@media (max-width: 1020ch)',\n      value: 4\n    }, {\n      key: '@media (max-width: 768px)',\n      value: 3\n    }, {\n      key: '@media (max-width: 480px)',\n      value: 1\n    }, {\n      key: '@media (max-width: 10%)',\n      value: 5\n    }]);\n  });","file":"specs/code_manager/model/CodeModels.js","skipped":false,"dir":"test"},{"name":"The media objects, for the mobile first approach, are correctly sorted","suites":["CssGenerator"],"updatePoint":{"line":365,"column":78,"index":10292},"line":365,"code":"  test('The media objects, for the mobile first approach, are correctly sorted', () => {\n    expect(obj.sortMediaObject({\n      '@media (min-width: 480px)': 1,\n      '@font-face': 2,\n      '@media (min-width: 768px)': 3,\n      '@media (min-width: 1020ch)': 4,\n      '@media (min-width: 10%)': 5\n    })).toEqual([{\n      key: '@font-face',\n      value: 2\n    }, {\n      key: '@media (min-width: 10%)',\n      value: 5\n    }, {\n      key: '@media (min-width: 480px)',\n      value: 1\n    }, {\n      key: '@media (min-width: 768px)',\n      value: 3\n    }, {\n      key: '@media (min-width: 1020ch)',\n      value: 4\n    }]);\n  });","file":"specs/code_manager/model/CodeModels.js","skipped":false,"dir":"test"},{"name":"callRun returns result when no \"abort\" option specified","suites":["CommandAbstract"],"updatePoint":{"line":16,"column":63,"index":507},"line":16,"code":"  test('callRun returns result when no \"abort\" option specified', () => {\n    const runStub = sinon.stub(command, 'run').returns('result');\n    const result = command.callRun(editor);\n    expect(editorTriggerSpy.callCount).toEqual(3);\n    expect(editorTriggerSpy.getCall(0).args).toEqual(['run:test:before', {}]);\n    expect(editorTriggerSpy.getCall(1).args).toEqual(['run:test', 'result', {}]);\n    expect(editorTriggerSpy.getCall(2).args).toEqual(['run', 'test', 'result', {}]);\n    expect(result).toEqual('result');\n    expect(runStub.calledOnce).toEqual(true);\n  });","file":"specs/commands/view/CommandAbstract.js","skipped":false,"dir":"test"},{"name":"callRun returns undefined when \"abort\" option is specified","suites":["CommandAbstract"],"updatePoint":{"line":26,"column":66,"index":1081},"line":26,"code":"  test('callRun returns undefined when \"abort\" option is specified', () => {\n    const runStub = sinon.stub(command, 'run').returns('result');\n    const result = command.callRun(editor, {\n      abort: true\n    });\n    expect(editorTriggerSpy.calledTwice).toEqual(true);\n    expect(editorTriggerSpy.getCall(0).args).toEqual(['run:test:before', {\n      abort: true\n    }]);\n    expect(editorTriggerSpy.getCall(1).args).toEqual(['abort:test', {\n      abort: true\n    }]);\n    expect(result).toEqual(undefined);\n    expect(runStub.notCalled).toEqual(true);\n  });","file":"specs/commands/view/CommandAbstract.js","skipped":false,"dir":"test"},{"name":"callStop returns result","suites":["CommandAbstract"],"updatePoint":{"line":41,"column":31,"index":1605},"line":41,"code":"  test('callStop returns result', () => {\n    const stopStub = sinon.stub(command, 'stop').returns('stopped');\n    const result = command.callStop(editor);\n    expect(editorTriggerSpy.callCount).toEqual(3);\n    expect(editorTriggerSpy.getCall(0).args).toEqual(['stop:test:before', {}]);\n    expect(editorTriggerSpy.getCall(1).args).toEqual(['stop:test', 'stopped', {}]);\n    expect(editorTriggerSpy.getCall(2).args).toEqual(['stop', 'test', 'stopped', {}]);\n    expect(result).toEqual('stopped');\n    expect(stopStub.calledOnce).toEqual(true);\n  });","file":"specs/commands/view/CommandAbstract.js","skipped":false,"dir":"test"},{"name":"it should return panels set with the editor panels if not already set","suites":["Preview command",".getPanels"],"updatePoint":{"line":37,"column":79,"index":1096},"line":37,"code":"    test('it should return panels set with the editor panels if not already set', () => {\n      Preview.getPanels(fakeEditor);\n      expect(Preview.panels).toBe(fakePanels);\n      Preview.getPanels(fakeEditor);\n      expect(fakeEditor.Panels.getPanels).toHaveBeenCalledTimes(1);\n    });","file":"specs/commands/view/Preview.js","skipped":false,"dir":"test"},{"name":"should hide all panels","suites":["Preview command",".run"],"updatePoint":{"line":50,"column":30,"index":1450},"line":50,"code":"    it('should hide all panels', () => {\n      fakePanels.forEach(panel => expect(panel.get('visible')).toEqual(true));\n      Preview.run(fakeEditor);\n      fakePanels.forEach(panel => expect(panel.get('visible')).toEqual(false));\n    });","file":"specs/commands/view/Preview.js","skipped":false,"dir":"test"},{"name":"should stop the 'core:component-outline' command if active","suites":["Preview command",".run"],"updatePoint":{"line":55,"column":66,"index":1725},"line":55,"code":"    it(\"should stop the 'core:component-outline' command if active\", () => {\n      Preview.run(fakeEditor);\n      expect(fakeEditor.stopCommand).not.toHaveBeenCalled();\n      fakeIsActive = true;\n      Preview.run(fakeEditor);\n      expect(fakeEditor.stopCommand).toHaveBeenCalledWith('core:component-outline');\n    });","file":"specs/commands/view/Preview.js","skipped":false,"dir":"test"},{"name":"should not reset the `shouldRunSwVisibility` state once active if run multiple times","suites":["Preview command",".run"],"updatePoint":{"line":62,"column":92,"index":2071},"line":62,"code":"    it('should not reset the `shouldRunSwVisibility` state once active if run multiple times', () => {\n      expect(Preview.shouldRunSwVisibility).toBeUndefined();\n      fakeIsActive = true;\n      Preview.run(fakeEditor);\n      expect(Preview.shouldRunSwVisibility).toEqual(true);\n      fakeIsActive = false;\n      Preview.run(fakeEditor);\n      expect(Preview.shouldRunSwVisibility).toEqual(true);\n    });","file":"specs/commands/view/Preview.js","skipped":false,"dir":"test"},{"name":"should show all panels","suites":["Preview command",".stop"],"updatePoint":{"line":73,"column":30,"index":2450},"line":73,"code":"    it('should show all panels', () => {\n      fakePanels.forEach(panel => panel.set('visible', false));\n      Preview.stop(fakeEditor);\n      fakePanels.forEach(panel => expect(panel.get('visible')).toEqual(true));\n    });","file":"specs/commands/view/Preview.js","skipped":false,"dir":"test"},{"name":"should run the 'core:component-outline' command if it was active before run","suites":["Preview command",".stop"],"updatePoint":{"line":78,"column":83,"index":2727},"line":78,"code":"    it(\"should run the 'core:component-outline' command if it was active before run\", () => {\n      Preview.stop(fakeEditor);\n      expect(fakeEditor.runCommand).not.toHaveBeenCalled();\n      Preview.shouldRunSwVisibility = true;\n      Preview.stop(fakeEditor);\n      expect(fakeEditor.runCommand).toHaveBeenCalledWith('core:component-outline');\n      expect(Preview.shouldRunSwVisibility).toEqual(false);\n    });","file":"specs/commands/view/Preview.js","skipped":false,"dir":"test"},{"name":"should do nothing if the preview command is active","suites":["SwitchVisibility command",".toggleVis"],"updatePoint":{"line":17,"column":58,"index":486},"line":17,"code":"    it('should do nothing if the preview command is active', () => {\n      expect(fakeEditor.Canvas.getFrames).not.toHaveBeenCalled();\n      fakeIsActive = true;\n      SwitchVisibility.toggleVis(fakeEditor);\n      expect(fakeEditor.Canvas.getFrames).not.toHaveBeenCalled();\n    });","file":"specs/commands/view/SwitchVisibility.js","skipped":false,"dir":"test"},{"name":"Rules are correctly imported from default property","suites":["E2E tests"],"updatePoint":{"line":78,"column":58,"index":1486},"line":78,"code":"  test('Rules are correctly imported from default property', () => {\n    var gj = grapesjs.init({\n      stylePrefix: '',\n      storageManager: {\n        autoload: 0,\n        type: 'none'\n      },\n      cssComposer: {\n        rules: rulesSet\n      },\n      container: 'csscomposer-fixture'\n    });\n    var cssc = gj.editor.get('CssComposer');\n    expect(cssc.getAll().length).toEqual(rulesSet.length);\n    var cls = gj.editor.get('SelectorManager').getAll();\n    expect(cls.length).toEqual(3);\n  });","file":"specs/css_composer/e2e/CssComposer.js","skipped":false,"dir":"test"},{"name":"New rule adds correctly the class inside selector manager","suites":["E2E tests"],"updatePoint":{"line":95,"column":65,"index":1992},"line":95,"code":"  test('New rule adds correctly the class inside selector manager', () => {\n    var rules = cssc.getAll();\n    rules.add({\n      selectors: [{\n        name: 'test1',\n        private: true\n      }]\n    });\n    var rule = clsm.getAll().at(0);\n    expect(rule.get('name')).toEqual('test1');\n    expect(rule.get('private')).toEqual(true);\n  });","file":"specs/css_composer/e2e/CssComposer.js","skipped":false,"dir":"test"},{"name":"New rules are correctly imported inside selector manager","suites":["E2E tests"],"updatePoint":{"line":107,"column":64,"index":2332},"line":107,"code":"  test('New rules are correctly imported inside selector manager', () => {\n    var rules = cssc.getAll();\n    rulesSet.forEach(item => {\n      rules.add(item);\n    });\n    var cls = clsm.getAll();\n    expect(cls.length).toEqual(3);\n    expect(cls.at(0).get('name')).toEqual('test1');\n    expect(cls.at(1).get('name')).toEqual('test2');\n    expect(cls.at(2).get('name')).toEqual('test3');\n  });","file":"specs/css_composer/e2e/CssComposer.js","skipped":false,"dir":"test"},{"name":"Add rules from the new component added as a string with style tag","suites":["E2E tests"],"updatePoint":{"line":118,"column":73,"index":2735},"line":118,"code":"  test('Add rules from the new component added as a string with style tag', () => {\n    var comps = domc.getComponents();\n    var rules = cssc.getAll();\n    comps.add('<div>Test</div><style>.test{color: red} .test2{color: blue}</style>');\n    expect(comps.length).toEqual(1);\n    expect(rules.length).toEqual(2);\n  });","file":"specs/css_composer/e2e/CssComposer.js","skipped":false,"dir":"test"},{"name":"Add raw rule objects with addCollection","suites":["E2E tests"],"updatePoint":{"line":125,"column":47,"index":3028},"line":125,"code":"  test('Add raw rule objects with addCollection', () => {\n    cssc.addCollection(rulesSet);\n    expect(cssc.getAll().length).toEqual(3);\n    expect(clsm.getAll().length).toEqual(3);\n  });","file":"specs/css_composer/e2e/CssComposer.js","skipped":false,"dir":"test"},{"name":"Add raw rule objects twice with addCollection do not duplucate rules","suites":["E2E tests"],"updatePoint":{"line":130,"column":76,"index":3245},"line":130,"code":"  test('Add raw rule objects twice with addCollection do not duplucate rules', () => {\n    var rulesSet2Copy = JSON.parse(JSON.stringify(rulesSet2));\n    var coll1 = cssc.addCollection(rulesSet2);\n    var coll2 = cssc.addCollection(rulesSet2Copy);\n    expect(cssc.getAll().length).toEqual(3);\n    expect(clsm.getAll().length).toEqual(3);\n    expect(coll1).toEqual(coll2);\n  });","file":"specs/css_composer/e2e/CssComposer.js","skipped":false,"dir":"test"},{"name":"Extend css rule style, if requested","suites":["E2E tests"],"updatePoint":{"line":138,"column":43,"index":3590},"line":138,"code":"  test('Extend css rule style, if requested', () => {\n    var style1 = {\n      color: 'red',\n      width: '10px'\n    };\n    var style2 = {\n      height: '20px',\n      width: '20px'\n    };\n    var rule1 = {\n      selectors: ['test1'],\n      style: style1\n    };\n    var rule2 = {\n      selectors: ['test1'],\n      style: style2\n    };\n    var ruleOut = cssc.addCollection(rule1)[0];\n    // ruleOut is a Model\n    ruleOut = JSON.parse(JSON.stringify(ruleOut));\n    var ruleResult = {\n      selectors: ['test1'],\n      style: {\n        color: 'red',\n        width: '10px'\n      }\n    };\n    expect(ruleOut).toEqual(ruleResult);\n    var ruleOut = cssc.addCollection(rule2, {\n      extend: 1\n    })[0];\n    ruleOut = JSON.parse(JSON.stringify(ruleOut));\n    ruleResult.style = {\n      color: 'red',\n      height: '20px',\n      width: '20px'\n    };\n    expect(ruleOut).toEqual(ruleResult);\n  });","file":"specs/css_composer/e2e/CssComposer.js","skipped":false,"dir":"test"},{"name":"Do not extend with different selectorsAdd","suites":["E2E tests"],"updatePoint":{"line":177,"column":49,"index":4486},"line":177,"code":"  test('Do not extend with different selectorsAdd', () => {\n    var style1 = {\n      color: 'red',\n      width: '10px'\n    };\n    var style2 = {\n      height: '20px',\n      width: '20px'\n    };\n    var rule1 = {\n      selectors: [],\n      selectorsAdd: '*',\n      style: style1\n    };\n    var rule2 = {\n      selectors: [],\n      selectorsAdd: 'p',\n      style: style2\n    };\n    var rule1Out = cssc.addCollection(rule1, {\n      extend: 1\n    })[0];\n    var rule2Out = cssc.addCollection(rule2, {\n      extend: 1\n    })[0];\n    rule1Out = JSON.parse(JSON.stringify(rule1Out));\n    rule2Out = JSON.parse(JSON.stringify(rule2Out));\n    var rule1Result = {\n      selectors: [],\n      selectorsAdd: '*',\n      style: {\n        color: 'red',\n        width: '10px'\n      }\n    };\n    var rule2Result = {\n      selectors: [],\n      selectorsAdd: 'p',\n      style: {\n        height: '20px',\n        width: '20px'\n      }\n    };\n    expect(rule1Out).toEqual(rule1Result);\n    expect(rule2Out).toEqual(rule2Result);\n  });","file":"specs/css_composer/e2e/CssComposer.js","skipped":false,"dir":"test"},{"name":"Add raw rule objects with width via addCollection","suites":["E2E tests"],"updatePoint":{"line":223,"column":57,"index":5506},"line":223,"code":"  test('Add raw rule objects with width via addCollection', () => {\n    var coll1 = cssc.addCollection(rulesSet2);\n    expect(coll1[2].get('mediaText')).toEqual(rulesSet2[2].mediaText);\n  });","file":"specs/css_composer/e2e/CssComposer.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["Css Composer","Main"],"updatePoint":{"line":39,"column":23,"index":909},"line":39,"code":"    test('Object exists', () => {\n      expect(CssComposer).toBeTruthy();\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"storageKey returns array","suites":["Css Composer","Main"],"updatePoint":{"line":42,"column":34,"index":1002},"line":42,"code":"    test('storageKey returns array', () => {\n      expect(obj.storageKey).toEqual('styles');\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Store data","suites":["Css Composer","Main"],"updatePoint":{"line":45,"column":20,"index":1089},"line":45,"code":"    test('Store data', () => {\n      setSmConfig();\n      setEm();\n      expect(JSON.parse(JSON.stringify(obj.store()))).toEqual({\n        styles: []\n      });\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Rules are empty","suites":["Css Composer","Main"],"updatePoint":{"line":52,"column":25,"index":1262},"line":52,"code":"    test('Rules are empty', () => {\n      expect(obj.getAll().length).toEqual(0);\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Create new rule with correct selectors","suites":["Css Composer","Main"],"updatePoint":{"line":55,"column":48,"index":1375},"line":55,"code":"    test('Create new rule with correct selectors', () => {\n      var sel = new obj.Selectors();\n      var s1 = sel.add({\n        name: 'test1'\n      });\n      var rule = obj.add(sel.models);\n      expect(rule.get('selectors').at(0)).toEqual(s1);\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Create new rule correctly","suites":["Css Composer","Main"],"updatePoint":{"line":63,"column":35,"index":1616},"line":63,"code":"    test('Create new rule correctly', () => {\n      var sel = new obj.Selectors();\n      var s1 = sel.add({\n        name: 'test1'\n      });\n      var rule = obj.add(sel.models, 'state1', 'width1');\n      expect(rule.get('state')).toEqual('state1');\n      expect(rule.get('mediaText')).toEqual('width1');\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Add rule to collection","suites":["Css Composer","Main"],"updatePoint":{"line":72,"column":32,"index":1925},"line":72,"code":"    test('Add rule to collection', () => {\n      var sel = new obj.Selectors([{\n        name: 'test1'\n      }]);\n      var rule = obj.add(sel.models);\n      expect(obj.getAll().length).toEqual(1);\n      expect(obj.getAll().at(0).get('selectors').at(0).get('name')).toEqual('test1');\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Returns correct rule with the same selector","suites":["Css Composer","Main"],"updatePoint":{"line":80,"column":53,"index":2237},"line":80,"code":"    test('Returns correct rule with the same selector', () => {\n      var sel = new obj.Selectors([{\n        name: 'test1'\n      }]);\n      var rule1 = obj.add(sel.models);\n      var rule2 = obj.get(sel.models);\n      expect(rule1).toEqual(rule2);\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Returns correct rule with the same selectors","suites":["Css Composer","Main"],"updatePoint":{"line":88,"column":54,"index":2494},"line":88,"code":"    test('Returns correct rule with the same selectors', () => {\n      var sel1 = new obj.Selectors([{\n        name: 'test1'\n      }]);\n      var rule1 = obj.add(sel1.models);\n      var sel2 = new obj.Selectors([{\n        name: 'test21'\n      }, {\n        name: 'test22'\n      }]);\n      var rule2 = obj.add(sel2.models);\n      var rule3 = obj.get(sel2.models);\n      expect(rule3).toEqual(rule2);\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Do not create multiple rules with the same name selectors","suites":["Css Composer","Main"],"updatePoint":{"line":102,"column":67,"index":2913},"line":102,"code":"    test('Do not create multiple rules with the same name selectors', () => {\n      var sel1 = new obj.Selectors([{\n        name: 'test21'\n      }, {\n        name: 'test22'\n      }]);\n      var rule1 = obj.add(sel1.models);\n      var sel2 = new obj.Selectors([{\n        name: 'test22'\n      }, {\n        name: 'test21'\n      }]);\n      var rule2 = obj.add(sel2.models);\n      expect(rule2).toEqual(rule1);\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Don't duplicate rules","suites":["Css Composer","Main"],"updatePoint":{"line":117,"column":31,"index":3291},"line":117,"code":"    test(\"Don't duplicate rules\", () => {\n      var sel = new obj.Selectors([]);\n      var s1 = sel.add({\n        name: 'test1'\n      });\n      var s2 = sel.add({\n        name: 'test2'\n      });\n      var s3 = sel.add({\n        name: 'test3'\n      });\n      var rule1 = obj.add([s1, s3]);\n      var rule2 = obj.add([s3, s1]);\n      expect(rule2).toEqual(rule1);\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Returns correct rule with the same mixed selectors","suites":["Css Composer","Main"],"updatePoint":{"line":132,"column":60,"index":3690},"line":132,"code":"    test('Returns correct rule with the same mixed selectors', () => {\n      var sel = new obj.Selectors([]);\n      var s1 = sel.add({\n        name: 'test1'\n      });\n      var s2 = sel.add({\n        name: 'test2'\n      });\n      var s3 = sel.add({\n        name: 'test3'\n      });\n      var rule1 = obj.add([s1, s3]);\n      var rule2 = obj.get([s3, s1]);\n      expect(rule2).toEqual(rule1);\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Returns correct rule with the same selectors and state","suites":["Css Composer","Main"],"updatePoint":{"line":147,"column":64,"index":4093},"line":147,"code":"    test('Returns correct rule with the same selectors and state', () => {\n      var sel = new obj.Selectors([]);\n      var s1 = sel.add({\n        name: 'test1'\n      });\n      var s2 = sel.add({\n        name: 'test2'\n      });\n      var s3 = sel.add({\n        name: 'test3'\n      });\n      var rule1 = obj.add([s1, s3], 'hover');\n      var rule2 = obj.get([s3, s1], 'hover');\n      expect(rule2).toEqual(rule1);\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Returns correct rule with the same selectors, state and width","suites":["Css Composer","Main"],"updatePoint":{"line":162,"column":71,"index":4521},"line":162,"code":"    test('Returns correct rule with the same selectors, state and width', () => {\n      var sel = new obj.Selectors([]);\n      var s1 = sel.add({\n        name: 'test1'\n      });\n      var rule1 = obj.add([s1], 'hover', '1');\n      var rule2 = obj.get([s1], 'hover', '1');\n      expect(rule2).toEqual(rule1);\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Renders correctly","suites":["Css Composer","Main"],"updatePoint":{"line":171,"column":27,"index":4793},"line":171,"code":"    test('Renders correctly', () => {\n      expect(obj.render()).toBeTruthy();\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Create a rule with id selector by using setIdRule()","suites":["Css Composer","Main"],"updatePoint":{"line":174,"column":61,"index":4914},"line":174,"code":"    test('Create a rule with id selector by using setIdRule()', () => {\n      const name = 'test';\n      obj.setIdRule(name, {\n        color: 'red'\n      });\n      expect(obj.getAll().length).toEqual(1);\n      const rule = obj.getIdRule(name);\n      expect(rule.selectorsToString()).toEqual(`#${name}`);\n      expect(rule.styleToString()).toEqual('color:red;');\n      expect(rule.styleToString({\n        important: 1\n      })).toEqual('color:red !important;');\n      expect(rule.styleToString({\n        important: ['color']\n      })).toEqual('color:red !important;');\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Create a rule with id selector and state by using setIdRule()","suites":["Css Composer","Main"],"updatePoint":{"line":190,"column":71,"index":5500},"line":190,"code":"    test('Create a rule with id selector and state by using setIdRule()', () => {\n      const name = 'test';\n      const state = 'hover';\n      obj.setIdRule(name, {\n        color: 'red'\n      }, {\n        state\n      });\n      expect(obj.getAll().length).toEqual(1);\n      const rule = obj.getIdRule(name, {\n        state\n      });\n      expect(rule.selectorsToString()).toEqual(`#${name}:${state}`);\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Create a rule with class selector by using setClassRule()","suites":["Css Composer","Main"],"updatePoint":{"line":204,"column":67,"index":5906},"line":204,"code":"    test('Create a rule with class selector by using setClassRule()', () => {\n      const name = 'test';\n      obj.setClassRule(name, {\n        color: 'red'\n      });\n      expect(obj.getAll().length).toEqual(1);\n      const rule = obj.getClassRule(name);\n      expect(rule.selectorsToString()).toEqual(`.${name}`);\n      expect(rule.styleToString()).toEqual('color:red;');\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Create a rule with class selector and state by using setClassRule()","suites":["Css Composer","Main"],"updatePoint":{"line":214,"column":77,"index":6298},"line":214,"code":"    test('Create a rule with class selector and state by using setClassRule()', () => {\n      const name = 'test';\n      const state = 'hover';\n      obj.setClassRule(name, {\n        color: 'red'\n      }, {\n        state\n      });\n      expect(obj.getAll().length).toEqual(1);\n      const rule = obj.getClassRule(name, {\n        state\n      });\n      expect(rule.selectorsToString()).toEqual(`.${name}:${state}`);\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Create a simple class-based rule with setRule","suites":["Css Composer","Main"],"updatePoint":{"line":228,"column":55,"index":6698},"line":228,"code":"    test('Create a simple class-based rule with setRule', () => {\n      const selector = '.test';\n      const result = obj.setRule(selector, {\n        color: 'red'\n      });\n      expect(obj.getAll().length).toEqual(1);\n      const rule = obj.getRule(selector);\n      expect(rule.selectorsToString()).toEqual(selector);\n      expect(rule.styleToString()).toEqual('color:red;');\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Avoid creating multiple rules with the same selector","suites":["Css Composer","Main"],"updatePoint":{"line":238,"column":62,"index":7091},"line":238,"code":"    test('Avoid creating multiple rules with the same selector', () => {\n      const selector = '.test';\n      obj.setRule(selector, {\n        color: 'red'\n      });\n      obj.setRule(selector, {\n        color: 'blue'\n      });\n      expect(obj.getAll().length).toEqual(1);\n      const rule = obj.getRule(selector);\n      expect(rule.selectorsToString()).toEqual(selector);\n      expect(rule.styleToString()).toEqual('color:blue;');\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Create a class-based rule with setRule","suites":["Css Composer","Main"],"updatePoint":{"line":251,"column":48,"index":7518},"line":251,"code":"    test('Create a class-based rule with setRule', () => {\n      const selector = '.test.test2';\n      const result = obj.setRule(selector, {\n        color: 'red'\n      });\n      expect(obj.getAll().length).toEqual(1);\n      const rule = obj.getRule(selector);\n      expect(rule.selectorsToString()).toEqual(selector);\n      expect(rule.styleToString()).toEqual('color:red;');\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Create a class-based rule with a state, by using setRule","suites":["Css Composer","Main"],"updatePoint":{"line":261,"column":66,"index":7921},"line":261,"code":"    test('Create a class-based rule with a state, by using setRule', () => {\n      const selector = '.test.test2:hover';\n      const result = obj.setRule(selector, {\n        color: 'red'\n      });\n      expect(obj.getAll().length).toEqual(1);\n      const rule = obj.getRule(selector);\n      expect(rule.selectorsToString()).toEqual(selector);\n      expect(rule.styleToString()).toEqual('color:red;');\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Create a rule with class-based and mixed selectors","suites":["Css Composer","Main"],"updatePoint":{"line":271,"column":60,"index":8324},"line":271,"code":"    test('Create a rule with class-based and mixed selectors', () => {\n      const selector = '.test.test2:hover, #test .selector';\n      obj.setRule(selector, {\n        color: 'red'\n      });\n      expect(obj.getAll().length).toEqual(1);\n      const rule = obj.getRule(selector);\n      expect(rule.selectorsToString()).toEqual(selector);\n      expect(rule.styleToString()).toEqual('color:red;');\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Create a rule with only mixed selectors","suites":["Css Composer","Main"],"updatePoint":{"line":281,"column":49,"index":8718},"line":281,"code":"    test('Create a rule with only mixed selectors', () => {\n      const selector = '#test1 .class1, .class2 > #id2';\n      obj.setRule(selector, {\n        color: 'red'\n      });\n      expect(obj.getAll().length).toEqual(1);\n      const rule = obj.getRule(selector);\n      expect(rule.get('selectors').length).toEqual(0);\n      expect(rule.selectorsToString()).toEqual(selector);\n      expect(rule.styleToString()).toEqual('color:red;');\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Create a rule with atRule","suites":["Css Composer","Main"],"updatePoint":{"line":292,"column":35,"index":9149},"line":292,"code":"    test('Create a rule with atRule', () => {\n      const toTest = [{\n        selector: '.class1:hover',\n        style: {\n          color: 'blue'\n        },\n        opts: {\n          atRuleType: 'media',\n          atRuleParams: 'screen and (min-width: 480px)'\n        }\n      }, {\n        selector: '.class1:hover',\n        style: {\n          color: 'red'\n        },\n        opts: {\n          atRuleType: 'media',\n          atRuleParams: 'screen and (min-width: 480px)'\n        }\n      }];\n      toTest.forEach(test => {\n        const {\n          selector,\n          style,\n          opts\n        } = test;\n        const result = obj.setRule(selector, style, opts);\n        expect(obj.getAll().length).toEqual(1);\n        const rule = obj.getRule(selector, opts);\n        expect(rule.getAtRule()).toEqual(`@${opts.atRuleType} ${opts.atRuleParams}`);\n        expect(rule.selectorsToString()).toEqual(selector);\n        expect(rule.getStyle()).toEqual(style);\n      });\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Create different rules by using setRule","suites":["Css Composer","Main"],"updatePoint":{"line":326,"column":49,"index":10139},"line":326,"code":"    test('Create different rules by using setRule', () => {\n      const toTest = [{\n        selector: '.class1:hover',\n        style: {\n          color: '#111'\n        }\n      }, {\n        selector: '.class1.class2',\n        style: {\n          color: '#222'\n        }\n      }, {\n        selector: '.class1, .class2 .class3',\n        style: {\n          color: 'red'\n        }\n      }, {\n        selector: '.class1, .class2 .class4',\n        style: {\n          color: 'green'\n        }\n      }, {\n        selector: '.class4, .class1 .class2',\n        style: {\n          color: 'blue'\n        }\n      }, {\n        selector: '.class4, .class1 .class2',\n        style: {\n          color: 'blue'\n        },\n        opt: {\n          atRuleType: 'media',\n          atRuleParams: '(min-width: 480px)'\n        }\n      }];\n      toTest.forEach(test => {\n        const {\n          selector,\n          style,\n          opt = {}\n        } = test;\n        obj.setRule(selector, style, opt);\n        const rule = obj.getRule(selector, opt);\n        const atRule = `${opt.atRuleType || ''} ${opt.atRuleParams || ''}`.trim();\n        expect(rule.getAtRule()).toEqual(atRule ? `@${atRule}` : '');\n        expect(rule.selectorsToString()).toEqual(selector);\n        expect(rule.getStyle()).toEqual(style);\n      });\n      expect(obj.getAll().length).toEqual(toTest.length);\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Get the right rule, containg similar selector names","suites":["Css Composer","Main"],"updatePoint":{"line":377,"column":61,"index":11513},"line":377,"code":"    test('Get the right rule, containg similar selector names', () => {\n      const all = obj.getAll();\n      const name = 'rule-test';\n      const selClass = `.${name}`;\n      const selId = `#${name}`;\n      const decl = '{colore:red;}';\n      all.add(`${selClass}${decl} ${selId}${decl}`);\n      expect(all.length).toBe(2);\n      const ruleClass = all.at(0);\n      const ruleId = all.at(1);\n      // Pre-check\n      expect(ruleClass.selectorsToString()).toBe(selClass);\n      expect(ruleId.selectorsToString()).toBe(selId);\n      expect(ruleClass.toCSS()).toBe(`${selClass}${decl}`);\n      expect(ruleId.toCSS()).toBe(`${selId}${decl}`);\n      // Check the get with the right rule\n      expect(obj.get(ruleClass.getSelectors())).toBe(ruleClass);\n      expect(obj.get(ruleId.getSelectors())).toBe(ruleId);\n    });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Get rule by class selectors","suites":["Css Composer","Main","getRules"],"updatePoint":{"line":397,"column":39,"index":12339},"line":397,"code":"      test('Get rule by class selectors', () => {\n        obj.addCollection(`\n          .aaa.bbb {\n            display:flex;\n            padding: 10px 0;\n            background:green;\n          }\n        `);\n        const [result] = obj.getRules('.aaa.bbb');\n        expect(result.selectorsToString()).toBe('.aaa.bbb');\n        // TODO The order of classes should not matter\n        // const [result2] = obj.getRules('.bbb.aaa');\n        // expect(result2.selectorsToString()).toBe('.aaa.bbb');\n      });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Add a single rule as CSS string","suites":["Css Composer","Main","Collections"],"updatePoint":{"line":414,"column":43,"index":12893},"line":414,"code":"      test('Add a single rule as CSS string', () => {\n        const cssRule = '.test-rule{color:red;}';\n        obj.addCollection(cssRule);\n        expect(obj.getAll().length).toEqual(1);\n        expect(getCSS(obj)).toEqual(cssRule);\n      });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Add multiple rules as CSS string","suites":["Css Composer","Main","Collections"],"updatePoint":{"line":420,"column":44,"index":13138},"line":420,"code":"      test('Add multiple rules as CSS string', () => {\n        const cssRules = ['.test-rule{color:red;}', '.test-rule:hover{color:blue;}', '@media (max-width: 992px){.test-rule{color:darkred;}}', '@media (max-width: 992px){.test-rule:hover{color:darkblue;}}'];\n        const cssString = cssRules.join('');\n        obj.addCollection(cssString);\n        expect(obj.getAll().length).toEqual(cssRules.length);\n        expect(getCSS(obj)).toEqual(cssString);\n      });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Able to return the rule inserted as string","suites":["Css Composer","Main","Collections"],"updatePoint":{"line":427,"column":54,"index":13613},"line":427,"code":"      test('Able to return the rule inserted as string', () => {\n        const cssRule = `\n        .test-rule1 {color:red;}\n        .test-rule2:hover {\n          color: blue;\n        }\n        @media (max-width: 992px) {\n          .test-rule3 {\n            color: darkred;\n          }\n          .test-rule4:hover {\n            color: darkblue;\n          }\n        }\n        `;\n        const result = obj.addCollection(cssRule);\n        const [rule1, rule2, rule3, rule4] = result;\n        expect(result.length).toEqual(4);\n        expect(obj.getAll().length).toEqual(4);\n        expect(obj.get('.test-rule1')).toBe(rule1);\n        expect(obj.get('.test-rule1', 'hover')).toBe(null);\n        expect(obj.get('.test-rule2', 'hover')).toBe(rule2);\n        expect(rule3.get('mediaText')).toBe('(max-width: 992px)');\n        expect(obj.get('.test-rule3', null, '(max-width: 992px)')).toBe(rule3);\n        expect(obj.get('.test-rule4', 'hover', '(max-width: 992px)')).toBe(rule4);\n      });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Add rules with @font-face","suites":["Css Composer","Main","Collections"],"updatePoint":{"line":453,"column":37,"index":14580},"line":453,"code":"      test('Add rules with @font-face', () => {\n        const cssRules = ['@font-face{font-family:\"Font1\";}', '@font-face{font-family:\"Font2\";}'];\n        const cssRule = cssRules.join('');\n        const result = obj.addCollection(cssRule);\n        expect(result.length).toEqual(2);\n        expect(obj.getAll().length).toEqual(2);\n        result.forEach(rule => {\n          expect(rule.get('selectors').length).toBe(0);\n          expect(rule.get('selectorsAdd')).toBeFalsy();\n          expect(rule.get('mediaText')).toBeFalsy();\n          expect(rule.get('atRuleType')).toBe('font-face');\n          expect(rule.get('singleAtRule')).toBe(true);\n        });\n        expect(getCSS(obj)).toEqual(cssRule.trim());\n      });","file":"specs/css_composer/index.js","skipped":false,"dir":"test"},{"name":"Add rules with @keyframes at rule","suites":["Css Composer","Main","Collections"],"line":470,"code":"      test.skip('Add rules with @keyframes at rule', () => {","file":"specs/css_composer/index.js","skipped":true,"dir":"test"},{"name":"Has selectors property","suites":["CssRule"],"updatePoint":{"line":13,"column":30,"index":380},"line":13,"code":"  test('Has selectors property', () => {\n    expect(obj.has('selectors')).toEqual(true);\n  });","file":"specs/css_composer/model/CssModels.js","skipped":false,"dir":"test"},{"name":"Has style property","suites":["CssRule"],"updatePoint":{"line":16,"column":26,"index":471},"line":16,"code":"  test('Has style property', () => {\n    expect(obj.has('style')).toEqual(true);\n  });","file":"specs/css_composer/model/CssModels.js","skipped":false,"dir":"test"},{"name":"Has state property","suites":["CssRule"],"updatePoint":{"line":19,"column":26,"index":558},"line":19,"code":"  test('Has state property', () => {\n    expect(obj.has('state')).toEqual(true);\n  });","file":"specs/css_composer/model/CssModels.js","skipped":false,"dir":"test"},{"name":"No default selectors","suites":["CssRule"],"updatePoint":{"line":22,"column":28,"index":647},"line":22,"code":"  test('No default selectors', () => {\n    expect(obj.get('selectors').length).toEqual(0);\n  });","file":"specs/css_composer/model/CssModels.js","skipped":false,"dir":"test"},{"name":"Compare returns true with the same selectors","suites":["CssRule"],"updatePoint":{"line":25,"column":52,"index":768},"line":25,"code":"  test('Compare returns true with the same selectors', () => {\n    var s1 = obj.get('selectors').add({\n      name: 'test1'\n    });\n    var s2 = obj.get('selectors').add({\n      name: 'test2'\n    });\n    expect(obj.compare([s1, s2])).toEqual(true);\n  });","file":"specs/css_composer/model/CssModels.js","skipped":false,"dir":"test"},{"name":"Compare with different state","suites":["CssRule"],"updatePoint":{"line":34,"column":36,"index":1006},"line":34,"code":"  test('Compare with different state', () => {\n    var s1 = obj.get('selectors').add({\n      name: 'test1'\n    });\n    var s2 = obj.get('selectors').add({\n      name: 'test2'\n    });\n    obj.set('state', 'hover');\n    expect(obj.compare([s1, s2])).toEqual(false);\n    expect(obj.compare([s1, s2], 'hover')).toEqual(true);\n  });","file":"specs/css_composer/model/CssModels.js","skipped":false,"dir":"test"},{"name":"Compare with different mediaText","suites":["CssRule"],"updatePoint":{"line":45,"column":40,"index":1338},"line":45,"code":"  test('Compare with different mediaText', () => {\n    var s1 = obj.get('selectors').add({\n      name: 'test1'\n    });\n    var s2 = obj.get('selectors').add({\n      name: 'test2'\n    });\n    obj.set('state', 'hover');\n    obj.set('mediaText', '1000');\n    obj.set('atRuleType', 'media');\n    expect(obj.compare([s1, s2])).toEqual(false);\n    expect(obj.compare([s1, s2], 'hover')).toEqual(false);\n    expect(obj.compare([s2, s1], 'hover', '1000')).toEqual(true);\n  });","file":"specs/css_composer/model/CssModels.js","skipped":false,"dir":"test"},{"name":"toCSS returns empty if there is no style","suites":["CssRule"],"updatePoint":{"line":59,"column":48,"index":1815},"line":59,"code":"  test('toCSS returns empty if there is no style', () => {\n    var s1 = obj.get('selectors').add({\n      name: 'test1'\n    });\n    expect(obj.toCSS()).toEqual('');\n  });","file":"specs/css_composer/model/CssModels.js","skipped":false,"dir":"test"},{"name":"toCSS returns empty if there is no selectors","suites":["CssRule"],"updatePoint":{"line":65,"column":52,"index":1989},"line":65,"code":"  test('toCSS returns empty if there is no selectors', () => {\n    obj.setStyle({\n      color: 'red'\n    });\n    expect(obj.toCSS()).toEqual('');\n  });","file":"specs/css_composer/model/CssModels.js","skipped":false,"dir":"test"},{"name":"toCSS returns simple CSS","suites":["CssRule"],"updatePoint":{"line":71,"column":32,"index":2121},"line":71,"code":"  test('toCSS returns simple CSS', () => {\n    obj.get('selectors').add({\n      name: 'test1'\n    });\n    obj.setStyle({\n      color: 'red'\n    });\n    expect(obj.toCSS()).toEqual('.test1{color:red;}');\n  });","file":"specs/css_composer/model/CssModels.js","skipped":false,"dir":"test"},{"name":"toCSS wraps correctly inside media rule","suites":["CssRule"],"updatePoint":{"line":80,"column":47,"index":2345},"line":80,"code":"  test('toCSS wraps correctly inside media rule', () => {\n    const media = '(max-width: 768px)';\n    obj.set('atRuleType', 'media');\n    obj.set('mediaText', media);\n    obj.get('selectors').add({\n      name: 'test1'\n    });\n    obj.setStyle({\n      color: 'red'\n    });\n    expect(obj.toCSS()).toEqual(`@media ${media}{.test1{color:red;}}`);\n  });","file":"specs/css_composer/model/CssModels.js","skipped":false,"dir":"test"},{"name":"toCSS with a generic at-rule","suites":["CssRule"],"updatePoint":{"line":92,"column":36,"index":2684},"line":92,"code":"  test('toCSS with a generic at-rule', () => {\n    obj.set('atRuleType', 'supports');\n    obj.get('selectors').add({\n      name: 'test1'\n    });\n    obj.setStyle({\n      'font-family': 'Open Sans'\n    });\n    expect(obj.toCSS()).toEqual('@supports{.test1{font-family:Open Sans;}}');\n  });","file":"specs/css_composer/model/CssModels.js","skipped":false,"dir":"test"},{"name":"toCSS with a generic single at-rule","suites":["CssRule"],"updatePoint":{"line":102,"column":43,"index":2980},"line":102,"code":"  test('toCSS with a generic single at-rule', () => {\n    obj.set('atRuleType', 'font-face');\n    obj.set('singleAtRule', 1);\n    obj.setStyle({\n      'font-family': 'Sans'\n    });\n    expect(obj.toCSS()).toEqual('@font-face{font-family:Sans;}');\n  });","file":"specs/css_composer/model/CssModels.js","skipped":false,"dir":"test"},{"name":"toCSS with a generic at-rule and condition","suites":["CssRule"],"updatePoint":{"line":110,"column":50,"index":3240},"line":110,"code":"  test('toCSS with a generic at-rule and condition', () => {\n    obj.set('atRuleType', 'font-face');\n    obj.set('mediaText', 'some-condition');\n    obj.get('selectors').add({\n      name: 'test1'\n    });\n    obj.setStyle({\n      'font-family': 'Open Sans'\n    });\n    expect(obj.toCSS()).toEqual('@font-face some-condition{.test1{font-family:Open Sans;}}');\n  });","file":"specs/css_composer/model/CssModels.js","skipped":false,"dir":"test"},{"name":"Creates collection item correctly","suites":["CssRules"],"updatePoint":{"line":123,"column":41,"index":3628},"line":123,"code":"  test('Creates collection item correctly', () => {\n    var c = new CssRules();\n    var m = c.add({});\n    expect(m instanceof CssRule).toEqual(true);\n  });","file":"specs/css_composer/model/CssModels.js","skipped":false,"dir":"test"},{"name":"Creates collection item correctly","suites":["Selectors"],"updatePoint":{"line":130,"column":41,"index":3819},"line":130,"code":"  test('Creates collection item correctly', () => {\n    var c = new Selectors();\n    var m = c.add({});\n    expect(m instanceof Selector).toEqual(true);\n  });","file":"specs/css_composer/model/CssModels.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["CssRulesView"],"updatePoint":{"line":55,"column":21,"index":1240},"line":55,"code":"  test('Object exists', () => {\n    expect(CssRulesView).toBeTruthy();\n  });","file":"specs/css_composer/view/CssRulesView.js","skipped":false,"dir":"test"},{"name":"Collection is empty. Styles structure bootstraped","suites":["CssRulesView"],"updatePoint":{"line":58,"column":57,"index":1353},"line":58,"code":"  test('Collection is empty. Styles structure bootstraped', () => {\n    expect(obj.$el.html()).toBeTruthy();\n    const foundStylesContainers = obj.$el.find('div');\n    expect(foundStylesContainers.length).toEqual(devices.length);\n    const sortedDevicesWidthMedia = devices.map(dvc => dvc.widthMedia).sort((left, right) => {\n      return (right && right.replace('px', '') || Number.MAX_VALUE) - (left && left.replace('px', '') || Number.MAX_VALUE);\n    }).map(widthMedia => parseFloat(widthMedia));\n    foundStylesContainers.each((idx, $styleC) => {\n      const width = sortedDevicesWidthMedia[idx];\n      expect($styleC.id).toEqual(`${prefix}${width ? `-${width}` : ''}`);\n    });\n  });","file":"specs/css_composer/view/CssRulesView.js","skipped":false,"dir":"test"},{"name":"Collection is empty. Styles structure with mobile first bootstraped","suites":["CssRulesView"],"updatePoint":{"line":70,"column":75,"index":2059},"line":70,"code":"  test('Collection is empty. Styles structure with mobile first bootstraped', () => {\n    obj = buildEditor({\n      mediaCondition: 'min-width',\n      deviceManager: {\n        devices: mobileFirstDevices\n      }\n    });\n    expect(obj.$el.html()).toBeTruthy();\n    const foundStylesContainers = obj.$el.find('div');\n    expect(foundStylesContainers.length).toEqual(mobileFirstDevices.length);\n    const sortedDevicesWidthMedia = mobileFirstDevices.map(dvc => dvc.widthMedia).sort((left, right) => {\n      const a = left && left.replace('px', '') || Number.MIN_VALUE;\n      const b = right && right.replace('px', '') || Number.MIN_VALUE;\n      return a - b;\n    }).map(widthMedia => parseFloat(widthMedia));\n    foundStylesContainers.each((idx, $styleC) => {\n      const width = sortedDevicesWidthMedia[idx];\n      expect($styleC.id).toEqual(`${prefix}${width ? `-${width}` : ''}`);\n    });\n  });","file":"specs/css_composer/view/CssRulesView.js","skipped":false,"dir":"test"},{"name":"Add new rule","suites":["CssRulesView"],"updatePoint":{"line":90,"column":20,"index":2900},"line":90,"code":"  test('Add new rule', () => {\n    sinon.stub(obj, 'addToCollection');\n    obj.collection.add({});\n    expect(obj.addToCollection.calledOnce).toBeTruthy();\n  });","file":"specs/css_composer/view/CssRulesView.js","skipped":false,"dir":"test"},{"name":"Add correctly rules with different media queries","suites":["CssRulesView"],"updatePoint":{"line":95,"column":56,"index":3098},"line":95,"code":"  test('Add correctly rules with different media queries', () => {\n    const foundStylesContainers = obj.$el.find('div');\n    const rules = [{\n      selectorsAdd: '#testid'\n    }, {\n      selectorsAdd: '#testid2',\n      mediaText: '(max-width: 1000px)'\n    }, {\n      selectorsAdd: '#testid3',\n      mediaText: '(min-width: 900px)'\n    }, {\n      selectorsAdd: '#testid4',\n      mediaText: 'screen and (max-width: 900px) and (min-width: 600px)'\n    }];\n    obj.collection.add(rules);\n    const stylesCont = obj.el.querySelector(`#${obj.className}`);\n    expect(stylesCont.children.length).toEqual(rules.length);\n  });","file":"specs/css_composer/view/CssRulesView.js","skipped":false,"dir":"test"},{"name":"Render new rule","suites":["CssRulesView"],"updatePoint":{"line":113,"column":23,"index":3683},"line":113,"code":"  test('Render new rule', () => {\n    obj.collection.add({});\n    expect(obj.$el.find(`#${prefix}`).html()).toBeTruthy();\n  });","file":"specs/css_composer/view/CssRulesView.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["CssRuleView"],"updatePoint":{"line":18,"column":21,"index":503},"line":18,"code":"  test('Object exists', () => {\n    expect(CssRuleView).toBeTruthy();\n  });","file":"specs/css_composer/view/CssRuleView.js","skipped":false,"dir":"test"},{"name":"Empty style inside","suites":["CssRuleView"],"updatePoint":{"line":21,"column":26,"index":584},"line":21,"code":"  test('Empty style inside', () => {\n    expect(fixtures.innerHTML).toEqual('<style></style>');\n  });","file":"specs/css_composer/view/CssRuleView.js","skipped":false,"dir":"test"},{"name":"On update of style always empty as there is no selectors","suites":["CssRuleView"],"updatePoint":{"line":24,"column":64,"index":724},"line":24,"code":"  test('On update of style always empty as there is no selectors', () => {\n    obj.model.set('style', {\n      prop: 'value'\n    });\n    expect(fixtures.innerHTML).toEqual('<style></style>');\n  });","file":"specs/css_composer/view/CssRuleView.js","skipped":false,"dir":"test"},{"name":"Empty with no style","suites":["CssRuleView","CssRuleView with selectors"],"updatePoint":{"line":51,"column":29,"index":1416},"line":51,"code":"    test('Empty with no style', () => {\n      expect(objReg.$el.html()).toEqual('');\n    });","file":"specs/css_composer/view/CssRuleView.js","skipped":false,"dir":"test"},{"name":"Not empty on update of style","suites":["CssRuleView","CssRuleView with selectors"],"updatePoint":{"line":54,"column":38,"index":1518},"line":54,"code":"    test('Not empty on update of style', () => {\n      objReg.model.set('style', {\n        prop: 'value'\n      });\n      expect(objReg.$el.html()).toEqual('.test1.test2{prop:value;}');\n    });","file":"specs/css_composer/view/CssRuleView.js","skipped":false,"dir":"test"},{"name":"State correctly rendered","suites":["CssRuleView","CssRuleView with selectors"],"updatePoint":{"line":60,"column":34,"index":1707},"line":60,"code":"    test('State correctly rendered', () => {\n      objReg.model.set('style', {\n        prop: 'value'\n      });\n      objReg.model.set('state', 'hover');\n      expect(objReg.$el.html()).toEqual('.test1.test2:hover{prop:value;}');\n    });","file":"specs/css_composer/view/CssRuleView.js","skipped":false,"dir":"test"},{"name":"State render changes on update","suites":["CssRuleView","CssRuleView with selectors"],"updatePoint":{"line":67,"column":40,"index":1950},"line":67,"code":"    test('State render changes on update', () => {\n      objReg.model.set('style', {\n        prop: 'value'\n      });\n      objReg.model.set('state', 'hover');\n      objReg.model.set('state', '');\n      expect(objReg.$el.html()).toEqual('.test1.test2{prop:value;}');\n    });","file":"specs/css_composer/view/CssRuleView.js","skipped":false,"dir":"test"},{"name":"Render media queries","suites":["CssRuleView","CssRuleView with selectors"],"updatePoint":{"line":75,"column":30,"index":2214},"line":75,"code":"    test('Render media queries', () => {\n      objReg.model.set('style', {\n        prop: 'value'\n      });\n      objReg.model.set('mediaText', '(max-width: 999px)');\n      expect(objReg.$el.html()).toEqual('@media (max-width: 999px){.test1.test2{prop:value;}}');\n    });","file":"specs/css_composer/view/CssRuleView.js","skipped":false,"dir":"test"},{"name":"Empty on clear","suites":["CssRuleView","CssRuleView with selectors"],"updatePoint":{"line":82,"column":24,"index":2479},"line":82,"code":"    test('Empty on clear', () => {\n      objReg.model.set('style', {\n        prop: 'value'\n      });\n      objReg.model.set('style', {});\n      expect(objReg.$el.html()).toEqual('');\n    });","file":"specs/css_composer/view/CssRuleView.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["DeviceManager","Main"],"updatePoint":{"line":24,"column":23,"index":526},"line":24,"code":"    test('Object exists', () => {\n      expect(obj).toBeTruthy();\n    });","file":"specs/device_manager/index.js","skipped":false,"dir":"test"},{"name":"No device inside","suites":["DeviceManager","Main"],"updatePoint":{"line":27,"column":26,"index":603},"line":27,"code":"    test('No device inside', () => {\n      var coll = obj.getAll();\n      expect(coll.length).toEqual(0);\n    });","file":"specs/device_manager/index.js","skipped":false,"dir":"test"},{"name":"Add new device","suites":["DeviceManager","Main"],"updatePoint":{"line":31,"column":24,"index":715},"line":31,"code":"    test('Add new device', () => {\n      obj.add(testNameDevice, testWidthDevice);\n      expect(obj.getAll().length).toEqual(1);\n    });","file":"specs/device_manager/index.js","skipped":false,"dir":"test"},{"name":"Add new device triggers proper events","suites":["DeviceManager","Main"],"updatePoint":{"line":35,"column":47,"index":875},"line":35,"code":"    test('Add new device triggers proper events', () => {\n      const eventFn = jest.fn();\n      const eventFnAll = jest.fn();\n      em.on(obj.events.add, eventFn);\n      em.on(obj.events.all, eventFnAll);\n      obj.add(testNameDevice, testWidthDevice);\n      expect(eventFn).toBeCalledTimes(1);\n      expect(eventFnAll).toBeCalled();\n    });","file":"specs/device_manager/index.js","skipped":false,"dir":"test"},{"name":"Added device has correct data","suites":["DeviceManager","Main"],"updatePoint":{"line":44,"column":39,"index":1210},"line":44,"code":"    test('Added device has correct data', () => {\n      var model = obj.add(testNameDevice, testWidthDevice);\n      expect(model.get('id')).toEqual(testNameDevice);\n      expect(model.get('name')).toEqual(testNameDevice);\n      expect(model.get('width')).toEqual(testWidthDevice);\n    });","file":"specs/device_manager/index.js","skipped":false,"dir":"test"},{"name":"Add device width options","suites":["DeviceManager","Main"],"updatePoint":{"line":50,"column":34,"index":1494},"line":50,"code":"    test('Add device width options', () => {\n      var model = obj.add(testNameDevice, testWidthDevice, {\n        opt: 'value'\n      });\n      expect(model.get('opt')).toEqual('value');\n    });","file":"specs/device_manager/index.js","skipped":false,"dir":"test"},{"name":"Add device with props","suites":["DeviceManager","Main"],"updatePoint":{"line":56,"column":31,"index":1685},"line":56,"code":"    test('Add device with props', () => {\n      const model = obj.add({\n        name: testNameDevice,\n        width: testWidthDevice\n      });\n      expect(model.get('id')).toEqual(testNameDevice);\n      expect(model.get('name')).toEqual(testNameDevice);\n      expect(model.get('width')).toEqual(testWidthDevice);\n    });","file":"specs/device_manager/index.js","skipped":false,"dir":"test"},{"name":"Add device without id and name","suites":["DeviceManager","Main"],"updatePoint":{"line":65,"column":40,"index":2016},"line":65,"code":"    test('Add device without id and name', () => {\n      const model = obj.add({\n        width: testWidthDevice\n      });\n      expect(model.get('name')).toEqual('');\n      expect(model.get('width')).toEqual(testWidthDevice);\n      expect(model.get('id')).toBeTruthy();\n    });","file":"specs/device_manager/index.js","skipped":false,"dir":"test"},{"name":"The name of the device is unique","suites":["DeviceManager","Main"],"updatePoint":{"line":73,"column":42,"index":2296},"line":73,"code":"    test('The name of the device is unique', () => {\n      const model = obj.add(testNameDevice, testWidthDevice);\n      const model2 = obj.add(testNameDevice, '2px');\n      const model3 = obj.add({\n        id: testNameDevice,\n        width: '3px'\n      });\n      expect(model).toBe(model2);\n      expect(model2).toBe(model3);\n    });","file":"specs/device_manager/index.js","skipped":false,"dir":"test"},{"name":"Get device by name","suites":["DeviceManager","Main"],"updatePoint":{"line":83,"column":28,"index":2617},"line":83,"code":"    test('Get device by name', () => {\n      const model = obj.add(testNameDevice, testWidthDevice);\n      const model2 = obj.get(testNameDevice);\n      expect(model).toEqual(model2);\n    });","file":"specs/device_manager/index.js","skipped":false,"dir":"test"},{"name":"Get device by name with different id","suites":["DeviceManager","Main"],"updatePoint":{"line":88,"column":46,"index":2827},"line":88,"code":"    test('Get device by name with different id', () => {\n      const model = obj.add({\n        id: 'device',\n        name: testNameDevice\n      });\n      const model2 = obj.get(testNameDevice);\n      expect(model).toBe(model2);\n    });","file":"specs/device_manager/index.js","skipped":false,"dir":"test"},{"name":"Remove device","suites":["DeviceManager","Main"],"updatePoint":{"line":96,"column":23,"index":3040},"line":96,"code":"    test('Remove device', () => {\n      const id = 'device';\n      const all = obj.getAll();\n      const model = obj.add({\n        id\n      });\n      expect(all.length).toEqual(1);\n      const eventFn = jest.fn();\n      const eventFnAll = jest.fn();\n      em.on(obj.events.remove, eventFn);\n      em.on(obj.events.all, eventFnAll);\n      const removed = obj.remove(id);\n      expect(all.length).toEqual(0);\n      expect(model).toBe(removed);\n      // Check for events\n      expect(eventFn).toBeCalledTimes(1);\n      expect(eventFnAll).toBeCalled();\n    });","file":"specs/device_manager/index.js","skipped":false,"dir":"test"},{"name":"Update device","suites":["DeviceManager","Main"],"updatePoint":{"line":114,"column":23,"index":3597},"line":114,"code":"    test('Update device', () => {\n      const event = jest.fn();\n      em.on(obj.events.update, event);\n      const model = obj.add({});\n      const up = {\n        name: 'Test'\n      };\n      const opts = {\n        myopts: 1\n      };\n      model.set(up, opts);\n      expect(event).toBeCalledTimes(1);\n      expect(event).toBeCalledWith(model, up, opts);\n    });","file":"specs/device_manager/index.js","skipped":false,"dir":"test"},{"name":"Select device","suites":["DeviceManager","Main"],"updatePoint":{"line":128,"column":23,"index":3959},"line":128,"code":"    test('Select device', () => {\n      const event = jest.fn();\n      const eventAll = jest.fn();\n      const model = obj.add({\n        id: 'dev-1'\n      });\n      const model2 = obj.add({\n        id: 'dev-2'\n      });\n      em.on(obj.events.select, event);\n      em.on(obj.events.all, eventAll);\n      // Select from the manager\n      obj.select(model);\n      expect(em.get('device')).toBe('dev-1');\n      expect(obj.getSelected()).toBe(model);\n      expect(event).toBeCalledTimes(1);\n      expect(eventAll).toBeCalled();\n\n      // Select from the manager with id\n      obj.select('dev-2');\n      expect(em.get('device')).toBe('dev-2');\n      expect(obj.getSelected()).toBe(model2);\n      expect(event).toBeCalledTimes(2);\n\n      // Select from the editor\n      em.set('device', 'dev-1');\n      expect(obj.getSelected()).toBe(model);\n      expect(event).toBeCalledTimes(3);\n    });","file":"specs/device_manager/index.js","skipped":false,"dir":"test"},{"name":"Render devices","suites":["DeviceManager","Main"],"updatePoint":{"line":157,"column":24,"index":4844},"line":157,"code":"    test('Render devices', () => {\n      expect(obj.render()).toBeTruthy();\n    });","file":"specs/device_manager/index.js","skipped":false,"dir":"test"},{"name":"The content is not empty","suites":["DevicesView"],"updatePoint":{"line":23,"column":32,"index":620},"line":23,"code":"  test('The content is not empty', () => {\n    expect(view.el.innerHTML).toBeTruthy();\n  });","file":"specs/device_manager/view/DevicesView.js","skipped":false,"dir":"test"},{"name":"No options without devices","suites":["DevicesView"],"updatePoint":{"line":26,"column":34,"index":715},"line":26,"code":"  test('No options without devices', () => {\n    expect(view.getOptions()).toEqual('');\n  });","file":"specs/device_manager/view/DevicesView.js","skipped":false,"dir":"test"},{"name":"Render new button","suites":["DevicesView"],"updatePoint":{"line":29,"column":25,"index":800},"line":29,"code":"  test('Render new button', () => {\n    view.collection.add({});\n    expect(view.$el.html()).toBeTruthy();\n  });","file":"specs/device_manager/view/DevicesView.js","skipped":false,"dir":"test"},{"name":"Update device on select change","suites":["DevicesView","With configs"],"updatePoint":{"line":50,"column":40,"index":1383},"line":50,"code":"    test('Update device on select change', () => {\n      view.$el.find('select').val('test2');\n      view.updateDevice();\n      expect(view.config.em.get('device')).toEqual('test2');\n    });","file":"specs/device_manager/view/DevicesView.js","skipped":false,"dir":"test"},{"name":"Render options","suites":["DevicesView","With configs"],"updatePoint":{"line":55,"column":24,"index":1558},"line":55,"code":"    test('Render options', () => {\n      expect(view.getOptions()).toEqual('<option value=\"test1\">test1</option><option value=\"test2\">test2</option>');\n    });","file":"specs/device_manager/view/DevicesView.js","skipped":false,"dir":"test"},{"name":"Has no children","suites":["Component"],"updatePoint":{"line":38,"column":23,"index":1162},"line":38,"code":"  test('Has no children', () => {\n    expect(obj.get('components').length).toEqual(0);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Clones correctly","suites":["Component"],"updatePoint":{"line":41,"column":24,"index":1256},"line":41,"code":"  test('Clones correctly', () => {\n    var sAttr = obj.attributes;\n    var cloned = obj.clone();\n    var eAttr = cloned.attributes;\n    eAttr.components = {};\n    sAttr.components = {};\n    eAttr.traits = {};\n    sAttr.traits = {};\n    expect(sAttr.length).toEqual(eAttr.length);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Clones correctly with traits","suites":["Component"],"updatePoint":{"line":51,"column":36,"index":1554},"line":51,"code":"  test('Clones correctly with traits', () => {\n    obj.get('traits').at(0).set('value', 'testTitle');\n    var cloned = obj.clone();\n    cloned.set('stylable', 0);\n    cloned.get('traits').at(0).set('value', 'testTitle2');\n    expect(obj.get('traits').at(0).get('value')).toEqual('testTitle');\n    expect(obj.get('stylable')).toEqual(true);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Sets attributes correctly from traits","suites":["Component"],"updatePoint":{"line":59,"column":45,"index":1909},"line":59,"code":"  test('Sets attributes correctly from traits', () => {\n    obj.set('traits', [{\n      label: 'Title',\n      name: 'title',\n      value: 'The title'\n    }, {\n      label: 'Context',\n      value: 'primary'\n    }]);\n    expect(obj.get('attributes')).toEqual({\n      title: 'The title'\n    });\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Has expected name","suites":["Component"],"updatePoint":{"line":72,"column":25,"index":2186},"line":72,"code":"  test('Has expected name', () => {\n    expect(obj.getName()).toEqual('Div');\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Has expected name 2","suites":["Component"],"updatePoint":{"line":75,"column":27,"index":2272},"line":75,"code":"  test('Has expected name 2', () => {\n    obj.cid = 'c999';\n    obj.set('type', 'testType');\n    expect(obj.getName()).toEqual('TestType');\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component toHTML","suites":["Component"],"updatePoint":{"line":80,"column":24,"index":2415},"line":80,"code":"  test('Component toHTML', () => {\n    expect(obj.toHTML()).toEqual('<div></div>');\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component toHTML with attributes","suites":["Component"],"updatePoint":{"line":83,"column":40,"index":2521},"line":83,"code":"  test('Component toHTML with attributes', () => {\n    obj = new Component({\n      tagName: 'article',\n      attributes: {\n        'data-test1': 'value1',\n        'data-test2': 'value2'\n      }\n    });\n    expect(obj.toHTML()).toEqual('<article data-test1=\"value1\" data-test2=\"value2\"></article>');\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component toHTML with value-less attribute","suites":["Component"],"updatePoint":{"line":93,"column":50,"index":2836},"line":93,"code":"  test('Component toHTML with value-less attribute', () => {\n    obj = new Component({\n      tagName: 'div',\n      attributes: {\n        'data-is-a-test': ''\n      }\n    });\n    expect(obj.toHTML()).toEqual('<div data-is-a-test=\"\"></div>');\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component toHTML with classes","suites":["Component"],"updatePoint":{"line":102,"column":37,"index":3070},"line":102,"code":"  test('Component toHTML with classes', () => {\n    obj = new Component({\n      tagName: 'article'\n    });\n    ['class1', 'class2'].forEach(item => {\n      obj.get('classes').add({\n        name: item\n      });\n    });\n    expect(obj.toHTML()).toEqual('<article class=\"class1 class2\"></article>');\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component toHTML with children","suites":["Component"],"updatePoint":{"line":113,"column":38,"index":3374},"line":113,"code":"  test('Component toHTML with children', () => {\n    obj = new Component({\n      tagName: 'article'\n    }, compOpts);\n    obj.get('components').add({\n      tagName: 'span'\n    });\n    expect(obj.toHTML()).toEqual('<article><span></span></article>');\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component toHTML with more children","suites":["Component"],"updatePoint":{"line":122,"column":43,"index":3635},"line":122,"code":"  test('Component toHTML with more children', () => {\n    obj = new Component({\n      tagName: 'article'\n    }, compOpts);\n    obj.get('components').add([{\n      tagName: 'span'\n    }, {\n      tagName: 'div'\n    }]);\n    expect(obj.toHTML()).toEqual('<article><span></span><div></div></article>');\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component toHTML with no closing tag","suites":["Component"],"updatePoint":{"line":133,"column":44,"index":3940},"line":133,"code":"  test('Component toHTML with no closing tag', () => {\n    obj = new Component({\n      void: 1\n    });\n    expect(obj.toHTML()).toEqual('<div/>');\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component toHTML with quotes in attribute","suites":["Component"],"updatePoint":{"line":139,"column":49,"index":4098},"line":139,"code":"  test('Component toHTML with quotes in attribute', () => {\n    obj = new Component();\n    let attrs = obj.get('attributes');\n    attrs['data-test'] = '\"value\"';\n    obj.set('attributes', attrs);\n    expect(obj.toHTML()).toEqual('<div data-test=\"&quot;value&quot;\"></div>');\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component toHTML and withProps","suites":["Component"],"updatePoint":{"line":146,"column":38,"index":4368},"line":146,"code":"  test('Component toHTML and withProps', () => {\n    obj = new Component({}, {\n      em\n    });\n    obj.set({\n      bool: true,\n      boolf: false,\n      string: 'st\\'ri\"ng',\n      array: [1, 'string', true],\n      object: {\n        a: 1,\n        b: 'string',\n        c: true\n      },\n      null: null,\n      undef: undefined,\n      empty: '',\n      zero: 0,\n      _private: 'value'\n    });\n    let resStr = \"st'ri&quot;ng\";\n    let resArr = '[1,&quot;string&quot;,true]';\n    let resObj = '{&quot;a&quot;:1,&quot;b&quot;:&quot;string&quot;,&quot;c&quot;:true}';\n    let res = `<div data-gjs-bool data-gjs-string=\"${resStr}\" data-gjs-array=\"${resArr}\" data-gjs-object=\"${resObj}\" data-gjs-empty=\"\" data-gjs-zero=\"0\"></div>`;\n    expect(obj.toHTML({\n      withProps: true\n    })).toEqual(res);\n    resStr = 'st&apos;ri\"ng';\n    resArr = '[1,\"string\",true]';\n    resObj = '{\"a\":1,\"b\":\"string\",\"c\":true}';\n    res = `<div data-gjs-bool data-gjs-string='${resStr}' data-gjs-array='${resArr}' data-gjs-object='${resObj}' data-gjs-empty=\"\" data-gjs-zero=\"0\"></div>`;\n    expect(obj.toHTML({\n      withProps: true,\n      altQuoteAttr: true\n    })).toEqual(res);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Manage correctly boolean attributes","suites":["Component"],"updatePoint":{"line":182,"column":43,"index":5534},"line":182,"code":"  test('Manage correctly boolean attributes', () => {\n    obj = new Component();\n    obj.set('attributes', {\n      'data-test': 'value',\n      checked: false,\n      required: true,\n      avoid: true\n    });\n    expect(obj.toHTML()).toEqual('<div data-test=\"value\" required avoid></div>');\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component parse empty div","suites":["Component"],"updatePoint":{"line":192,"column":33,"index":5819},"line":192,"code":"  test('Component parse empty div', () => {\n    var el = document.createElement('div');\n    obj = Component.isComponent(el);\n    expect(obj).toEqual({\n      tagName: 'div'\n    });\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component parse span","suites":["Component"],"updatePoint":{"line":199,"column":28,"index":6000},"line":199,"code":"  test('Component parse span', () => {\n    var el = document.createElement('span');\n    obj = Component.isComponent(el);\n    expect(obj).toEqual({\n      tagName: 'span'\n    });\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"setClass single class string","suites":["Component"],"updatePoint":{"line":206,"column":36,"index":6191},"line":206,"code":"  test('setClass single class string', () => {\n    obj.setClass('class1');\n    const result = obj.get('classes').models;\n    expect(result.length).toEqual(1);\n    expect(result[0] instanceof Selector).toEqual(true);\n    expect(result[0].get('name')).toEqual('class1');\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"setClass multiple class string","suites":["Component"],"updatePoint":{"line":213,"column":38,"index":6468},"line":213,"code":"  test('setClass multiple class string', () => {\n    obj.setClass('class1 class2');\n    const result = obj.get('classes').models;\n    expect(result.length).toEqual(2);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"setClass single class array","suites":["Component"],"updatePoint":{"line":218,"column":35,"index":6639},"line":218,"code":"  test('setClass single class array', () => {\n    obj.setClass(['class1']);\n    const result = obj.get('classes').models;\n    expect(result.length).toEqual(1);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"setClass multiple class array","suites":["Component"],"updatePoint":{"line":223,"column":37,"index":6807},"line":223,"code":"  test('setClass multiple class array', () => {\n    obj.setClass(['class1', 'class2']);\n    const result = obj.get('classes').models;\n    expect(result.length).toEqual(2);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"addClass multiple array","suites":["Component"],"updatePoint":{"line":228,"column":31,"index":6979},"line":228,"code":"  test('addClass multiple array', () => {\n    obj.addClass(['class1', 'class2']);\n    const result = obj.get('classes').models;\n    expect(result.length).toEqual(2);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"addClass avoid same name classes","suites":["Component"],"updatePoint":{"line":233,"column":40,"index":7160},"line":233,"code":"  test('addClass avoid same name classes', () => {\n    obj.addClass(['class1', 'class2']);\n    obj.addClass(['class1', 'class3']);\n    const result = obj.get('classes').models;\n    expect(result.length).toEqual(3);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"removeClass by string","suites":["Component"],"updatePoint":{"line":239,"column":29,"index":7370},"line":239,"code":"  test('removeClass by string', () => {\n    obj.addClass(['class1', 'class2']);\n    obj.removeClass('class2');\n    const result = obj.get('classes').models;\n    expect(result.length).toEqual(1);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"removeClass by string with multiple classes","suites":["Component"],"updatePoint":{"line":245,"column":51,"index":7593},"line":245,"code":"  test('removeClass by string with multiple classes', () => {\n    obj.addClass(['class1', 'class2']);\n    obj.removeClass('class2 class1');\n    const result = obj.get('classes').models;\n    expect(result.length).toEqual(0);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"removeClass by array","suites":["Component"],"updatePoint":{"line":251,"column":28,"index":7800},"line":251,"code":"  test('removeClass by array', () => {\n    obj.addClass(['class1', 'class2']);\n    obj.removeClass(['class1', 'class2']);\n    const result = obj.get('classes').models;\n    expect(result.length).toEqual(0);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"removeClass do nothing with undefined classes","suites":["Component"],"updatePoint":{"line":257,"column":53,"index":8037},"line":257,"code":"  test('removeClass do nothing with undefined classes', () => {\n    obj.addClass(['class1', 'class2']);\n    obj.removeClass(['class3']);\n    const result = obj.get('classes').models;\n    expect(result.length).toEqual(2);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"removeClass actually removes classes from attributes","suites":["Component"],"updatePoint":{"line":263,"column":60,"index":8271},"line":263,"code":"  test('removeClass actually removes classes from attributes', () => {\n    obj.addClass('class1');\n    obj.removeClass('class1');\n    const result = obj.getAttributes();\n    expect(result.class).toEqual(undefined);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"setAttributes","suites":["Component"],"updatePoint":{"line":269,"column":21,"index":8453},"line":269,"code":"  test('setAttributes', () => {\n    obj.setAttributes({\n      id: 'test',\n      'data-test': 'value',\n      class: 'class1 class2',\n      style: 'color: white; background: #fff'\n    });\n    expect(obj.getAttributes()).toEqual({\n      id: 'test',\n      class: 'class1 class2',\n      style: 'color:white;background:#fff;',\n      'data-test': 'value'\n    });\n    expect(obj.get('classes').length).toEqual(2);\n    expect(obj.getStyle()).toEqual({\n      color: 'white',\n      background: '#fff'\n    });\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"setAttributes overwrites correctly","suites":["Component"],"updatePoint":{"line":288,"column":42,"index":8978},"line":288,"code":"  test('setAttributes overwrites correctly', () => {\n    obj.setAttributes({\n      id: 'test',\n      'data-test': 'value',\n      a: 'b',\n      b: 'c'\n    });\n    obj.setAttributes({\n      id: 'test2',\n      'data-test': 'value2'\n    });\n    expect(obj.getAttributes()).toEqual({\n      id: 'test2',\n      'data-test': 'value2'\n    });\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"append() returns always an array","suites":["Component"],"updatePoint":{"line":304,"column":40,"index":9316},"line":304,"code":"  test('append() returns always an array', () => {\n    let result = obj.append('<span>text1</span>');\n    expect(result.length).toEqual(1);\n    result = obj.append('<span>text1</span><div>text2</div>');\n    expect(result.length).toEqual(2);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"append() new components as string","suites":["Component"],"updatePoint":{"line":310,"column":41,"index":9564},"line":310,"code":"  test('append() new components as string', () => {\n    obj.append('<span>text1</span><div>text2</div>');\n    const comps = obj.components();\n    expect(comps.length).toEqual(2);\n    expect(comps.models[0].get('tagName')).toEqual('span');\n    expect(comps.models[1].get('tagName')).toEqual('div');\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"append() new components as Objects","suites":["Component"],"updatePoint":{"line":317,"column":42,"index":9869},"line":317,"code":"  test('append() new components as Objects', () => {\n    obj.append([{}, {}]);\n    const comps = obj.components();\n    expect(comps.length).toEqual(2);\n    obj.append({});\n    expect(comps.length).toEqual(3);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"components() set new collection","suites":["Component"],"updatePoint":{"line":324,"column":39,"index":10081},"line":324,"code":"  test('components() set new collection', () => {\n    obj.append([{}, {}]);\n    obj.components('<span>test</div>');\n    const result = obj.components();\n    expect(result.length).toEqual(1);\n    expect(result.models[0].get('tagName')).toEqual('span');\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Propagate properties to children","suites":["Component"],"updatePoint":{"line":331,"column":40,"index":10340},"line":331,"code":"  test('Propagate properties to children', () => {\n    obj.append({\n      propagate: 'removable'\n    });\n    const result = obj.components();\n    const newObj = result.models[0];\n    expect(newObj.get('removable')).toEqual(true);\n    newObj.set('removable', false);\n    newObj.append({\n      draggable: false\n    });\n    const child = newObj.components().models[0];\n    expect(child.get('removable')).toEqual(false);\n    expect(child.get('propagate')).toEqual(['removable']);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Can stringify object after edits","suites":["Component"],"updatePoint":{"line":348,"column":40,"index":10896},"line":348,"code":"  test('Can stringify object after edits', () => {\n    const added = dcomp.addComponent(`\n      <div>\n        <div>Comp 1</div>\n        <div>Comp 2</div>\n        <div>Comp 3</div>\n      </div>\n    `);\n    const comp1 = added.components().at(0);\n    comp1.remove();\n    added.append(comp1);\n    expect(JSON.stringify(added)).toBeTruthy();\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Guarantee the uniqueness of components ids","suites":["Component"],"updatePoint":{"line":361,"column":50,"index":11250},"line":361,"code":"  test('Guarantee the uniqueness of components ids', () => {\n    const idName = 'test';\n    const added = dcomp.addComponent(`\n      <div>Comp 1</div>\n      <div id=\"${idName}\" style=\"color: red\">Comp 2</div>\n      <div>Comp 3</div>\n      <style>\n        #test {\n          color: red;\n        }\n      </style>\n    `);\n    const comp1 = added[0];\n    const comp2 = added[1];\n    const comp1Id = comp1.getId();\n    const comp2Sel = comp2._getStyleSelector();\n    expect(comp2Sel.get('name')).toEqual(idName);\n    const idNameNew = `${idName}2`;\n    comp2.setId(idNameNew);\n    // Check if the style selector has changed its name\n    expect(comp2Sel.get('name')).toEqual(idNameNew);\n    comp1.setId(idNameNew);\n    // The id shouldn't change\n    expect(comp1.getId()).toEqual(comp1Id);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Ability to stop/change propagation chain","suites":["Component"],"updatePoint":{"line":386,"column":48,"index":12037},"line":386,"code":"  test('Ability to stop/change propagation chain', () => {\n    obj.append({\n      removable: false,\n      draggable: false,\n      propagate: ['removable', 'draggable']\n    });\n    const result = obj.components();\n    const newObj = result.models[0];\n    newObj.components(`\n      <div id=\"comp01\">\n        <div id=\"comp11\">comp1</div>\n        <div id=\"comp12\" data-gjs-stop=\"1\" data-gjs-removable=\"true\" data-gjs-draggable=\"true\" data-gjs-propagate='[\"stop\"]'>\n          <div id=\"comp21\">comp21</div>\n          <div id=\"comp22\">comp22</div>\n        </div>\n        <div id=\"comp13\">\n          <div id=\"comp31\">comp31</div>\n          <div id=\"comp32\">comp32</div>\n        </div>\n      </div>\n      <div id=\"comp02\">TEST</div>`);\n    const notInhereted = model => {\n      expect(model.get('stop')).toEqual('1');\n      expect(model.get('removable')).toEqual(true);\n      expect(model.get('draggable')).toEqual(true);\n      expect(model.get('propagate')).toEqual(['stop']);\n      model.components().each(model => inhereted(model));\n    };\n    const inhereted = model => {\n      if (model.get('stop')) {\n        notInhereted(model);\n      } else {\n        expect(model.get('removable')).toEqual(false);\n        expect(model.get('draggable')).toEqual(false);\n        expect(model.get('propagate')).toEqual(['removable', 'draggable']);\n        model.components().each(model => inhereted(model));\n      }\n    };\n    newObj.components().each(model => inhereted(model));\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"setStyle parses styles correctly","suites":["Component"],"updatePoint":{"line":426,"column":40,"index":13495},"line":426,"code":"  test('setStyle parses styles correctly', () => {\n    const styles = 'padding: 12px;height:auto;';\n    const expectedObj = {\n      padding: '12px',\n      height: 'auto'\n    };\n    const c = new Component();\n    expect(c.setStyle(styles)).toEqual(expectedObj);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"setStyle should be called successfully when invoked internally","suites":["Component"],"updatePoint":{"line":435,"column":70,"index":13792},"line":435,"code":"  test('setStyle should be called successfully when invoked internally', () => {\n    const ExtendedComponent = Component.extend({\n      init() {\n        const styles = 'padding: 12px;height:auto;';\n        this.setStyle(styles);\n      }\n    });\n    expect(() => new ExtendedComponent()).not.toThrowError();\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Has src property","suites":["Image Component"],"updatePoint":{"line":452,"column":24,"index":14200},"line":452,"code":"  test('Has src property', () => {\n    expect(obj.has('src')).toEqual(true);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Not droppable","suites":["Image Component"],"updatePoint":{"line":455,"column":21,"index":14280},"line":455,"code":"  test('Not droppable', () => {\n    expect(obj.get('droppable')).toEqual(0);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"ComponentImage toHTML","suites":["Image Component"],"updatePoint":{"line":458,"column":29,"index":14371},"line":458,"code":"  test('ComponentImage toHTML', () => {\n    obj = new ComponentImage({\n      src: ''\n    });\n    expect(obj.toHTML()).toEqual('<img/>');\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component toHTML with attributes","suites":["Image Component"],"updatePoint":{"line":464,"column":40,"index":14525},"line":464,"code":"  test('Component toHTML with attributes', () => {\n    obj = new ComponentImage({\n      attributes: {\n        alt: 'AltTest'\n      },\n      src: 'testPath'\n    });\n    expect(obj.toHTML()).toEqual('<img alt=\"AltTest\" src=\"testPath\"/>');\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Refuse not img element","suites":["Image Component"],"updatePoint":{"line":473,"column":30,"index":14758},"line":473,"code":"  test('Refuse not img element', () => {\n    var el = document.createElement('div');\n    expect(ComponentImage.isComponent(el)).toEqual(false);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component parse img element","suites":["Image Component"],"updatePoint":{"line":477,"column":35,"index":14913},"line":477,"code":"  test('Component parse img element', () => {\n    var el = document.createElement('img');\n    expect(ComponentImage.isComponent(el)).toEqual(true);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component parse img element with src","suites":["Image Component"],"updatePoint":{"line":481,"column":44,"index":15076},"line":481,"code":"  test('Component parse img element with src', () => {\n    var el = document.createElement('img');\n    el.src = 'http://localhost/';\n    expect(ComponentImage.isComponent(el)).toEqual(true);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Has content property","suites":["Text Component"],"updatePoint":{"line":494,"column":28,"index":15396},"line":494,"code":"  test('Has content property', () => {\n    expect(obj.has('content')).toEqual(true);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Not droppable","suites":["Text Component"],"updatePoint":{"line":497,"column":21,"index":15480},"line":497,"code":"  test('Not droppable', () => {\n    expect(obj.get('droppable')).toEqual(false);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component toHTML with attributes","suites":["Text Component"],"updatePoint":{"line":500,"column":40,"index":15586},"line":500,"code":"  test('Component toHTML with attributes', () => {\n    obj = new ComponentText({\n      attributes: {\n        'data-test': 'value'\n      },\n      content: 'test content'\n    });\n    expect(obj.toHTML()).toEqual('<div data-test=\"value\">test content</div>');\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Has content property","suites":["Text Node Component"],"updatePoint":{"line":517,"column":28,"index":15984},"line":517,"code":"  test('Has content property', () => {\n    expect(obj.has('content')).toEqual(true);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Not droppable","suites":["Text Node Component"],"updatePoint":{"line":520,"column":21,"index":16068},"line":520,"code":"  test('Not droppable', () => {\n    expect(obj.get('droppable')).toEqual(false);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Not editable","suites":["Text Node Component"],"updatePoint":{"line":523,"column":20,"index":16154},"line":523,"code":"  test('Not editable', () => {\n    expect(obj.get('editable')).toEqual(true);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component toHTML with attributes","suites":["Text Node Component"],"updatePoint":{"line":526,"column":40,"index":16258},"line":526,"code":"  test('Component toHTML with attributes', () => {\n    obj = new ComponentTextNode({\n      attributes: {\n        'data-test': 'value'\n      },\n      content: 'test content &<>\"\\''\n    });\n    expect(obj.toHTML()).toEqual('test content &amp;&lt;&gt;\"\\'');\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component parse link element","suites":["Link Component"],"updatePoint":{"line":538,"column":36,"index":16597},"line":538,"code":"  test('Component parse link element', () => {\n    obj = ComponentLink.isComponent(aEl);\n    expect(obj).toEqual({\n      type: 'link'\n    });\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component parse link element with text content","suites":["Link Component"],"updatePoint":{"line":544,"column":54,"index":16763},"line":544,"code":"  test('Component parse link element with text content', () => {\n    aEl.innerHTML = 'some text here ';\n    obj = ComponentLink.isComponent(aEl);\n    expect(obj).toEqual({\n      type: 'link'\n    });\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component parse link element with not only text content","suites":["Link Component"],"updatePoint":{"line":551,"column":63,"index":16977},"line":551,"code":"  test('Component parse link element with not only text content', () => {\n    aEl.innerHTML = '<div>Some</div> text <div>here </div>';\n    obj = ComponentLink.isComponent(aEl);\n    expect(obj).toEqual({\n      type: 'link'\n    });\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component parse link element with only not text content","suites":["Link Component"],"updatePoint":{"line":558,"column":63,"index":17213},"line":558,"code":"  test('Component parse link element with only not text content', () => {\n    aEl.innerHTML = `<div>Some</div>\n    <div>text</div>\n    <div>here </div>`;\n    obj = ComponentLink.isComponent(aEl);\n    expect(obj).toEqual({\n      type: 'link',\n      editable: false\n    });\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Link element with only an image inside is not editable","suites":["Link Component"],"updatePoint":{"line":568,"column":62,"index":17490},"line":568,"code":"  test('Link element with only an image inside is not editable', () => {\n    aEl.innerHTML = '<img src=\"##\"/>';\n    obj = ComponentLink.isComponent(aEl);\n    expect(obj).toEqual({\n      type: 'link',\n      editable: false\n    });\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component parse map iframe","suites":["Map Component"],"updatePoint":{"line":578,"column":34,"index":17736},"line":578,"code":"  test('Component parse map iframe', () => {\n    var src = 'https://maps.google.com/maps?&q=London,UK&z=11&t=q&output=embed';\n    var el = $('<iframe src=\"' + src + '\"></iframe>');\n    obj = ComponentMap.isComponent(el.get(0));\n    expect(obj).toEqual({\n      type: 'map',\n      src\n    });\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component parse not map iframe","suites":["Map Component"],"updatePoint":{"line":587,"column":38,"index":18037},"line":587,"code":"  test('Component parse not map iframe', () => {\n    var el = $('<iframe src=\"https://www.youtube.com/watch?v=jNQXAC9IVRw\"></iframe>');\n    obj = ComponentMap.isComponent(el.get(0));\n    expect(obj).toEqual(undefined);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component parse video","suites":["Video Component"],"updatePoint":{"line":594,"column":29,"index":18293},"line":594,"code":"  test('Component parse video', () => {\n    var src = 'http://localhost/';\n    var el = $('<video src=\"' + src + '\"></video>');\n    obj = ComponentVideo.isComponent(el.get(0));\n    expect(obj).toEqual({\n      type: 'video',\n      src\n    });\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component parse youtube video iframe","suites":["Video Component"],"updatePoint":{"line":603,"column":44,"index":18556},"line":603,"code":"  test('Component parse youtube video iframe', () => {\n    var src = 'http://www.youtube.com/embed/jNQXAC9IVRw?';\n    var el = $('<iframe src=\"' + src + '\"></video>');\n    obj = ComponentVideo.isComponent(el.get(0));\n    expect(obj).toEqual({\n      type: 'video',\n      provider: 'yt',\n      src\n    });\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Component parse vimeo video iframe","suites":["Video Component"],"updatePoint":{"line":613,"column":42,"index":18864},"line":613,"code":"  test('Component parse vimeo video iframe', () => {\n    var src = 'http://player.vimeo.com/video/2?';\n    var el = $('<iframe src=\"' + src + '\"></video>');\n    obj = ComponentVideo.isComponent(el.get(0));\n    expect(obj).toEqual({\n      type: 'video',\n      provider: 'vi',\n      src\n    });\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Creates component correctly","suites":["Components"],"updatePoint":{"line":634,"column":35,"index":19393},"line":634,"code":"  test('Creates component correctly', () => {\n    var c = new Components({}, compOpts);\n    var m = c.add({});\n    expect(m instanceof Component).toEqual(true);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Creates image component correctly","suites":["Components"],"updatePoint":{"line":639,"column":41,"index":19566},"line":639,"code":"  test('Creates image component correctly', () => {\n    var c = new Components({}, compOpts);\n    var m = c.add({\n      type: 'image'\n    });\n    expect(m instanceof ComponentImage).toEqual(true);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Creates text component correctly","suites":["Components"],"updatePoint":{"line":646,"column":40,"index":19768},"line":646,"code":"  test('Creates text component correctly', () => {\n    var c = new Components({}, compOpts);\n    var m = c.add({\n      type: 'text'\n    });\n    expect(m instanceof ComponentText).toEqual(true);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"Avoid conflicting components with the same ID","suites":["Components"],"updatePoint":{"line":653,"column":53,"index":19981},"line":653,"code":"  test('Avoid conflicting components with the same ID', () => {\n    const em = new Editor({});\n    dcomp = em.get('DomComponents');\n    em.get('PageManager').onLoad();\n    dcomp.init({\n      em\n    });\n    const id = 'myid';\n    const idB = 'myid2';\n    const block = `\n      <div id=\"${id}\">\n        <div id=\"${idB}\"></div>\n      </div>\n      <style>\n        #${id} {\n          color: red;\n        }\n        #${id}:hover {\n          color: blue;\n        }\n        #${idB} {\n          color: yellow;\n        }\n      </style>\n    `;\n    const added = dcomp.addComponent(block);\n    const addComps = added.components();\n    // Let's check if everthing is working as expected\n    expect(Object.keys(dcomp.componentsById).length).toBe(3); // + 1 wrapper\n    expect(added.getId()).toBe(id);\n    expect(addComps.at(0).getId()).toBe(idB);\n    const cc = em.get('CssComposer');\n    const rules = cc.getAll();\n    expect(rules.length).toBe(3);\n    expect(rules.at(0).selectorsToString()).toBe(`#${id}`);\n    expect(rules.at(1).selectorsToString()).toBe(`#${id}:hover`);\n    expect(rules.at(2).selectorsToString()).toBe(`#${idB}`);\n    // Now let's add the same block\n    const added2 = dcomp.addComponent(block);\n    const addComps2 = added2.components();\n    const id2 = added2.getId();\n    const newId = `${id}-2`;\n    const newIdB = `${idB}-2`;\n    expect(id2).toBe(newId);\n    expect(addComps2.at(0).getId()).toBe(newIdB);\n    expect(rules.length).toBe(6);\n    expect(rules.at(3).selectorsToString()).toBe(`#${newId}`);\n    expect(rules.at(4).selectorsToString()).toBe(`#${newId}:hover`);\n    expect(rules.at(5).selectorsToString()).toBe(`#${newIdB}`);\n  });","file":"specs/dom_components/model/Component.js","skipped":false,"dir":"test"},{"name":"when a base 64 default image is provided, it uses the default image","suites":["ComponentImage",".initialize"],"updatePoint":{"line":26,"column":77,"index":788},"line":26,"code":"    test('when a base 64 default image is provided, it uses the default image', () => {\n      let imageUrl = buildBase64UrlFromSvg(ComponentImage.prototype.defaults.src);\n      let componentImage = new ComponentImage({\n        attributes: {\n          src: imageUrl\n        }\n      }, {\n        ...compOpts\n      });\n      expect(componentImage.get('src')).toEqual(ComponentImage.prototype.defaults.src);\n      expect(componentImage.isDefaultSrc()).toBeTruthy();\n    });","file":"specs/dom_components/model/ComponentImage.js","skipped":false,"dir":"test"},{"name":"when a image url is provided, it uses the image url","suites":["ComponentImage",".initialize"],"updatePoint":{"line":38,"column":61,"index":1242},"line":38,"code":"    test('when a image url is provided, it uses the image url', () => {\n      let imageUrl = 'https://mock.com/image.png';\n      let componentImage = new ComponentImage({\n        attributes: {\n          src: imageUrl\n        }\n      }, {\n        ...compOpts\n      });\n      expect(componentImage.get('src')).toEqual(imageUrl);\n      expect(componentImage.isDefaultSrc()).toBeFalsy();\n    });","file":"specs/dom_components/model/ComponentImage.js","skipped":false,"dir":"test"},{"name":"`src` property is defined after initializing","suites":["ComponentImage",".initialize"],"updatePoint":{"line":51,"column":52,"index":1631},"line":51,"code":"  test('`src` property is defined after initializing', () => {\n    expect(componentImage.get('src')).toBeDefined();\n  });","file":"specs/dom_components/model/ComponentImage.js","skipped":false,"dir":"test"},{"name":"it should fill the `src` property with the result of `getSrcResult` if defined","suites":["ComponentImage",".getAttrToHTML"],"updatePoint":{"line":61,"column":88,"index":2059},"line":61,"code":"    test('it should fill the `src` property with the result of `getSrcResult` if defined', () => {\n      let attributes = componentImage.getAttrToHTML();\n      expect(getSrcResultSpy).toHaveBeenCalled();\n      expect(attributes).toEqual(fakeAttributes);\n      let fakeSrcResult = 'fakeSrcResult';\n      getSrcResultSpy.and.returnValue(fakeSrcResult);\n      attributes = componentImage.getAttrToHTML();\n      expect(getSrcResultSpy).toHaveBeenCalledTimes(2);\n      expect(attributes).toEqual({\n        src: fakeSrcResult\n      });\n    });","file":"specs/dom_components/model/ComponentImage.js","skipped":false,"dir":"test"},{"name":"<img> is correctly recognized","suites":["Component Types"],"updatePoint":{"line":30,"column":37,"index":869},"line":30,"code":"  test('<img> is correctly recognized', () => {\n    expectedType('<img src=\"img.png\" attr-test=\"value\"/>', 'image');\n  });","file":"specs/dom_components/model/ComponentTypes.js","skipped":false,"dir":"test"},{"name":"<label> is correctly recognized","suites":["Component Types"],"updatePoint":{"line":33,"column":39,"index":994},"line":33,"code":"  test('<label> is correctly recognized', () => {\n    expectedType('<label attr-test=\"value\">Hello</label>', 'label');\n  });","file":"specs/dom_components/model/ComponentTypes.js","skipped":false,"dir":"test"},{"name":"<a> is correctly recognized","suites":["Component Types"],"updatePoint":{"line":36,"column":35,"index":1115},"line":36,"code":"  test('<a> is correctly recognized', () => {\n    expectedType('<a href=\"/link\">link</a>', 'link');\n  });","file":"specs/dom_components/model/ComponentTypes.js","skipped":false,"dir":"test"},{"name":"<table> is correctly recognized","suites":["Component Types"],"updatePoint":{"line":39,"column":39,"index":1225},"line":39,"code":"  test('<table> is correctly recognized', () => {\n    expectedType('<table></table>', 'table', {\n      skipHtml: 1\n    });\n  });","file":"specs/dom_components/model/ComponentTypes.js","skipped":false,"dir":"test"},{"name":"<thead> is correctly recognized","suites":["Component Types"],"updatePoint":{"line":44,"column":39,"index":1354},"line":44,"code":"  test('<thead> is correctly recognized', () => {\n    expectedType('<table><thead> </thead></table>', 'thead', {\n      getType: 1\n    });\n  });","file":"specs/dom_components/model/ComponentTypes.js","skipped":false,"dir":"test"},{"name":"<tbody> is correctly recognized","suites":["Component Types"],"updatePoint":{"line":49,"column":39,"index":1498},"line":49,"code":"  test('<tbody> is correctly recognized', () => {\n    expectedType('<table><tbody> </tbody></table>', 'tbody', {\n      getType: 1\n    });\n  });","file":"specs/dom_components/model/ComponentTypes.js","skipped":false,"dir":"test"},{"name":"<tr> is correctly recognized","suites":["Component Types"],"updatePoint":{"line":54,"column":36,"index":1639},"line":54,"code":"  test('<tr> is correctly recognized', () => {\n    expectedType('<table><tbody><tr> </tr></tbody></table>', 'row', {\n      getType: 1\n    });\n  });","file":"specs/dom_components/model/ComponentTypes.js","skipped":false,"dir":"test"},{"name":"<video> is correctly recognized","suites":["Component Types"],"updatePoint":{"line":59,"column":39,"index":1790},"line":59,"code":"  test('<video> is correctly recognized', () => {\n    expectedType('<video></video>', 'video', {\n      skipHtml: 1\n    });\n  });","file":"specs/dom_components/model/ComponentTypes.js","skipped":false,"dir":"test"},{"name":"<td> & <th> are correctly recognized","suites":["Component Types"],"updatePoint":{"line":64,"column":44,"index":1924},"line":64,"code":"  test('<td> & <th> are correctly recognized', () => {\n    expectedType('<table><tbody><tr><td></td></tr></tbody></table>', 'cell', {\n      getType: 1\n    });\n    expectedType('<table><tbody><tr><th></th></tr></tbody></table>', 'cell', {\n      total: 2,\n      getType: 1\n    });\n  });","file":"specs/dom_components/model/ComponentTypes.js","skipped":false,"dir":"test"},{"name":"<tfoot> is correctly recognized","suites":["Component Types"],"updatePoint":{"line":73,"column":39,"index":2204},"line":73,"code":"  test('<tfoot> is correctly recognized', () => {\n    expectedType('<table><tfoot> </tfoot></table>', 'tfoot', {\n      getType: 1\n    });\n  });","file":"specs/dom_components/model/ComponentTypes.js","skipped":false,"dir":"test"},{"name":"<script> is correctly recognized","suites":["Component Types"],"updatePoint":{"line":78,"column":40,"index":2349},"line":78,"code":"  test('<script> is correctly recognized', () => {\n    // const scr = 'console.log(\"Inline script\");'; // issues with jsdom parser\n    const scr = '';\n    expectedType(`<script attr-test=\"value\">${scr}</script>`, 'script');\n  });","file":"specs/dom_components/model/ComponentTypes.js","skipped":false,"dir":"test"},{"name":"<iframe> is correctly recognized","suites":["Component Types"],"updatePoint":{"line":83,"column":40,"index":2579},"line":83,"code":"  test('<iframe> is correctly recognized', () => {\n    expectedType('<iframe frameborder=\"0\" src=\"/somewhere\" attr-test=\"value\"></iframe>', 'iframe');\n  });","file":"specs/dom_components/model/ComponentTypes.js","skipped":false,"dir":"test"},{"name":"<svg> is correctly recognized","suites":["Component Types"],"updatePoint":{"line":86,"column":37,"index":2733},"line":86,"code":"  test('<svg> is correctly recognized', () => {\n    const cmp = wrapper.append(`<svg viewBox=\"0 0 24 24\" height=\"30px\">\n            <path d=\"M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z\"></path></svg>\n        `)[0];\n    expect(wrapper.components().length).toBe(1);\n    expect(cmp.is('svg')).toBe(true);\n    expect(cmp.components().at(0).is('svg-in')).toBe(true);\n  });","file":"specs/dom_components/model/ComponentTypes.js","skipped":false,"dir":"test"},{"name":"Simple clone doesn't create any symbol","suites":["Symbols"],"updatePoint":{"line":75,"column":46,"index":2135},"line":75,"code":"  test(\"Simple clone doesn't create any symbol\", () => {\n    const comp = wrapper.append(simpleComp)[0];\n    const cloned = comp.clone();\n    [comp, cloned].forEach(item => {\n      expect(item.__getSymbol()).toBeFalsy();\n      expect(item.__getSymbols()).toBeFalsy();\n    });\n  });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Create symbol from a component","suites":["Symbols"],"updatePoint":{"line":83,"column":38,"index":2409},"line":83,"code":"  test('Create symbol from a component', () => {\n    const comp = wrapper.append(simpleComp)[0];\n    const symbol = createSymbol(comp);\n    const symbs = symbol.__getSymbols();\n    expect(symbol.__isSymbol()).toBe(true);\n    expect(comp.__getSymbol()).toBe(symbol);\n    expect(symbs.length).toBe(1);\n    expect(symbs[0]).toBe(comp);\n    expect(toHTML(comp)).toBe(toHTML(symbol));\n  });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Create 1 symbol and clone the instance for another one","suites":["Symbols"],"updatePoint":{"line":93,"column":62,"index":2819},"line":93,"code":"  test('Create 1 symbol and clone the instance for another one', () => {\n    const comp = wrapper.append(simpleComp)[0];\n    const symbol = createSymbol(comp);\n    const comp2 = createSymbol(comp);\n    const symbs = symbol.__getSymbols();\n    expect(symbs.length).toBe(2);\n    expect(symbs[0]).toBe(comp);\n    expect(symbs[1]).toBe(comp2);\n    expect(comp2.__getSymbol()).toBe(symbol);\n    expect(toHTML(comp2)).toBe(toHTML(symbol));\n  });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Create 1 symbol and clone it to have another instance","suites":["Symbols"],"updatePoint":{"line":104,"column":61,"index":3258},"line":104,"code":"  test('Create 1 symbol and clone it to have another instance', () => {\n    const comp = wrapper.append(simpleComp)[0];\n    const symbol = createSymbol(comp);\n    const comp2 = createSymbol(symbol);\n    const symbs = symbol.__getSymbols();\n    expect(symbs.length).toBe(2);\n    expect(symbs[0]).toBe(comp);\n    expect(symbs[1]).toBe(comp2);\n    expect(comp2.__getSymbol()).toBe(symbol);\n    expect(toHTML(comp2)).toBe(toHTML(symbol));\n  });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Symbols and instances are correctly serialized","suites":["Symbols"],"updatePoint":{"line":115,"column":54,"index":3692},"line":115,"code":"  test('Symbols and instances are correctly serialized', () => {\n    const comp = wrapper.append(simpleComp)[0];\n    const symbol = createSymbol(comp);\n    const idComp = comp.getId();\n    const idSymb = symbol.getId();\n    const jsonComp = JSON.parse(JSON.stringify(comp));\n    const jsonSymb = JSON.parse(JSON.stringify(symbol));\n    expect(jsonComp[keySymbol]).toBe(idSymb);\n    expect(jsonSymb[keySymbols]).toEqual([idComp]);\n  });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Serialized symbol references are always recovered","suites":["Symbols"],"updatePoint":{"line":125,"column":57,"index":4131},"line":125,"code":"  test('Serialized symbol references are always recovered', () => {\n    const comp = wrapper.append(simpleComp)[0];\n    const symbol = createSymbol(comp);\n    const idComp = comp.getId();\n    const idSymb = symbol.getId();\n    // Serialize symbols\n    comp.set(keySymbol, idSymb);\n    symbol.set(keySymbols, [idComp]);\n    // Check updates from instance\n    basicSymbUpdate(comp, symbol);\n    // Check updates from symbol\n    basicSymbUpdate(symbol, comp);\n  });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Symbols recovers correctly from serialization","suites":["Symbols"],"updatePoint":{"line":138,"column":53,"index":4590},"line":138,"code":"  test('Symbols recovers correctly from serialization', () => {\n    const idComp = 'c1';\n    const idSymb = 's1';\n    const defComp = {\n      ...simpleCompDef,\n      [keySymbol]: idSymb,\n      attributes: {\n        id: idComp\n      }\n    };\n    const defSymb = {\n      ...simpleCompDef,\n      [keySymbols]: [idComp],\n      attributes: {\n        id: idSymb\n      }\n    };\n    const [comp, symbol] = wrapper.append([defComp, defSymb]);\n    expect(comp.__getSymbol()).toBe(symbol);\n    expect(comp.get(keySymbol)).toBe(symbol);\n    expect(symbol.__getSymbols()[0]).toBe(comp);\n    expect(symbol.get(keySymbols)[0]).toBe(comp);\n    basicSymbUpdate(comp, symbol);\n    basicSymbUpdate(symbol, comp);\n  });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Removing one instance doesn't affect others","suites":["Symbols"],"updatePoint":{"line":163,"column":51,"index":5288},"line":163,"code":"  test(\"Removing one instance doesn't affect others\", () => {\n    const comp = wrapper.append(simpleComp)[0];\n    const symbol = createSymbol(comp);\n    const comp2 = createSymbol(comp);\n    expect(wrapper.components().length).toBe(3);\n    comp.remove();\n    expect(wrapper.components().length).toBe(2);\n    expect(comp2.__getSymbol()).toBe(symbol);\n  });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"New component added to an instance is correctly propogated to all others","suites":["Symbols"],"updatePoint":{"line":172,"column":80,"index":5673},"line":172,"code":"  test('New component added to an instance is correctly propogated to all others', () => {\n    const comp = wrapper.append(compMultipleNodes)[0];\n    const compLen = comp.components().length;\n    const symbol = createSymbol(comp);\n    // Create and add 2 instances\n    const comp2 = createSymbol(comp);\n    const comp3 = createSymbol(comp2);\n    const allInst = [comp, comp2, comp3];\n    const all = [...allInst, symbol];\n    all.forEach(cmp => expect(cmp.components().length).toBe(compLen));\n    expect(wrapper.components().length).toBe(4);\n    // Append new component to one of the instances\n    const added = comp3.append(simpleComp, {\n      at: 0\n    })[0];\n    // The append should be propagated\n    all.forEach(cmp => expect(cmp.components().length).toBe(compLen + 1));\n    // The new added component became part of the symbol instance\n    const addedSymb = added.__getSymbol();\n    const symbAdded = symbol.components().at(0);\n    expect(addedSymb).toBe(symbAdded);\n    allInst.forEach(cmp => expect(cmp.components().at(0).__getSymbol()).toBe(symbAdded));\n    // The new main Symbol should keep the track of all instances\n    expect(symbAdded.__getSymbols().length).toBe(allInst.length);\n  });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"The wrapper contains all the symbols","suites":["Symbols","Creating 3 symbols in the wrapper"],"updatePoint":{"line":210,"column":46,"index":7279},"line":210,"code":"    test('The wrapper contains all the symbols', () => {\n      expect(wrapper.components().length).toBe(all.length);\n    });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"All the symbols contain the same amount of children","suites":["Symbols","Creating 3 symbols in the wrapper"],"updatePoint":{"line":213,"column":61,"index":7419},"line":213,"code":"    test('All the symbols contain the same amount of children', () => {\n      all.forEach(cmp => expect(cmp.components().length).toBe(compInitChild));\n    });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Removing one instance, will remove the reference from the symbol","suites":["Symbols","Creating 3 symbols in the wrapper"],"updatePoint":{"line":216,"column":74,"index":7591},"line":216,"code":"    test('Removing one instance, will remove the reference from the symbol', () => {\n      expect(symbol.__getSymbols().length).toBe(allInst.length);\n      allInst[2].remove();\n      expect(symbol.__getSymbols().length).toBe(allInst.length - 1);\n    });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Removing one instance, works with UndoManager","suites":["Symbols","Creating 3 symbols in the wrapper"],"updatePoint":{"line":221,"column":55,"index":7826},"line":221,"code":"    test('Removing one instance, works with UndoManager', done => {\n      setTimeout(() => {\n        // This will commit the undo\n        const um = getUm(comp);\n        allInst[0].remove();\n        um.undo();\n        expect(symbol.__getSymbols().length).toBe(allInst.length);\n        done();\n      });\n    });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Adding a new component to a symbol, it will be propogated to all instances","suites":["Symbols","Creating 3 symbols in the wrapper"],"updatePoint":{"line":231,"column":84,"index":8166},"line":231,"code":"    test('Adding a new component to a symbol, it will be propogated to all instances', () => {\n      const added = symbol.append(simpleComp, {\n        at: 0\n      })[0];\n      all.forEach(cmp => expect(cmp.components().length).toBe(compInitChild + 1));\n      // Check symbol references\n      expect(added.__getSymbols().length).toBe(allInst.length);\n      allInst.forEach(cmp => expect(getFirstInnSymbol(cmp)).toBe(added));\n    });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Adding a new component to an instance of the symbol, it will be propogated to all symbols","suites":["Symbols","Creating 3 symbols in the wrapper"],"updatePoint":{"line":240,"column":99,"index":8613},"line":240,"code":"    test('Adding a new component to an instance of the symbol, it will be propogated to all symbols', () => {\n      const added = comp.append(simpleComp, {\n        at: 0\n      })[0];\n      all.forEach(cmp => expect(cmp.components().length).toBe(compInitChild + 1));\n      // Check symbol references\n      const addSymb = added.__getSymbol();\n      expect(symbol.components().at(0)).toBe(addSymb);\n      allInst.forEach(cmp => expect(getFirstInnSymbol(cmp)).toBe(addSymb));\n    });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Adding a new component to an instance of the symbol, works correctly with Undo Manager","suites":["Symbols","Creating 3 symbols in the wrapper"],"updatePoint":{"line":250,"column":96,"index":9091},"line":250,"code":"    test('Adding a new component to an instance of the symbol, works correctly with Undo Manager', () => {\n      const added = comp.append(simpleComp, {\n        at: 0\n      })[0];\n      const um = getUm(added);\n      um.undo();\n      all.forEach(cmp => expect(cmp.components().length).toBe(compInitChild));\n      um.redo();\n      um.undo();\n      um.redo(); // check multiple undo/redo\n      all.forEach(cmp => expect(cmp.components().length).toBe(compInitChild + 1));\n      // Check symbol references\n      const addSymbs = added.__getSymbol().__getSymbols();\n      expect(addSymbs.length).toBe(allInst.length);\n    });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Moving a new added component in the instance, will propagate the action in all symbols","suites":["Symbols","Creating 3 symbols in the wrapper"],"updatePoint":{"line":265,"column":96,"index":9712},"line":265,"code":"    test('Moving a new added component in the instance, will propagate the action in all symbols', () => {\n      const added = comp.append(simpleComp)[0];\n      expect(added.index()).toBe(compInitChild);\n      const newChildLen = compInitChild + 1;\n      added.move(comp, {\n        at: 0\n      });\n      expect(added.index()).toBe(0); // extra checks\n      expect(added.parent()).toBe(comp);\n      const symbRef = added.__getSymbol();\n      // All symbols still have the same amount of components\n      all.forEach(cmp => expect(cmp.components().length).toBe(newChildLen));\n      // All instances refer to the same symbol\n      allInst.forEach(cmp => expect(getFirstInnSymbol(cmp)).toBe(symbRef));\n      // The moved symbol contains all its instances\n      expect(getInnerComp(symbol).__getSymbols().length).toBe(allInst.length);\n    });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Moving a new added component in the symbol, will propagate the action in all instances","suites":["Symbols","Creating 3 symbols in the wrapper"],"updatePoint":{"line":282,"column":96,"index":10550},"line":282,"code":"    test('Moving a new added component in the symbol, will propagate the action in all instances', () => {\n      const added = symbol.append(simpleComp)[0];\n      const newChildLen = compInitChild + 1;\n      added.move(symbol, {\n        at: 0\n      });\n      // All symbols still have the same amount of components\n      all.forEach(cmp => expect(cmp.components().length).toBe(newChildLen));\n      // All instances refer to the same symbol\n      allInst.forEach(cmp => expect(getFirstInnSymbol(cmp)).toBe(added));\n      // The moved symbol contains all its instances\n      expect(added.__getSymbols().length).toBe(allInst.length);\n    });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Adding a class, reflects changes to all symbols","suites":["Symbols","Creating 3 symbols in the wrapper"],"updatePoint":{"line":295,"column":57,"index":11150},"line":295,"code":"    test('Adding a class, reflects changes to all symbols', () => {\n      const initSel = symbol.getSelectorsString();\n      all.forEach(cmp => expect(cmp.getSelectorsString()).toBe(initSel));\n      // Adding a class to a symbol\n      symbol.addClass('myclass');\n      const newSel = symbol.getSelectorsString();\n      expect(newSel).not.toBe(initSel);\n      all.forEach(cmp => expect(cmp.getSelectorsString()).toBe(newSel));\n      // Adding a class to an instance\n      comp.addClass('myclass2');\n      const newSel2 = comp.getSelectorsString();\n      expect(newSel2).not.toBe(newSel);\n      all.forEach(cmp => expect(cmp.getSelectorsString()).toBe(newSel2));\n    });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Updating some prop, reflects changes to all symbols","suites":["Symbols","Creating 3 symbols in the wrapper"],"updatePoint":{"line":309,"column":61,"index":11823},"line":309,"code":"    test('Updating some prop, reflects changes to all symbols', () => {\n      const propKey = 'someprop';\n      const propValue = 'somevalue';\n      all.forEach(cmp => expect(cmp.get(propKey)).toBeFalsy());\n      // Updating the symbol\n      symbol.set(propKey, propValue);\n      all.forEach(cmp => expect(cmp.get(propKey)).toBe(propValue));\n      // Updating the instance\n      const propValue2 = 'somevalue2';\n      comp.set(propKey, propValue2);\n      all.forEach(cmp => expect(cmp.get(propKey)).toBe(propValue2));\n    });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Updating some attribute, reflects changes to all symbols","suites":["Symbols","Creating 3 symbols in the wrapper"],"updatePoint":{"line":321,"column":66,"index":12354},"line":321,"code":"    test('Updating some attribute, reflects changes to all symbols', () => {\n      const attrKey = 'data-attr';\n      const attrValue = 'somevalue';\n      all.forEach(cmp => expect(cmp.getAttributes()[attrKey]).toBeFalsy());\n      // Updating the symbol\n      symbol.addAttributes({\n        [attrKey]: attrValue\n      });\n      all.forEach(cmp => expect(cmp.getAttributes()[attrKey]).toBe(attrValue));\n      // Updating the instance with another attribute\n      const attrKey2 = 'data-attr2';\n      const attrValue2 = 'somevalue2';\n      comp.addAttributes({\n        [attrKey2]: attrValue2\n      });\n      all.forEach(cmp => {\n        const attrs = cmp.getAttributes();\n        expect(attrs[attrKey]).toBe(attrValue);\n        expect(attrs[attrKey2]).toBe(attrValue2);\n      });\n      // All symbols still have the same HTML\n      const symbHtml = toHTML(symbol);\n      all.forEach(cmp => expect(toHTML(cmp)).toBe(symbHtml));\n    });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Cloning a component in an instance, reflects changes to all symbols","suites":["Symbols","Creating 3 symbols in the wrapper"],"updatePoint":{"line":345,"column":77,"index":13298},"line":345,"code":"    test('Cloning a component in an instance, reflects changes to all symbols', () => {\n      const cloned = duplicate(comp.components().at(0));\n      const clonedSymb = symbol.components().at(1);\n      const newLen = comp.components().length;\n      expect(newLen).toBe(compInitChild + 1);\n      expect(cloned.__getSymbol()).toBe(clonedSymb);\n      // All symbols have the same amount of components\n      all.forEach(cmp => expect(cmp.components().length).toBe(newLen));\n      // All instances refer to the same symbol\n      allInst.forEach(cmp => expect(getInnSymbol(cmp, 1)).toBe(clonedSymb));\n      // Symbol contains the reference of instances\n      const innerSymb = allInst.map(i => getInnerComp(i, 1));\n      expect(clonedSymb.__getSymbols()).toEqual(innerSymb);\n    });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Cloning a component in a symbol, reflects changes to all instances","suites":["Symbols","Creating 3 symbols in the wrapper"],"updatePoint":{"line":359,"column":76,"index":14075},"line":359,"code":"    test('Cloning a component in a symbol, reflects changes to all instances', () => {\n      const clonedSymb = duplicate(getInnerComp(symbol));\n      const cloned = getInnerComp(comp, 1);\n      const newLen = symbol.components().length;\n      // As above\n      expect(newLen).toBe(compInitChild + 1);\n      expect(cloned.__getSymbol()).toBe(clonedSymb);\n      all.forEach(cmp => expect(cmp.components().length).toBe(newLen));\n      allInst.forEach(cmp => expect(getInnSymbol(cmp, 1)).toBe(clonedSymb));\n      const innerSymb = allInst.map(i => getInnerComp(i, 1));\n      expect(clonedSymb.__getSymbols()).toEqual(innerSymb);\n    });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Symbol with override returns correctly instances to update","suites":["Symbols","Creating 3 symbols in the wrapper","Symbols override"],"updatePoint":{"line":372,"column":70,"index":14744},"line":372,"code":"      test('Symbol with override returns correctly instances to update', () => {\n        expect(symbol.__getSymbToUp().length).toBe(allInst.length);\n        // With override as `true`, it will return empty array with any 'changed'\n        symbol.set(keySymbolOvrd, true);\n        expect(symbol.__getSymbToUp({\n          changed: 'anything'\n        }).length).toBe(0);\n        // With override as an array with props, changed option will count\n        symbol.set(keySymbolOvrd, ['components']);\n        expect(symbol.__getSymbToUp({\n          changed: 'anything'\n        }).length).toBe(allInst.length);\n        symbol.set(keySymbolOvrd, ['components']);\n        expect(symbol.__getSymbToUp({\n          changed: 'components'\n        }).length).toBe(0);\n        expect(symbol.__getSymbToUp({\n          changed: 'components:reset'\n        }).length).toBe(0);\n        // Support also overrides with type of actions\n        symbol.set(keySymbolOvrd, ['components:change']); // specific change\n        expect(symbol.__getSymbToUp({\n          changed: 'components'\n        }).length).toBe(allInst.length);\n        expect(symbol.__getSymbToUp({\n          changed: 'components:change'\n        }).length).toBe(0);\n      });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Symbol is not propagating props data if override is set","suites":["Symbols","Creating 3 symbols in the wrapper","Symbols override"],"updatePoint":{"line":400,"column":67,"index":15955},"line":400,"code":"      test('Symbol is not propagating props data if override is set', () => {\n        const propKey = 'someprop';\n        const propValue = 'somevalue';\n        symbol.set(keySymbolOvrd, true);\n        // Single prop update\n        symbol.set(propKey, propValue);\n        allInst.forEach(cmp => expect(cmp.get(propKey)).toBeFalsy());\n        // Multiple props\n        symbol.set({\n          prop1: 'value1',\n          prop2: 'value2'\n        });\n        allInst.forEach(cmp => {\n          expect(cmp.get('prop1')).toBeFalsy();\n          expect(cmp.get('prop2')).toBeFalsy();\n        });\n        // Override applied on specific properties\n        symbol.set(keySymbolOvrd, ['prop1']);\n        symbol.set({\n          prop1: 'value1-2',\n          prop2: 'value2-2'\n        });\n        allInst.forEach(cmp => {\n          expect(cmp.get('prop1')).toBeFalsy();\n          expect(cmp.get('prop2')).toBe('value2-2');\n        });\n      });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"On symbol props update, those having override are ignored","suites":["Symbols","Creating 3 symbols in the wrapper","Symbols override"],"updatePoint":{"line":427,"column":69,"index":16887},"line":427,"code":"      test('On symbol props update, those having override are ignored', () => {\n        const propKey = 'someprop';\n        const propValue = 'somevalue';\n        comp.set(keySymbolOvrd, true);\n        symbol.set(propKey, propValue);\n        // All symbols are updated except the one with override\n        all.forEach(cmp => {\n          if (cmp === comp) {\n            expect(cmp.get(propKey)).toBeFalsy();\n          } else {\n            expect(cmp.get(propKey)).toBe(propValue);\n          }\n        });\n        comp.set(keySymbolOvrd, ['prop1']);\n        symbol.set({\n          prop1: 'value1',\n          prop2: 'value2'\n        });\n        // Only the overrided property is ignored\n        all.forEach(cmp => {\n          if (cmp === comp) {\n            expect(cmp.get('prop1')).toBeFalsy();\n            expect(cmp.get('prop2')).toBe('value2');\n          } else {\n            expect(cmp.get('prop1')).toBe('value1');\n            expect(cmp.get('prop2')).toBe('value2');\n          }\n        });\n      });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Symbol is not propagating components data if override is set","suites":["Symbols","Creating 3 symbols in the wrapper","Symbols override"],"updatePoint":{"line":456,"column":72,"index":17895},"line":456,"code":"      test('Symbol is not propagating components data if override is set', () => {\n        symbol.set(keySymbolOvrd, ['components']);\n        const innCompsLen = symbol.components().length;\n        all.forEach(cmp => expect(cmp.components().length).toBe(innCompsLen));\n        symbol.components('Test text');\n        // The symbol has changed, but istances should remain the same\n        expect(symbol.components().length).toBe(1);\n        allInst.forEach(cmp => expect(toHTML(cmp)).toBe(toHTML(comp)));\n        allInst.forEach(cmp => expect(cmp.components().length).toBe(innCompsLen));\n        // Check for add action\n        symbol.append('<div>B</div><div>C</div>');\n        expect(symbol.components().length).toBe(3);\n        allInst.forEach(cmp => expect(cmp.components().length).toBe(innCompsLen));\n      });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Symbol is not removing components data if override is set","suites":["Symbols","Creating 3 symbols in the wrapper","Symbols override"],"updatePoint":{"line":470,"column":69,"index":18707},"line":470,"code":"      test('Symbol is not removing components data if override is set', () => {\n        symbol.set(keySymbolOvrd, ['components']);\n        const innCompsLen = symbol.components().length;\n        symbol.components().at(0).remove();\n        expect(symbol.components().length).toBe(innCompsLen - 1);\n        allInst.forEach(cmp => expect(cmp.components().length).toBe(innCompsLen));\n      });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Symbol is not propagating remove on instances with ovverride","suites":["Symbols","Creating 3 symbols in the wrapper","Symbols override"],"updatePoint":{"line":477,"column":72,"index":19100},"line":477,"code":"      test('Symbol is not propagating remove on instances with ovverride', () => {\n        comp.set(keySymbolOvrd, ['components']);\n        const innCompsLen = symbol.components().length;\n        symbol.components().at(0).remove();\n        all.forEach(cmp => expect(cmp.components().length).toBe(cmp === comp ? innCompsLen : innCompsLen - 1));\n      });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"On symbol components update, those having override are ignored","suites":["Symbols","Creating 3 symbols in the wrapper","Symbols override"],"updatePoint":{"line":483,"column":74,"index":19456},"line":483,"code":"      test('On symbol components update, those having override are ignored', () => {\n        comp.set(keySymbolOvrd, ['components']);\n        const innCompsLen = comp.components().length;\n        // Check reset action\n        symbol.components('Test text');\n        all.forEach(cmp => {\n          expect(cmp.components().length).toBe(cmp === comp ? innCompsLen : 1);\n        });\n        // Align comp with others\n        comp.components('Test text');\n        all.forEach(cmp => expect(cmp.components().length).toBe(1));\n\n        // Check add action\n        symbol.append('<div>A</div>');\n        all.forEach(cmp => {\n          expect(cmp.components().length).toBe(cmp === comp ? 1 : 2);\n        });\n        // Align comp with others\n        comp.append('<div>A</div>');\n        all.forEach(cmp => expect(cmp.components().length).toBe(2));\n\n        // Check remove action\n        symbol.components().at(0).remove();\n        all.forEach(cmp => {\n          expect(cmp.components().length).toBe(cmp === comp ? 2 : 1);\n        });\n      });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Second symbol created properly","suites":["Symbols","Nested symbols"],"updatePoint":{"line":528,"column":40,"index":21004},"line":528,"code":"    test('Second symbol created properly', () => {\n      const symbs = secSymbol.__getSymbols();\n      expect(secSymbol.__isSymbol()).toBe(true);\n      expect(secComp.__getSymbol()).toBe(secSymbol);\n      expect(symbs.length).toBe(1);\n      expect(symbs[0]).toBe(secComp);\n      expect(toHTML(secComp)).toBe(toHTML(secSymbol));\n    });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Adding the instance, of the second symbol, inside the first symbol, propagates correctly to all first instances","suites":["Symbols","Nested symbols"],"updatePoint":{"line":536,"column":121,"index":21421},"line":536,"code":"    test('Adding the instance, of the second symbol, inside the first symbol, propagates correctly to all first instances', () => {\n      const added = symbol.append(secComp)[0];\n      expect(added.__isSymbolNested()).toBe(true);\n      // The added component is still the second instance\n      expect(added).toBe(secComp);\n      // The added component still has the reference to the second symbol\n      expect(added.__getSymbol()).toBe(secSymbol);\n      // The main second symbol now has the reference to all its instances\n      const secInstans = secSymbol.__getSymbols();\n      expect(secInstans.length).toBe(all.length);\n      // All instances still refer to the second symbol\n      secInstans.forEach(secInst => expect(secInst.__getSymbol()).toBe(secSymbol));\n    });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Adding the instance, of the second symbol, inside one of the first instances, propagates correctly to all first symbols","suites":["Symbols","Nested symbols"],"updatePoint":{"line":549,"column":129,"index":22201},"line":549,"code":"    test('Adding the instance, of the second symbol, inside one of the first instances, propagates correctly to all first symbols', () => {\n      const added = comp.append(secComp)[0];\n      // The added component is still the second instance\n      expect(added).toBe(secComp);\n      // The added component still has the reference to the second symbol\n      expect(added.__getSymbol()).toBe(secSymbol);\n      // The main second symbol now has the reference to all its instances\n      const secInstans = secSymbol.__getSymbols();\n      expect(secInstans.length).toBe(all.length);\n      // All instances still refer to the second symbol\n      secInstans.forEach(secInst => expect(secInst.__getSymbol()).toBe(secSymbol));\n    });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Adding the instance, of the second symbol, inside one of the first instances, and then removing it, will not affect second instances outside","suites":["Symbols","Nested symbols"],"updatePoint":{"line":561,"column":150,"index":22949},"line":561,"code":"    test('Adding the instance, of the second symbol, inside one of the first instances, and then removing it, will not affect second instances outside', () => {\n      const secComp2 = createSymbol(secComp);\n      const added = comp.append(secComp)[0];\n      expect(secComp2.__isSymbolNested()).toBe(false);\n      const secInstans = secSymbol.__getSymbols();\n      expect(secInstans.length).toBe(all.length + 1); // + 1 is secComp2\n      // Remove the second instance, added in one of the first instances\n      added.remove();\n      // All first symbols will remove their copy and only the secComp2 will remain\n      expect(secSymbol.__getSymbols().length).toBe(1);\n      // First symbols has the previous number of components inside\n      all.forEach(s => expect(s.components().length).toBe(compInitChild));\n    });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Moving the second instance inside first instances, propagates correctly to all other first symbols","suites":["Symbols","Nested symbols"],"updatePoint":{"line":574,"column":108,"index":23723},"line":574,"code":"    test('Moving the second instance inside first instances, propagates correctly to all other first symbols', () => {\n      const added = comp.append(secComp)[0];\n      expect(added.parent()).toBe(comp); // extra checks\n      expect(added.index()).toBe(compInitChild);\n      const secInstansArr = secSymbol.__getSymbols().map(i => i.cid);\n      expect(secInstansArr.length).toBe(all.length);\n      added.move(comp, {\n        at: 0\n      });\n      // After the move, the symbol still have the same references\n      const secInstansArr2 = secSymbol.__getSymbols().map(i => i.cid);\n      expect(secInstansArr2).toEqual(secInstansArr);\n      // All second instances refer to the same second symbol\n      all.forEach(c => expect(getFirstInnSymbol(c)).toBe(secSymbol));\n    });","file":"specs/dom_components/model/Symbols.js","skipped":false,"dir":"test"},{"name":"Component empty","suites":["ComponentImageView"],"updatePoint":{"line":17,"column":23,"index":514},"line":17,"code":"  test('Component empty', () => {\n    expect(view.el.getAttribute('class')).toEqual(view.classEmpty);\n  });","file":"specs/dom_components/view/ComponentImageView.js","skipped":false,"dir":"test"},{"name":"TagName is <img>","suites":["ComponentImageView"],"updatePoint":{"line":20,"column":24,"index":623},"line":20,"code":"  test('TagName is <img>', () => {\n    expect(view.el.tagName).toEqual('IMG');\n  });","file":"specs/dom_components/view/ComponentImageView.js","skipped":false,"dir":"test"},{"name":"Update src attribute","suites":["ComponentImageView"],"updatePoint":{"line":23,"column":28,"index":712},"line":23,"code":"  test('Update src attribute', () => {\n    model.set('src', './');\n    expect(view.el.getAttribute('src')).toEqual('./');\n  });","file":"specs/dom_components/view/ComponentImageView.js","skipped":false,"dir":"test"},{"name":"Renders correctly","suites":["ComponentImageView"],"updatePoint":{"line":27,"column":25,"index":837},"line":27,"code":"  test('Renders correctly', () => {\n    expect(view.render()).toBeTruthy();\n  });","file":"specs/dom_components/view/ComponentImageView.js","skipped":false,"dir":"test"},{"name":"Collection is empty","suites":["ComponentsView"],"updatePoint":{"line":31,"column":27,"index":868},"line":31,"code":"  test('Collection is empty', () => {\n    expect(view.$el.html()).toBeFalsy();\n  });","file":"specs/dom_components/view/ComponentsView.js","skipped":false,"dir":"test"},{"name":"Add new component","suites":["ComponentsView"],"updatePoint":{"line":34,"column":25,"index":951},"line":34,"code":"  test('Add new component', () => {\n    sinon.stub(view, 'addToCollection');\n    view.collection.add({});\n    expect(view.addToCollection.calledOnce).toEqual(true);\n  });","file":"specs/dom_components/view/ComponentsView.js","skipped":false,"dir":"test"},{"name":"Render new component","suites":["ComponentsView"],"updatePoint":{"line":39,"column":28,"index":1125},"line":39,"code":"  test('Render new component', () => {\n    view.collection.add({});\n    expect(view.$el.html()).toBeTruthy();\n  });","file":"specs/dom_components/view/ComponentsView.js","skipped":false,"dir":"test"},{"name":"Component empty","suites":["ComponentTextView"],"updatePoint":{"line":21,"column":23,"index":569},"line":21,"code":"  test('Component empty', () => {\n    expect(fixtures.innerHTML).toEqual(`<div data-gjs-highlightable=\"true\" id=\"${el.id}\" data-gjs-type=\"default\"></div>`);\n  });","file":"specs/dom_components/view/ComponentTextView.js","skipped":false,"dir":"test"},{"name":"Input content is stored in model","suites":["ComponentTextView"],"updatePoint":{"line":24,"column":40,"index":749},"line":24,"code":"  test('Input content is stored in model', () => {\n    //view.enableEditing();\n    view.el.innerHTML = 'test';\n    //view.disableEditing();\n    //model.get('content').should.equal('test');\n  });","file":"specs/dom_components/view/ComponentTextView.js","skipped":false,"dir":"test"},{"name":"Init with content","suites":["ComponentTextView"],"updatePoint":{"line":31,"column":25,"index":930},"line":31,"code":"  test('Init with content', () => {\n    model = new Component({\n      content: 'test'\n    });\n    view = new ComponentTextView({\n      model\n    });\n    fixtures.appendChild(view.render().el);\n    expect(view.el.innerHTML).toEqual('test');\n  });","file":"specs/dom_components/view/ComponentTextView.js","skipped":false,"dir":"test"},{"name":"should get content from active RTE if available","suites":["ComponentTextView",".getContent"],"updatePoint":{"line":53,"column":55,"index":1599},"line":53,"code":"    it('should get content from active RTE if available', () => {\n      view.activeRte = fakeRte;\n      expect(view.getContent()).toEqual(fakeRteContent);\n      expect(fakeRte.getContent).toHaveBeenCalled();\n    });","file":"specs/dom_components/view/ComponentTextView.js","skipped":false,"dir":"test"},{"name":"should get child container's `innerHTML` if active RTE is not available or if it has no `getContent` function","suites":["ComponentTextView",".getContent"],"updatePoint":{"line":58,"column":117,"index":1877},"line":58,"code":"    it(\"should get child container's `innerHTML` if active RTE is not available or if it has no `getContent` function\", () => {\n      expect(view.getContent()).toEqual(fakeChildContainer.innerHTML);\n      fakeRte.getContent = null;\n      view.activeRte = fakeRte;\n      expect(view.getContent()).toEqual(fakeChildContainer.innerHTML);\n      expect(view.getChildrenContainer).toHaveBeenCalledTimes(2);\n    });","file":"specs/dom_components/view/ComponentTextView.js","skipped":false,"dir":"test"},{"name":"Component empty","suites":["ComponentView"],"updatePoint":{"line":33,"column":23,"index":896},"line":33,"code":"  test('Component empty', () => {\n    expect(fixtures.innerHTML).toEqual(`<div data-gjs-highlightable=\"true\" id=\"${el.id}\" data-gjs-type=\"default\"></div>`);\n  });","file":"specs/dom_components/view/ComponentV.js","skipped":false,"dir":"test"},{"name":"Clean form helper state","suites":["ComponentView"],"updatePoint":{"line":36,"column":31,"index":1067},"line":36,"code":"  test('Clean form helper state', () => {\n    em.setSelected(model);\n    em.setState('test');\n    em.setState();\n    expect(fixtures.innerHTML).toEqual(`<div data-gjs-highlightable=\"true\" id=\"${el.id}\" data-gjs-type=\"default\" class=\"selected\"></div>`);\n  });","file":"specs/dom_components/view/ComponentV.js","skipped":false,"dir":"test"},{"name":"Add helper class on status update","suites":["ComponentView"],"updatePoint":{"line":42,"column":41,"index":1336},"line":42,"code":"  test('Add helper class on status update', () => {\n    model.set('status', 'selected');\n    expect(fixtures.innerHTML).toEqual(`<div data-gjs-highlightable=\"true\" id=\"${el.id}\" data-gjs-type=\"default\" class=\"selected\"></div>`);\n  });","file":"specs/dom_components/view/ComponentV.js","skipped":false,"dir":"test"},{"name":"Get string of classes","suites":["ComponentView"],"updatePoint":{"line":46,"column":29,"index":1559},"line":46,"code":"  test('Get string of classes', () => {\n    model.set('attributes', {\n      class: ['test', 'test2']\n    });\n    expect(view.getClasses()).toEqual('test test2');\n  });","file":"specs/dom_components/view/ComponentV.js","skipped":false,"dir":"test"},{"name":"Update attributes","suites":["ComponentView"],"updatePoint":{"line":52,"column":25,"index":1723},"line":52,"code":"  test('Update attributes', () => {\n    model.set('attributes', {\n      title: 'value',\n      'data-test': 'value2'\n    });\n    expect(view.el.getAttribute('title')).toEqual('value');\n    expect(view.el.getAttribute('data-test')).toEqual('value2');\n  });","file":"specs/dom_components/view/ComponentV.js","skipped":false,"dir":"test"},{"name":"Update style","suites":["ComponentView"],"updatePoint":{"line":60,"column":20,"index":1973},"line":60,"code":"  test('Update style', () => {\n    model.set('style', {\n      color: 'red',\n      float: 'left'\n    });\n    expect(view.el.getAttribute('style')).toEqual('color:red;float:left;');\n  });","file":"specs/dom_components/view/ComponentV.js","skipped":false,"dir":"test"},{"name":"Clean style","suites":["ComponentView"],"updatePoint":{"line":67,"column":19,"index":2158},"line":67,"code":"  test('Clean style', () => {\n    model.set('style', {\n      color: 'red'\n    });\n    model.set('style', {});\n    expect(view.el.getAttribute('style')).toEqual(null);\n  });","file":"specs/dom_components/view/ComponentV.js","skipped":false,"dir":"test"},{"name":"Add class","suites":["ComponentView"],"updatePoint":{"line":74,"column":17,"index":2329},"line":74,"code":"  test('Add class', () => {\n    model.get('classes').add({\n      name: 'test'\n    });\n    expect(view.el.getAttribute('class')).toEqual('test');\n  });","file":"specs/dom_components/view/ComponentV.js","skipped":false,"dir":"test"},{"name":"Add classes","suites":["ComponentView"],"updatePoint":{"line":80,"column":19,"index":2482},"line":80,"code":"  test('Add classes', () => {\n    model.get('classes').add([{\n      name: 'test'\n    }, {\n      name: 'test2'\n    }]);\n    expect(view.el.getAttribute('class')).toEqual('test test2');\n  });","file":"specs/dom_components/view/ComponentV.js","skipped":false,"dir":"test"},{"name":"Update on remove of some class","suites":["ComponentView"],"updatePoint":{"line":88,"column":38,"index":2691},"line":88,"code":"  test('Update on remove of some class', () => {\n    var cls1 = model.get('classes').add({\n      name: 'test'\n    });\n    var cls12 = model.get('classes').add({\n      name: 'test2'\n    });\n    model.get('classes').remove(cls1);\n    expect(view.el.getAttribute('class')).toEqual('test2');\n  });","file":"specs/dom_components/view/ComponentV.js","skipped":false,"dir":"test"},{"name":"Init with different tag","suites":["ComponentView"],"updatePoint":{"line":98,"column":31,"index":2978},"line":98,"code":"  test('Init with different tag', () => {\n    model = new Component({\n      tagName: 'span'\n    });\n    view = new ComponentView({\n      model\n    });\n    fixtures.innerHTML = '';\n    fixtures.appendChild(view.render().el);\n    expect(view.render().el.tagName).toEqual('SPAN');\n  });","file":"specs/dom_components/view/ComponentV.js","skipped":false,"dir":"test"},{"name":"Init with nested components","suites":["ComponentView"],"updatePoint":{"line":109,"column":35,"index":3266},"line":109,"code":"  test('Init with nested components', () => {\n    model = new Component({\n      components: [{\n        tagName: 'span'\n      }, {\n        attributes: {\n          title: 'test'\n        }\n      }]\n    }, compOpts);\n    view = new ComponentView({\n      model,\n      componentTypes: dcomp.componentTypes\n    });\n    fixtures.innerHTML = '';\n    el = view.render().el;\n    fixtures.appendChild(el);\n    const firstId = el.children[0].id;\n    const secondId = el.children[1].id;\n    expect(view.$el.html()).toEqual(`<span data-gjs-highlightable=\"true\" id=\"${firstId}\" data-gjs-type=\"default\"></span><div data-gjs-highlightable=\"true\" id=\"${secondId}\" data-gjs-type=\"default\" title=\"test\"></div>`);\n  });","file":"specs/dom_components/view/ComponentV.js","skipped":false,"dir":"test"},{"name":"removeClass removes classes from attributes","suites":["ComponentView"],"updatePoint":{"line":130,"column":51,"index":3980},"line":130,"code":"  test('removeClass removes classes from attributes', () => {\n    model.addClass('class1');\n    model.removeClass('class1');\n    const result = model.getAttributes();\n    expect(result.class).toEqual(undefined);\n  });","file":"specs/dom_components/view/ComponentV.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["Editor"],"updatePoint":{"line":15,"column":21,"index":279},"line":15,"code":"  test('Object exists', () => {\n    expect(editor).toBeTruthy();\n  });","file":"specs/editor/index.js","skipped":false,"dir":"test"},{"name":"Has no components","suites":["Editor"],"updatePoint":{"line":18,"column":25,"index":354},"line":18,"code":"  test('Has no components', () => {\n    const all = editor.Components.allById();\n    const allKeys = keys(all);\n    // By default 1 wrapper components is created\n    expect(allKeys.length).toBe(initComps);\n    expect(all[allKeys[0]].get('type')).toBe('wrapper');\n  });","file":"specs/editor/index.js","skipped":false,"dir":"test"},{"name":"Has no CSS rules","suites":["Editor"],"updatePoint":{"line":25,"column":24,"index":622},"line":25,"code":"  test('Has no CSS rules', () => {\n    const all = editor.Css.getAll();\n    expect(all.length).toBe(0);\n  });","file":"specs/editor/index.js","skipped":false,"dir":"test"},{"name":"Has one default frame","suites":["Editor"],"updatePoint":{"line":29,"column":29,"index":737},"line":29,"code":"  test('Has one default frame', () => {\n    const all = editor.Canvas.getFrames();\n    expect(all.length).toBe(1);\n  });","file":"specs/editor/index.js","skipped":false,"dir":"test"},{"name":"The default frame has the same main component and css","suites":["Editor"],"updatePoint":{"line":33,"column":61,"index":890},"line":33,"code":"  test('The default frame has the same main component and css', () => {\n    const wrapper = editor.getWrapper();\n    const style = editor.getStyle();\n    const frame = editor.Canvas.getFrame();\n    expect(wrapper).toBe(frame.getComponent());\n    expect(style).toBe(frame.get('styles'));\n  });","file":"specs/editor/index.js","skipped":false,"dir":"test"},{"name":"Components are correctly tracked on add","suites":["Editor"],"updatePoint":{"line":40,"column":47,"index":1169},"line":40,"code":"  test('Components are correctly tracked on add', () => {\n    const all = editor.Components.allById();\n    const wrapper = editor.getWrapper();\n    wrapper.append('<div>Component</div>'); // Div component + textnode\n    expect(keys(all).length).toBe(2 + initComps);\n  });","file":"specs/editor/index.js","skipped":false,"dir":"test"},{"name":"Components are correctly tracked on add and remove","suites":["Editor"],"updatePoint":{"line":46,"column":58,"index":1452},"line":46,"code":"  test('Components are correctly tracked on add and remove', () => {\n    const all = editor.Components.allById();\n    const wrapper = editor.getWrapper();\n    const added = wrapper.append(`\n        <div>Component 1</div>\n        <div></div>\n    `);\n    expect(keys(all).length).toBe(3 + initComps);\n    const secComp = added[1];\n    secComp.append(`\n        <div>Component 2</div>\n        <div>Component 3</div>\n    `);\n    expect(keys(all).length).toBe(7 + initComps);\n    wrapper.empty();\n    expect(wrapper.components().length).toBe(0);\n    expect(keys(all).length).toBe(initComps);\n  });","file":"specs/editor/index.js","skipped":false,"dir":"test"},{"name":"Components are correctly tracked with UndoManager","suites":["Editor"],"updatePoint":{"line":64,"column":57,"index":2043},"line":64,"code":"  test('Components are correctly tracked with UndoManager', () => {\n    const all = editor.Components.allById();\n    const um = editor.UndoManager;\n    const umStack = um.getStack();\n    const wrapper = editor.getWrapper();\n    expect(umStack.length).toBe(0);\n    const comp = wrapper.append('<div>Component 1</div>')[0];\n    expect(umStack.length).toBe(1);\n    wrapper.empty();\n    expect(umStack.length).toBe(2);\n    expect(keys(all).length).toBe(initComps);\n    um.undo(false);\n    expect(keys(all).length).toBe(2 + initComps);\n  });","file":"specs/editor/index.js","skipped":false,"dir":"test"},{"name":"Components are correctly tracked with UndoManager and mutiple operations","suites":["Editor"],"updatePoint":{"line":78,"column":80,"index":2603},"line":78,"code":"  test('Components are correctly tracked with UndoManager and mutiple operations', () => {\n    const all = editor.Components.allById();\n    const um = editor.UndoManager;\n    const umStack = um.getStack();\n    const wrapper = editor.getWrapper();\n    expect(umStack.length).toBe(0);\n    wrapper.append(`<div>\n        <div>Component 1</div>\n        <div>Component 2</div>\n    </div>`);\n    expect(umStack.length).toBe(1); // UM counts first children\n    expect(keys(all).length).toBe(5 + initComps);\n    wrapper.components().at(0).components().at(0).remove(); // Remove 1 component\n\n    expect(umStack.length).toBe(2);\n    expect(keys(all).length).toBe(3 + initComps);\n    wrapper.empty();\n    expect(umStack.length).toBe(3);\n    expect(keys(all).length).toBe(initComps);\n  });","file":"specs/editor/index.js","skipped":false,"dir":"test"},{"name":"Can init and destroy an editor","suites":["GrapesJS Headless"],"updatePoint":{"line":6,"column":38,"index":112},"line":6,"code":"  test('Can init and destroy an editor', () => {\n    const editor = grapesjs.init({\n      headless: true\n    });\n    expect(editor).toBeTruthy();\n    editor.destroy();\n  });","file":"specs/grapesjs/headless.js","skipped":false,"dir":"test"},{"name":"Add components","suites":["GrapesJS Headless","Headless operations"],"updatePoint":{"line":45,"column":24,"index":959},"line":45,"code":"    test('Add components', () => {\n      const res = editor.addComponents(cmpObj);\n      expect(res.length).toBe(1);\n      const comp = res[0];\n      expect(comp.toHTML()).toBe(cmpStr);\n      expect(editor.Selectors.getAll().length).toBe(1); // 1 selector is created\n      expect(editor.Css.getAll().length).toBe(0); // No CSS\n      expect(editor.getHtml()).toBe(fullHtml);\n      expect(editor.getCss()).toBe(''); // same as default\n    });","file":"specs/grapesjs/headless.js","skipped":false,"dir":"test"},{"name":"Add components with children","suites":["GrapesJS Headless","Headless operations"],"updatePoint":{"line":56,"column":38,"index":1415},"line":56,"code":"    test('Add components with children', () => {\n      const res = editor.addComponents([{\n        tagName: 'h1',\n        type: 'text',\n        components: [{\n          type: 'textnode',\n          removable: false,\n          draggable: false,\n          highlightable: 0,\n          copyable: false,\n          selectable: true,\n          content: 'Hello!',\n          _innertext: false\n        }]\n      }]);\n      expect(res.length).toBe(1);\n      const resHtml = '<h1>Hello!</h1>';\n      const comp = res[0];\n      expect(comp.toHTML()).toBe(resHtml);\n      expect(editor.Selectors.getAll().length).toBe(0);\n      expect(editor.Css.getAll().length).toBe(0);\n      expect(editor.getHtml()).toBe(`<body>${resHtml}</body>`);\n      expect(editor.getCss()).toBe('');\n    });","file":"specs/grapesjs/headless.js","skipped":false,"dir":"test"},{"name":"Add styles","suites":["GrapesJS Headless","Headless operations"],"updatePoint":{"line":80,"column":20,"index":2165},"line":80,"code":"    test('Add styles', () => {\n      const res = editor.addStyle(styleObj);\n      expect(res.length).toBe(1);\n      const rule = res[0];\n      expect(rule.toCSS()).toBe(styleStr);\n      expect(editor.Selectors.getAll().length).toBe(1); // 1 selector is created\n    });","file":"specs/grapesjs/headless.js","skipped":false,"dir":"test"},{"name":"Load data","suites":["GrapesJS Headless","Headless operations"],"updatePoint":{"line":88,"column":19,"index":2434},"line":88,"code":"    test('Load data', () => {\n      editor.loadData({\n        components: [cmpObj],\n        styles: [styleObj]\n      });\n      expect(editor.Selectors.getAll().length).toBe(1);\n      expect(editor.getHtml()).toBe(fullHtml);\n      expect(editor.getCss()).toBe(styleStr);\n    });","file":"specs/grapesjs/headless.js","skipped":false,"dir":"test"},{"name":"loadProjectData with different components","suites":["GrapesJS Headless","Headless operations"],"updatePoint":{"line":97,"column":51,"index":2744},"line":97,"code":"    test('loadProjectData with different components', () => {\n      editor.loadProjectData({\n        pages: [{\n          frames: [{\n            component: {\n              type: 'wrapper',\n              attributes: {\n                id: 'wrapper-id'\n              },\n              components: [{\n                type: 'text',\n                attributes: {\n                  id: 'text-id'\n                },\n                components: [{\n                  type: 'textnode',\n                  content: 'Hello world!'\n                }]\n              }, {\n                type: 'image',\n                attributes: {\n                  id: 'image-id'\n                }\n              }, {\n                type: 'video',\n                attributes: {\n                  id: 'video-id'\n                }\n              }, {\n                type: 'map',\n                attributes: {\n                  id: 'map-id'\n                }\n              }]\n            }\n          }],\n          id: 'page-id'\n        }]\n      });\n      expect(editor.getHtml()).toBeDefined();\n      expect(editor.getCss()).toBeDefined();\n    });","file":"specs/grapesjs/headless.js","skipped":false,"dir":"test"},{"name":"Main object should be loaded","suites":["GrapesJS","Main"],"updatePoint":{"line":51,"column":38,"index":1378},"line":51,"code":"    test('Main object should be loaded', () => {\n      expect(obj).toBeTruthy();\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Init new editor","suites":["GrapesJS","Main"],"updatePoint":{"line":54,"column":25,"index":1454},"line":54,"code":"    test('Init new editor', () => {\n      var editor = obj.init(config);\n      expect(editor).toBeTruthy();\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Init new editor with node for container","suites":["GrapesJS","Main"],"updatePoint":{"line":58,"column":49,"index":1594},"line":58,"code":"    test('Init new editor with node for container', () => {\n      var configAlt = {\n        container: document.createElement('div'),\n        storageManager: {\n          autoload: 0,\n          type: 'none'\n        }\n      };\n      var editor = obj.init(configAlt);\n      expect(editor).toBeTruthy();\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"New editor is empty","suites":["GrapesJS","Main"],"updatePoint":{"line":69,"column":29,"index":1882},"line":69,"code":"    test('New editor is empty', () => {\n      const editor = obj.init(config);\n      const html = editor.getHtml();\n      //const css = editor.getCss();\n      const protCss = editor.getConfig().protectedCss;\n      expect(html).toBe('<body></body>');\n      //expect((css ? css : '')).toEqual(protCss);\n      expect(editor.getComponents().length).toEqual(0);\n      expect(editor.getStyle().length).toEqual(0);\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Editor canvas baseCSS can be overwritten","suites":["GrapesJS","Main"],"updatePoint":{"line":79,"column":50,"index":2319},"line":79,"code":"    test('Editor canvas baseCSS can be overwritten', () => {\n      config.components = htmlString;\n      config.baseCss = '#wrapper { background-color: #eee; }';\n      config.protectedCss = '';\n      const editor = obj.init(config);\n      const body = editor.Canvas.getBody();\n      expect(body.outerHTML).toContain(config.baseCss);\n      expect(body.outerHTML.replace(/\\s+/g, ' ')).not.toContain('body { margin: 0;');\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Editor canvas baseCSS defaults to sensible values if not defined","suites":["GrapesJS","Main"],"updatePoint":{"line":88,"column":74,"index":2770},"line":88,"code":"    test('Editor canvas baseCSS defaults to sensible values if not defined', () => {\n      config.components = htmlString;\n      config.protectedCss = '';\n      obj.init(config);\n      expect(window.frames[0].document.documentElement.outerHTML.replace(/\\s+/g, ' ')).toContain('body { background-color: #fff');\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Init editor with html","suites":["GrapesJS","Main"],"updatePoint":{"line":94,"column":31,"index":3045},"line":94,"code":"    test('Init editor with html', () => {\n      config.components = htmlString;\n      var editor = obj.init(config);\n      var comps = editor.DomComponents.getComponents();\n      expect(comps.length).toEqual(2);\n      expect(comps.at(0).get('classes').at(0).get('name')).toEqual('test1');\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Init editor with css","suites":["GrapesJS","Main"],"updatePoint":{"line":101,"column":30,"index":3341},"line":101,"code":"    test('Init editor with css', () => {\n      config.style = cssString;\n      var editor = obj.init(config);\n      var rules = editor.CssComposer.getAll();\n      expect(rules.length).toEqual(2);\n      expect(rules.at(0).get('selectors').at(0).get('name')).toEqual('test2');\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Init editor from element","suites":["GrapesJS","Main"],"updatePoint":{"line":108,"column":34,"index":3628},"line":108,"code":"    test('Init editor from element', () => {\n      config.fromElement = 1;\n      config.storageManager = {\n        type: 0\n      };\n      fixture.innerHTML = documentEl;\n      const editor = obj.init(config);\n      const html = editor.getHtml();\n      const css = editor.getCss();\n      const protCss = editor.getConfig().protectedCss;\n      expect(html).toEqual(htmlString);\n      expect(editor.getComponents().length).toEqual(2);\n      // .test3 is discarded in CSS\n      expect(css).toEqual(`${protCss}.test2{color:red;}`);\n      // but it's still there\n      expect(editor.getStyle().length).toEqual(2);\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Init editor from element with multiple font-face at-rules","suites":["GrapesJS","Main"],"updatePoint":{"line":125,"column":67,"index":4277},"line":125,"code":"    test('Init editor from element with multiple font-face at-rules', () => {\n      config.fromElement = 1;\n      config.storageManager = {\n        type: 0\n      };\n      fixture.innerHTML = `\n      <style>\n        @font-face {\n          font-family: 'A';\n          src: url('http://a.link') format('woff2');\n        }\n        @font-face {\n          font-family: 'B';\n          src: url('http://b.link') format('woff2');\n        }\n      </style>` + htmlString;\n      const editor = obj.init(config);\n      const css = editor.getCss();\n      const styles = editor.getStyle();\n      expect(styles.length).toEqual(2);\n      expect((css.match(/@font-face/g) || []).length).toEqual(2);\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Set components as HTML","suites":["GrapesJS","Main"],"updatePoint":{"line":147,"column":32,"index":4931},"line":147,"code":"    test('Set components as HTML', () => {\n      var editor = obj.init(config);\n      editor.setComponents(htmlString);\n      expect(editor.getComponents().length).toEqual(2);\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Set components as array of objects","suites":["GrapesJS","Main"],"updatePoint":{"line":152,"column":44,"index":5127},"line":152,"code":"    test('Set components as array of objects', () => {\n      var editor = obj.init(config);\n      editor.setComponents([{}, {}, {}]);\n      expect(editor.getComponents().length).toEqual(3);\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Set style as CSS","suites":["GrapesJS","Main"],"updatePoint":{"line":157,"column":26,"index":5307},"line":157,"code":"    test('Set style as CSS', () => {\n      var editor = obj.init(config);\n      editor.setStyle(cssString);\n      editor.setStyle(cssString);\n      var styles = editor.getStyle();\n      expect(styles.length).toEqual(2);\n      expect(styles.at(1).get('selectors').at(0).get('name')).toEqual('test3');\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Set style as as array of objects","suites":["GrapesJS","Main"],"updatePoint":{"line":165,"column":42,"index":5631},"line":165,"code":"    test('Set style as as array of objects', () => {\n      var editor = obj.init(config);\n      editor.setStyle([{\n        selectors: ['test4']\n      }, {\n        selectors: ['test5']\n      }]);\n      var styles = editor.getStyle();\n      expect(styles.length).toEqual(2);\n      expect(styles.at(1).get('selectors').at(0).get('name')).toEqual('test5');\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Adds new storage as plugin and store data there","suites":["GrapesJS","Main"],"line":176,"code":"    test.skip('Adds new storage as plugin and store data there', done => {","file":"specs/grapesjs/index.js","skipped":true,"dir":"test"},{"name":"Adds a new storage and fetch correctly data from it","suites":["GrapesJS","Main"],"updatePoint":{"line":190,"column":61,"index":6532},"line":190,"code":"    test('Adds a new storage and fetch correctly data from it', done => {\n      fixture.innerHTML = documentEl;\n      const styleResult = {\n        color: 'white',\n        display: 'block'\n      };\n      const style = [{\n        selectors: [{\n          name: 'sclass1'\n        }],\n        style: {\n          color: 'green'\n        }\n      }, {\n        selectors: [{\n          name: 'test2'\n        }],\n        style: styleResult\n      }, {\n        selectors: [{\n          name: 'test3'\n        }],\n        style: {\n          color: 'black',\n          display: 'block'\n        }\n      }];\n      storage = {\n        css: '* { box-sizing: border-box; } body {margin: 0;}',\n        styles: JSON.stringify(style)\n      };\n      const pluginName = storageId + '-p';\n      obj.plugins.add(pluginName, e => e.StorageManager.add(storageId, storageMock));\n      config.fromElement = 1;\n      config.storageManager.type = storageId;\n      config.plugins = [pluginName];\n      config.storageManager.autoload = 1;\n      const editor = obj.init(config);\n      editor.on('load', () => {\n        const cc = editor.CssComposer;\n        expect(cc.getAll().length).toEqual(style.length);\n        // expect(cc.setClassRule('test2').getStyle()).toEqual(styleResult);\n        done();\n      });\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Execute plugins with custom options","suites":["GrapesJS","Main"],"updatePoint":{"line":235,"column":45,"index":7796},"line":235,"code":"    test('Execute plugins with custom options', () => {\n      var pluginName = storageId + '-plugin-opts';\n      obj.plugins.add(pluginName, (edt, opts) => {\n        var opts = opts || {};\n        edt.customValue = opts.cVal || '';\n      });\n      config.plugins = [pluginName];\n      config.pluginsOpts = {};\n      config.pluginsOpts[pluginName] = {\n        cVal: 'TEST'\n      };\n      var editor = obj.init(config);\n      expect(editor.customValue).toEqual('TEST');\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Execute inline plugins with custom options","suites":["GrapesJS","Main"],"updatePoint":{"line":249,"column":52,"index":8279},"line":249,"code":"    test('Execute inline plugins with custom options', () => {\n      const inlinePlugin = (edt, opts) => {\n        var opts = opts || {};\n        edt.customValue = opts.cVal || '';\n      };\n      config.plugins = [inlinePlugin];\n      config.pluginsOpts = {};\n      config.pluginsOpts[inlinePlugin] = {\n        cVal: 'TEST'\n      };\n      var editor = obj.init(config);\n      expect(editor.customValue).toEqual('TEST');\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Execute inline plugins without any options","suites":["GrapesJS","Main"],"updatePoint":{"line":262,"column":52,"index":8707},"line":262,"code":"    test('Execute inline plugins without any options', () => {\n      const inlinePlugin = edt => {\n        edt.customValue = 'TEST';\n      };\n      config.plugins = [inlinePlugin];\n      config.pluginsOpts = {};\n      var editor = obj.init(config);\n      expect(editor.customValue).toEqual('TEST');\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Use plugins defined on window, with custom options","suites":["GrapesJS","Main"],"updatePoint":{"line":271,"column":60,"index":9022},"line":271,"code":"    test('Use plugins defined on window, with custom options', () => {\n      window.globalPlugin = (edt, opts) => {\n        var opts = opts || {};\n        edt.customValue = opts.cVal || '';\n      };\n      config.plugins = ['globalPlugin'];\n      config.pluginsOpts = {};\n      config.pluginsOpts['globalPlugin'] = {\n        cVal: 'TEST'\n      };\n      var editor = obj.init(config);\n      expect(editor.customValue).toEqual('TEST');\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Execute custom command","suites":["GrapesJS","Main"],"updatePoint":{"line":284,"column":32,"index":9435},"line":284,"code":"    test('Execute custom command', () => {\n      var editor = obj.init(config);\n      editor.testVal = '';\n      editor.setComponents(htmlString);\n      editor.Commands.add('test-command', {\n        run(ed, caller, opts) {\n          ed.testVal = ed.getHtml() + opts.val;\n        }\n      });\n      editor.runCommand('test-command', {\n        val: 5\n      });\n      expect(editor.testVal).toEqual(htmlString + '5');\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Stop custom command","suites":["GrapesJS","Main"],"updatePoint":{"line":298,"column":29,"index":9854},"line":298,"code":"    test('Stop custom command', () => {\n      var editor = obj.init(config);\n      editor.testVal = '';\n      editor.setComponents(htmlString);\n      editor.Commands.add('test-command', {\n        stop(ed, caller, opts) {\n          ed.testVal = ed.getHtml() + opts.val;\n        }\n      });\n      editor.stopCommand('test-command', {\n        val: 5,\n        force: 1\n      });\n      expect(editor.testVal).toEqual(htmlString + '5');\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Trigger custom command events","suites":["GrapesJS","Main"],"updatePoint":{"line":313,"column":39,"index":10303},"line":313,"code":"    test('Trigger custom command events', () => {\n      const id = 'test-command';\n      const editor = obj.init(config);\n      const result = {};\n      editor.on(`run:${id}`, () => result.run = 1);\n      editor.on(`run:${id}:before`, () => result.runBefore = 1);\n      editor.on(`stop:${id}`, () => result.stop = 1);\n      editor.on(`stop:${id}:before`, () => result.stopBefore = 1);\n      editor.on(`abort:${id}`, () => result.abort = 1);\n      editor.Commands.add(id, {\n        run() {},\n        stop() {}\n      });\n      editor.runCommand(id);\n      editor.stopCommand(id);\n      editor.on(`run:${id}:before`, opts => opts.abort = 1);\n      editor.runCommand(id);\n      expect(result).toEqual({\n        run: 1,\n        runBefore: 1,\n        stop: 1,\n        stopBefore: 1,\n        abort: 1\n      });\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Set default devices","suites":["GrapesJS","Main"],"updatePoint":{"line":338,"column":29,"index":11105},"line":338,"code":"    test('Set default devices', () => {\n      config.deviceManager = {};\n      config.deviceManager.devices = [{\n        name: '1',\n        width: '2'\n      }, {\n        name: '3',\n        width: '4'\n      }];\n      var editor = obj.init(config);\n      expect(editor.DeviceManager.getAll().length).toEqual(2);\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"There is no active device","suites":["GrapesJS","Main"],"updatePoint":{"line":350,"column":35,"index":11429},"line":350,"code":"    test('There is no active device', () => {\n      var editor = obj.init(config);\n      expect(editor.getDevice()).toBe('desktop');\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Active another device","suites":["GrapesJS","Main"],"updatePoint":{"line":354,"column":31,"index":11566},"line":354,"code":"    test('Active another device', () => {\n      var editor = obj.init(config);\n      editor.setDevice('Tablet');\n      expect(editor.getDevice()).toEqual('Tablet');\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Init new editor with custom plugin overrides default commands","suites":["GrapesJS","Main"],"updatePoint":{"line":361,"column":71,"index":11816},"line":361,"code":"    test('Init new editor with custom plugin overrides default commands', () => {\n      var editor,\n        pluginName = 'test-plugin-opts';\n      obj.plugins.add(pluginName, (edt, opts) => {\n        let cmdm = edt.Commands;\n        // Overwrite export template\n        cmdm.add('export-template', {\n          test: 1\n        });\n      });\n      config.plugins = [pluginName];\n      editor = obj.init(config);\n      expect(editor.Commands.get('export-template').test).toEqual(1);\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Keep unused css classes/selectors option for getCSS method","suites":["GrapesJS","Main"],"updatePoint":{"line":375,"column":68,"index":12301},"line":375,"code":"    test('Keep unused css classes/selectors option for getCSS method', () => {\n      config.fromElement = 1;\n      config.storageManager = {\n        type: 0\n      };\n      fixture.innerHTML = documentEl;\n      const editor = obj.init(config);\n      const css = editor.getCss({\n        keepUnusedStyles: 1\n      });\n      const protCss = editor.getConfig().protectedCss;\n      expect(editor.getStyle().length).toEqual(2);\n      expect(css).toEqual(`${protCss}.test2{color:red;}.test3{color:blue;}`);\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Keep unused css classes/selectors option for media rules","suites":["GrapesJS","Main"],"updatePoint":{"line":389,"column":66,"index":12806},"line":389,"code":"    test('Keep unused css classes/selectors option for media rules', () => {\n      cssString = '.test2{color:red}.test3{color:blue} @media only screen and (max-width: 620px) { .notused { color: red; } } ';\n      documentEl = '<style>' + cssString + '</style>' + htmlString;\n      config.fromElement = 1;\n      config.storageManager = {\n        type: 0\n      };\n      fixture.innerHTML = documentEl;\n      const editor = obj.init(config);\n      const css = editor.getCss({\n        keepUnusedStyles: 1\n      });\n      const protCss = editor.getConfig().protectedCss;\n      expect(editor.getStyle().length).toEqual(3);\n      expect(css).toEqual(`${protCss}.test2{color:red;}.test3{color:blue;}@media only screen and (max-width: 620px){.notused{color:red;}}`);\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Keep unused css classes/selectors option for init method","suites":["GrapesJS","Main"],"updatePoint":{"line":405,"column":66,"index":13571},"line":405,"code":"    test('Keep unused css classes/selectors option for init method', () => {\n      config.fromElement = 1;\n      config.storageManager = {\n        type: 0\n      };\n      fixture.innerHTML = documentEl;\n      const editor = obj.init({\n        ...config,\n        keepUnusedStyles: 1\n      });\n      const css = editor.getCss();\n      const protCss = editor.getConfig().protectedCss;\n      expect(editor.getStyle().length).toEqual(2);\n      expect(css).toEqual(`${protCss}.test2{color:red;}.test3{color:blue;}`);\n    });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Select a single component","suites":["GrapesJS","Main","Component selection"],"updatePoint":{"line":439,"column":37,"index":14657},"line":439,"code":"      test('Select a single component', () => {\n        expect(editor.getSelected()).toBeFalsy();\n        expect(editor.getSelectedAll().length).toBe(0);\n        // Select via component\n        editor.select(el1);\n        expect(editor.getSelected()).toBe(el1);\n        expect(editor.getSelectedAll().length).toBe(1);\n        // Select via element\n        editor.select(el2.getEl());\n        expect(editor.getSelected()).toBe(el2);\n        expect(editor.getSelectedAll().length).toBe(1);\n        // Deselect via empty array\n        editor.select([]);\n        expect(editor.getSelected()).toBeFalsy();\n        expect(editor.getSelectedAll().length).toBe(0);\n      });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Select multiple components","suites":["GrapesJS","Main","Component selection"],"updatePoint":{"line":455,"column":38,"index":15325},"line":455,"code":"      test('Select multiple components', () => {\n        // Select at first el1 and el3\n        editor.select([el1, el3.getEl()]);\n        expect(editor.getSelected()).toBe(el3);\n        expect(editor.getSelectedAll().length).toBe(2);\n        // Add el2\n        editor.selectAdd(el2);\n        expect(editor.getSelected()).toBe(el2);\n        expect(editor.getSelectedAll().length).toBe(3);\n        // Remove el1\n        editor.selectRemove(el1);\n        expect(editor.getSelected()).toBe(el2);\n        expect(editor.getSelectedAll().length).toBe(2);\n        // Add el1 via toggle\n        editor.selectToggle(el1);\n        expect(editor.getSelected()).toBe(el1);\n        expect(editor.getSelectedAll().length).toBe(3);\n        // Leave selected only el3\n        editor.selectRemove([el1, el2]);\n        expect(editor.getSelected()).toBe(el3);\n        expect(editor.getSelectedAll().length).toBe(1);\n        // Toggle all\n        editor.selectToggle([el1, el2, el3]);\n        expect(editor.getSelected()).toBe(el2);\n        expect(editor.getSelectedAll().length).toBe(2);\n        // Add multiple\n        editor.selectAdd([el2, el3]);\n        expect(editor.getSelected()).toBe(el3);\n        expect(editor.getSelectedAll().length).toBe(3);\n      });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Selection events","suites":["GrapesJS","Main","Component selection"],"updatePoint":{"line":485,"column":28,"index":16560},"line":485,"code":"      test('Selection events', () => {\n        const toSpy = {\n          selected() {},\n          deselected() {},\n          toggled() {}\n        };\n        const selected = jest.spyOn(toSpy, 'selected');\n        const deselected = jest.spyOn(toSpy, 'deselected');\n        const toggled = jest.spyOn(toSpy, 'toggled');\n        editor.on('component:selected', selected);\n        editor.on('component:deselected', deselected);\n        editor.on('component:toggled', toggled);\n        editor.select(el1); // selected=1\n        editor.selectAdd(el1); // selected=1\n        editor.selectAdd([el2, el3]); // selected=3\n        editor.selectToggle([el1, el3]); // deselected=2\n        editor.selectRemove(el2); // deselected=3\n        editor.select(el1); // selected=4\n\n        expect(selected).toBeCalledTimes(4);\n        expect(deselected).toBeCalledTimes(3);\n        expect(toggled).toBeCalledTimes(7);\n      });","file":"specs/grapesjs/index.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["I18n","Main"],"updatePoint":{"line":18,"column":23,"index":432},"line":18,"code":"    test('Object exists', () => {\n      expect(obj).toBeTruthy();\n    });","file":"specs/i18n/index.js","skipped":false,"dir":"test"},{"name":"getConfig method","suites":["I18n","Main"],"updatePoint":{"line":21,"column":26,"index":509},"line":21,"code":"    test('getConfig method', () => {\n      expect(obj.getConfig()).toBeTruthy();\n    });","file":"specs/i18n/index.js","skipped":false,"dir":"test"},{"name":"Default local","suites":["I18n","Main"],"updatePoint":{"line":24,"column":23,"index":595},"line":24,"code":"    test('Default local', () => {\n      expect(obj.getLocale()).toBeTruthy();\n    });","file":"specs/i18n/index.js","skipped":false,"dir":"test"},{"name":"Init with config","suites":["I18n","Main"],"updatePoint":{"line":27,"column":26,"index":684},"line":27,"code":"    test('Init with config', () => {\n      const locale = 'it';\n      const localeFallback = 'it';\n      const msg = 'Hello!!!';\n      obj = newModuleWithConfig({\n        locale,\n        localeFallback,\n        detectLocale: 0,\n        messages: {\n          en: {\n            msg\n          }\n        }\n      });\n      expect(obj.getLocale()).toBe(locale);\n      expect(obj.getConfig().localeFallback).toBe(localeFallback);\n      expect(obj.getLocale()).toBe(locale);\n    });","file":"specs/i18n/index.js","skipped":false,"dir":"test"},{"name":"English always imported","suites":["I18n","Main"],"updatePoint":{"line":45,"column":33,"index":1166},"line":45,"code":"    test('English always imported', () => {\n      obj = newModuleWithConfig({\n        messages: {\n          it: {}\n        }\n      });\n      expect(Object.keys(obj.getMessages())).toEqual(['en', 'it']);\n    });","file":"specs/i18n/index.js","skipped":false,"dir":"test"},{"name":"setLocale and getLocale methods","suites":["I18n","Main"],"updatePoint":{"line":53,"column":41,"index":1385},"line":53,"code":"    test('setLocale and getLocale methods', () => {\n      const localeBefore = obj.getLocale();\n      const localeNew = `${localeBefore}2`;\n      obj.setLocale(localeNew);\n      expect(obj.getLocale()).toBe(localeNew);\n    });","file":"specs/i18n/index.js","skipped":false,"dir":"test"},{"name":"Default messages","suites":["I18n","Main"],"updatePoint":{"line":59,"column":26,"index":1597},"line":59,"code":"    test('Default messages', () => {\n      expect(obj.getMessages()).toBeTruthy();\n    });","file":"specs/i18n/index.js","skipped":false,"dir":"test"},{"name":"setMessages method","suites":["I18n","Main"],"updatePoint":{"line":62,"column":28,"index":1690},"line":62,"code":"    test('setMessages method', () => {\n      const set1 = {\n        en: {\n          msg1: 'Msg 1'\n        }\n      };\n      obj.setMessages(set1);\n      expect(obj.getMessages()).toEqual(set1);\n      const set2 = {\n        en: {\n          msg2: 'Msg 2'\n        }\n      };\n      obj.setMessages(set2);\n      expect(obj.getMessages()).toEqual(set2);\n    });","file":"specs/i18n/index.js","skipped":false,"dir":"test"},{"name":"addMessages method","suites":["I18n","Main"],"updatePoint":{"line":78,"column":28,"index":2045},"line":78,"code":"    test('addMessages method', () => {\n      const set1 = {\n        en: {\n          msg1: 'Msg 1',\n          msg2: 'Msg 2'\n        }\n      };\n      obj.setMessages(set1);\n      const set2 = {\n        en: {\n          msg2: 'Msg 2 up',\n          msg3: 'Msg 3'\n        },\n        it: {\n          msg1: 'Msg 1'\n        }\n      };\n      obj.addMessages(set2);\n      expect(obj.getMessages()).toEqual({\n        en: {\n          msg1: 'Msg 1',\n          msg2: 'Msg 2 up',\n          msg3: 'Msg 3'\n        },\n        it: {\n          msg1: 'Msg 1'\n        }\n      });\n    });","file":"specs/i18n/index.js","skipped":false,"dir":"test"},{"name":"addMessages with deep extend possibility","suites":["I18n","Main"],"updatePoint":{"line":107,"column":50,"index":2632},"line":107,"code":"    test('addMessages with deep extend possibility', () => {\n      obj.setMessages({\n        en: {\n          msg1: 'Msg 1',\n          msg2: 'Msg 2',\n          msg3: {\n            msg31: 'Msg 31',\n            msg32: {\n              msg321: 'Msg 321'\n            }\n          }\n        }\n      });\n      obj.addMessages({\n        en: {\n          msg2: {\n            msg21: 'Msg 21'\n          },\n          msg3: {\n            msg32: {\n              msg322: 'Msg 322'\n            },\n            msg33: 'Msg 33'\n          },\n          msg4: 'Msg 4'\n        }\n      });\n      expect(obj.getMessages()).toEqual({\n        en: {\n          msg1: 'Msg 1',\n          msg2: {\n            msg21: 'Msg 21'\n          },\n          msg3: {\n            msg31: 'Msg 31',\n            msg32: {\n              msg321: 'Msg 321',\n              msg322: 'Msg 322'\n            },\n            msg33: 'Msg 33'\n          },\n          msg4: 'Msg 4'\n        }\n      });\n    });","file":"specs/i18n/index.js","skipped":false,"dir":"test"},{"name":"Translate method with global locale","suites":["I18n","Main"],"updatePoint":{"line":152,"column":45,"index":3571},"line":152,"code":"    test('Translate method with global locale', () => {\n      const msg1 = 'Msg 1';\n      obj.setLocale('en');\n      obj.setMessages({\n        en: {\n          msg1\n        },\n        it: {\n          msg1: `${msg1} it`\n        }\n      });\n      expect(obj.t('msg2')).toBe(undefined);\n      expect(obj.t('msg1')).toBe(msg1);\n    });","file":"specs/i18n/index.js","skipped":false,"dir":"test"},{"name":"Translate method with object structure","suites":["I18n","Main"],"updatePoint":{"line":166,"column":48,"index":3905},"line":166,"code":"    test('Translate method with object structure', () => {\n      const msg1 = 'Msg level 1';\n      const msg2 = 'Msg level 2';\n      obj.setLocale('en');\n      obj.setMessages({\n        en: {\n          key1: {\n            msg1,\n            key2: {\n              msg2\n            }\n          }\n        }\n      });\n      expect(obj.t('key1.msg1')).toBe(msg1);\n      expect(obj.t('key1.key2.msg2')).toBe(msg2);\n      expect(obj.t('key1.key2.msg3')).toBe(undefined);\n      expect(obj.t('key1.key3.msg2')).toBe(undefined);\n    });","file":"specs/i18n/index.js","skipped":false,"dir":"test"},{"name":"Translate method with custom locale","suites":["I18n","Main"],"updatePoint":{"line":185,"column":45,"index":4428},"line":185,"code":"    test('Translate method with custom locale', () => {\n      const msg1 = 'Msg 1';\n      const msg1Alt = `${msg1} it`;\n      obj.setLocale('en');\n      obj.setMessages({\n        en: {\n          msg1\n        },\n        it: {\n          msg1: msg1Alt\n        }\n      });\n      expect(obj.t('msg1', {\n        l: 'it'\n      })).toBe(msg1Alt);\n    });","file":"specs/i18n/index.js","skipped":false,"dir":"test"},{"name":"Translate method with fallback locale","suites":["I18n","Main"],"updatePoint":{"line":201,"column":47,"index":4777},"line":201,"code":"    test('Translate method with fallback locale', () => {\n      const msg1 = 'Msg en';\n      obj.setLocale('it');\n      obj.setMessages({\n        en: {\n          msg1\n        },\n        it: {}\n      });\n      expect(obj.t('msg1')).toBe(msg1);\n    });","file":"specs/i18n/index.js","skipped":false,"dir":"test"},{"name":"Translate method with a param","suites":["I18n","Main"],"updatePoint":{"line":212,"column":39,"index":5020},"line":212,"code":"    test('Translate method with a param', () => {\n      const msg1 = 'Msg 1 {test}';\n      const msg1Alt = `${msg1} it`;\n      obj.setLocale('en');\n      obj.setMessages({\n        en: {\n          msg1\n        },\n        it: {\n          msg1: msg1Alt\n        }\n      });\n      expect(obj.t('msg1', {\n        params: {\n          test: 'Hello'\n        }\n      })).toBe('Msg 1 Hello');\n      expect(obj.t('msg1', {\n        l: 'it',\n        params: {\n          test: 'Hello'\n        }\n      })).toBe('Msg 1 Hello it');\n    });","file":"specs/i18n/index.js","skipped":false,"dir":"test"},{"name":"i18n events","suites":["I18n","Main"],"updatePoint":{"line":236,"column":21,"index":5524},"line":236,"code":"    test('i18n events', () => {\n      const handlerAdd = jest.fn();\n      const handlerUpdate = jest.fn();\n      const handlerLocale = jest.fn();\n      em.on('i18n:add', handlerAdd);\n      em.on('i18n:update', handlerUpdate);\n      em.on('i18n:locale', handlerLocale);\n      obj.addMessages({\n        en: {\n          msg1: 'Msg 1',\n          msg2: 'Msg 2'\n        }\n      });\n      obj.setLocale('it');\n      expect(handlerAdd).toBeCalledTimes(1);\n      expect(handlerUpdate).toBeCalledTimes(1);\n      expect(handlerLocale).toBeCalledTimes(1);\n    });","file":"specs/i18n/index.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["Keymaps","Main"],"updatePoint":{"line":17,"column":23,"index":352},"line":17,"code":"    test('Object exists', () => {\n      expect(obj).toBeTruthy();\n    });","file":"specs/keymaps/index.js","skipped":false,"dir":"test"},{"name":"No keymaps inside","suites":["Keymaps","Main"],"updatePoint":{"line":20,"column":27,"index":430},"line":20,"code":"    test('No keymaps inside', () => {\n      var coll = obj.getAll();\n      expect(coll).toEqual({});\n    });","file":"specs/keymaps/index.js","skipped":false,"dir":"test"},{"name":"Add new keymap","suites":["Keymaps","Main"],"updatePoint":{"line":24,"column":24,"index":536},"line":24,"code":"    test('Add new keymap', () => {\n      const id = 'test';\n      const keys = 'ctrl+a';\n      const handler = () => {};\n      const model = obj.add(id, 'ctrl+a', handler);\n      expect(obj.get(id)).toEqual({\n        id,\n        keys,\n        handler\n      });\n    });","file":"specs/keymaps/index.js","skipped":false,"dir":"test"},{"name":"Add keymap event triggers","suites":["Keymaps","Main"],"updatePoint":{"line":35,"column":35,"index":816},"line":35,"code":"    test('Add keymap event triggers', () => {\n      let called = 0;\n      em.on('keymap:add', () => called = 1);\n      const model = obj.add('tes', 'ctrl+a');\n      expect(called).toEqual(1);\n    });","file":"specs/keymaps/index.js","skipped":false,"dir":"test"},{"name":"Remove keymap","suites":["Keymaps","Main"],"updatePoint":{"line":41,"column":23,"index":1004},"line":41,"code":"    test('Remove keymap', () => {\n      const id = 'test';\n      const keys = 'ctrl+a';\n      const handler = () => {};\n      const model = obj.add(id, keys, handler);\n      const removed = obj.remove(id);\n      expect(obj.get(id)).toEqual(undefined);\n      expect(obj.getAll()).toEqual({});\n      expect(removed).toEqual({\n        id,\n        keys,\n        handler\n      });\n    });","file":"specs/keymaps/index.js","skipped":false,"dir":"test"},{"name":"Remove keymap event triggers","suites":["Keymaps","Main"],"updatePoint":{"line":55,"column":38,"index":1403},"line":55,"code":"    test('Remove keymap event triggers', () => {\n      let called = 0;\n      em.on('keymap:remove', () => called = 1);\n      const model = obj.add('tes', 'ctrl+a');\n      const removed = obj.remove('tes');\n      expect(called).toEqual(1);\n    });","file":"specs/keymaps/index.js","skipped":false,"dir":"test"},{"name":"Should run the handler","suites":["Keymaps","Main","Given the edit is not on edit mode"],"updatePoint":{"line":66,"column":32,"index":1764},"line":66,"code":"      it('Should run the handler', () => {\n        const handler = {\n          run: jest.fn(),\n          callRun: jest.fn()\n        };\n        obj.add('test', 'ctrl+a', handler);\n        const keyboardEvent = new KeyboardEvent('keydown', {\n          keyCode: 65,\n          which: 65,\n          ctrlKey: true\n        });\n        document.dispatchEvent(keyboardEvent);\n        expect(handler.callRun).toBeCalled();\n      });","file":"specs/keymaps/index.js","skipped":false,"dir":"test"},{"name":"Should not run the handler","suites":["Keymaps","Main","Given the edit is on edit mode"],"updatePoint":{"line":85,"column":36,"index":2315},"line":85,"code":"      it('Should not run the handler', () => {\n        const handler = {\n          run: jest.fn(),\n          callRun: jest.fn()\n        };\n        obj.add('test', 'ctrl+a', handler);\n        const keyboardEvent = new KeyboardEvent('keydown', {\n          keyCode: 65,\n          which: 65,\n          ctrlKey: true\n        });\n        document.dispatchEvent(keyboardEvent);\n        expect(handler.callRun).toBeCalledTimes(0);\n      });","file":"specs/keymaps/index.js","skipped":false,"dir":"test"},{"name":"Should run the handler if checked as force","suites":["Keymaps","Main","Given the edit is on edit mode"],"updatePoint":{"line":99,"column":52,"index":2764},"line":99,"code":"      it('Should run the handler if checked as force', () => {\n        const handler = {\n          run: jest.fn(),\n          callRun: jest.fn()\n        };\n        obj.add('test', 'ctrl+a', handler, {\n          force: true\n        });\n        const keyboardEvent = new KeyboardEvent('keydown', {\n          keyCode: 65,\n          which: 65,\n          ctrlKey: true\n        });\n        document.dispatchEvent(keyboardEvent);\n        expect(handler.callRun).toBeCalled();\n      });","file":"specs/keymaps/index.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["Modal dialog","Main"],"updatePoint":{"line":14,"column":23,"index":305},"line":14,"code":"    test('Object exists', () => {\n      expect(obj).toBeTruthy();\n    });","file":"specs/modal/index.js","skipped":false,"dir":"test"},{"name":"Is close by default","suites":["Modal dialog","Main"],"updatePoint":{"line":17,"column":29,"index":385},"line":17,"code":"    test('Is close by default', () => {\n      expect(obj.isOpen()).toEqual(false);\n    });","file":"specs/modal/index.js","skipped":false,"dir":"test"},{"name":"Title is empty","suites":["Modal dialog","Main"],"updatePoint":{"line":20,"column":24,"index":471},"line":20,"code":"    test('Title is empty', () => {\n      expect(obj.getTitle()).toEqual('');\n    });","file":"specs/modal/index.js","skipped":false,"dir":"test"},{"name":"Content is empty","suites":["Modal dialog","Main"],"updatePoint":{"line":23,"column":26,"index":558},"line":23,"code":"    test('Content is empty', () => {\n      expect(obj.getContent()).toEqual('');\n    });","file":"specs/modal/index.js","skipped":false,"dir":"test"},{"name":"Set title","suites":["Modal dialog","Main"],"updatePoint":{"line":26,"column":19,"index":640},"line":26,"code":"    test('Set title', () => {\n      obj.setTitle('Test');\n      expect(obj.getTitle()).toEqual('Test');\n    });","file":"specs/modal/index.js","skipped":false,"dir":"test"},{"name":"Set content","suites":["Modal dialog","Main"],"updatePoint":{"line":30,"column":21,"index":754},"line":30,"code":"    test('Set content', () => {\n      obj.setContent('Test');\n      expect(obj.getContent()).toEqual('Test');\n    });","file":"specs/modal/index.js","skipped":false,"dir":"test"},{"name":"Set HTML content","suites":["Modal dialog","Main"],"updatePoint":{"line":34,"column":26,"index":877},"line":34,"code":"    test('Set HTML content', () => {\n      obj.setContent('<h1>Test</h1>');\n      expect(obj.getContent()).toEqual('<h1>Test</h1>');\n    });","file":"specs/modal/index.js","skipped":false,"dir":"test"},{"name":"Open modal","suites":["Modal dialog","Main"],"updatePoint":{"line":38,"column":20,"index":1012},"line":38,"code":"    test('Open modal', () => {\n      obj.open();\n      expect(obj.isOpen()).toEqual(true);\n    });","file":"specs/modal/index.js","skipped":false,"dir":"test"},{"name":"Close modal","suites":["Modal dialog","Main"],"updatePoint":{"line":42,"column":21,"index":1112},"line":42,"code":"    test('Close modal', () => {\n      obj.open();\n      obj.close();\n      expect(obj.isOpen()).toEqual(false);\n    });","file":"specs/modal/index.js","skipped":false,"dir":"test"},{"name":"The content is not empty","suites":["ModalView"],"updatePoint":{"line":21,"column":32,"index":548},"line":21,"code":"  test('The content is not empty', () => {\n    expect(view.el.innerHTML).toBeTruthy();\n  });","file":"specs/modal/view/ModalView.js","skipped":false,"dir":"test"},{"name":"Get content","suites":["ModalView"],"updatePoint":{"line":24,"column":19,"index":628},"line":24,"code":"  test('Get content', () => {\n    expect(view.getContent()).toBeTruthy();\n  });","file":"specs/modal/view/ModalView.js","skipped":false,"dir":"test"},{"name":"Update content","suites":["ModalView"],"updatePoint":{"line":27,"column":22,"index":711},"line":27,"code":"  test('Update content', () => {\n    model.set('content', 'test');\n    expect(view.getContent().get(0).innerHTML).toEqual('test');\n  });","file":"specs/modal/view/ModalView.js","skipped":false,"dir":"test"},{"name":"Get title","suites":["ModalView"],"updatePoint":{"line":31,"column":17,"index":843},"line":31,"code":"  test('Get title', () => {\n    expect(view.getTitle()).toBeTruthy();\n  });","file":"specs/modal/view/ModalView.js","skipped":false,"dir":"test"},{"name":"Update title","suites":["ModalView"],"updatePoint":{"line":34,"column":20,"index":922},"line":34,"code":"  test('Update title', () => {\n    model.set('title', 'test');\n    expect(view.getTitle().innerHTML).toEqual('test');\n  });","file":"specs/modal/view/ModalView.js","skipped":false,"dir":"test"},{"name":"Close by default","suites":["ModalView"],"updatePoint":{"line":38,"column":24,"index":1050},"line":38,"code":"  test('Close by default', () => {\n    view.updateOpen();\n    expect(view.el.style.display).toEqual('none');\n  });","file":"specs/modal/view/ModalView.js","skipped":false,"dir":"test"},{"name":"Open dialog","suites":["ModalView"],"updatePoint":{"line":42,"column":19,"index":1160},"line":42,"code":"  test('Open dialog', () => {\n    model.set('open', 1);\n    expect(view.el.style.display).toEqual('');\n  });","file":"specs/modal/view/ModalView.js","skipped":false,"dir":"test"},{"name":"should return `false` if the model's `style` object has a `display` property set to `none`, `true` otherwise","suites":["ItemView",".isVisible"],"updatePoint":{"line":24,"column":116,"index":740},"line":24,"code":"    it(\"should return `false` if the model's `style` object has a `display` property set to `none`, `true` otherwise\", () => {\n      expect(isVisible(itemView)).toEqual(true);\n      itemView.model.addStyle({\n        display: ''\n      });\n      expect(isVisible(itemView)).toEqual(true);\n      itemView.model.addStyle({\n        display: 'none'\n      });\n      expect(isVisible(itemView)).toEqual(false);\n      itemView.model.addStyle({\n        display: 'block'\n      });\n      expect(isVisible(itemView)).toEqual(true);\n    });","file":"specs/navigator/view/ItemView.js","skipped":false,"dir":"test"},{"name":"Pages module exists","suites":["Pages"],"updatePoint":{"line":26,"column":27,"index":529},"line":26,"code":"  test('Pages module exists', () => {\n    expect(pm).toBeTruthy();\n  });","file":"specs/pages/index.js","skipped":false,"dir":"test"},{"name":"Has by default one page created","suites":["Pages"],"updatePoint":{"line":29,"column":39,"index":614},"line":29,"code":"  test('Has by default one page created', () => {\n    expect(pm.getAll().length).toBe(1);\n  });","file":"specs/pages/index.js","skipped":false,"dir":"test"},{"name":"The default page is selected","suites":["Pages"],"updatePoint":{"line":32,"column":36,"index":707},"line":32,"code":"  test('The default page is selected', () => {\n    expect(pm.getMain()).toBe(pm.getSelected());\n  });","file":"specs/pages/index.js","skipped":false,"dir":"test"},{"name":"The default page has one frame","suites":["Pages"],"updatePoint":{"line":35,"column":38,"index":811},"line":35,"code":"  test('The default page has one frame', () => {\n    expect(pm.getMain().getFrames().length).toBe(1);\n  });","file":"specs/pages/index.js","skipped":false,"dir":"test"},{"name":"The default frame has the wrapper component","suites":["Pages"],"updatePoint":{"line":38,"column":51,"index":932},"line":38,"code":"  test('The default frame has the wrapper component', () => {\n    const frame = pm.getMain().getFrames().at(0);\n    const frameCmp = frame.getComponent();\n    expect(frameCmp.is('wrapper')).toBe(true);\n  });","file":"specs/pages/index.js","skipped":false,"dir":"test"},{"name":"The default wrapper has no content","suites":["Pages"],"updatePoint":{"line":43,"column":42,"index":1131},"line":43,"code":"  test('The default wrapper has no content', () => {\n    const frame = pm.getMain().getFrames().at(0);\n    const frameCmp = frame.getComponent();\n    expect(frameCmp.components().length).toBe(0);\n    expect(frame.getStyles().length).toBe(0);\n    expect(initCmpLen).toBe(1);\n  });","file":"specs/pages/index.js","skipped":false,"dir":"test"},{"name":"Adding new page with selection","suites":["Pages"],"updatePoint":{"line":50,"column":38,"index":1407},"line":50,"code":"  test('Adding new page with selection', () => {\n    const name = 'Test page';\n    const page = pm.add({\n      name\n    }, {\n      select: 1\n    });\n    expect(page.id).toBeTruthy();\n    expect(page.get('name')).toBe(name);\n    expect(pm.getSelected()).toBe(page);\n    expect(pm.getAll().length).toBe(2);\n    const pageComp = page.getMainComponent();\n    expect(pageComp.is('wrapper')).toBe(true);\n    expect(pageComp.components().length).toBe(0);\n  });","file":"specs/pages/index.js","skipped":false,"dir":"test"},{"name":"Pages are created correctly","suites":["Pages","Init with pages"],"updatePoint":{"line":116,"column":37,"index":3138},"line":116,"code":"    test('Pages are created correctly', () => {\n      const pages = pm.getAll();\n      expect(pages.length).toBe(initPages.length);\n      pages.map(page => {\n        // All pages should have an ID\n        expect(page.get('id')).toBeTruthy();\n        // The main component is always a wrapper\n        expect(page.getMainFrame().getComponent().is('wrapper')).toBe(true);\n      });\n      // Components container should contain the same amount of wrappers as pages\n      const wrappers = Object.keys(allbyId).map(id => allbyId[id]).filter(i => i.is('wrapper'));\n      expect(wrappers.length).toBe(initPages.length);\n      // Components container should contain the right amount of components\n      // Number of wrappers (eg. 3) where each one containes 1 component and 1 textnode (3 * 3)\n      expect(initCmpLen).toBe(initPages.length * 3);\n      // Each page contains 1 rule per component\n      expect(em.get('CssComposer').getAll().length).toBe(initPages.length);\n    });","file":"specs/pages/index.js","skipped":false,"dir":"test"},{"name":"Add page","suites":["Managing pages"],"updatePoint":{"line":158,"column":16,"index":4553},"line":158,"code":"  test('Add page', () => {\n    const eventAdd = jest.fn();\n    em.on(pm.events.add, eventAdd);\n    pm.add({});\n    expect(pm.getAll().length).toBe(2);\n    expect(eventAdd).toBeCalledTimes(1);\n  });","file":"specs/pages/index.js","skipped":false,"dir":"test"},{"name":"Abort add page","suites":["Managing pages"],"updatePoint":{"line":165,"column":22,"index":4757},"line":165,"code":"  test('Abort add page', () => {\n    em.on(pm.events.addBefore, (p, c, opts) => {\n      opts.abort = 1;\n    });\n    pm.add({});\n    expect(pm.getAll().length).toBe(1);\n  });","file":"specs/pages/index.js","skipped":false,"dir":"test"},{"name":"Abort add page and complete","suites":["Managing pages"],"updatePoint":{"line":172,"column":35,"index":4944},"line":172,"code":"  test('Abort add page and complete', () => {\n    em.on(pm.events.addBefore, (p, complete, opts) => {\n      opts.abort = 1;\n      complete();\n    });\n    pm.add({});\n    expect(pm.getAll().length).toBe(2);\n  });","file":"specs/pages/index.js","skipped":false,"dir":"test"},{"name":"Remove page","suites":["Managing pages"],"updatePoint":{"line":180,"column":19,"index":5140},"line":180,"code":"  test('Remove page', () => {\n    const eventRm = jest.fn();\n    em.on(pm.events.remove, eventRm);\n    const page = pm.add({});\n    pm.remove(page.id);\n    expect(pm.getAll().length).toBe(1);\n    expect(eventRm).toBeCalledTimes(1);\n  });","file":"specs/pages/index.js","skipped":false,"dir":"test"},{"name":"Abort remove page","suites":["Managing pages"],"updatePoint":{"line":188,"column":25,"index":5384},"line":188,"code":"  test('Abort remove page', () => {\n    em.on(pm.events.removeBefore, (p, c, opts) => {\n      opts.abort = 1;\n    });\n    const page = pm.add({});\n    pm.remove(page.id);\n    expect(pm.getAll().length).toBe(2);\n  });","file":"specs/pages/index.js","skipped":false,"dir":"test"},{"name":"Abort remove page and complete","suites":["Managing pages"],"updatePoint":{"line":196,"column":38,"index":5614},"line":196,"code":"  test('Abort remove page and complete', () => {\n    em.on(pm.events.removeBefore, (p, complete, opts) => {\n      opts.abort = 1;\n      complete();\n    });\n    const page = pm.add({});\n    pm.remove(page.id);\n    expect(pm.getAll().length).toBe(1);\n  });","file":"specs/pages/index.js","skipped":false,"dir":"test"},{"name":"Change page","suites":["Managing pages"],"updatePoint":{"line":205,"column":19,"index":5850},"line":205,"code":"  test('Change page', () => {\n    const event = jest.fn();\n    em.on(pm.events.update, event);\n    const page = pm.add({});\n    const up = {\n      name: 'Test'\n    };\n    const opts = {\n      myopts: 1\n    };\n    page.set(up, opts);\n    expect(event).toBeCalledTimes(1);\n    expect(event).toBeCalledWith(page, up, opts);\n  });","file":"specs/pages/index.js","skipped":false,"dir":"test"},{"name":"Command is correctly executed on button click","suites":["E2E tests"],"updatePoint":{"line":30,"column":53,"index":673},"line":30,"code":"  test('Command is correctly executed on button click', () => {\n    var commandId = 'command-test';\n    config.commands = {\n      defaults: [{\n        id: commandId,\n        run(ed, caller) {\n          ed.testValue = 'testValue';\n          caller.set('active', false);\n        }\n      }]\n    };\n    config.panels = {\n      defaults: [{\n        id: 'toolbar-test',\n        buttons: [{\n          id: 'button-test',\n          className: 'fa fa-smile-o',\n          command: commandId\n        }]\n      }]\n    };\n    var editor = obj.init(config);\n    editor.testValue = '';\n    var button = editor.Panels.getButton('toolbar-test', 'button-test');\n    button.set('active', 1);\n    expect(editor.testValue).toEqual('testValue');\n    expect(button.get('active')).toEqual(false);\n  });","file":"specs/panels/e2e/PanelsE2e.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["Panels","Main"],"updatePoint":{"line":15,"column":23,"index":348},"line":15,"code":"    test('Object exists', () => {\n      expect(obj).toBeTruthy();\n    });","file":"specs/panels/index.js","skipped":false,"dir":"test"},{"name":"No panels inside","suites":["Panels","Main"],"updatePoint":{"line":18,"column":26,"index":425},"line":18,"code":"    test('No panels inside', () => {\n      expect(obj.getPanels().length).toEqual(3);\n    });","file":"specs/panels/index.js","skipped":false,"dir":"test"},{"name":"Adds new panel correctly via object","suites":["Panels","Main"],"updatePoint":{"line":21,"column":45,"index":538},"line":21,"code":"    test('Adds new panel correctly via object', () => {\n      var panel = obj.addPanel({\n        id: 'test'\n      });\n      expect(panel.get('id')).toEqual('test');\n    });","file":"specs/panels/index.js","skipped":false,"dir":"test"},{"name":"New panel has no buttons","suites":["Panels","Main"],"updatePoint":{"line":27,"column":34,"index":700},"line":27,"code":"    test('New panel has no buttons', () => {\n      var panel = obj.addPanel({\n        id: 'test'\n      });\n      expect(panel.get('buttons').length).toEqual(0);\n    });","file":"specs/panels/index.js","skipped":false,"dir":"test"},{"name":"Adds new panel correctly via Panel instance","suites":["Panels","Main"],"updatePoint":{"line":33,"column":53,"index":888},"line":33,"code":"    test('Adds new panel correctly via Panel instance', () => {\n      var oPanel = new Panel(obj, {\n        id: 'test'\n      });\n      var panel = obj.addPanel(oPanel);\n      expect(panel).toEqual(oPanel);\n      expect(panel.get('id')).toEqual('test');\n    });","file":"specs/panels/index.js","skipped":false,"dir":"test"},{"name":"getPanel returns null in case there is no requested panel","suites":["Panels","Main"],"updatePoint":{"line":41,"column":67,"index":1163},"line":41,"code":"    test('getPanel returns null in case there is no requested panel', () => {\n      expect(obj.getPanel('test')).toEqual(null);\n    });","file":"specs/panels/index.js","skipped":false,"dir":"test"},{"name":"getPanel returns correctly the panel","suites":["Panels","Main"],"updatePoint":{"line":44,"column":46,"index":1278},"line":44,"code":"    test('getPanel returns correctly the panel', () => {\n      var panel = obj.addPanel({\n        id: 'test'\n      });\n      expect(obj.getPanel('test')).toEqual(panel);\n    });","file":"specs/panels/index.js","skipped":false,"dir":"test"},{"name":"Can't add button to non existent panel","suites":["Panels","Main"],"updatePoint":{"line":50,"column":48,"index":1458},"line":50,"code":"    test(\"Can't add button to non existent panel\", () => {\n      expect(obj.addButton('test', {\n        id: 'btn'\n      })).toEqual(null);\n    });","file":"specs/panels/index.js","skipped":false,"dir":"test"},{"name":"Add button correctly","suites":["Panels","Main"],"updatePoint":{"line":55,"column":30,"index":1587},"line":55,"code":"    test('Add button correctly', () => {\n      var panel = obj.addPanel({\n        id: 'test'\n      });\n      var btn = obj.addButton('test', {\n        id: 'btn'\n      });\n      expect(panel.get('buttons').length).toEqual(1);\n      expect(panel.get('buttons').at(0).get('id')).toEqual('btn');\n    });","file":"specs/panels/index.js","skipped":false,"dir":"test"},{"name":"getButton returns null in case there is no requested panel","suites":["Panels","Main"],"updatePoint":{"line":65,"column":68,"index":1925},"line":65,"code":"    test('getButton returns null in case there is no requested panel', () => {\n      expect(obj.addButton('test', 'btn')).toEqual(null);\n    });","file":"specs/panels/index.js","skipped":false,"dir":"test"},{"name":"getButton returns null in case there is no requested button","suites":["Panels","Main"],"updatePoint":{"line":68,"column":69,"index":2071},"line":68,"code":"    test('getButton returns null in case there is no requested button', () => {\n      var panel = obj.addPanel({\n        id: 'test'\n      });\n      expect(obj.getButton('test', 'btn')).toEqual(null);\n    });","file":"specs/panels/index.js","skipped":false,"dir":"test"},{"name":"getButton returns correctly the button","suites":["Panels","Main"],"updatePoint":{"line":74,"column":48,"index":2258},"line":74,"code":"    test('getButton returns correctly the button', () => {\n      var panel = obj.addPanel({\n        id: 'test'\n      });\n      var btn = obj.addButton('test', {\n        id: 'btn'\n      });\n      expect(obj.getButton('test', 'btn')).toEqual(btn);\n    });","file":"specs/panels/index.js","skipped":false,"dir":"test"},{"name":"Renders correctly","suites":["Panels","Main"],"updatePoint":{"line":83,"column":27,"index":2491},"line":83,"code":"    test('Renders correctly', () => {\n      expect(obj.render()).toBeTruthy();\n    });","file":"specs/panels/index.js","skipped":false,"dir":"test"},{"name":"Active correctly activable buttons","suites":["Panels","Main"],"updatePoint":{"line":86,"column":44,"index":2595},"line":86,"code":"    test('Active correctly activable buttons', () => {\n      var spy = sinon.spy();\n      var panel = obj.addPanel({\n        id: 'test'\n      });\n      var btn = obj.addButton('test', {\n        id: 'btn',\n        active: true\n      });\n      btn.on('updateActive', spy);\n      obj.active();\n      expect(spy.called).toEqual(true);\n    });","file":"specs/panels/index.js","skipped":false,"dir":"test"},{"name":"Disable correctly buttons flagged as disabled","suites":["Panels","Main"],"updatePoint":{"line":99,"column":55,"index":2945},"line":99,"code":"    test('Disable correctly buttons flagged as disabled', () => {\n      var spy = sinon.spy();\n      var panel = obj.addPanel({\n        id: 'test'\n      });\n      var btn = obj.addButton('test', {\n        id: 'btn',\n        disable: true\n      });\n      btn.on('change:disable', spy);\n      obj.disableButtons();\n      expect(spy.called).toEqual(true);\n    });","file":"specs/panels/index.js","skipped":false,"dir":"test"},{"name":"Can't remove button to non existent panel","suites":["Panels","Main"],"updatePoint":{"line":112,"column":51,"index":3302},"line":112,"code":"    test(\"Can't remove button to non existent panel\", () => {\n      expect(obj.removeButton('test', {\n        id: 'btn'\n      })).toEqual(null);\n    });","file":"specs/panels/index.js","skipped":false,"dir":"test"},{"name":"Remove button correctly with object","suites":["Panels","Main","Removes button"],"updatePoint":{"line":118,"column":47,"index":3490},"line":118,"code":"      test('Remove button correctly with object', () => {\n        var panel = obj.addPanel({\n          id: 'test'\n        });\n        var btn = obj.addButton('test', {\n          id: 'btn'\n        });\n        expect(panel.get('buttons').length).toEqual(1);\n        expect(panel.get('buttons').at(0).get('id')).toEqual('btn');\n        expect(obj.removeButton('test', {\n          id: 'btn'\n        })).toEqual(btn);\n        expect(panel.get('buttons').length).toEqual(0);\n      });","file":"specs/panels/index.js","skipped":false,"dir":"test"},{"name":"Remove button correctly with sting","suites":["Panels","Main","Removes button"],"updatePoint":{"line":132,"column":46,"index":3968},"line":132,"code":"      test('Remove button correctly with sting', () => {\n        var panel = obj.addPanel({\n          id: 'test'\n        });\n        var btn = obj.addButton('test', {\n          id: 'btn'\n        });\n        expect(panel.get('buttons').length).toEqual(1);\n        expect(panel.get('buttons').at(0).get('id')).toEqual('btn');\n        expect(obj.removeButton('test', 'btn')).toEqual(btn);\n        expect(panel.get('buttons').length).toEqual(0);\n      });","file":"specs/panels/index.js","skipped":false,"dir":"test"},{"name":"Removes panel correctly via object","suites":["Panels","Main","Removes Panel"],"updatePoint":{"line":146,"column":46,"index":4466},"line":146,"code":"      test('Removes panel correctly via object', () => {\n        var panel = obj.addPanel({\n          id: 'test'\n        });\n        expect(panel.get('id')).toEqual('test');\n        obj.removePanel({\n          id: 'test'\n        });\n        expect(panel.get('id')).toEqual('test');\n      });","file":"specs/panels/index.js","skipped":false,"dir":"test"},{"name":"Removes panel correctly via Panel instance","suites":["Panels","Main","Removes Panel"],"updatePoint":{"line":156,"column":54,"index":4766},"line":156,"code":"      test('Removes panel correctly via Panel instance', () => {\n        var oPanel = new Panel(obj, {\n          id: 'test'\n        });\n        var panel = obj.addPanel(oPanel);\n        expect(panel).toEqual(oPanel);\n        expect(panel.get('id')).toEqual('test');\n        obj.removePanel(oPanel);\n        expect(obj.getPanels.length).toEqual(0);\n      });","file":"specs/panels/index.js","skipped":false,"dir":"test"},{"name":"Removes panel correctly via id","suites":["Panels","Main","Removes Panel"],"updatePoint":{"line":166,"column":42,"index":5112},"line":166,"code":"      test('Removes panel correctly via id', () => {\n        var oPanel = new Panel(obj, {\n          id: 'test'\n        });\n        var panel = obj.addPanel(oPanel);\n        expect(panel).toEqual(oPanel);\n        expect(panel.get('id')).toEqual('test');\n        obj.removePanel('test');\n        expect(obj.getPanels.length).toEqual(0);\n      });","file":"specs/panels/index.js","skipped":false,"dir":"test"},{"name":"Has buttons instance","suites":["Button"],"updatePoint":{"line":12,"column":28,"index":286},"line":12,"code":"  test('Has buttons instance', () => {\n    expect(obj.has('buttons')).toEqual(true);\n  });","file":"specs/panels/model/PanelModels.js","skipped":false,"dir":"test"},{"name":"Has no buttons","suites":["Button"],"updatePoint":{"line":15,"column":22,"index":371},"line":15,"code":"  test('Has no buttons', () => {\n    expect(obj.get('buttons').length).toEqual(0);\n  });","file":"specs/panels/model/PanelModels.js","skipped":false,"dir":"test"},{"name":"Init with other buttons inside correctly","suites":["Button"],"updatePoint":{"line":18,"column":48,"index":486},"line":18,"code":"  test('Init with other buttons inside correctly', () => {\n    obj = new Button(null, {\n      buttons: [{}]\n    });\n    expect(obj.get('buttons') instanceof Buttons).toEqual(true);\n    expect(obj.get('buttons').length).toEqual(1);\n  });","file":"specs/panels/model/PanelModels.js","skipped":false,"dir":"test"},{"name":"Has a disable attribute with default value as false","suites":["Button"],"updatePoint":{"line":25,"column":59,"index":734},"line":25,"code":"  test('Has a disable attribute with default value as false', () => {\n    expect(obj.get('disable')).toEqual(false);\n  });","file":"specs/panels/model/PanelModels.js","skipped":false,"dir":"test"},{"name":"Deactivates buttons","suites":["Buttons"],"updatePoint":{"line":37,"column":27,"index":962},"line":37,"code":"  test('Deactivates buttons', () => {\n    obj.add({\n      active: true\n    });\n    obj.deactivateAll();\n    expect(obj.at(0).get('active')).toEqual(false);\n  });","file":"specs/panels/model/PanelModels.js","skipped":false,"dir":"test"},{"name":"Deactivates buttons with context","suites":["Buttons"],"updatePoint":{"line":44,"column":40,"index":1137},"line":44,"code":"  test('Deactivates buttons with context', () => {\n    obj.add({\n      active: true\n    });\n    obj.deactivateAll('someContext');\n    expect(obj.at(0).get('active')).toEqual(true);\n  });","file":"specs/panels/model/PanelModels.js","skipped":false,"dir":"test"},{"name":"Deactivates except one","suites":["Buttons"],"updatePoint":{"line":51,"column":30,"index":1314},"line":51,"code":"  test('Deactivates except one', () => {\n    var btn = obj.add({\n      active: true\n    });\n    obj.deactivateAllExceptOne();\n    expect(obj.at(0).get('active')).toEqual(false);\n  });","file":"specs/panels/model/PanelModels.js","skipped":false,"dir":"test"},{"name":"Deactivates except one with model","suites":["Buttons"],"updatePoint":{"line":58,"column":41,"index":1509},"line":58,"code":"  test('Deactivates except one with model', () => {\n    var btn = obj.add({\n      active: true\n    });\n    obj.deactivateAllExceptOne(btn);\n    expect(obj.at(0).get('active')).toEqual(true);\n  });","file":"specs/panels/model/PanelModels.js","skipped":false,"dir":"test"},{"name":"Disable all buttons","suites":["Buttons"],"updatePoint":{"line":65,"column":27,"index":1692},"line":65,"code":"  test('Disable all buttons', () => {\n    obj.add({\n      disable: false\n    });\n    obj.disableAllButtons();\n    expect(obj.at(0).get('disable')).toEqual(true);\n  });","file":"specs/panels/model/PanelModels.js","skipped":false,"dir":"test"},{"name":"Disables buttons with context","suites":["Buttons"],"updatePoint":{"line":72,"column":37,"index":1870},"line":72,"code":"  test('Disables buttons with context', () => {\n    obj.add({\n      disable: false,\n      context: 'someContext'\n    });\n    obj.disableAllButtons('someContext');\n    expect(obj.at(0).get('disable')).toEqual(true);\n  });","file":"specs/panels/model/PanelModels.js","skipped":false,"dir":"test"},{"name":"Disables except one","suites":["Buttons"],"updatePoint":{"line":80,"column":27,"index":2081},"line":80,"code":"  test('Disables except one', () => {\n    var btn = obj.add({\n      disable: false\n    });\n    obj.disableAllButtonsExceptOne(btn);\n    expect(obj.at(0).get('disable')).toEqual(false);\n  });","file":"specs/panels/model/PanelModels.js","skipped":false,"dir":"test"},{"name":"Has buttons instance","suites":["Panel"],"updatePoint":{"line":96,"column":28,"index":2406},"line":96,"code":"  test('Has buttons instance', () => {\n    expect(obj.has('buttons')).toEqual(true);\n    expect(obj.get('buttons') instanceof Buttons).toEqual(true);\n  });","file":"specs/panels/model/PanelModels.js","skipped":false,"dir":"test"},{"name":"Has no buttons","suites":["Panel"],"updatePoint":{"line":100,"column":22,"index":2556},"line":100,"code":"  test('Has no buttons', () => {\n    expect(obj.get('buttons').length).toEqual(0);\n  });","file":"specs/panels/model/PanelModels.js","skipped":false,"dir":"test"},{"name":"Init with buttons inside correctly","suites":["Panel"],"updatePoint":{"line":103,"column":42,"index":2665},"line":103,"code":"  test('Init with buttons inside correctly', () => {\n    obj = new Panel(null, {\n      buttons: [{}]\n    });\n    expect(obj.get('buttons') instanceof Buttons).toEqual(true);\n    expect(obj.get('buttons').length).toEqual(1);\n  });","file":"specs/panels/model/PanelModels.js","skipped":false,"dir":"test"},{"name":"Collection is empty","suites":["ButtonsView"],"updatePoint":{"line":20,"column":27,"index":577},"line":20,"code":"  test('Collection is empty', () => {\n    expect(view.$el.html()).toEqual('');\n  });","file":"specs/panels/view/ButtonsView.js","skipped":false,"dir":"test"},{"name":"Add new button","suites":["ButtonsView"],"updatePoint":{"line":23,"column":22,"index":657},"line":23,"code":"  test('Add new button', () => {\n    sinon.stub(view, 'addToCollection');\n    view.collection.add({});\n    expect(view.addToCollection.calledOnce).toEqual(true);\n  });","file":"specs/panels/view/ButtonsView.js","skipped":false,"dir":"test"},{"name":"Render new button","suites":["ButtonsView"],"updatePoint":{"line":28,"column":25,"index":828},"line":28,"code":"  test('Render new button', () => {\n    view.collection.add({});\n    expect(view.$el.html()).toBeTruthy();\n  });","file":"specs/panels/view/ButtonsView.js","skipped":false,"dir":"test"},{"name":"Button empty","suites":["ButtonView"],"updatePoint":{"line":25,"column":20,"index":640},"line":25,"code":"  test('Button empty', () => {\n    expect(fixtures.innerHTML).toEqual('<span class=\"' + btnClass + '\"></span>');\n  });","file":"specs/panels/view/ButtonView.js","skipped":false,"dir":"test"},{"name":"Update class","suites":["ButtonView"],"updatePoint":{"line":28,"column":20,"index":759},"line":28,"code":"  test('Update class', () => {\n    model.set('className', 'test');\n    expect(view.el.getAttribute('class')).toEqual(btnClass + ' test');\n  });","file":"specs/panels/view/ButtonView.js","skipped":false,"dir":"test"},{"name":"Update attributes","suites":["ButtonView"],"updatePoint":{"line":32,"column":25,"index":908},"line":32,"code":"  test('Update attributes', () => {\n    model.set('attributes', {\n      'data-test': 'test-value'\n    });\n    expect(view.el.getAttribute('data-test')).toEqual('test-value');\n  });","file":"specs/panels/view/ButtonView.js","skipped":false,"dir":"test"},{"name":"Check enable active","suites":["ButtonView"],"updatePoint":{"line":38,"column":27,"index":1091},"line":38,"code":"  test('Check enable active', () => {\n    model.set('active', true, {\n      silent: true\n    });\n    view.checkActive();\n    expect(view.el.getAttribute('class')).toContain(btnClass + ' gjs-pn-active');\n  });","file":"specs/panels/view/ButtonView.js","skipped":false,"dir":"test"},{"name":"Check disable active","suites":["ButtonView"],"updatePoint":{"line":45,"column":28,"index":1301},"line":45,"code":"  test('Check disable active', () => {\n    model.set('active', true, {\n      silent: true\n    });\n    view.checkActive();\n    model.set('active', false, {\n      silent: true\n    });\n    view.checkActive();\n    expect(view.el.getAttribute('class')).toEqual(btnClass);\n  });","file":"specs/panels/view/ButtonView.js","skipped":false,"dir":"test"},{"name":"Disable the button","suites":["ButtonView"],"updatePoint":{"line":56,"column":26,"index":1572},"line":56,"code":"  test('Disable the button', () => {\n    model.set('disable', true, {\n      silent: true\n    });\n    view.updateDisable();\n    expect(view.el.getAttribute('class')).toEqual(btnClass + ' gjs-disabled');\n  });","file":"specs/panels/view/ButtonView.js","skipped":false,"dir":"test"},{"name":"Enable the disabled button","suites":["ButtonView"],"updatePoint":{"line":63,"column":34,"index":1788},"line":63,"code":"  test('Enable the disabled button', () => {\n    model.set('disable', true, {\n      silent: true\n    });\n    view.updateDisable();\n    model.set('disable', false, {\n      silent: true\n    });\n    view.updateDisable();\n    expect(view.el.getAttribute('class')).toEqual(btnClass);\n  });","file":"specs/panels/view/ButtonView.js","skipped":false,"dir":"test"},{"name":"Cancels the click action when button is disabled","suites":["ButtonView"],"updatePoint":{"line":74,"column":56,"index":2095},"line":74,"code":"  test('Cancels the click action when button is disabled', () => {\n    const stub = sinon.stub(view, 'toggleActive');\n    model.set('disable', true, {\n      silent: true\n    });\n    view.clicked();\n    expect(stub.called).toEqual(false);\n  });","file":"specs/panels/view/ButtonView.js","skipped":false,"dir":"test"},{"name":"Enable the click action when button is enable","suites":["ButtonView"],"updatePoint":{"line":82,"column":53,"index":2336},"line":82,"code":"  test('Enable the click action when button is enable', () => {\n    const stub = sinon.stub(view, 'toggleActive');\n    model.set('disable', false, {\n      silent: true\n    });\n    view.clicked();\n    expect(stub.called).toEqual(true);\n  });","file":"specs/panels/view/ButtonView.js","skipped":false,"dir":"test"},{"name":"Renders correctly","suites":["ButtonView"],"updatePoint":{"line":90,"column":25,"index":2549},"line":90,"code":"  test('Renders correctly', () => {\n    expect(view.render()).toBeTruthy();\n  });","file":"specs/panels/view/ButtonView.js","skipped":false,"dir":"test"},{"name":"Collection is empty","suites":["PanelsView"],"updatePoint":{"line":21,"column":27,"index":582},"line":21,"code":"  test('Collection is empty', () => {\n    expect(view.$el.html()).toEqual('');\n  });","file":"specs/panels/view/PanelsView.js","skipped":false,"dir":"test"},{"name":"Add new panel","suites":["PanelsView"],"updatePoint":{"line":24,"column":21,"index":661},"line":24,"code":"  test('Add new panel', () => {\n    sinon.stub(view, 'addToCollection');\n    view.collection.add({});\n    expect(view.addToCollection.calledOnce).toEqual(true);\n  });","file":"specs/panels/view/PanelsView.js","skipped":false,"dir":"test"},{"name":"Render new panel","suites":["PanelsView"],"updatePoint":{"line":29,"column":24,"index":831},"line":29,"code":"  test('Render new panel', () => {\n    view.collection.add({});\n    expect(view.$el.html()).toBeTruthy();\n  });","file":"specs/panels/view/PanelsView.js","skipped":false,"dir":"test"},{"name":"Panel empty","suites":["PanelView"],"updatePoint":{"line":20,"column":19,"index":539},"line":20,"code":"  test('Panel empty', () => {\n    fixtures.firstChild.className = '';\n    expect(fixtures.innerHTML).toEqual('<div class=\"\"></div>');\n  });","file":"specs/panels/view/PanelView.js","skipped":false,"dir":"test"},{"name":"Append content","suites":["PanelView"],"updatePoint":{"line":24,"column":22,"index":682},"line":24,"code":"  test('Append content', () => {\n    model.set('appendContent', 'test');\n    model.set('appendContent', 'test2');\n    expect(view.$el.html()).toEqual('testtest2');\n  });","file":"specs/panels/view/PanelView.js","skipped":false,"dir":"test"},{"name":"Update content","suites":["PanelView"],"updatePoint":{"line":29,"column":22,"index":852},"line":29,"code":"  test('Update content', () => {\n    model.set('content', 'test');\n    model.set('content', 'test2');\n    expect(view.$el.html()).toEqual('test2');\n  });","file":"specs/panels/view/PanelView.js","skipped":false,"dir":"test"},{"name":"Hide panel","suites":["PanelView"],"updatePoint":{"line":34,"column":18,"index":1002},"line":34,"code":"  test('Hide panel', () => {\n    expect(view.$el.hasClass('gjs-hidden')).toBeFalsy();\n    model.set('visible', false);\n    expect(view.$el.hasClass('gjs-hidden')).toBeTruthy();\n  });","file":"specs/panels/view/PanelView.js","skipped":false,"dir":"test"},{"name":"Show panel","suites":["PanelView"],"updatePoint":{"line":39,"column":18,"index":1185},"line":39,"code":"  test('Show panel', () => {\n    model.set('visible', false);\n    expect(view.$el.hasClass('gjs-hidden')).toBeTruthy();\n    model.set('visible', true);\n    expect(view.$el.hasClass('gjs-hidden')).toBeFalsy();\n  });","file":"specs/panels/view/PanelView.js","skipped":false,"dir":"test"},{"name":"Parse selector","suites":["ParserCss"],"updatePoint":{"line":18,"column":22,"index":416},"line":18,"code":"  test('Parse selector', () => {\n    var str = '.test';\n    var result = [['test']];\n    expect(parseSelector(str).result).toEqual(result);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Parse selectors","suites":["ParserCss"],"updatePoint":{"line":23,"column":23,"index":563},"line":23,"code":"  test('Parse selectors', () => {\n    var str = '.test1, .test1.test2, .test2.test3';\n    var result = [['test1'], ['test1', 'test2'], ['test2', 'test3']];\n    expect(parseSelector(str).result).toEqual(result);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Ignore not valid selectors","suites":["ParserCss"],"updatePoint":{"line":28,"column":34,"index":791},"line":28,"code":"  test('Ignore not valid selectors', () => {\n    var str = '.test1.test2, .test2 .test3, div > .test4, #test.test5, .test6';\n    var result = [['test1', 'test2'], ['test6']];\n    expect(parseSelector(str).result).toEqual(result);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Parse selectors with state","suites":["ParserCss"],"updatePoint":{"line":33,"column":34,"index":1027},"line":33,"code":"  test('Parse selectors with state', () => {\n    var str = '.test1. test2, .test2>test3, .test4.test5:hover';\n    var result = [['test4', 'test5:hover']];\n    expect(parseSelector(str).result).toEqual(result);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Parse simple rule","suites":["ParserCss"],"updatePoint":{"line":38,"column":25,"index":1234},"line":38,"code":"  test('Parse simple rule', () => {\n    var str = ' .test1 {color:red; width: 50px  }';\n    var result = {\n      selectors: ['test1'],\n      style: {\n        color: 'red',\n        width: '50px'\n      }\n    };\n    expect(obj.parse(str)).toEqual([result]);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Parse rule with more selectors","suites":["ParserCss"],"updatePoint":{"line":49,"column":38,"index":1508},"line":49,"code":"  test('Parse rule with more selectors', () => {\n    var str = ' .test1.test2 {color:red; test: value}';\n    var result = {\n      selectors: ['test1', 'test2'],\n      style: {\n        color: 'red',\n        test: 'value'\n      }\n    };\n    expect(obj.parse(str)).toEqual([result]);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Parse same rule with more selectors","suites":["ParserCss"],"updatePoint":{"line":60,"column":43,"index":1800},"line":60,"code":"  test('Parse same rule with more selectors', () => {\n    var str = ' .test1.test2, .test3{ color:red }';\n    var result = [{\n      selectors: ['test1', 'test2'],\n      style: {\n        color: 'red'\n      }\n    }, {\n      selectors: ['test3'],\n      style: {\n        color: 'red'\n      }\n    }];\n    expect(obj.parse(str)).toEqual(result);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Parse more rules","suites":["ParserCss"],"updatePoint":{"line":75,"column":24,"index":2127},"line":75,"code":"  test('Parse more rules', () => {\n    var str = ' .test1.test2, .test3{ color:red } .test4, .test5.test6{ width:10px }';\n    var result = [{\n      selectors: ['test1', 'test2'],\n      style: {\n        color: 'red'\n      }\n    }, {\n      selectors: ['test3'],\n      style: {\n        color: 'red'\n      }\n    }, {\n      selectors: ['test4'],\n      style: {\n        width: '10px'\n      }\n    }, {\n      selectors: ['test5', 'test6'],\n      style: {\n        width: '10px'\n      }\n    }];\n    expect(obj.parse(str)).toEqual(result);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Parse rule with state","suites":["ParserCss"],"updatePoint":{"line":100,"column":29,"index":2667},"line":100,"code":"  test('Parse rule with state', () => {\n    var str = ' .test1.test2:hover{ color:red }';\n    var result = {\n      selectors: ['test1', 'test2'],\n      style: {\n        color: 'red'\n      },\n      state: 'hover'\n    };\n    expect(obj.parse(str)).toEqual([result]);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Parse rule with state like after","suites":["ParserCss"],"updatePoint":{"line":111,"column":40,"index":2949},"line":111,"code":"  test('Parse rule with state like after', () => {\n    var str = ' .test1.test2::after{ color:red }';\n    var result = {\n      selectors: ['test1', 'test2'],\n      style: {\n        color: 'red'\n      },\n      state: ':after'\n    };\n    expect(obj.parse(str)).toEqual([result]);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Parse rule with nth-x state","suites":["ParserCss"],"updatePoint":{"line":122,"column":35,"index":3228},"line":122,"code":"  test('Parse rule with nth-x state', () => {\n    var str = ' .test1.test2:nth-of-type(2n){ color:red }';\n    var result = {\n      selectors: ['test1', 'test2'],\n      style: {\n        color: 'red'\n      },\n      state: 'nth-of-type(2n)'\n    };\n    expect(obj.parse(str)).toEqual([result]);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Parse rule inside media query","suites":["ParserCss"],"updatePoint":{"line":135,"column":37,"index":3589},"line":135,"code":"  test('Parse rule inside media query', () => {\n    var str = '@media only screen and (max-width: 992px){ .test1.test2:hover{ color:red }}';\n    var result = {\n      atRuleType: 'media',\n      selectors: ['test1', 'test2'],\n      style: {\n        color: 'red'\n      },\n      state: 'hover',\n      mediaText: 'only screen and (max-width: 992px)'\n    };\n    expect(obj.parse(str)).toEqual([result]);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Parse rule inside media query","suites":["ParserCss"],"updatePoint":{"line":150,"column":37,"index":4055},"line":150,"code":"  test('Parse rule inside media query', () => {\n    var str = '@media (max-width: 992px){ .test1.test2:hover{ color:red }}';\n    var result = {\n      atRuleType: 'media',\n      selectors: ['test1', 'test2'],\n      style: {\n        color: 'red'\n      },\n      state: 'hover',\n      mediaText: '(max-width: 992px)'\n    };\n    expect(obj.parse(str)).toEqual([result]);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Parse rules inside media queries","suites":["ParserCss"],"updatePoint":{"line":165,"column":40,"index":4494},"line":165,"code":"  test('Parse rules inside media queries', () => {\n    var str = '.test1:hover{ color:white }@media (max-width: 992px){ .test1.test2:hover{ color:red } .test2{ color: blue }}';\n    var result = [{\n      selectors: ['test1'],\n      style: {\n        color: 'white'\n      },\n      state: 'hover'\n    }, {\n      selectors: ['test1', 'test2'],\n      style: {\n        color: 'red'\n      },\n      state: 'hover',\n      atRuleType: 'media',\n      mediaText: '(max-width: 992px)'\n    }, {\n      selectors: ['test2'],\n      style: {\n        color: 'blue'\n      },\n      atRuleType: 'media',\n      mediaText: '(max-width: 992px)'\n    }];\n    expect(obj.parse(str)).toEqual(result);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Parse rules with not class-based selectors","suites":["ParserCss"],"updatePoint":{"line":191,"column":50,"index":5181},"line":191,"code":"  test('Parse rules with not class-based selectors', () => {\n    var str = ' .class1 .class2, div > .class3 { color:red }';\n    var result = {\n      selectors: [],\n      selectorsAdd: '.class1 .class2, div > .class3',\n      style: {\n        color: 'red'\n      }\n    };\n    expect(obj.parse(str)).toEqual([result]);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Parse rule with mixed selectors","suites":["ParserCss"],"updatePoint":{"line":202,"column":39,"index":5491},"line":202,"code":"  test('Parse rule with mixed selectors', () => {\n    var str = ' .class1 .class2, .class3, div > .class4, .class5.class6 { color:red }';\n    var result = [{\n      selectors: ['class3'],\n      style: {\n        color: 'red'\n      }\n    }, {\n      selectors: ['class5', 'class6'],\n      selectorsAdd: '.class1 .class2, div > .class4',\n      style: {\n        color: 'red'\n      }\n    }];\n    expect(obj.parse(str)).toEqual(result);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Parse rule with important styles","suites":["ParserCss"],"updatePoint":{"line":218,"column":40,"index":5927},"line":218,"code":"  test('Parse rule with important styles', () => {\n    var str = ' .test1 {color:red !important; width: 100px; height: 10px !important}';\n    var result = {\n      selectors: ['test1'],\n      style: {\n        color: 'red !important',\n        height: '10px !important',\n        width: '100px'\n      }\n    };\n    expect(obj.parse(str)).toEqual([result]);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Parse rule with CSS variables","suites":["ParserCss"],"updatePoint":{"line":230,"column":37,"index":6282},"line":230,"code":"  test('Parse rule with CSS variables', () => {\n    var str = `:root {\n        --some-color: red;\n        --some-width: 55px;\n    }`;\n    var result = {\n      selectors: [],\n      selectorsAdd: ':root',\n      style: {\n        '--some-color': 'red',\n        '--some-width': '55px'\n      }\n    };\n    expect(obj.parse(str)).toEqual([result]);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Parse rule with a keyframes at-rule","suites":["ParserCss"],"line":247,"code":"  test.skip('Parse rule with a keyframes at-rule', () => {","file":"specs/parser/model/ParserCss.js","skipped":true,"dir":"test"},{"name":"Parse rule with font-face at-rule","suites":["ParserCss"],"updatePoint":{"line":269,"column":41,"index":7174},"line":269,"code":"  test('Parse rule with font-face at-rule', () => {\n    var str = `@font-face {\n     font-family: \"Open Sans\";\n    }`;\n    var result = {\n      selectors: [],\n      selectorsAdd: '',\n      atRuleType: 'font-face',\n      singleAtRule: true,\n      style: {\n        'font-family': '\"Open Sans\"'\n      }\n    };\n    expect(obj.parse(str)).toEqual([result]);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Parses multiple font-face at-rules","suites":["ParserCss"],"updatePoint":{"line":284,"column":42,"index":7534},"line":284,"code":"  test('Parses multiple font-face at-rules', () => {\n    const str = `\n      @font-face {\n        font-family: \"Open Sans\";\n      }\n      @font-face {\n        font-family: 'Glyphicons Halflings';\n        src:url(https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/fonts/glyphicons-halflings-regular.eot)\n      }`;\n    const result = [{\n      selectors: [],\n      selectorsAdd: '',\n      style: {\n        'font-family': '\"Open Sans\"'\n      },\n      singleAtRule: true,\n      atRuleType: 'font-face'\n    }, {\n      selectors: [],\n      selectorsAdd: '',\n      style: {\n        'font-family': \"'Glyphicons Halflings'\",\n        src: 'url(https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/fonts/glyphicons-halflings-regular.eot)'\n      },\n      singleAtRule: true,\n      atRuleType: 'font-face'\n    }];\n    const parsed = obj.parse(str);\n    expect(parsed).toEqual(result);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Parse ID rule","suites":["ParserCss"],"updatePoint":{"line":314,"column":21,"index":8412},"line":314,"code":"  test('Parse ID rule', () => {\n    var str = '#test { color: red }';\n    var result = {\n      selectors: ['#test'],\n      style: {\n        color: 'red'\n      }\n    };\n    expect(obj.parse(str)).toEqual([result]);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Parse ID rule with state","suites":["ParserCss"],"updatePoint":{"line":324,"column":32,"index":8643},"line":324,"code":"  test('Parse ID rule with state', () => {\n    var str = '#test:hover { color: red }';\n    var result = {\n      selectors: ['#test'],\n      state: 'hover',\n      style: {\n        color: 'red'\n      }\n    };\n    expect(obj.parse(str)).toEqual([result]);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Avoid composed selectors with ID","suites":["ParserCss"],"updatePoint":{"line":335,"column":40,"index":8910},"line":335,"code":"  test('Avoid composed selectors with ID', () => {\n    var str = '#test.class, #test.class:hover, .class  { color: red }';\n    var result = {\n      selectors: ['class'],\n      selectorsAdd: '#test.class, #test.class:hover',\n      style: {\n        color: 'red'\n      }\n    };\n    expect(obj.parse(str)).toEqual([result]);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Parse CSS with custom parser","suites":["ParserCss"],"updatePoint":{"line":346,"column":36,"index":9233},"line":346,"code":"  test('Parse CSS with custom parser', () => {\n    var str = '.test1 { color:red }';\n    var result = {\n      selectors: ['test1'],\n      style: {\n        color: 'blue'\n      }\n    };\n    obj = new ParserCss(em, {\n      parserCss: () => [result]\n    });\n    expect(obj.parse(str)).toEqual([result]);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Check node with font-face rule","suites":["ParserCss"],"updatePoint":{"line":373,"column":38,"index":9929},"line":373,"code":"  test('Check node with font-face rule', () => {\n    const style = {\n      'font-family': '\"Glyphicons Halflings\"',\n      src: 'url(\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/fonts/glyphicons-halflings-regular.eot\")'\n    };\n    expect(obj.checkNode({\n      atRule: 'font-face',\n      selectors: '',\n      style: style\n    })).toEqual([{\n      style: style,\n      atRuleType: 'font-face',\n      singleAtRule: true,\n      selectors: []\n    }]);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Check node with keyframes rule","suites":["ParserCss"],"updatePoint":{"line":389,"column":38,"index":10399},"line":389,"code":"  test('Check node with keyframes rule', () => {\n    const style = {\n      opacity: 0\n    };\n    expect(obj.checkNode({\n      atRule: 'keyframes',\n      params: 'name',\n      selectors: 'from',\n      style: style\n    })).toEqual([{\n      selectors: [],\n      atRuleType: 'keyframes',\n      selectorsAdd: 'from',\n      style: style,\n      mediaText: 'name'\n    }]);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Check node with media rule","suites":["ParserCss"],"updatePoint":{"line":406,"column":34,"index":10766},"line":406,"code":"  test('Check node with media rule', () => {\n    const style = {\n      color: 'blue'\n    };\n    expect(obj.checkNode({\n      atRule: 'media',\n      params: 'screen and (min-width: 480px)',\n      selectors: '.class-test.class2:hover, div > span ',\n      style\n    })).toEqual([{\n      atRuleType: 'media',\n      selectors: ['class-test', 'class2'],\n      selectorsAdd: 'div > span',\n      style: style,\n      state: 'hover',\n      mediaText: 'screen and (min-width: 480px)'\n    }]);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Check node with a rule containing id","suites":["ParserCss"],"updatePoint":{"line":424,"column":44,"index":11264},"line":424,"code":"  test('Check node with a rule containing id', () => {\n    const style = {\n      border: '1px solid black !important'\n    };\n    expect(obj.checkNode({\n      selectors: '#main:hover',\n      style\n    })).toEqual([{\n      selectors: ['#main'],\n      state: 'hover',\n      style: style\n    }]);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Check node with multiple class selectors","suites":["ParserCss"],"updatePoint":{"line":437,"column":48,"index":11567},"line":437,"code":"  test('Check node with multiple class selectors', () => {\n    const style = {\n      border: '1px solid black !important',\n      'background-repeat': 'repeat-y, no-repeat'\n    };\n    expect(obj.checkNode({\n      selectors: '.class1, .class1.class2:hover, div > .test:hover, span.test2',\n      style\n    })).toEqual([{\n      selectors: ['class1'],\n      style: style\n    }, {\n      selectors: ['class1', 'class2'],\n      state: 'hover',\n      selectorsAdd: 'div > .test:hover, span.test2',\n      style: style\n    }]);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Check node with a rule containing CSS variables","suites":["ParserCss"],"updatePoint":{"line":455,"column":55,"index":12097},"line":455,"code":"  test('Check node with a rule containing CSS variables', () => {\n    const style = {\n      '--some-color': 'red',\n      '--some-width': '55px'\n    };\n    expect(obj.checkNode({\n      selectors: ':root',\n      style\n    })).toEqual([{\n      selectors: [],\n      selectorsAdd: ':root',\n      style: style\n    }]);\n  });","file":"specs/parser/model/ParserCss.js","skipped":false,"dir":"test"},{"name":"Simple div node","suites":["ParserHtml"],"updatePoint":{"line":20,"column":23,"index":554},"line":20,"code":"  test('Simple div node', () => {\n    var str = '<div></div>';\n    var result = [{\n      tagName: 'div'\n    }];\n    expect(obj.parse(str).html).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Simple article node","suites":["ParserHtml"],"updatePoint":{"line":27,"column":27,"index":725},"line":27,"code":"  test('Simple article node', () => {\n    var str = '<article></article>';\n    var result = [{\n      tagName: 'article'\n    }];\n    expect(obj.parse(str).html).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Node with attributes","suites":["ParserHtml"],"updatePoint":{"line":34,"column":28,"index":909},"line":34,"code":"  test('Node with attributes', () => {\n    var str = '<div id=\"test1\" class=\"test2 test3\" data-one=\"test4\" strange=\"test5\"></div>';\n    var result = [{\n      tagName: 'div',\n      classes: ['test2', 'test3'],\n      attributes: {\n        'data-one': 'test4',\n        id: 'test1',\n        strange: 'test5'\n      }\n    }];\n    expect(obj.parse(str).html).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Parse style string to object","suites":["ParserHtml"],"updatePoint":{"line":47,"column":36,"index":1292},"line":47,"code":"  test('Parse style string to object', () => {\n    var str = 'color:black; width:100px; test:value;';\n    var result = {\n      color: 'black',\n      width: '100px',\n      test: 'value'\n    };\n    expect(obj.parseStyle(str)).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Parse style string with values containing colon to object","suites":["ParserHtml"],"updatePoint":{"line":56,"column":65,"index":1568},"line":56,"code":"  test('Parse style string with values containing colon to object', () => {\n    var str = 'background-image:url(\"https://some-website.ex\"); test:value;';\n    var result = {\n      'background-image': 'url(\"https://some-website.ex\")',\n      test: 'value'\n    };\n    expect(obj.parseStyle(str)).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Parse class string to array","suites":["ParserHtml"],"updatePoint":{"line":64,"column":35,"index":1853},"line":64,"code":"  test('Parse class string to array', () => {\n    var str = 'test1 test2    test3 test-4';\n    var result = ['test1', 'test2', 'test3', 'test-4'];\n    expect(obj.parseClass(str)).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Parse class string to array with special classes","suites":["ParserHtml"],"updatePoint":{"line":69,"column":56,"index":2076},"line":69,"code":"  test('Parse class string to array with special classes', () => {\n    var str = 'test1 test2    test3 test-4 gjs-test';\n    var result = ['test1', 'test2', 'test3', 'test-4', 'gjs-test'];\n    expect(obj.parseClass(str)).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Style attribute is isolated","suites":["ParserHtml"],"updatePoint":{"line":74,"column":35,"index":2299},"line":74,"code":"  test('Style attribute is isolated', () => {\n    var str = '<div id=\"test1\" style=\"color:black; width:100px; test:value;\"></div>';\n    var result = [{\n      tagName: 'div',\n      attributes: {\n        id: 'test1'\n      },\n      style: {\n        color: 'black',\n        width: '100px',\n        test: 'value'\n      }\n    }];\n    expect(obj.parse(str).html).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Class attribute is isolated","suites":["ParserHtml"],"updatePoint":{"line":89,"column":35,"index":2678},"line":89,"code":"  test('Class attribute is isolated', () => {\n    var str = '<div id=\"test1\" class=\"test2 test3 test4\"></div>';\n    var result = [{\n      tagName: 'div',\n      attributes: {\n        id: 'test1'\n      },\n      classes: ['test2', 'test3', 'test4']\n    }];\n    expect(obj.parse(str).html).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Parse images nodes","suites":["ParserHtml"],"updatePoint":{"line":100,"column":26,"index":2978},"line":100,"code":"  test('Parse images nodes', () => {\n    var str = '<img id=\"test1\" src=\"./index.html\"/>';\n    var result = [{\n      tagName: 'img',\n      type: 'image',\n      attributes: {\n        id: 'test1',\n        src: './index.html'\n      }\n    }];\n    expect(obj.parse(str).html).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Parse text nodes","suites":["ParserHtml"],"updatePoint":{"line":112,"column":24,"index":3270},"line":112,"code":"  test('Parse text nodes', () => {\n    var str = '<div id=\"test1\">test2 </div>';\n    var result = [{\n      tagName: 'div',\n      attributes: {\n        id: 'test1'\n      },\n      type: 'text',\n      components: {\n        type: 'textnode',\n        content: 'test2 '\n      }\n    }];\n    expect(obj.parse(str).html).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Parse text with few text tags","suites":["ParserHtml"],"updatePoint":{"line":127,"column":37,"index":3618},"line":127,"code":"  test('Parse text with few text tags', () => {\n    var str = '<div id=\"test1\"><br/> test2 <br/> a b <b>b</b> <i>i</i> <u>u</u> test </div>';\n    var result = [{\n      tagName: 'div',\n      attributes: {\n        id: 'test1'\n      },\n      type: 'text',\n      components: [{\n        tagName: 'br'\n      }, {\n        content: ' test2 ',\n        type: 'textnode',\n        tagName: ''\n      }, {\n        tagName: 'br'\n      }, {\n        content: ' a b ',\n        type: 'textnode',\n        tagName: ''\n      }, {\n        components: {\n          type: 'textnode',\n          content: 'b'\n        },\n        type: 'text',\n        tagName: 'b'\n      }, {\n        content: ' ',\n        type: 'textnode',\n        tagName: ''\n      }, {\n        components: {\n          type: 'textnode',\n          content: 'i'\n        },\n        tagName: 'i',\n        type: 'text'\n      }, {\n        content: ' ',\n        type: 'textnode',\n        tagName: ''\n      }, {\n        components: {\n          type: 'textnode',\n          content: 'u'\n        },\n        tagName: 'u',\n        type: 'text'\n      }, {\n        content: ' test ',\n        type: 'textnode',\n        tagName: ''\n      }]\n    }];\n    expect(obj.parse(str).html).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Parse text with few text tags and nested node","suites":["ParserHtml"],"updatePoint":{"line":184,"column":53,"index":4859},"line":184,"code":"  test('Parse text with few text tags and nested node', () => {\n    var str = '<div id=\"test1\">a b <b>b</b> <i>i</i>c <div>ABC</div> <i>i</i> <u>u</u> test </div>';\n    var result = [{\n      tagName: 'div',\n      attributes: {\n        id: 'test1'\n      },\n      type: 'text',\n      components: [{\n        content: 'a b ',\n        type: 'textnode',\n        tagName: ''\n      }, {\n        components: {\n          type: 'textnode',\n          content: 'b'\n        },\n        tagName: 'b',\n        type: 'text'\n      }, {\n        content: ' ',\n        type: 'textnode',\n        tagName: ''\n      }, {\n        components: {\n          type: 'textnode',\n          content: 'i'\n        },\n        tagName: 'i',\n        type: 'text'\n      }, {\n        content: 'c ',\n        type: 'textnode',\n        tagName: ''\n      }, {\n        tagName: 'div',\n        type: 'text',\n        components: {\n          type: 'textnode',\n          content: 'ABC'\n        }\n      }, {\n        content: ' ',\n        type: 'textnode',\n        tagName: ''\n      }, {\n        components: {\n          type: 'textnode',\n          content: 'i'\n        },\n        tagName: 'i',\n        type: 'text'\n      }, {\n        content: ' ',\n        type: 'textnode',\n        tagName: ''\n      }, {\n        components: {\n          type: 'textnode',\n          content: 'u'\n        },\n        tagName: 'u',\n        type: 'text'\n      }, {\n        content: ' test ',\n        type: 'textnode',\n        tagName: ''\n      }]\n    }];\n    expect(obj.parse(str).html).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Parse nested nodes","suites":["ParserHtml"],"updatePoint":{"line":255,"column":26,"index":6367},"line":255,"code":"  test('Parse nested nodes', () => {\n    var str = '<article id=\"test1\">   <div></div> <footer id=\"test2\"></footer>  Text mid <div id=\"last\"></div></article>';\n    var result = [{\n      tagName: 'article',\n      attributes: {\n        id: 'test1'\n      },\n      components: [{\n        tagName: 'div'\n      }, {\n        content: ' ',\n        type: 'textnode',\n        tagName: ''\n      }, {\n        tagName: 'footer',\n        attributes: {\n          id: 'test2'\n        }\n      }, {\n        tagName: '',\n        type: 'textnode',\n        content: '  Text mid '\n      }, {\n        tagName: 'div',\n        attributes: {\n          id: 'last'\n        }\n      }]\n    }];\n    expect(obj.parse(str).html).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Parse nested text nodes","suites":["ParserHtml"],"updatePoint":{"line":286,"column":31,"index":7091},"line":286,"code":"  test('Parse nested text nodes', () => {\n    var str = '<div>content1 <div>nested</div> content2</div>';\n    var result = [{\n      tagName: 'div',\n      type: 'text',\n      components: [{\n        tagName: '',\n        type: 'textnode',\n        content: 'content1 '\n      }, {\n        tagName: 'div',\n        type: 'text',\n        components: {\n          type: 'textnode',\n          content: 'nested'\n        }\n      }, {\n        tagName: '',\n        type: 'textnode',\n        content: ' content2'\n      }]\n    }];\n    expect(obj.parse(str).html).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Parse nested span text nodes","suites":["ParserHtml"],"updatePoint":{"line":310,"column":36,"index":7665},"line":310,"code":"  test('Parse nested span text nodes', () => {\n    var str = '<div>content1 <div><span>nested</span></div> content2</div>';\n    var result = [{\n      tagName: 'div',\n      components: [{\n        tagName: '',\n        type: 'textnode',\n        content: 'content1 '\n      }, {\n        tagName: 'div',\n        components: [{\n          tagName: 'span',\n          type: 'text',\n          components: {\n            type: 'textnode',\n            content: 'nested'\n          }\n        }]\n      }, {\n        tagName: '',\n        type: 'textnode',\n        content: ' content2'\n      }]\n    }];\n    expect(obj.parse(str).html).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Parse multiple nodes","suites":["ParserHtml"],"updatePoint":{"line":336,"column":28,"index":8295},"line":336,"code":"  test('Parse multiple nodes', () => {\n    var str = '<div></div><div></div>';\n    var result = [{\n      tagName: 'div'\n    }, {\n      tagName: 'div'\n    }];\n    expect(obj.parse(str).html).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Remove script tags","suites":["ParserHtml"],"updatePoint":{"line":345,"column":26,"index":8506},"line":345,"code":"  test('Remove script tags', () => {\n    var str = '<div><script>var test;</script></div><div></div><script>var test2;</script>';\n    var result = [{\n      tagName: 'div'\n    }, {\n      tagName: 'div'\n    }];\n    expect(obj.parse(str).html).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Isolate styles","suites":["ParserHtml"],"updatePoint":{"line":354,"column":22,"index":8766},"line":354,"code":"  test('Isolate styles', () => {\n    var str = '<div><style>.a{color: red}</style></div><div></div><style>.b{color: blue}</style>';\n    var resHtml = [{\n      tagName: 'div'\n    }, {\n      tagName: 'div'\n    }];\n    var resCss = [{\n      selectors: ['a'],\n      style: {\n        color: 'red'\n      }\n    }, {\n      selectors: ['b'],\n      style: {\n        color: 'blue'\n      }\n    }];\n    var res = obj.parse(str, new ParserCss());\n    expect(res.html).toEqual(resHtml);\n    expect(res.css).toEqual(resCss);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Respect multiple font-faces contained in styles in html","suites":["ParserHtml"],"updatePoint":{"line":376,"column":63,"index":9322},"line":376,"code":"  test('Respect multiple font-faces contained in styles in html', () => {\n    const str = `\n      <style>\n      @font-face {\n        font-family: \"Open Sans\";\n        src:url(https://fonts.gstatic.com/s/droidsans/v8/SlGVmQWMvZQIdix7AFxXkHNSbRYXags.woff2)\n      }\n      @font-face {\n        font-family: 'Glyphicons Halflings';\n        src:url(https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/fonts/glyphicons-halflings-regular.eot)\n      }\n      </style>\n      <div>a div</div>\n    `;\n    const expected = [{\n      selectors: [],\n      selectorsAdd: '',\n      style: {\n        'font-family': '\"Open Sans\"',\n        src: 'url(https://fonts.gstatic.com/s/droidsans/v8/SlGVmQWMvZQIdix7AFxXkHNSbRYXags.woff2)'\n      },\n      singleAtRule: true,\n      atRuleType: 'font-face'\n    }, {\n      selectors: [],\n      selectorsAdd: '',\n      style: {\n        'font-family': \"'Glyphicons Halflings'\",\n        src: 'url(https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/fonts/glyphicons-halflings-regular.eot)'\n      },\n      singleAtRule: true,\n      atRuleType: 'font-face'\n    }];\n    const res = obj.parse(str, new ParserCss());\n    expect(res.css).toEqual(expected);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Parse nested div with text and spaces","suites":["ParserHtml"],"updatePoint":{"line":412,"column":45,"index":10496},"line":412,"code":"  test('Parse nested div with text and spaces', () => {\n    var str = '<div> <p>TestText</p> </div>';\n    var result = [{\n      tagName: 'div',\n      type: 'text',\n      components: [{\n        tagName: '',\n        type: 'textnode',\n        content: ' '\n      }, {\n        tagName: 'p',\n        components: {\n          type: 'textnode',\n          content: 'TestText'\n        },\n        type: 'text'\n      }, {\n        tagName: '',\n        type: 'textnode',\n        content: ' '\n      }]\n    }];\n    expect(obj.parse(str).html).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Parse node with model attributes to fetch","suites":["ParserHtml"],"updatePoint":{"line":436,"column":49,"index":11049},"line":436,"code":"  test('Parse node with model attributes to fetch', () => {\n    var str = '<div id=\"test1\" data-test=\"test-value\" data-gjs-draggable=\".myselector\" data-gjs-stuff=\"test\">test2 </div>';\n    var result = [{\n      tagName: 'div',\n      draggable: '.myselector',\n      stuff: 'test',\n      attributes: {\n        id: 'test1',\n        'data-test': 'test-value'\n      },\n      type: 'text',\n      components: {\n        type: 'textnode',\n        content: 'test2 '\n      }\n    }];\n    expect(obj.parse(str).html).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Parse model attributes with true and false","suites":["ParserHtml"],"updatePoint":{"line":454,"column":50,"index":11576},"line":454,"code":"  test('Parse model attributes with true and false', () => {\n    var str = '<div id=\"test1\" data-test=\"test-value\" data-gjs-draggable=\"true\" data-gjs-stuff=\"false\">test2 </div>';\n    var result = [{\n      tagName: 'div',\n      draggable: true,\n      stuff: false,\n      attributes: {\n        id: 'test1',\n        'data-test': 'test-value'\n      },\n      type: 'text',\n      components: {\n        type: 'textnode',\n        content: 'test2 '\n      }\n    }];\n    expect(obj.parse(str).html).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Parse attributes with object inside","suites":["ParserHtml"],"updatePoint":{"line":472,"column":43,"index":12080},"line":472,"code":"  test('Parse attributes with object inside', () => {\n    var str = '<div data-gjs-test=\\'{ \"prop1\": \"value1\", \"prop2\": 10, \"prop3\": true}\\'>test2 </div>';\n    var result = [{\n      tagName: 'div',\n      attributes: {},\n      type: 'text',\n      test: {\n        prop1: 'value1',\n        prop2: 10,\n        prop3: true\n      },\n      components: {\n        type: 'textnode',\n        content: 'test2 '\n      }\n    }];\n    expect(obj.parse(str).html).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Parse attributes with arrays inside","suites":["ParserHtml"],"updatePoint":{"line":490,"column":43,"index":12550},"line":490,"code":"  test('Parse attributes with arrays inside', () => {\n    var str = '<div data-gjs-test=\\'[\"value1\", \"value2\"]\\'>test2 </div>';\n    var result = [{\n      tagName: 'div',\n      attributes: {},\n      type: 'text',\n      test: ['value1', 'value2'],\n      components: {\n        type: 'textnode',\n        content: 'test2 '\n      }\n    }];\n    expect(obj.parse(str).html).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"SVG is properly parsed","suites":["ParserHtml"],"updatePoint":{"line":504,"column":30,"index":12926},"line":504,"code":"  test('SVG is properly parsed', () => {\n    const str = `<div>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <linearGradient x1=\"0%\" y1=\"0%\"/>\n        <path d=\"M13 12h7v1.5h-7m0-4h7V11h-7m0 3.5h7V16h-7m8-12H3c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 15h-9V6h9\"></path>\n      </svg>\n    </div>`;\n    const result = [{\n      tagName: 'div',\n      components: [{\n        type: 'svg',\n        tagName: 'svg',\n        attributes: {\n          xmlns: 'http://www.w3.org/2000/svg',\n          viewBox: '0 0 24 24'\n        },\n        components: [{\n          tagName: 'linearGradient',\n          attributes: {\n            x1: '0%',\n            y1: '0%'\n          },\n          type: 'svg-in'\n        }, {\n          tagName: 'path',\n          attributes: {\n            d: 'M13 12h7v1.5h-7m0-4h7V11h-7m0 3.5h7V16h-7m8-12H3c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 15h-9V6h9'\n          },\n          type: 'svg-in'\n        }]\n      }]\n    }];\n    expect(obj.parse(str).html).toEqual(result);\n  });","file":"specs/parser/model/ParserHtml.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["PluginManager","Main"],"updatePoint":{"line":15,"column":23,"index":317},"line":15,"code":"    test('Object exists', () => {\n      expect(obj).toBeTruthy();\n    });","file":"specs/plugin_manager/index.js","skipped":false,"dir":"test"},{"name":"No plugins inside","suites":["PluginManager","Main"],"updatePoint":{"line":18,"column":27,"index":395},"line":18,"code":"    test('No plugins inside', () => {\n      expect(obj.getAll()).toEqual({});\n    });","file":"specs/plugin_manager/index.js","skipped":false,"dir":"test"},{"name":"Add new plugin","suites":["PluginManager","Main"],"updatePoint":{"line":21,"column":24,"index":478},"line":21,"code":"    test('Add new plugin', () => {\n      obj.add('test', testPlugin);\n      expect(obj.get('test')).toBeTruthy();\n    });","file":"specs/plugin_manager/index.js","skipped":false,"dir":"test"},{"name":"Added plugin is working","suites":["PluginManager","Main"],"updatePoint":{"line":25,"column":33,"index":609},"line":25,"code":"    test('Added plugin is working', () => {\n      obj.add('test', testPlugin);\n      var plugin = obj.get('test');\n      plugin('tval');\n      expect(val).toEqual('tval');\n    });","file":"specs/plugin_manager/index.js","skipped":false,"dir":"test"},{"name":"Assign correctly new class to component","suites":["E2E tests","Interaction with Components"],"updatePoint":{"line":31,"column":49,"index":886},"line":31,"code":"    test('Assign correctly new class to component', () => {\n      var model = components.add({});\n      expect(model.get('classes').length).toEqual(0);\n      gjs.select(model);\n      tagEl.addNewTag('test');\n      expect(model.get('classes').length).toEqual(1);\n      expect(model.get('classes').at(0).get('name')).toEqual('test');\n    });","file":"specs/selector_manager/e2e/ClassManager.js","skipped":false,"dir":"test"},{"name":"Classes from components are correctly imported inside main container","suites":["E2E tests","Interaction with Components"],"updatePoint":{"line":39,"column":78,"index":1255},"line":39,"code":"    test('Classes from components are correctly imported inside main container', () => {\n      var model = components.add([{\n        classes: ['test11', 'test12', 'test13']\n      }, {\n        classes: ['test11', 'test22', 'test22']\n      }]);\n      expect(gjs.editor.get('SelectorManager').getAll().length).toEqual(4);\n    });","file":"specs/selector_manager/e2e/ClassManager.js","skipped":false,"dir":"test"},{"name":"Class imported into component is the same model from main container","suites":["E2E tests","Interaction with Components"],"updatePoint":{"line":47,"column":77,"index":1581},"line":47,"code":"    test('Class imported into component is the same model from main container', () => {\n      var model = components.add({\n        classes: ['test1']\n      });\n      var clModel = model.get('classes').at(0);\n      var clModel2 = gjs.editor.get('SelectorManager').getAll().at(0);\n      expect(clModel).toEqual(clModel2);\n    });","file":"specs/selector_manager/e2e/ClassManager.js","skipped":false,"dir":"test"},{"name":"Can assign only one time the same class on selected component and the class viewer","suites":["E2E tests","Interaction with Components"],"updatePoint":{"line":55,"column":92,"index":1924},"line":55,"code":"    test('Can assign only one time the same class on selected component and the class viewer', () => {\n      var model = components.add({});\n      gjs.select(model);\n      tagEl.addNewTag('test');\n      tagEl.addNewTag('test');\n      const sels = model.getSelectors();\n      // Component has 1 selector\n      expect(sels.length).toEqual(1);\n      expect(sels.at(0).get('name')).toEqual('test');\n      // One only selector added\n      expect(module.getAll().length).toEqual(1);\n      expect(module.getAll().at(0).get('name')).toEqual('test');\n    });","file":"specs/selector_manager/e2e/ClassManager.js","skipped":false,"dir":"test"},{"name":"Removing from container removes also from selected component","suites":["E2E tests","Interaction with Components"],"updatePoint":{"line":68,"column":70,"index":2452},"line":68,"code":"    test('Removing from container removes also from selected component', () => {\n      var model = components.add({});\n      gjs.editor.setSelected(model);\n      tagEl.addNewTag('test');\n      tagEl.getClasses().find('.tag #close').trigger('click');\n      setTimeout(() => expect(model.get('classes').length).toEqual(0));\n    });","file":"specs/selector_manager/e2e/ClassManager.js","skipped":false,"dir":"test"},{"name":"Trigger correctly event on target with new class add","suites":["E2E tests","Interaction with Components"],"updatePoint":{"line":75,"column":62,"index":2774},"line":75,"code":"    test('Trigger correctly event on target with new class add', () => {\n      var spy = sinon.spy();\n      var model = components.add({});\n      gjs.select(model);\n      tagEl.addNewTag('test');\n      gjs.editor.on('component:update:classes', spy);\n      tagEl.addNewTag('test');\n      expect(spy.called).toEqual(false);\n      tagEl.addNewTag('test2');\n      expect(spy.called).toEqual(true);\n    });","file":"specs/selector_manager/e2e/ClassManager.js","skipped":false,"dir":"test"},{"name":"Selectors are properly transformed to JSON","suites":["E2E tests","Interaction with Components"],"updatePoint":{"line":86,"column":52,"index":3166},"line":86,"code":"    test('Selectors are properly transformed to JSON', () => {\n      const model = components.add({\n        classes: ['test1', '.test1a', '#test2', {\n          name: 'test3',\n          label: 'test3'\n        }, {\n          name: 'test4',\n          label: 'test4a'\n        }, {\n          name: 'test5'\n        }, {\n          name: 'test6',\n          type: Selector.TYPE_CLASS\n        }, {\n          name: 'test7',\n          type: Selector.TYPE_ID\n        }, {\n          name: 'test8',\n          type: Selector.TYPE_CLASS,\n          protected: 1\n        }, {\n          name: 'test9',\n          type: Selector.TYPE_ID,\n          protected: 1\n        }, {\n          label: 'test10'\n        }, {\n          label: 'test11',\n          type: Selector.TYPE_ID\n        }, {\n          label: 'test12',\n          protected: 1\n        }]\n      });\n      const modelTr = JSON.parse(JSON.stringify(model));\n      expect(modelTr.classes).toEqual(['test1', 'test1a', '#test2', 'test3', {\n        name: 'test4',\n        label: 'test4a'\n      }, 'test5', 'test6', '#test7', {\n        name: 'test8',\n        protected: 1\n      }, {\n        name: 'test9',\n        type: Selector.TYPE_ID,\n        protected: 1\n      }, 'test10', '#test11', {\n        name: 'test12',\n        protected: 1\n      }]);\n    });","file":"specs/selector_manager/e2e/ClassManager.js","skipped":false,"dir":"test"},{"name":"Has name property","suites":["Selector"],"updatePoint":{"line":10,"column":25,"index":336},"line":10,"code":"  test('Has name property', () => {\n    expect(obj.has('name')).toEqual(true);\n  });","file":"specs/selector_manager/model/SelectorModels.ts","skipped":false,"dir":"test"},{"name":"Has label property","suites":["Selector"],"updatePoint":{"line":13,"column":26,"index":422},"line":13,"code":"  test('Has label property', () => {\n    expect(obj.has('label')).toEqual(true);\n  });","file":"specs/selector_manager/model/SelectorModels.ts","skipped":false,"dir":"test"},{"name":"Has active property","suites":["Selector"],"updatePoint":{"line":16,"column":27,"index":510},"line":16,"code":"  test('Has active property', () => {\n    expect(obj.has('active')).toEqual(true);\n  });","file":"specs/selector_manager/model/SelectorModels.ts","skipped":false,"dir":"test"},{"name":"escapeName test","suites":["Selector"],"updatePoint":{"line":19,"column":23,"index":595},"line":19,"code":"  test('escapeName test', () => {\n    expect(Selector.escapeName(nameToEscape)).toEqual(nameEscaped);\n  });","file":"specs/selector_manager/model/SelectorModels.ts","skipped":false,"dir":"test"},{"name":"Name is corrected at instantiation","suites":["Selector"],"updatePoint":{"line":22,"column":42,"index":722},"line":22,"code":"  test('Name is corrected at instantiation', () => {\n    obj = new Selector({\n      name: nameToEscape\n    });\n    expect(obj.get('name')).toEqual(nameEscaped);\n  });","file":"specs/selector_manager/model/SelectorModels.ts","skipped":false,"dir":"test"},{"name":"Creates collection item correctly","suites":["Selectors"],"updatePoint":{"line":34,"column":41,"index":987},"line":34,"code":"  test('Creates collection item correctly', () => {\n    var c = new Selectors();\n    var m = c.add({});\n    expect(m instanceof Selector).toEqual(true);\n  });","file":"specs/selector_manager/model/SelectorModels.ts","skipped":false,"dir":"test"},{"name":"getFullString with single class","suites":["Selectors"],"updatePoint":{"line":39,"column":39,"index":1144},"line":39,"code":"  test('getFullString with single class', () => {\n    obj.add({\n      name: 'test'\n    });\n    expect(obj.getFullString()).toEqual('.test');\n  });","file":"specs/selector_manager/model/SelectorModels.ts","skipped":false,"dir":"test"},{"name":"getFullString with multiple classes","suites":["Selectors"],"updatePoint":{"line":45,"column":43,"index":1295},"line":45,"code":"  test('getFullString with multiple classes', () => {\n    obj.add([{\n      name: 'test'\n    }, {\n      name: 'test2'\n    }]);\n    expect(obj.getFullString()).toEqual('.test.test2');\n  });","file":"specs/selector_manager/model/SelectorModels.ts","skipped":false,"dir":"test"},{"name":"getFullString with mixed selectors","suites":["Selectors"],"updatePoint":{"line":53,"column":42,"index":1482},"line":53,"code":"  test('getFullString with mixed selectors', () => {\n    obj.add([{\n      name: 'test'\n    }, {\n      name: 'test2',\n      type: Selector.TYPE_ID\n    }]);\n    expect(obj.getFullString()).toEqual('.test#test2');\n  });","file":"specs/selector_manager/model/SelectorModels.ts","skipped":false,"dir":"test"},{"name":"getFullName with combination of 2 classes","suites":["Selectors"],"updatePoint":{"line":62,"column":49,"index":1706},"line":62,"code":"  test('getFullName with combination of 2 classes', () => {\n    obj.add([{\n      name: 'a'\n    }, {\n      name: 'b'\n    }]);\n    expect(obj.getFullName({\n      combination: true,\n      array: true\n    })).toEqual(['.a', '.a.b', '.b']);\n    expect(obj.getFullName({\n      combination: true\n    })).toEqual('.a,.a.b,.b');\n    expect(obj.getFullName({\n      array: true\n    })).toEqual(['.a', '.b']);\n    expect(obj.getFullName()).toEqual('.a.b');\n  });","file":"specs/selector_manager/model/SelectorModels.ts","skipped":false,"dir":"test"},{"name":"getFullName with combination of 3 classes","suites":["Selectors"],"updatePoint":{"line":80,"column":49,"index":2157},"line":80,"code":"  test('getFullName with combination of 3 classes', () => {\n    obj.add([{\n      name: 'c'\n    }, {\n      name: 'b'\n    }, {\n      name: 'a'\n    }]);\n    expect(obj.getFullName({\n      combination: true,\n      array: true\n    })).toEqual(['.a', '.a.b', '.a.b.c', '.a.c', '.b', '.b.c', '.c']);\n  });","file":"specs/selector_manager/model/SelectorModels.ts","skipped":false,"dir":"test"},{"name":"getFullName with combination of 4 classes","suites":["Selectors"],"updatePoint":{"line":93,"column":49,"index":2456},"line":93,"code":"  test('getFullName with combination of 4 classes', () => {\n    obj.add([{\n      name: 'd'\n    }, {\n      name: 'c'\n    }, {\n      name: 'b'\n    }, {\n      name: 'a'\n    }]);\n    expect(obj.getFullName({\n      combination: true,\n      array: true\n    })).toEqual(['.a', '.a.b', '.a.b.c', '.a.b.c.d', '.a.b.d', '.a.c', '.a.c.d', '.a.d', '.b', '.b.c', '.b.c.d', '.b.d', '.c', '.c.d', '.d']);\n  });","file":"specs/selector_manager/model/SelectorModels.ts","skipped":false,"dir":"test"},{"name":"Object exists","suites":["ClassTagsView"],"updatePoint":{"line":65,"column":21,"index":1737},"line":65,"code":"  test('Object exists', () => {\n    expect(ClassTagsView).toBeTruthy();\n  });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Not tags inside","suites":["ClassTagsView"],"updatePoint":{"line":68,"column":23,"index":1817},"line":68,"code":"  test('Not tags inside', () => {\n    expect(testContext.$tags.html()).toEqual('');\n  });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Add new tag triggers correct method","suites":["ClassTagsView"],"updatePoint":{"line":71,"column":43,"index":1927},"line":71,"code":"  test('Add new tag triggers correct method', () => {\n    sinon.stub(view, 'addToClasses');\n    coll.add({\n      name: 'test'\n    });\n    expect(view.addToClasses.calledOnce).toEqual(true);\n  });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Start new tag creation","suites":["ClassTagsView"],"updatePoint":{"line":78,"column":30,"index":2110},"line":78,"code":"  test('Start new tag creation', () => {\n    testContext.btnAdd.trigger('click');\n    expect(testContext.btnAdd.css('display')).toEqual('none');\n    expect(testContext.input.css('display')).not.toEqual('none');\n  });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Stop tag creation","suites":["ClassTagsView"],"updatePoint":{"line":83,"column":25,"index":2322},"line":83,"code":"  test('Stop tag creation', () => {\n    testContext.btnAdd.trigger('click');\n    testContext.input.val('test');\n    testContext.input.trigger('focusout');\n    expect(testContext.btnAdd.css('display')).not.toEqual('none');\n    expect(testContext.input.css('display')).toEqual('none');\n    expect(testContext.input.val()).toBeFalsy();\n  });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Check keyup of ESC on input","suites":["ClassTagsView"],"line":91,"code":"  test.skip('Check keyup of ESC on input', function () {","file":"specs/selector_manager/view/ClassTagsView.js","skipped":true,"dir":"test"},{"name":"Check keyup on ENTER on input","suites":["ClassTagsView"],"line":100,"code":"  test.skip('Check keyup on ENTER on input', function () {","file":"specs/selector_manager/view/ClassTagsView.js","skipped":true,"dir":"test"},{"name":"Collection changes on update of target","suites":["ClassTagsView"],"updatePoint":{"line":109,"column":46,"index":3180},"line":109,"code":"  test('Collection changes on update of target', done => {\n    coll.add({\n      name: 'test'\n    });\n    target.trigger('component:toggled');\n    setTimeout(() => {\n      expect(coll.length).toEqual(0);\n      done();\n    });\n  });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Collection reacts on reset","suites":["ClassTagsView"],"updatePoint":{"line":119,"column":34,"index":3399},"line":119,"code":"  test('Collection reacts on reset', () => {\n    coll.add([{\n      name: 'test1'\n    }, {\n      name: 'test2'\n    }]);\n    sinon.stub(view, 'addToClasses');\n    coll.trigger('reset');\n    expect(view.addToClasses.calledTwice).toEqual(true);\n  });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Don't accept empty tags","suites":["ClassTagsView"],"updatePoint":{"line":129,"column":31,"index":3643},"line":129,"code":"  test(\"Don't accept empty tags\", () => {\n    view.addNewTag('');\n    expect(testContext.$tags.html()).toEqual('');\n  });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Accept new tags","suites":["ClassTagsView"],"updatePoint":{"line":133,"column":23,"index":3757},"line":133,"code":"  test('Accept new tags', done => {\n    em.setSelected(compTest);\n    view.addNewTag('test');\n    view.addNewTag('test2');\n    setTimeout(() => {\n      expect(testContext.$tags.children().length).toEqual(2);\n      done();\n    });\n  });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"New tag correctly added","suites":["ClassTagsView"],"updatePoint":{"line":142,"column":31,"index":4001},"line":142,"code":"  test('New tag correctly added', () => {\n    coll.add({\n      label: 'test'\n    });\n    expect(testContext.$tags.children().first().find('[data-tag-name]').text()).toEqual('test');\n  });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"States are hidden in case no tags","suites":["ClassTagsView"],"updatePoint":{"line":148,"column":41,"index":4199},"line":148,"code":"  test('States are hidden in case no tags', () => {\n    view.updateStateVis();\n    expect(testContext.$statesC.css('display')).toEqual('none');\n  });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"States are visible in case of more tags inside","suites":["ClassTagsView"],"updatePoint":{"line":152,"column":54,"index":4362},"line":152,"code":"  test('States are visible in case of more tags inside', () => {\n    coll.add({\n      label: 'test'\n    });\n    view.updateStateVis();\n    expect(testContext.$statesC.css('display')).toEqual('');\n  });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Update state visibility on new tag","suites":["ClassTagsView"],"updatePoint":{"line":159,"column":42,"index":4552},"line":159,"code":"  test('Update state visibility on new tag', done => {\n    sinon.stub(view, 'updateStateVis');\n    em.setSelected(compTest);\n    view.addNewTag('test');\n    setTimeout(() => {\n      expect(view.updateStateVis.called).toEqual(true);\n      done();\n    });\n  });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Update state visibility on removing of the tag","suites":["ClassTagsView"],"updatePoint":{"line":168,"column":54,"index":4824},"line":168,"code":"  test('Update state visibility on removing of the tag', done => {\n    em.setSelected(compTest);\n    view.addNewTag('test');\n    sinon.stub(view, 'updateStateVis');\n    coll.remove(coll.at(0));\n    setTimeout(() => {\n      expect(view.updateStateVis.calledOnce).toEqual(true);\n      done();\n    });\n  });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Output correctly state options","suites":["ClassTagsView"],"updatePoint":{"line":178,"column":38,"index":5113},"line":178,"code":"  test('Output correctly state options', done => {\n    target.get('SelectorManager').setStates([{\n      name: 'testName',\n      label: 'testLabel'\n    }]);\n    setTimeout(() => {\n      const res = '<option value=\"\">- State -</option><option value=\"testName\">testLabel</option>';\n      expect(view.getStates()[0].innerHTML).toEqual(res);\n      done();\n    });\n  });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Returns empty array with no arguments","suites":["ClassTagsView","_commonSelectors"],"updatePoint":{"line":190,"column":47,"index":5526},"line":190,"code":"    test('Returns empty array with no arguments', () => {\n      expect(view._commonSelectors()).toEqual([]);\n    });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Returns the first item if only one argument is passed","suites":["ClassTagsView","_commonSelectors"],"updatePoint":{"line":193,"column":63,"index":5659},"line":193,"code":"    test('Returns the first item if only one argument is passed', () => {\n      const item = [1, 2];\n      expect(view._commonSelectors(item)).toEqual(item);\n    });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Returns corret output with 2 arrays","suites":["ClassTagsView","_commonSelectors"],"updatePoint":{"line":197,"column":45,"index":5807},"line":197,"code":"    test('Returns corret output with 2 arrays', () => {\n      const item1 = [1, 2, 3, 4];\n      const item2 = [3, 4, 5, 6];\n      expect(view._commonSelectors(item1, item2)).toEqual([3, 4]);\n    });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Returns corret output with more arrays","suites":["ClassTagsView","_commonSelectors"],"updatePoint":{"line":202,"column":48,"index":6009},"line":202,"code":"    test('Returns corret output with more arrays', () => {\n      const item1 = [1, 2, 3, 4, 5];\n      const item2 = [3, 4, 5, 6];\n      const item3 = [30, 5, 6];\n      expect(view._commonSelectors(item1, item2, item3)).toEqual([5]);\n    });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Returns empty array with no targets","suites":["ClassTagsView","getCommonSelectors"],"updatePoint":{"line":210,"column":45,"index":6294},"line":210,"code":"    test('Returns empty array with no targets', () => {\n      expect(view.getCommonSelectors({\n        targets: []\n      })).toEqual([]);\n    });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Returns the selectors of a single component","suites":["ClassTagsView","getCommonSelectors"],"updatePoint":{"line":215,"column":53,"index":6448},"line":215,"code":"    test('Returns the selectors of a single component', () => {\n      const cmp = newComponent({\n        classes: 'test1 test2 test3'\n      });\n      const selectors = cmp.getSelectors();\n      const result = view.getCommonSelectors({\n        targets: [cmp]\n      });\n      expect(getSelectorNames(result)).toEqual(getSelectorNames(selectors));\n    });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Returns common selectors of two components","suites":["ClassTagsView","getCommonSelectors"],"updatePoint":{"line":225,"column":52,"index":6800},"line":225,"code":"    test('Returns common selectors of two components', () => {\n      const cmp1 = newComponent({\n        classes: 'test1 test2 test3'\n      });\n      const cmp2 = newComponent({\n        classes: 'test1 test2'\n      });\n      const result = view.getCommonSelectors({\n        targets: [cmp1, cmp2]\n      });\n      expect(getSelectorNames(result)).toEqual(['.test1', '.test2']);\n    });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Returns common selectors of more components","suites":["ClassTagsView","getCommonSelectors"],"updatePoint":{"line":237,"column":53,"index":7185},"line":237,"code":"    test('Returns common selectors of more components', () => {\n      const cmp1 = newComponent({\n        classes: 'test1 test2 test3'\n      });\n      const cmp2 = newComponent({\n        classes: 'test1 test2'\n      });\n      const cmp3 = newComponent({\n        classes: 'test2 test3'\n      });\n      const result = view.getCommonSelectors({\n        targets: [cmp1, cmp2, cmp3]\n      });\n      expect(getSelectorNames(result)).toEqual(['.test2']);\n    });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Returns empty array with components without common selectors","suites":["ClassTagsView","getCommonSelectors"],"updatePoint":{"line":252,"column":70,"index":7658},"line":252,"code":"    test('Returns empty array with components without common selectors', () => {\n      const cmp1 = newComponent({\n        classes: 'test1 test2 test3'\n      });\n      const cmp2 = newComponent({\n        classes: 'test1 test2'\n      });\n      const cmp3 = newComponent({\n        classes: 'test4'\n      });\n      const result = view.getCommonSelectors({\n        targets: [cmp1, cmp2, cmp3]\n      });\n      expect(getSelectorNames(result)).toEqual([]);\n    });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Returns empty array without targets","suites":["ClassTagsView","updateSelection"],"updatePoint":{"line":269,"column":45,"index":8136},"line":269,"code":"    test('Returns empty array without targets', () => {\n      expect(view.updateSelection([])).toEqual([]);\n    });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Returns empty array with invalid selectors","suites":["ClassTagsView","updateSelection"],"updatePoint":{"line":272,"column":52,"index":8259},"line":272,"code":"    test('Returns empty array with invalid selectors', () => {\n      expect(view.updateSelection('body .test')).toEqual([]);\n    });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Returns array with common selectors from Components","suites":["ClassTagsView","updateSelection"],"updatePoint":{"line":275,"column":61,"index":8401},"line":275,"code":"    test('Returns array with common selectors from Components', () => {\n      const cmp1 = newComponent({\n        classes: 'test1 test2 test3'\n      });\n      const cmp2 = newComponent({\n        classes: 'test1 test2'\n      });\n      const cmp3 = newComponent({\n        classes: 'test2 test3'\n      });\n      const result = view.updateSelection([cmp1, cmp2, cmp3]);\n      expect(getSelectorNames(result)).toEqual(['.test2']);\n    });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Returns array with common selectors from CssRule","suites":["ClassTagsView","updateSelection"],"updatePoint":{"line":288,"column":58,"index":8832},"line":288,"code":"    test('Returns array with common selectors from CssRule', () => {\n      const rule1 = newRule({\n        selectors: 'test1 test2 test3'.split(' ')\n      });\n      const rule2 = newRule({\n        selectors: 'test1 test2'.split(' ')\n      });\n      const rule3 = newRule({\n        selectors: 'test2 test3'.split(' ')\n      });\n      const result = view.updateSelection([rule1, rule2, rule3]);\n      expect(getSelectorNames(result)).toEqual(['.test2']);\n    });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Returns array with common selectors from CssRule and Components","suites":["ClassTagsView","updateSelection"],"updatePoint":{"line":301,"column":73,"index":9308},"line":301,"code":"    test('Returns array with common selectors from CssRule and Components', () => {\n      const rule1 = newRule({\n        selectors: 'test1 test2 test3'.split(' ')\n      });\n      const rule2 = newRule({\n        selectors: 'test1 test2'.split(' ')\n      });\n      const cmp1 = newComponent({\n        classes: 'test2 test3'\n      });\n      const result = view.updateSelection([rule1, rule2, cmp1]);\n      expect(getSelectorNames(result)).toEqual(['.test2']);\n    });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Has label","suites":["ClassTagsView","Should be rendered correctly"],"updatePoint":{"line":316,"column":19,"index":9777},"line":316,"code":"    test('Has label', () => {\n      expect(view.$el.find('#label')[0]).toBeTruthy();\n    });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Has tags container","suites":["ClassTagsView","Should be rendered correctly"],"updatePoint":{"line":319,"column":28,"index":9879},"line":319,"code":"    test('Has tags container', () => {\n      expect(view.$el.find('#tags-c')[0]).toBeTruthy();\n    });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Has add button","suites":["ClassTagsView","Should be rendered correctly"],"updatePoint":{"line":322,"column":24,"index":9978},"line":322,"code":"    test('Has add button', () => {\n      expect(view.$el.find('#add-tag')[0]).toBeTruthy();\n    });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Has states input","suites":["ClassTagsView","Should be rendered correctly"],"updatePoint":{"line":325,"column":26,"index":10080},"line":325,"code":"    test('Has states input', () => {\n      expect(view.$el.find('#states')[0]).toBeTruthy();\n    });","file":"specs/selector_manager/view/ClassTagsView.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["ClassTagView"],"updatePoint":{"line":34,"column":21,"index":861},"line":34,"code":"  test('Object exists', () => {\n    expect(ClassTagView).toBeTruthy();\n  });","file":"specs/selector_manager/view/ClassTagView.js","skipped":false,"dir":"test"},{"name":"Not empty","suites":["ClassTagView"],"updatePoint":{"line":37,"column":17,"index":934},"line":37,"code":"  test('Not empty', () => {\n    var $el = obj.$el;\n    expect($el.html()).toBeTruthy();\n  });","file":"specs/selector_manager/view/ClassTagView.js","skipped":false,"dir":"test"},{"name":"Not empty","suites":["ClassTagView"],"updatePoint":{"line":41,"column":17,"index":1028},"line":41,"code":"  test('Not empty', () => {\n    var $el = obj.$el;\n    expect($el.html()).toContain(testLabel);\n  });","file":"specs/selector_manager/view/ClassTagView.js","skipped":false,"dir":"test"},{"name":"Has close button","suites":["ClassTagView","Should be rendered correctly"],"updatePoint":{"line":46,"column":26,"index":1190},"line":46,"code":"    test('Has close button', () => {\n      var $el = obj.$el;\n      expect($el.find('#close')[0]).toBeTruthy();\n    });","file":"specs/selector_manager/view/ClassTagView.js","skipped":false,"dir":"test"},{"name":"Has checkbox","suites":["ClassTagView","Should be rendered correctly"],"updatePoint":{"line":50,"column":22,"index":1306},"line":50,"code":"    test('Has checkbox', () => {\n      var $el = obj.$el;\n      expect($el.find('#checkbox')[0]).toBeTruthy();\n    });","file":"specs/selector_manager/view/ClassTagView.js","skipped":false,"dir":"test"},{"name":"Has label","suites":["ClassTagView","Should be rendered correctly"],"updatePoint":{"line":54,"column":19,"index":1422},"line":54,"code":"    test('Has label', () => {\n      var $el = obj.$el;\n      expect($el.find('#tag-label')[0]).toBeTruthy();\n    });","file":"specs/selector_manager/view/ClassTagView.js","skipped":false,"dir":"test"},{"name":"Could be removed","suites":["ClassTagView","Should be rendered correctly"],"line":60,"code":"  test.skip('Could be removed', () => {","file":"specs/selector_manager/view/ClassTagView.js","skipped":true,"dir":"test"},{"name":"Checkbox toggles status","suites":["ClassTagView","Should be rendered correctly"],"updatePoint":{"line":64,"column":31,"index":1761},"line":64,"code":"  test('Checkbox toggles status', () => {\n    var spy = sinon.spy();\n    obj.model.on('change:active', spy);\n    obj.model.set('active', true);\n    obj.$el.find('#checkbox').trigger('click');\n    expect(obj.model.get('active')).toEqual(false);\n    expect(spy.called).toEqual(true);\n  });","file":"specs/selector_manager/view/ClassTagView.js","skipped":false,"dir":"test"},{"name":"Label input is disabled","suites":["ClassTagView","Should be rendered correctly"],"updatePoint":{"line":72,"column":31,"index":2049},"line":72,"code":"  test('Label input is disabled', () => {\n    expect(obj.getInputEl().contentEditable).toBeFalsy();\n  });","file":"specs/selector_manager/view/ClassTagView.js","skipped":false,"dir":"test"},{"name":"On double click label input is enable","suites":["ClassTagView","Should be rendered correctly"],"updatePoint":{"line":75,"column":45,"index":2169},"line":75,"code":"  test('On double click label input is enable', () => {\n    obj.$el.find('#tag-label').trigger('dblclick');\n    expect(obj.getInputEl().contentEditable).toEqual('true');\n  });","file":"specs/selector_manager/view/ClassTagView.js","skipped":false,"dir":"test"},{"name":"On blur label input turns back disabled","suites":["ClassTagView","Should be rendered correctly"],"updatePoint":{"line":79,"column":47,"index":2347},"line":79,"code":"  test('On blur label input turns back disabled', () => {\n    obj.$el.find('#tag-label').trigger('dblclick');\n    obj.endEditTag();\n    expect(obj.getInputEl().contentEditable).toEqual('false');\n  });","file":"specs/selector_manager/view/ClassTagView.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["Storage Manager","Main"],"updatePoint":{"line":14,"column":23,"index":366},"line":14,"code":"    test('Object exists', () => {\n      expect(StorageManager).toBeTruthy();\n    });","file":"specs/storage_manager/index.ts","skipped":false,"dir":"test"},{"name":"Autosave is active by default","suites":["Storage Manager","Main"],"updatePoint":{"line":17,"column":39,"index":467},"line":17,"code":"    test('Autosave is active by default', () => {\n      expect(obj.isAutosave()).toEqual(true);\n    });","file":"specs/storage_manager/index.ts","skipped":false,"dir":"test"},{"name":"Change autosave","suites":["Storage Manager","Main"],"updatePoint":{"line":20,"column":25,"index":557},"line":20,"code":"    test('Change autosave', () => {\n      obj.setAutosave(false);\n      expect(obj.isAutosave()).toEqual(false);\n    });","file":"specs/storage_manager/index.ts","skipped":false,"dir":"test"},{"name":"Steps before save are set as default","suites":["Storage Manager","Main"],"updatePoint":{"line":24,"column":46,"index":699},"line":24,"code":"    test('Steps before save are set as default', () => {\n      expect(obj.getStepsBeforeSave()).toEqual(1);\n    });","file":"specs/storage_manager/index.ts","skipped":false,"dir":"test"},{"name":"Change steps before save","suites":["Storage Manager","Main"],"updatePoint":{"line":27,"column":34,"index":803},"line":27,"code":"    test('Change steps before save', () => {\n      obj.setStepsBeforeSave(5);\n      expect(obj.getStepsBeforeSave()).toEqual(5);\n    });","file":"specs/storage_manager/index.ts","skipped":false,"dir":"test"},{"name":"Add and get new storage","suites":["Storage Manager","Main"],"updatePoint":{"line":31,"column":33,"index":939},"line":31,"code":"    test('Add and get new storage', () => {\n      expect(obj.get('test')).toBe(undefined);\n      obj.add('test', {\n        async load() {\n          return {};\n        },\n        async store() {}\n      });\n      expect(obj.get('test')).toBeDefined();\n    });","file":"specs/storage_manager/index.ts","skipped":false,"dir":"test"},{"name":"LocalStorage is set as default","suites":["Storage Manager","Main"],"updatePoint":{"line":41,"column":40,"index":1204},"line":41,"code":"    test('LocalStorage is set as default', () => {\n      expect(obj.getCurrent()).toEqual('local');\n    });","file":"specs/storage_manager/index.ts","skipped":false,"dir":"test"},{"name":"Change storage type","suites":["Storage Manager","Main"],"updatePoint":{"line":44,"column":29,"index":1301},"line":44,"code":"    test('Change storage type', () => {\n      obj.setCurrent('remote');\n      expect(obj.getCurrent()).toEqual('remote');\n    });","file":"specs/storage_manager/index.ts","skipped":false,"dir":"test"},{"name":"Store is executed","suites":["Storage Manager","Main"],"updatePoint":{"line":48,"column":27,"index":1429},"line":48,"code":"    test('Store is executed', async () => {\n      const spy = jest.spyOn(obj, '__exec');\n      await obj.store({\n        item: 'test'\n      });\n      expect(spy).toBeCalledTimes(1);\n    });","file":"specs/storage_manager/index.ts","skipped":false,"dir":"test"},{"name":"Load default storages ","suites":["Storage Manager","Main"],"updatePoint":{"line":55,"column":32,"index":1624},"line":55,"code":"    test('Load default storages ', () => {\n      expect(obj.get('local')).toBeTruthy();\n      expect(obj.get('remote')).toBeTruthy();\n      expect(obj.get('test')).toBeFalsy();\n    });","file":"specs/storage_manager/index.ts","skipped":false,"dir":"test"},{"name":"Check custom storage is enabled","suites":["Storage Manager","Main","With custom storage"],"updatePoint":{"line":83,"column":43,"index":2366},"line":83,"code":"      test('Check custom storage is enabled', () => {\n        expect(obj.getCurrent()).toEqual(storageId);\n        expect(obj.getCurrentStorage()).toBeDefined();\n      });","file":"specs/storage_manager/index.ts","skipped":false,"dir":"test"},{"name":"Store and load data","suites":["Storage Manager","Main","With custom storage"],"updatePoint":{"line":87,"column":31,"index":2526},"line":87,"code":"      test('Store and load data', async () => {\n        const data = {\n          item: 'testData',\n          item2: 'testData2'\n        };\n        await obj.store(data);\n        expect(storeValue).toEqual(data);\n        const res = await obj.load();\n        expect(res).toEqual(data);\n      });","file":"specs/storage_manager/index.ts","skipped":false,"dir":"test"},{"name":"Store and load items","suites":["LocalStorage"],"updatePoint":{"line":15,"column":28,"index":361},"line":15,"code":"  test('Store and load items', async () => {\n    await obj.store(data);\n    const result = await obj.load();\n    expect(result).toEqual(data);\n  });","file":"specs/storage_manager/model/Models.js","skipped":false,"dir":"test"},{"name":"Store data","suites":["RemoteStorage"],"updatePoint":{"line":54,"column":18,"index":1197},"line":54,"code":"  test('Store data', async () => {\n    await obj.store(data, defaultOpts);\n    const {\n      calls\n    } = obj.request.mock;\n    expect(calls.length).toBe(1);\n    expect(calls[0][0]).toBe(defaultOpts.urlStore);\n    // expect(obj.request).toBeCalledWith(opts.urlStore, defaultOpts, opts);\n    const {\n      body,\n      ...args\n    } = calls[0][1];\n    expect(args).toEqual({\n      method: 'POST',\n      headers: defaultOpts.headers,\n      credentials: defaultOpts.credentials\n    });\n  });","file":"specs/storage_manager/model/Models.js","skipped":false,"dir":"test"},{"name":"Load data","suites":["RemoteStorage"],"updatePoint":{"line":72,"column":17,"index":1685},"line":72,"code":"  test('Load data', async () => {\n    await obj.load(defaultOpts);\n    const {\n      calls\n    } = obj.request.mock;\n    expect(obj.request).toBeCalledTimes(1);\n    expect(calls[0][0]).toBe(defaultOpts.urlLoad);\n    expect(calls[0][1]).toEqual({\n      method: 'GET',\n      body: undefined,\n      headers: defaultOpts.headers,\n      credentials: defaultOpts.credentials\n    });\n  });","file":"specs/storage_manager/model/Models.js","skipped":false,"dir":"test"},{"name":"Load data with custom fetch options","suites":["RemoteStorage"],"updatePoint":{"line":86,"column":43,"index":2094},"line":86,"code":"  test('Load data with custom fetch options', async () => {\n    const customOpts = {\n      customOpt: 'customValue'\n    };\n    await obj.load({\n      ...defaultOpts,\n      fetchOptions: () => customOpts\n    });\n    expect(obj.request).toBeCalledTimes(1);\n    expect(obj.request.mock.calls[0][1]).toEqual({\n      method: 'GET',\n      body: undefined,\n      headers: defaultOpts.headers,\n      credentials: defaultOpts.credentials,\n      ...customOpts\n    });\n  });","file":"specs/storage_manager/model/Models.js","skipped":false,"dir":"test"},{"name":"Has id property","suites":["Sector"],"updatePoint":{"line":37,"column":23,"index":888},"line":37,"code":"  test('Has id property', () => {\n    expect(obj.has('id')).toEqual(true);\n  });","file":"specs/style_manager/model/Models.ts","skipped":false,"dir":"test"},{"name":"Has no properties","suites":["Sector"],"updatePoint":{"line":40,"column":25,"index":971},"line":40,"code":"  test('Has no properties', () => {\n    expect(obj.get('properties').length).toEqual(0);\n  });","file":"specs/style_manager/model/Models.ts","skipped":false,"dir":"test"},{"name":"Init with properties","suites":["Sector"],"updatePoint":{"line":43,"column":28,"index":1069},"line":43,"code":"  test('Init with properties', () => {\n    obj = new Sector({\n      name: 'test',\n      properties: [{\n        property: '1'\n      }, {\n        property: '2'\n      }]\n    });\n    expect(obj.get('properties').length).toEqual(2);\n  });","file":"specs/style_manager/model/Models.ts","skipped":false,"dir":"test"},{"name":"Build properties","suites":["Sector"],"updatePoint":{"line":54,"column":24,"index":1299},"line":54,"code":"  test('Build properties', () => {\n    var res = obj.buildProperties(['display', 'float']);\n    expect(res.length).toEqual(2);\n    expect(res[0]).toEqual({\n      property: 'display',\n      type: 'select',\n      default: 'block',\n      options: [{\n        id: 'block'\n      }, {\n        id: 'inline'\n      }, {\n        id: 'inline-block'\n      }, {\n        id: 'flex'\n      }, {\n        id: 'none'\n      }]\n    });\n  });","file":"specs/style_manager/model/Models.ts","skipped":false,"dir":"test"},{"name":"Extend properties","suites":["Sector"],"updatePoint":{"line":74,"column":25,"index":1720},"line":74,"code":"  test('Extend properties', () => {\n    obj = sm.addSector('test', confToExt);\n    expect(obj.get('properties').length).toEqual(3);\n    var prop0 = obj.get('properties').at(0);\n    expect(prop0.get('type')).toEqual('radio');\n    expect(prop0.get('default')).toEqual('block');\n  });","file":"specs/style_manager/model/Models.ts","skipped":false,"dir":"test"},{"name":"Do not extend properties","suites":["Sector"],"updatePoint":{"line":81,"column":32,"index":2009},"line":81,"code":"  test('Do not extend properties', () => {\n    confToExt.extendBuilded = 0;\n    obj = sm.addSector('test', confToExt);\n    expect(obj.get('properties').length).toEqual(3);\n    var prop0 = obj.get('properties').at(0);\n    expect(prop0.get('type')).toEqual('radio');\n    expect(prop0.get('defaults')).toEqual('');\n  });","file":"specs/style_manager/model/Models.ts","skipped":false,"dir":"test"},{"name":"Extend composed properties","suites":["Sector"],"updatePoint":{"line":89,"column":34,"index":2329},"line":89,"code":"  test('Extend composed properties', () => {\n    obj = sm.addSector('test', {\n      buildProps: ['margin', 'float'],\n      properties: [{\n        property: 'margin',\n        properties: [{\n          name: 'Top',\n          property: 'margin-top'\n        }, {\n          property: 'margin-right'\n        }]\n      }]\n    });\n    var sectProps = obj.get('properties');\n    expect(sectProps.length).toEqual(2);\n    var prop0 = obj.get('properties').at(0);\n    var propProps = prop0.get('properties');\n    expect(propProps.length).toEqual(2);\n    var propTop = propProps.at(0);\n    expect(propTop.get('name')).toEqual('Top');\n    expect(propTop.get('type')).toEqual('number');\n  });","file":"specs/style_manager/model/Models.ts","skipped":false,"dir":"test"},{"name":"Has property field","suites":["Property"],"updatePoint":{"line":117,"column":26,"index":3094},"line":117,"code":"  test('Has property field', () => {\n    expect(obj.has('property')).toEqual(true);\n  });","file":"specs/style_manager/model/Models.ts","skipped":false,"dir":"test"},{"name":"parseValue","suites":["Property"],"updatePoint":{"line":120,"column":18,"index":3176},"line":120,"code":"  test('parseValue', () => {\n    const result = {\n      value: 'testValue'\n    };\n    expect(obj.parseValue('testValue')).toEqual(result);\n  });","file":"specs/style_manager/model/Models.ts","skipped":false,"dir":"test"},{"name":"parseValue with function but without functionName","suites":["Property"],"updatePoint":{"line":126,"column":57,"index":3360},"line":126,"code":"  test('parseValue with function but without functionName', () => {\n    const result = {\n      value: 'fn(testValue)'\n    };\n    expect(obj.parseValue('fn(testValue)')).toEqual(result);\n  });","file":"specs/style_manager/model/Models.ts","skipped":false,"dir":"test"},{"name":"parseValue with function and functionName","suites":["Property"],"updatePoint":{"line":132,"column":49,"index":3544},"line":132,"code":"  test('parseValue with function and functionName', () => {\n    obj = new Property({\n      functionName: 'fn',\n      property: 'test'\n    });\n    const result = {\n      value: 'testValue',\n      functionName: 'fn'\n    };\n    expect(obj.parseValue('fn(testValue)')).toEqual(result);\n    expect(obj.parseValue('fn(testValue')).toEqual(result);\n  });","file":"specs/style_manager/model/Models.ts","skipped":false,"dir":"test"},{"name":"Parse correctly a value with !important","suites":["Property"],"updatePoint":{"line":144,"column":47,"index":3890},"line":144,"code":"  test('Parse correctly a value with !important', () => {\n    const result = {\n      value: 'red',\n      important: true\n    };\n    expect(obj.parseValue('red !important ')).toEqual(result);\n  });","file":"specs/style_manager/model/Models.ts","skipped":false,"dir":"test"},{"name":"getFullValue","suites":["Property"],"updatePoint":{"line":151,"column":20,"index":4060},"line":151,"code":"  test('getFullValue', () => {\n    obj = new Property({\n      functionName: 'fn',\n      value: 'red',\n      property: 'test'\n    });\n    expect(obj.getFullValue()).toEqual('fn(red)');\n    obj = new Property({\n      functionName: 'fn',\n      value: '#123',\n      important: true,\n      property: 'test'\n    });\n    expect(obj.getFullValue()).toEqual('fn(#123) !important');\n  });","file":"specs/style_manager/model/Models.ts","skipped":false,"dir":"test"},{"name":"parseValue with units","suites":["PropertyNumber"],"updatePoint":{"line":175,"column":29,"index":4615},"line":175,"code":"  test('parseValue with units', () => {\n    const result = {\n      value: 20,\n      unit: 'px'\n    };\n    expect(obj.parseValue('20px')).toEqual(result);\n  });","file":"specs/style_manager/model/Models.ts","skipped":false,"dir":"test"},{"name":"parse input value with function","suites":["PropertyNumber"],"updatePoint":{"line":182,"column":39,"index":4785},"line":182,"code":"  test('parse input value with function', () => {\n    obj = new PropertyNumber({\n      units: ['px', 'deg'],\n      functionName: 'test',\n      property: 'test'\n    });\n    const result = {\n      value: 55,\n      unit: 'deg',\n      functionName: 'test'\n    };\n    expect(obj.parseValue('test(55deg)')).toEqual(result);\n  });","file":"specs/style_manager/model/Models.ts","skipped":false,"dir":"test"},{"name":"parse input value with min","suites":["PropertyNumber"],"updatePoint":{"line":195,"column":34,"index":5104},"line":195,"code":"  test('parse input value with min', () => {\n    obj = new PropertyNumber({\n      units: ['px'],\n      min: 10,\n      property: 'test'\n    });\n    const result = {\n      value: 10,\n      unit: 'px'\n    };\n    expect(obj.parseValue('1px')).toEqual(result);\n    expect(obj.parseValue('15px')).toEqual({\n      value: 15,\n      unit: 'px'\n    });\n  });","file":"specs/style_manager/model/Models.ts","skipped":false,"dir":"test"},{"name":"parse input value with max","suites":["PropertyNumber"],"updatePoint":{"line":211,"column":34,"index":5453},"line":211,"code":"  test('parse input value with max', () => {\n    obj = new PropertyNumber({\n      units: ['px'],\n      max: 100,\n      property: 'test'\n    });\n    const result = {\n      value: 100,\n      unit: 'px'\n    };\n    expect(obj.parseValue('200px')).toEqual(result);\n    expect(obj.parseValue('95px')).toEqual({\n      value: 95,\n      unit: 'px'\n    });\n  });","file":"specs/style_manager/model/Models.ts","skipped":false,"dir":"test"},{"name":"Property exists","suites":["StyleManager properties logic","Composite type"],"updatePoint":{"line":58,"column":25,"index":1606},"line":58,"code":"    test('Property exists', () => {\n      expect(compTypeProp).toBeTruthy();\n      expect(compTypeProp.getProperties().length).toBe(4);\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Has inner property","suites":["StyleManager properties logic","Composite type"],"updatePoint":{"line":62,"column":28,"index":1753},"line":62,"code":"    test('Has inner property', () => {\n      expect(compTypePropInn).toBeTruthy();\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Property has no value","suites":["StyleManager properties logic","Composite type"],"updatePoint":{"line":65,"column":31,"index":1847},"line":65,"code":"    test('Property has no value', () => {\n      expect(compTypeProp.hasValue()).toBe(false);\n      expect(compTypePropInn.hasValue()).toBe(false);\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Rule selected","suites":["StyleManager properties logic","Composite type"],"updatePoint":{"line":69,"column":23,"index":1994},"line":69,"code":"    test('Rule selected', () => {\n      expect(obj.getSelected()).toBe(rule1);\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Properties correctly reflect on rule update","suites":["StyleManager properties logic","Composite type"],"updatePoint":{"line":72,"column":53,"index":2111},"line":72,"code":"    test('Properties correctly reflect on rule update', () => {\n      compTypeProp.set('detached', false);\n      rule1.setStyle({\n        padding: '1px 2px 3px 4px'\n      });\n      obj.__upSel();\n      [[propATestId, '1px'], [propBTestId, '2px'], [propCTestId, '3px'], [propDTestId, '4px']].forEach(item => {\n        expect(compTypeProp.getProperty(item[0]).getFullValue()).toBe(item[1]);\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Split value properly","suites":["StyleManager properties logic","Composite type"],"updatePoint":{"line":82,"column":30,"index":2495},"line":82,"code":"    test('Split value properly', () => {\n      expect(compTypeProp.__getSplitValue('1px 2px 3px 4px', {\n        byName: true\n      })).toEqual({\n        [propATest]: '1px',\n        [propBTest]: '2px',\n        [propCTest]: '3px',\n        [propDTest]: '4px'\n      });\n      expect(compTypeProp.__getSplitValue('1px 2px 3px 4px')).toEqual({\n        [propATestId]: '1px',\n        [propBTestId]: '2px',\n        [propCTestId]: '3px',\n        [propDTestId]: '4px'\n      });\n      expect(compTypeProp.__getSplitValue('1px 2px')).toEqual({\n        [propATestId]: '1px',\n        [propBTestId]: '2px',\n        [propCTestId]: '1px',\n        [propDTestId]: '2px'\n      });\n      expect(compTypeProp.__getSplitValue('100%')).toEqual({\n        [propATestId]: '100%',\n        [propBTestId]: '100%',\n        [propCTestId]: '100%',\n        [propDTestId]: '100%'\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Updating the main property, the value is splitted properly","suites":["StyleManager properties logic","Composite type"],"updatePoint":{"line":110,"column":68,"index":3395},"line":110,"code":"    test('Updating the main property, the value is splitted properly', () => {\n      compTypeProp.upValue('1px 2px 3px 4px');\n      [[propATest, '1px'], [propBTest, '2px'], [propCTest, '3px'], [propDTest, '4px']].forEach(item => {\n        expect(compTypeProp.getProperty(item[0]).getFullValue()).toBe(item[1]);\n      });\n      compTypeProp.upValue('11px');\n      [[propATest, '11px'], [propBTest, '11px'], [propCTest, '11px'], [propDTest, '11px']].forEach(item => {\n        expect(compTypeProp.getProperty(item[0]).getFullValue()).toBe(item[1]);\n      });\n      obj.__upSel();\n      expect(rule1.getStyle()).toEqual({\n        __p: false,\n        color: 'red',\n        [propATest]: '11px',\n        [propBTest]: '11px',\n        [propCTest]: '11px',\n        [propDTest]: '11px'\n      });\n      compTypeProp.upValue('');\n      [[propATest, ''], [propBTest, ''], [propCTest, ''], [propDTest, '']].forEach(item => {\n        expect(compTypeProp.getProperty(item[0]).getFullValue()).toBe(item[1]);\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"getPropsFromStyle returns correct values","suites":["StyleManager properties logic","Composite type"],"updatePoint":{"line":133,"column":50,"index":4385},"line":133,"code":"    test('getPropsFromStyle returns correct values', () => {\n      expect(compTypeProp.__getPropsFromStyle({\n        [propTest]: '1px 2px 3px 4px',\n        [propCTest]: '33px',\n        [propBTest]: '22%'\n      }, {\n        byName: true\n      })).toEqual({\n        [propATest]: '1px',\n        [propBTest]: '22%',\n        [propCTest]: '33px',\n        [propDTest]: '4px'\n      });\n\n      // Split correctly props in 4 numeric values\n      expect(compTypeProp.__getPropsFromStyle({\n        [propTest]: '111px',\n        [propCTest]: '33px',\n        [propBTest]: '22%'\n      }, {\n        byName: true\n      })).toEqual({\n        [propATest]: '111px',\n        [propBTest]: '22%',\n        [propCTest]: '33px',\n        [propDTest]: '111px'\n      });\n\n      // Resolves correctly with values from inner properties\n      expect(compTypeProp.__getPropsFromStyle({\n        color: 'red',\n        [propCTest]: '33px'\n      }, {\n        byName: true\n      })).toEqual({\n        [propATest]: '',\n        [propBTest]: '',\n        [propCTest]: '33px',\n        [propDTest]: ''\n      });\n\n      // null if no properties are found\n      expect(compTypeProp.__getPropsFromStyle({\n        color: 'red'\n      })).toEqual(null);\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Custom fromStyle","suites":["StyleManager properties logic","Composite type"],"updatePoint":{"line":179,"column":26,"index":5572},"line":179,"code":"    test('Custom fromStyle', () => {\n      compTypeProp.set('fromStyle', (style, {\n        separator\n      }) => {\n        const values = style[propTest].split(separator);\n        return {\n          [propATest]: values[0],\n          [propBTest]: values[1]\n        };\n      });\n      expect(compTypeProp.__getPropsFromStyle({\n        [propTest]: 'rgba(valueA 1) rgba(value B)'\n      })).toEqual({\n        [propATest]: 'rgba(valueA 1)',\n        [propBTest]: 'rgba(value B)'\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"getStyleFromProps","suites":["StyleManager properties logic","Composite type"],"updatePoint":{"line":196,"column":27,"index":6063},"line":196,"code":"    test('getStyleFromProps', () => {\n      rule1.setStyle({\n        padding: '1px 2px 3px 4px'\n      });\n      obj.__upSel();\n      expect(compTypeProp.getStyleFromProps()).toEqual({\n        [propTest]: '',\n        [propATest]: '1px',\n        [propBTest]: '2px',\n        [propCTest]: '3px',\n        [propDTest]: '4px'\n      });\n      compTypeProp.set('detached', false);\n      expect(compTypeProp.getStyleFromProps()).toEqual({\n        [propTest]: '1px 2px 3px 4px',\n        [propATest]: '',\n        [propBTest]: '',\n        [propCTest]: '',\n        [propDTest]: ''\n      });\n      compTypeProp.set('detached', true);\n      rule1.setStyle({\n        [propATest]: '10px',\n        [propBTest]: '20px'\n      });\n      obj.__upSel();\n      expect(compTypeProp.getStyleFromProps()).toEqual({\n        [propTest]: '',\n        [propATest]: '10px',\n        [propBTest]: '20px',\n        [propCTest]: '',\n        [propDTest]: ''\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"On clear removes all values","suites":["StyleManager properties logic","Composite type"],"updatePoint":{"line":230,"column":37,"index":7009},"line":230,"code":"    test('On clear removes all values', () => {\n      rule1.setStyle({\n        padding: '1px 2px 3px 4px'\n      });\n      obj.__upSel();\n      expect(compTypeProp.hasValue()).toBe(true);\n      compTypeProp.clear();\n      expect(compTypeProp.hasValue()).toBe(false);\n      expect(rule1.getStyle()).toEqual({\n        __p: false\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Get the values from parent style","suites":["StyleManager properties logic","Composite type"],"updatePoint":{"line":242,"column":42,"index":7358},"line":242,"code":"    test('Get the values from parent style', () => {\n      rule1.setStyle({\n        padding: '11px 22px',\n        'padding-left': '44px'\n      });\n      const rule2 = cssc.addRules(`\n        @media (max-width: 992px) {\n          .cls { color: red; }\n        }\n      `)[0];\n      dv.select('tablet');\n      obj.__upSel();\n      expect(obj.getSelected()).toBe(rule2);\n      expect(obj.getSelectedParents()).toEqual([rule1]);\n      expect(compTypeProp.hasValue()).toBe(true);\n      expect(compTypeProp.hasValue({\n        noParent: true\n      })).toBe(false);\n      [[propATest, '11px'], [propBTest, '22px'], [propCTest, '11px'], [propDTest, '44px']].forEach(item => {\n        const prop = compTypeProp.getProperty(item[0]);\n        expect(prop.hasValue()).toBe(true);\n        expect(prop.hasValue({\n          noParent: true\n        })).toBe(false);\n        expect(prop.getFullValue()).toBe(item[1]);\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Parent styles are ignored if on the lower device","suites":["StyleManager properties logic","Composite type"],"updatePoint":{"line":269,"column":58,"index":8289},"line":269,"code":"    test('Parent styles are ignored if on the lower device', () => {\n      const rule2 = cssc.addRules(`\n        @media (max-width: 992px) {\n          .cls {\n            padding: 11px 22px;\n            padding-left: 44px;\n           }\n        }\n      `)[0];\n      dv.select('tablet');\n      obj.__upSel();\n      expect(obj.getSelected()).toBe(rule2);\n      expect(compTypeProp.hasValue({\n        noParent: true\n      })).toBe(true);\n      [[propATest, '11px'], [propBTest, '22px'], [propCTest, '11px'], [propDTest, '44px']].forEach(item => {\n        const prop = compTypeProp.getProperty(item[0]);\n        expect(prop.getFullValue()).toBe(item[1]);\n      });\n      dv.select('desktop');\n      obj.__upSel();\n      expect(obj.getSelected()).toBe(rule1);\n      expect(obj.getSelectedParents()).toEqual([]);\n      [[propATest, ''], [propBTest, ''], [propCTest, ''], [propDTest, '']].forEach(item => {\n        const prop = compTypeProp.getProperty(item[0]);\n        expect(prop.hasValue()).toBe(false);\n        expect(prop.getFullValue()).toBe(item[1]);\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Changing one inner rule (detached property) doesn't affect others","suites":["StyleManager properties logic","Composite type"],"updatePoint":{"line":298,"column":75,"index":9374},"line":298,"code":"    test(\"Changing one inner rule (detached property) doesn't affect others\", () => {\n      rule1.setStyle({\n        padding: '1px 2px',\n        'padding-left': '4px'\n      });\n      const rule2 = cssc.addRules(`\n        @media (max-width: 992px) {\n          .cls { padding-left: 44px }\n        }\n      `)[0];\n      dv.select('tablet');\n      obj.__upSel();\n      [[propATest, '1px'], [propBTest, '2px'], [propCTest, '1px']].forEach(item => {\n        const prop = compTypeProp.getProperty(item[0]);\n        expect(prop.hasValue({\n          noParent: true\n        })).toBe(false);\n        expect(prop.getFullValue()).toBe(item[1]);\n      });\n      const propD = compTypeProp.getProperty(propDTest);\n      expect(propD.hasValue({\n        noParent: true\n      })).toBe(true);\n      expect(propD.getFullValue()).toBe('44px');\n\n      // By editing the last one, the rule should not take other values\n      propD.upValue('45px');\n      compTypeProp.getProperty(propATest).upValue('11px');\n      obj.__upSel();\n      expect(rule2.getStyle()).toEqual({\n        __p: false,\n        [propATest]: '11px',\n        [propDTest]: '45px'\n      });\n      // Other properties shouldn't change\n      [[propBTest, '2px'], [propCTest, '1px']].forEach(item => {\n        const prop = compTypeProp.getProperty(item[0]);\n        expect(prop.hasValue({\n          noParent: true\n        })).toBe(false);\n        expect(prop.getFullValue()).toBe(item[1]);\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"getStyleFromProps with custom toStyle","suites":["StyleManager properties logic","Composite type"],"updatePoint":{"line":341,"column":47,"index":10792},"line":341,"code":"    test('getStyleFromProps with custom toStyle', () => {\n      rule1.setStyle({\n        padding: '1px 2px 3px 4px'\n      });\n      obj.__upSel();\n      compTypeProp.set('toStyle', values => {\n        return {\n          [propTest]: `rgba(${values[propATestId]}, ${values[propBTestId]}, ${values[propDTestId]})`\n        };\n      });\n      compTypeProp.set('detached', false);\n      expect(compTypeProp.getStyleFromProps()).toEqual({\n        [propTest]: 'rgba(1px, 2px, 4px)',\n        [propATest]: '',\n        [propBTest]: '',\n        [propCTest]: '',\n        [propDTest]: ''\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Update on the rule reflects to the property correctly","suites":["StyleManager properties logic","Composite type"],"updatePoint":{"line":360,"column":63,"index":11400},"line":360,"code":"    test('Update on the rule reflects to the property correctly', () => {\n      rule1.setStyle({\n        padding: '1px 2px 3px 4px'\n      });\n      obj.__upSel();\n      compTypeProp.getProperty(propCTest).upValue('50%');\n      [[propATest, '1px'], [propBTest, '2px'], [propCTest, '50%'], [propDTest, '4px']].forEach(item => {\n        const prop = compTypeProp.getProperty(item[0]);\n        expect(prop.getFullValue()).toBe(item[1]);\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Update on properties reflects to the rule correctly","suites":["StyleManager properties logic","Composite type"],"updatePoint":{"line":371,"column":61,"index":11849},"line":371,"code":"    test('Update on properties reflects to the rule correctly', () => {\n      compTypeProp.set('detached', false);\n      rule1.setStyle({\n        padding: '1px 2px 3px 4px'\n      });\n      obj.__upSel();\n      compTypeProp.getProperty(propCTest).upValue('50%');\n      obj.__upSel();\n      expect(rule1.getStyle()).toEqual({\n        __p: false,\n        padding: '1px 2px 50% 4px'\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Updating inner property, it reflects on the rule","suites":["StyleManager properties logic","Composite type"],"updatePoint":{"line":384,"column":58,"index":12243},"line":384,"code":"    test('Updating inner property, it reflects on the rule', () => {\n      compTypePropInn.upValue('55%');\n      const style = rule1.getStyle();\n      const otherProps = Object.keys(style).filter(p => p.indexOf('padding') >= 0 && p !== propATest);\n      expect(style[propATest]).toBe('55%');\n      expect(compTypeProp.hasValue()).toBe(true);\n      expect(compTypePropInn.hasValue()).toBe(true);\n      otherProps.forEach(prop => {\n        expect(style[prop]).toBe('');\n        if (prop !== propTest) {\n          expect(compTypeProp.getProperty(prop).hasValue()).toBe(false);\n        }\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Property exists","suites":["StyleManager properties logic","Stack type"],"updatePoint":{"line":430,"column":25,"index":13831},"line":430,"code":"    test('Property exists', () => {\n      expect(compTypeProp).toBeTruthy();\n      expect(compTypePropInn).toBeTruthy();\n      expect(compTypeProp.getProperties().length).toBe(3);\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Has the right number of layers","suites":["StyleManager properties logic","Stack type"],"updatePoint":{"line":435,"column":40,"index":14034},"line":435,"code":"    test('Has the right number of layers', () => {\n      expect(compTypeProp.getLayers().length).toBe(2);\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Property has no value","suites":["StyleManager properties logic","Stack type"],"updatePoint":{"line":438,"column":31,"index":14139},"line":438,"code":"    test('Property has no value', () => {\n      expect(compTypeProp.hasValue()).toBe(true);\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Has no selected layer","suites":["StyleManager properties logic","Stack type"],"updatePoint":{"line":441,"column":31,"index":14239},"line":441,"code":"    test('Has no selected layer', () => {\n      expect(compTypeProp.getSelectedLayer()).toBe(undefined);\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"getLayersFromStyle returns correct values","suites":["StyleManager properties logic","Stack type"],"updatePoint":{"line":444,"column":51,"index":14372},"line":444,"code":"    test('getLayersFromStyle returns correct values', () => {\n      expect(compTypeProp.__getLayersFromStyle({\n        [propTest]: 'valueA-1 valueB-1 valueC-1, valueA-2 valueB-2 valueC-2',\n        [propCTest]: 'valueC-1-ext, valueC-2-ext, valueC-3-ext',\n        [propBTest]: 'valueB-1-ext'\n      })).toEqual([{\n        [propATest]: 'valueA-1',\n        [propBTest]: 'valueB-1-ext',\n        [propCTest]: 'valueC-1-ext'\n      }, {\n        [propATest]: 'valueA-2',\n        [propBTest]: 'valueB-2',\n        [propCTest]: 'valueC-2-ext'\n      }, {\n        [propCTest]: 'valueC-3-ext'\n      }]);\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"getLayersFromStyle with empty values","suites":["StyleManager properties logic","Stack type"],"updatePoint":{"line":461,"column":46,"index":14963},"line":461,"code":"    test('getLayersFromStyle with empty values', () => {\n      expect(compTypeProp.__getLayersFromStyle({\n        [propTest]: ''\n      })).toBe(null);\n      expect(compTypeProp.__getLayersFromStyle({\n        color: 'red'\n      })).toBe(null);\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Custom fromStyle","suites":["StyleManager properties logic","Stack type"],"updatePoint":{"line":469,"column":26,"index":15194},"line":469,"code":"    test('Custom fromStyle', () => {\n      compTypeProp.set('fromStyle', (style, {\n        separatorLayers\n      }) => {\n        const layerValues = style[propTest].split(separatorLayers);\n        return layerValues.map(value => ({\n          value\n        }));\n      });\n      expect(compTypeProp.__getLayersFromStyle({\n        [propTest]: 'rgba(valueA-1, valueB-1), rgba(valueA-2, valueB-2)'\n      })).toEqual([{\n        value: 'rgba(valueA-1, valueB-1)'\n      }, {\n        value: 'rgba(valueA-2, valueB-2)'\n      }]);\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"getStyleFromLayers","suites":["StyleManager properties logic","Stack type"],"updatePoint":{"line":486,"column":28,"index":15724},"line":486,"code":"    test('getStyleFromLayers', () => {\n      expect(compTypeProp.getStyleFromLayers()).toEqual({\n        [propTest]: 'valueA-1 valueB-1 valueC-1-ext, valueA-2 valueB-2 valueC-2-ext',\n        [propATest]: '',\n        [propBTest]: '',\n        [propCTest]: ''\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"getStyleFromLayers detached","suites":["StyleManager properties logic","Stack type"],"updatePoint":{"line":494,"column":37,"index":16008},"line":494,"code":"    test('getStyleFromLayers detached', () => {\n      compTypeProp.set('detached', true);\n      expect(compTypeProp.getStyleFromLayers()).toEqual({\n        [propTest]: '',\n        [propATest]: 'valueA-1, valueA-2',\n        [propBTest]: 'valueB-1, valueB-2',\n        [propCTest]: 'valueC-1-ext, valueC-2-ext'\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Custom toStyle","suites":["StyleManager properties logic","Stack type"],"updatePoint":{"line":503,"column":24,"index":16321},"line":503,"code":"    test('Custom toStyle', () => {\n      compTypeProp.set('toStyle', values => {\n        return {\n          [propTest]: `rgba(${values[propATest]}, ${values[propBTest]}, ${values[propCTest]})`\n        };\n      });\n      expect(compTypeProp.getStyleFromLayers()).toEqual({\n        [propTest]: 'rgba(valueA-1, valueB-1, valueC-1-ext), rgba(valueA-2, valueB-2, valueC-2-ext)',\n        [propATest]: '',\n        [propBTest]: '',\n        [propCTest]: ''\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Layers has the right values","suites":["StyleManager properties logic","Stack type"],"updatePoint":{"line":516,"column":37,"index":16800},"line":516,"code":"    test('Layers has the right values', () => {\n      expect(compTypeProp.getLayer(0).getValues()).toEqual({\n        [propATest]: 'valueA-1',\n        [propBTest]: 'valueB-1',\n        [propCTest]: 'valueC-1-ext'\n      });\n      expect(compTypeProp.getLayer(1).getValues()).toEqual({\n        [propATest]: 'valueA-2',\n        [propBTest]: 'valueB-2',\n        [propCTest]: 'valueC-2-ext'\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Updating the rule reflects in layers","suites":["StyleManager properties logic","Stack type"],"updatePoint":{"line":528,"column":46,"index":17211},"line":528,"code":"    test('Updating the rule reflects in layers', () => {\n      rule1.setStyle({\n        [propTest]: 'valueAa-1 valueBb-1 valueCc-1, valueAa-2 valueBb-2 valueCc-2',\n        [propBTest]: 'valueB-1-ext, valueB-2-ext'\n      });\n      obj.__upSel();\n      expect(compTypeProp.getLayers().length).toBe(2);\n      expect(compTypeProp.getLayer(0).getValues()).toEqual({\n        [propATest]: 'valueAa-1',\n        [propBTest]: 'valueB-1-ext',\n        [propCTest]: 'valueCc-1'\n      });\n      expect(compTypeProp.getLayer(1).getValues()).toEqual({\n        [propATest]: 'valueAa-2',\n        [propBTest]: 'valueB-2-ext',\n        [propCTest]: 'valueCc-2'\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Updating inner property, it reflects on the rule","suites":["StyleManager properties logic","Stack type"],"updatePoint":{"line":546,"column":58,"index":17881},"line":546,"code":"    test('Updating inner property, it reflects on the rule', () => {\n      expect(rule1.getStyle()).toEqual({\n        [propTest]: propStyleValue,\n        [propCTest]: propStyleExtValue\n      });\n      compTypeProp.selectLayerAt(0);\n      compTypeProp.getProperty(propBTest).upValue('valueB-1-mod');\n      compTypeProp.selectLayerAt(1);\n      compTypeProp.getProperty(propCTest).upValue('valueC-2-mod');\n      expect(rule1.getStyle()).toEqual({\n        __p: false,\n        [propTest]: 'valueA-1 valueB-1-mod valueC-1-ext, valueA-2 valueB-2 valueC-2-mod'\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Updating inner property (detached), it reflects on the rule","suites":["StyleManager properties logic","Stack type"],"updatePoint":{"line":560,"column":69,"index":18463},"line":560,"code":"    test('Updating inner property (detached), it reflects on the rule', () => {\n      compTypeProp.set('detached', true);\n      compTypeProp.selectLayerAt(0);\n      compTypeProp.getProperty(propBTest).upValue('valueB-1-mod');\n      compTypeProp.selectLayerAt(1);\n      compTypeProp.getProperty(propCTest).upValue('valueC-2-mod');\n      expect(rule1.getStyle()).toEqual({\n        __p: false,\n        [propATest]: 'valueA-1, valueA-2',\n        [propBTest]: 'valueB-1-mod, valueB-2',\n        [propCTest]: 'valueC-1-ext, valueC-2-mod'\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Removing layer, updates the rule","suites":["StyleManager properties logic","Stack type"],"updatePoint":{"line":573,"column":42,"index":18985},"line":573,"code":"    test('Removing layer, updates the rule', () => {\n      compTypeProp.removeLayerAt(1);\n      expect(rule1.getStyle()).toEqual({\n        __p: false,\n        [propTest]: 'valueA-1 valueB-1 valueC-1-ext'\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Removing all layers","suites":["StyleManager properties logic","Stack type"],"updatePoint":{"line":580,"column":29,"index":19194},"line":580,"code":"    test('Removing all layers', () => {\n      compTypeProp.removeLayerAt(1);\n      compTypeProp.removeLayerAt(0);\n      expect(compTypeProp.getLayers().length).toBe(0);\n      expect(rule1.getStyle()).toEqual({\n        __p: false\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"On clear removes all values","suites":["StyleManager properties logic","Stack type"],"updatePoint":{"line":588,"column":37,"index":19449},"line":588,"code":"    test('On clear removes all values', () => {\n      compTypeProp.addLayer();\n      compTypeProp.clear();\n      expect(compTypeProp.hasValue()).toBe(false);\n      expect(compTypeProp.getLayers().length).toBe(0);\n      expect(rule1.getStyle()).toEqual({\n        __p: false\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"On clear removes all values (detached)","suites":["StyleManager properties logic","Stack type"],"updatePoint":{"line":597,"column":48,"index":19751},"line":597,"code":"    test('On clear removes all values (detached)', () => {\n      compTypeProp.set('detached', true);\n      compTypeProp.clear();\n      expect(compTypeProp.hasValue()).toBe(false);\n      expect(compTypeProp.getLayers().length).toBe(0);\n      expect(rule1.getStyle()).toEqual({\n        __p: false\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Get the values from parent style","suites":["StyleManager properties logic","Stack type"],"updatePoint":{"line":606,"column":42,"index":20058},"line":606,"code":"    test('Get the values from parent style', () => {\n      const rule2 = cssc.addRules(`\n        @media (max-width: 992px) {\n            .cls { color: red; }\n        }\n      `)[0];\n      dv.select('tablet');\n      obj.__upSel();\n      expect(obj.getSelected()).toBe(rule2);\n      expect(obj.getSelectedParents()).toEqual([rule1]);\n      expect(compTypeProp.hasValue()).toBe(true);\n      expect(compTypeProp.hasValue({\n        noParent: true\n      })).toBe(false);\n      expect(compTypeProp.getLayers().length).toBe(2);\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Adding new layer, updates the rule","suites":["StyleManager properties logic","Stack type"],"updatePoint":{"line":622,"column":44,"index":20587},"line":622,"code":"    test('Adding new layer, updates the rule', () => {\n      compTypeProp.addLayer({\n        [propATest]: 'valueA-new',\n        [propBTest]: 'valueB-new',\n        [propCTest]: 'valueC-new'\n      }, {\n        at: 0\n      });\n      expect(rule1.getStyle()).toEqual({\n        __p: false,\n        [propTest]: 'valueA-new valueB-new valueC-new, valueA-1 valueB-1 valueC-1-ext, valueA-2 valueB-2 valueC-2-ext'\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Adding new layer, updates the rule (detached)","suites":["StyleManager properties logic","Stack type"],"updatePoint":{"line":635,"column":55,"index":21020},"line":635,"code":"    test('Adding new layer, updates the rule (detached)', () => {\n      compTypeProp.set('detached', true);\n      compTypeProp.addLayer({\n        [propATest]: 'valueA-new AA',\n        [propBTest]: 'valueB-new BB',\n        [propCTest]: 'valueC-new CC'\n      }, {\n        at: 0\n      });\n      obj.__upSel();\n      expect(rule1.getStyle()).toEqual({\n        __p: false,\n        [propATest]: 'valueA-new AA, valueA-1, valueA-2',\n        [propBTest]: 'valueB-new BB, valueB-1, valueB-2',\n        [propCTest]: 'valueC-new CC, valueC-1-ext, valueC-2-ext'\n      });\n      // Check also the layers\n      const layers = compTypeProp.getLayers();\n      expect(layers.length).toBe(3);\n      const [layer1, layer2, layer3] = layers;\n      expect(layer1.getValues()).toEqual({\n        [propATest]: 'valueA-new AA',\n        [propBTest]: 'valueB-new BB',\n        [propCTest]: 'valueC-new CC'\n      });\n      expect(layer2.getValues()).toEqual({\n        [propATest]: 'valueA-1',\n        [propBTest]: 'valueB-1',\n        [propCTest]: 'valueC-1-ext'\n      });\n      expect(layer3.getValues()).toEqual({\n        [propATest]: 'valueA-2',\n        [propBTest]: 'valueB-2',\n        [propCTest]: 'valueC-2-ext'\n      });\n    });","file":"specs/style_manager/model/Properties.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["PropertyFactory"],"updatePoint":{"line":10,"column":21,"index":238},"line":10,"code":"  test('Object exists', () => {\n    expect(obj).toBeTruthy();\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build single prop","suites":["PropertyFactory"],"updatePoint":{"line":13,"column":25,"index":310},"line":13,"code":"  test('Build single prop', () => {\n    expect(obj.build('float')).toEqual([{\n      property: 'float',\n      type: 'radio',\n      default: 'none',\n      options: [{\n        id: 'none'\n      }, {\n        id: 'left'\n      }, {\n        id: 'right'\n      }]\n    }]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build display","suites":["PropertyFactory"],"updatePoint":{"line":27,"column":21,"index":575},"line":27,"code":"  test('Build display', () => {\n    expect(obj.build('display')).toEqual([{\n      property: 'display',\n      type: 'select',\n      default: 'block',\n      options: [{\n        id: 'block'\n      }, {\n        id: 'inline'\n      }, {\n        id: 'inline-block'\n      }, {\n        id: 'flex'\n      }, {\n        id: 'none'\n      }]\n    }]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build flex-direction","suites":["PropertyFactory"],"updatePoint":{"line":45,"column":28,"index":923},"line":45,"code":"  test('Build flex-direction', () => {\n    expect(obj.build('flex-direction')).toEqual([{\n      property: 'flex-direction',\n      type: 'select',\n      default: 'row',\n      options: [{\n        id: 'row'\n      }, {\n        id: 'row-reverse'\n      }, {\n        id: 'column'\n      }, {\n        id: 'column-reverse'\n      }],\n      requires: {\n        display: ['flex']\n      }\n    }]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build flex-wrap","suites":["PropertyFactory"],"updatePoint":{"line":64,"column":23,"index":1308},"line":64,"code":"  test('Build flex-wrap', () => {\n    expect(obj.build('flex-wrap')).toEqual([{\n      property: 'flex-wrap',\n      type: 'select',\n      default: 'nowrap',\n      options: [{\n        id: 'nowrap'\n      }, {\n        id: 'wrap'\n      }, {\n        id: 'wrap-reverse'\n      }],\n      requires: {\n        display: ['flex']\n      }\n    }]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build justify-content","suites":["PropertyFactory"],"updatePoint":{"line":81,"column":29,"index":1654},"line":81,"code":"  test('Build justify-content', () => {\n    expect(obj.build('justify-content')).toEqual([{\n      property: 'justify-content',\n      type: 'select',\n      default: 'flex-start',\n      options: [{\n        id: 'flex-start'\n      }, {\n        id: 'flex-end'\n      }, {\n        id: 'center'\n      }, {\n        id: 'space-between'\n      }, {\n        id: 'space-around'\n      }, {\n        id: 'space-evenly'\n      }],\n      requires: {\n        display: ['flex']\n      }\n    }]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build align-items","suites":["PropertyFactory"],"updatePoint":{"line":104,"column":25,"index":2129},"line":104,"code":"  test('Build align-items', () => {\n    expect(obj.build('align-items')).toEqual([{\n      property: 'align-items',\n      type: 'select',\n      default: 'stretch',\n      options: [{\n        id: 'flex-start'\n      }, {\n        id: 'flex-end'\n      }, {\n        id: 'center'\n      }, {\n        id: 'baseline'\n      }, {\n        id: 'stretch'\n      }],\n      requires: {\n        display: ['flex']\n      }\n    }]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build align-content","suites":["PropertyFactory"],"updatePoint":{"line":125,"column":27,"index":2547},"line":125,"code":"  test('Build align-content', () => {\n    expect(obj.build('align-content')).toEqual([{\n      property: 'align-content',\n      type: 'select',\n      default: 'stretch',\n      options: [{\n        id: 'flex-start'\n      }, {\n        id: 'flex-end'\n      }, {\n        id: 'center'\n      }, {\n        id: 'space-between'\n      }, {\n        id: 'space-around'\n      }, {\n        id: 'stretch'\n      }],\n      requires: {\n        display: ['flex']\n      }\n    }]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build align-self","suites":["PropertyFactory"],"updatePoint":{"line":148,"column":24,"index":3009},"line":148,"code":"  test('Build align-self', () => {\n    expect(obj.build('align-self')).toEqual([{\n      property: 'align-self',\n      type: 'select',\n      default: 'auto',\n      options: [{\n        id: 'auto'\n      }, {\n        id: 'flex-start'\n      }, {\n        id: 'flex-end'\n      }, {\n        id: 'center'\n      }, {\n        id: 'baseline'\n      }, {\n        id: 'stretch'\n      }],\n      requiresParent: {\n        display: ['flex']\n      }\n    }]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build position","suites":["PropertyFactory"],"updatePoint":{"line":171,"column":22,"index":3453},"line":171,"code":"  test('Build position', () => {\n    expect(obj.build('position')).toEqual([{\n      property: 'position',\n      type: 'radio',\n      default: 'static',\n      options: [{\n        id: 'static'\n      }, {\n        id: 'relative'\n      }, {\n        id: 'absolute'\n      }, {\n        id: 'fixed'\n      }]\n    }]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build left, right","suites":["PropertyFactory"],"updatePoint":{"line":187,"column":25,"index":3770},"line":187,"code":"  test('Build left, right', () => {\n    var res = {\n      type: 'number',\n      units: obj.unitsSize,\n      default: 'auto',\n      fixedValues: ['initial', 'inherit', 'auto']\n    };\n    res.property = 'right';\n    expect(obj.build('right')).toEqual([res]);\n    res.property = 'left';\n    expect(obj.build('left')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build top, bottom","suites":["PropertyFactory"],"updatePoint":{"line":199,"column":25,"index":4106},"line":199,"code":"  test('Build top, bottom', () => {\n    var res = {\n      type: 'number',\n      units: obj.unitsSize,\n      default: 'auto',\n      fixedValues: ['initial', 'inherit', 'auto']\n    };\n    res.property = 'top';\n    expect(obj.build('top')).toEqual([res]);\n    res.property = 'bottom';\n    expect(obj.build('bottom')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build width family","suites":["PropertyFactory"],"updatePoint":{"line":211,"column":26,"index":4443},"line":211,"code":"  test('Build width family', () => {\n    var res = {\n      type: 'number',\n      units: obj.unitsSize,\n      default: 'auto',\n      fixedValues: ['initial', 'inherit', 'auto'],\n      min: 0\n    };\n    res.property = 'width';\n    expect(obj.build('width')).toEqual([res]);\n    res.property = 'min-width';\n    expect(obj.build('min-width')).toEqual([res]);\n    res.property = 'max-width';\n    expect(obj.build('max-width')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build flex-basis","suites":["PropertyFactory"],"updatePoint":{"line":226,"column":24,"index":4885},"line":226,"code":"  test('Build flex-basis', () => {\n    var res = {\n      type: 'number',\n      units: obj.unitsSize,\n      default: 'auto',\n      fixedValues: ['initial', 'inherit', 'auto'],\n      requiresParent: {\n        display: ['flex']\n      },\n      min: 0\n    };\n    res.property = 'flex-basis';\n    expect(obj.build('flex-basis')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build height family","suites":["PropertyFactory"],"updatePoint":{"line":240,"column":27,"index":5233},"line":240,"code":"  test('Build height family', () => {\n    var res = {\n      type: 'number',\n      units: obj.unitsSize,\n      default: 'auto',\n      fixedValues: ['initial', 'inherit', 'auto'],\n      min: 0\n    };\n    res.property = 'height';\n    expect(obj.build('height')).toEqual([res]);\n    res.property = 'min-height';\n    expect(obj.build('min-height')).toEqual([res]);\n    res.property = 'max-height';\n    expect(obj.build('max-height')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build margin","suites":["PropertyFactory"],"updatePoint":{"line":255,"column":20,"index":5677},"line":255,"code":"  test('Build margin', () => {\n    var res = {\n      property: 'margin',\n      type: 'composite',\n      properties: [{\n        fixedValues: ['initial', 'inherit', 'auto'],\n        property: 'margin-top',\n        id: 'margin-top-sub',\n        type: 'number',\n        units: obj.unitsSize,\n        default: '0'\n      }, {\n        fixedValues: ['initial', 'inherit', 'auto'],\n        property: 'margin-right',\n        id: 'margin-right-sub',\n        type: 'number',\n        units: obj.unitsSize,\n        default: '0'\n      }, {\n        fixedValues: ['initial', 'inherit', 'auto'],\n        property: 'margin-bottom',\n        id: 'margin-bottom-sub',\n        type: 'number',\n        units: obj.unitsSize,\n        default: '0'\n      }, {\n        fixedValues: ['initial', 'inherit', 'auto'],\n        property: 'margin-left',\n        id: 'margin-left-sub',\n        type: 'number',\n        units: obj.unitsSize,\n        default: '0'\n      }]\n    };\n    expect(obj.build('margin')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build padding","suites":["PropertyFactory"],"updatePoint":{"line":291,"column":21,"index":6672},"line":291,"code":"  test('Build padding', () => {\n    var res = {\n      property: 'padding',\n      type: 'composite',\n      properties: [{\n        property: 'padding-top',\n        id: 'padding-top-sub',\n        fixedValues: ['initial', 'inherit', 'auto'],\n        type: 'number',\n        units: obj.unitsSize,\n        default: '0',\n        min: 0\n      }, {\n        property: 'padding-right',\n        id: 'padding-right-sub',\n        fixedValues: ['initial', 'inherit', 'auto'],\n        type: 'number',\n        units: obj.unitsSize,\n        default: '0',\n        min: 0\n      }, {\n        property: 'padding-bottom',\n        id: 'padding-bottom-sub',\n        fixedValues: ['initial', 'inherit', 'auto'],\n        type: 'number',\n        units: obj.unitsSize,\n        default: '0',\n        min: 0\n      }, {\n        property: 'padding-left',\n        id: 'padding-left-sub',\n        fixedValues: ['initial', 'inherit', 'auto'],\n        type: 'number',\n        units: obj.unitsSize,\n        default: '0',\n        min: 0\n      }]\n    };\n    expect(obj.build('padding')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build font-family","suites":["PropertyFactory"],"updatePoint":{"line":331,"column":25,"index":7745},"line":331,"code":"  test('Build font-family', () => {\n    var ss = ', sans-serif';\n    var ms = ', monospace';\n    var res = {\n      property: 'font-family',\n      type: 'select',\n      default: 'Arial, Helvetica' + ss,\n      options: [{\n        label: 'Arial',\n        id: 'Arial, Helvetica' + ss\n      }, {\n        label: 'Arial Black',\n        id: 'Arial Black, Gadget' + ss\n      }, {\n        label: 'Brush Script MT',\n        id: 'Brush Script MT' + ss\n      }, {\n        label: 'Comic Sans MS',\n        id: 'Comic Sans MS, cursive' + ss\n      }, {\n        label: 'Courier New',\n        id: 'Courier New, Courier' + ms\n      }, {\n        label: 'Georgia',\n        id: 'Georgia, serif'\n      }, {\n        label: 'Helvetica',\n        id: 'Helvetica' + ss\n      }, {\n        label: 'Impact',\n        id: 'Impact, Charcoal' + ss\n      }, {\n        label: 'Lucida Sans Unicode',\n        id: 'Lucida Sans Unicode, Lucida Grande' + ss\n      }, {\n        label: 'Tahoma',\n        id: 'Tahoma, Geneva' + ss\n      }, {\n        label: 'Times New Roman',\n        id: 'Times New Roman, Times, serif'\n      }, {\n        label: 'Trebuchet MS',\n        id: 'Trebuchet MS, Helvetica' + ss\n      }, {\n        label: 'Verdana',\n        id: 'Verdana, Geneva' + ss\n      }]\n    };\n    expect(obj.build('font-family')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build font-size","suites":["PropertyFactory"],"updatePoint":{"line":381,"column":23,"index":9049},"line":381,"code":"  test('Build font-size', () => {\n    var res = {\n      type: 'number',\n      units: obj.unitsSize,\n      default: 'medium',\n      min: 0,\n      fixedValues: ['medium', 'xx-small', 'x-small', 'small', 'large', 'x-large', 'xx-large', 'smaller', 'larger', 'length', 'initial', 'inherit']\n    };\n    res.property = 'font-size';\n    expect(obj.build('font-size')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build letter-spacing","suites":["PropertyFactory"],"updatePoint":{"line":392,"column":28,"index":9436},"line":392,"code":"  test('Build letter-spacing', () => {\n    var res = {\n      type: 'number',\n      units: obj.unitsSize,\n      default: 'normal',\n      fixedValues: ['normal', 'initial', 'inherit']\n    };\n    res.property = 'letter-spacing';\n    expect(obj.build('letter-spacing')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build font-weight","suites":["PropertyFactory"],"updatePoint":{"line":402,"column":25,"index":9721},"line":402,"code":"  test('Build font-weight', () => {\n    var res = {\n      type: 'select',\n      default: '400',\n      options: [{\n        id: '100',\n        label: 'Thin'\n      }, {\n        id: '200',\n        label: 'Extra-Light'\n      }, {\n        id: '300',\n        label: 'Light'\n      }, {\n        id: '400',\n        label: 'Normal'\n      }, {\n        id: '500',\n        label: 'Medium'\n      }, {\n        id: '600',\n        label: 'Semi-Bold'\n      }, {\n        id: '700',\n        label: 'Bold'\n      }, {\n        id: '800',\n        label: 'Extra-Bold'\n      }, {\n        id: '900',\n        label: 'Ultra-Bold'\n      }]\n    };\n    res.property = 'font-weight';\n    expect(obj.build('font-weight')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build color","suites":["PropertyFactory"],"updatePoint":{"line":438,"column":19,"index":10424},"line":438,"code":"  test('Build color', () => {\n    var res = {\n      property: 'color',\n      type: 'color',\n      default: 'black'\n    };\n    expect(obj.build('color')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build line-height","suites":["PropertyFactory"],"updatePoint":{"line":446,"column":25,"index":10605},"line":446,"code":"  test('Build line-height', () => {\n    var res = {\n      type: 'number',\n      units: obj.unitsSize,\n      default: 'normal',\n      fixedValues: ['normal', 'initial', 'inherit']\n    };\n    res.property = 'line-height';\n    expect(obj.build('line-height')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build text-align","suites":["PropertyFactory"],"updatePoint":{"line":456,"column":24,"index":10883},"line":456,"code":"  test('Build text-align', () => {\n    var res = {\n      type: 'radio',\n      default: 'left',\n      options: [{\n        id: 'left'\n      }, {\n        id: 'center'\n      }, {\n        id: 'right'\n      }, {\n        id: 'justify'\n      }]\n    };\n    res.property = 'text-align';\n    expect(obj.build('text-align')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build text-shadow","suites":["PropertyFactory"],"updatePoint":{"line":473,"column":25,"index":11219},"line":473,"code":"  test('Build text-shadow', () => {\n    var res = {\n      type: 'stack',\n      preview: true,\n      default: 'none',\n      properties: [{\n        property: 'text-shadow-h',\n        type: 'number',\n        units: obj.unitsSizeNoPerc,\n        default: '0'\n      }, {\n        property: 'text-shadow-v',\n        type: 'number',\n        units: obj.unitsSizeNoPerc,\n        default: '0'\n      }, {\n        property: 'text-shadow-blur',\n        type: 'number',\n        units: obj.unitsSizeNoPerc,\n        default: '0',\n        min: 0\n      }, {\n        property: 'text-shadow-color',\n        type: 'color',\n        default: 'black'\n      }]\n    };\n    res.property = 'text-shadow';\n    const result = obj.build('text-shadow');\n    delete result[0].layerLabel;\n    expect(result).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build border-radius-c","suites":["PropertyFactory"],"updatePoint":{"line":505,"column":29,"index":12017},"line":505,"code":"  test('Build border-radius-c', () => {\n    var res = {\n      type: 'number',\n      units: obj.unitsSize,\n      default: '0',\n      min: 0\n    };\n    res.property = 'border-radius';\n    expect(obj.build('border-radius-c')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build border-radius","suites":["PropertyFactory"],"updatePoint":{"line":515,"column":27,"index":12260},"line":515,"code":"  test('Build border-radius', () => {\n    var res = {\n      property: 'border-radius',\n      type: 'composite',\n      properties: [{\n        property: 'border-top-left-radius',\n        id: 'border-top-left-radius-sub',\n        type: 'number',\n        units: obj.unitsSize,\n        default: '0',\n        min: 0\n      }, {\n        property: 'border-top-right-radius',\n        id: 'border-top-right-radius-sub',\n        type: 'number',\n        units: obj.unitsSize,\n        min: 0,\n        default: '0'\n      }, {\n        property: 'border-bottom-right-radius',\n        id: 'border-bottom-right-radius-sub',\n        type: 'number',\n        units: obj.unitsSize,\n        min: 0,\n        default: '0'\n      }, {\n        property: 'border-bottom-left-radius',\n        id: 'border-bottom-left-radius-sub',\n        type: 'number',\n        units: obj.unitsSize,\n        min: 0,\n        default: '0'\n      }]\n    };\n    res.property = 'border-radius';\n    expect(obj.build('border-radius')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build background-color","suites":["PropertyFactory"],"updatePoint":{"line":552,"column":30,"index":13266},"line":552,"code":"  test('Build background-color', () => {\n    var res = {\n      type: 'color',\n      default: 'none'\n    };\n    res.property = 'background-color';\n    expect(obj.build('background-color')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build border","suites":["PropertyFactory"],"updatePoint":{"line":560,"column":20,"index":13466},"line":560,"code":"  test('Build border', () => {\n    var res = {\n      property: 'border',\n      type: 'composite',\n      properties: [{\n        property: 'border-width',\n        id: 'border-width-sub',\n        type: 'number',\n        units: obj.unitsSizeNoPerc,\n        default: '0',\n        min: 0\n      }, {\n        property: 'border-style',\n        id: 'border-style-sub',\n        type: 'select',\n        default: 'solid',\n        options: [{\n          id: 'none'\n        }, {\n          id: 'solid'\n        }, {\n          id: 'dotted'\n        }, {\n          id: 'dashed'\n        }, {\n          id: 'double'\n        }, {\n          id: 'groove'\n        }, {\n          id: 'ridge'\n        }, {\n          id: 'inset'\n        }, {\n          id: 'outset'\n        }]\n      }, {\n        property: 'border-color',\n        id: 'border-color-sub',\n        type: 'color',\n        default: 'black'\n      }]\n    };\n    expect(obj.build('border')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build box-shadow","suites":["PropertyFactory"],"updatePoint":{"line":604,"column":24,"index":14411},"line":604,"code":"  test('Build box-shadow', () => {\n    var res = {\n      property: 'box-shadow',\n      type: 'stack',\n      preview: true,\n      properties: [{\n        property: 'box-shadow-h',\n        type: 'number',\n        units: obj.unitsSizeNoPerc,\n        default: '0'\n      }, {\n        property: 'box-shadow-v',\n        type: 'number',\n        units: obj.unitsSizeNoPerc,\n        default: '0'\n      }, {\n        property: 'box-shadow-blur',\n        type: 'number',\n        units: obj.unitsSizeNoPerc,\n        default: '5px',\n        min: 0\n      }, {\n        property: 'box-shadow-spread',\n        type: 'number',\n        units: obj.unitsSizeNoPerc,\n        default: '0'\n      }, {\n        property: 'box-shadow-color',\n        type: 'color',\n        default: 'black'\n      }, {\n        property: 'box-shadow-type',\n        type: 'select',\n        default: '',\n        options: [{\n          id: '',\n          label: 'Outside'\n        }, {\n          id: 'inset',\n          label: 'Inside'\n        }]\n      }]\n    };\n    const result = obj.build('box-shadow');\n    delete result[0].layerLabel;\n    expect(result).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build background","suites":["PropertyFactory"],"updatePoint":{"line":651,"column":24,"index":15536},"line":651,"code":"  test('Build background', () => {\n    var res = {\n      property: 'background',\n      type: 'stack',\n      preview: true,\n      detached: true,\n      properties: [{\n        property: 'background-image',\n        id: 'background-image-sub',\n        default: 'none',\n        type: 'file',\n        functionName: 'url',\n        full: true\n      }, {\n        property: 'background-repeat',\n        id: 'background-repeat-sub',\n        type: 'select',\n        default: 'repeat',\n        options: [{\n          id: 'repeat'\n        }, {\n          id: 'repeat-x'\n        }, {\n          id: 'repeat-y'\n        }, {\n          id: 'no-repeat'\n        }]\n      }, {\n        property: 'background-position',\n        id: 'background-position-sub',\n        type: 'select',\n        default: 'left top',\n        options: [{\n          id: 'left top'\n        }, {\n          id: 'left center'\n        }, {\n          id: 'left bottom'\n        }, {\n          id: 'right top'\n        }, {\n          id: 'right center'\n        }, {\n          id: 'right bottom'\n        }, {\n          id: 'center top'\n        }, {\n          id: 'center center'\n        }, {\n          id: 'center bottom'\n        }]\n      }, {\n        property: 'background-attachment',\n        id: 'background-attachment-sub',\n        type: 'select',\n        default: 'scroll',\n        options: [{\n          id: 'scroll'\n        }, {\n          id: 'fixed'\n        }, {\n          id: 'local'\n        }]\n      }, {\n        property: 'background-size',\n        id: 'background-size-sub',\n        type: 'select',\n        default: 'auto',\n        options: [{\n          id: 'auto'\n        }, {\n          id: 'cover'\n        }, {\n          id: 'contain'\n        }]\n      }]\n    };\n    const result = obj.build('background');\n    delete result[0].layerLabel;\n    expect(result).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build transition","suites":["PropertyFactory"],"updatePoint":{"line":732,"column":24,"index":17369},"line":732,"code":"  test('Build transition', () => {\n    var res = {\n      property: 'transition',\n      type: 'stack',\n      properties: [{\n        property: 'transition-property',\n        id: 'transition-property-sub',\n        type: 'select',\n        default: 'width',\n        options: [{\n          id: 'all'\n        }, {\n          id: 'width'\n        }, {\n          id: 'height'\n        }, {\n          id: 'background-color'\n        }, {\n          id: 'transform'\n        }, {\n          id: 'box-shadow'\n        }, {\n          id: 'opacity'\n        }]\n      }, {\n        property: 'transition-duration',\n        id: 'transition-duration-sub',\n        type: 'number',\n        units: obj.unitsTime,\n        default: '2s',\n        min: 0\n      }, {\n        property: 'transition-timing-function',\n        id: 'transition-timing-function-sub',\n        type: 'select',\n        default: 'ease',\n        options: [{\n          id: 'linear'\n        }, {\n          id: 'ease'\n        }, {\n          id: 'ease-in'\n        }, {\n          id: 'ease-out'\n        }, {\n          id: 'ease-in-out'\n        }]\n      }]\n    };\n    expect(obj.build('transition')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build perspective","suites":["PropertyFactory"],"updatePoint":{"line":783,"column":25,"index":18522},"line":783,"code":"  test('Build perspective', () => {\n    var res = {\n      property: 'perspective',\n      type: 'number',\n      units: obj.unitsSize,\n      default: '0',\n      min: 0\n    };\n    expect(obj.build('perspective')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build transform","suites":["PropertyFactory"],"updatePoint":{"line":793,"column":23,"index":18752},"line":793,"code":"  test('Build transform', () => {\n    expect(obj.build('transform')[0].type).toEqual('stack');\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build cursor","suites":["PropertyFactory"],"updatePoint":{"line":796,"column":20,"index":18850},"line":796,"code":"  test('Build cursor', () => {\n    var res = {\n      type: 'select',\n      property: 'cursor',\n      default: 'auto',\n      options: [{\n        id: 'auto'\n      }, {\n        id: 'pointer'\n      }, {\n        id: 'copy'\n      }, {\n        id: 'crosshair'\n      }, {\n        id: 'grab'\n      }, {\n        id: 'grabbing'\n      }, {\n        id: 'help'\n      }, {\n        id: 'move'\n      }, {\n        id: 'text'\n      }]\n    };\n    expect(obj.build('cursor')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build overflow","suites":["PropertyFactory"],"updatePoint":{"line":823,"column":22,"index":19329},"line":823,"code":"  test('Build overflow', () => {\n    var res = {\n      type: 'select',\n      property: 'overflow',\n      default: 'visible',\n      options: [{\n        id: 'visible'\n      }, {\n        id: 'hidden'\n      }, {\n        id: 'scroll'\n      }, {\n        id: 'auto'\n      }]\n    };\n    expect(obj.build('overflow')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build overflow-x","suites":["PropertyFactory"],"updatePoint":{"line":840,"column":24,"index":19662},"line":840,"code":"  test('Build overflow-x', () => {\n    var res = {\n      type: 'select',\n      property: 'overflow-x',\n      default: 'visible',\n      options: [{\n        id: 'visible'\n      }, {\n        id: 'hidden'\n      }, {\n        id: 'scroll'\n      }, {\n        id: 'auto'\n      }]\n    };\n    expect(obj.build('overflow-x')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Build overflow-y","suites":["PropertyFactory"],"updatePoint":{"line":857,"column":24,"index":19999},"line":857,"code":"  test('Build overflow-y', () => {\n    var res = {\n      type: 'select',\n      property: 'overflow-y',\n      default: 'visible',\n      options: [{\n        id: 'visible'\n      }, {\n        id: 'hidden'\n      }, {\n        id: 'scroll'\n      }, {\n        id: 'auto'\n      }]\n    };\n    expect(obj.build('overflow-y')).toEqual([res]);\n  });","file":"specs/style_manager/model/PropertyFactory.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["Sectors"],"updatePoint":{"line":11,"column":21,"index":248},"line":11,"code":"  test('Object exists', () => {\n    expect(obj).toBeTruthy();\n  });","file":"specs/style_manager/model/Sectors.js","skipped":false,"dir":"test"},{"name":"All sectors should exist","suites":["Sectors","Sector visibility"],"updatePoint":{"line":46,"column":34,"index":1146},"line":46,"code":"    test('All sectors should exist', () => {\n      [s1, s2].forEach(sector => expect(sector).toBeTruthy());\n    });","file":"specs/style_manager/model/Sectors.js","skipped":false,"dir":"test"},{"name":"All sectors and properties are visible by default","suites":["Sectors","Sector visibility"],"updatePoint":{"line":49,"column":59,"index":1287},"line":49,"code":"    test('All sectors and properties are visible by default', () => {\n      [s1, s2].forEach(sector => {\n        expect(sector.isVisible()).toBe(true);\n        sector.getProperties().forEach(prop => {\n          expect(prop.isVisible()).toBe(true);\n        });\n      });\n    });","file":"specs/style_manager/model/Sectors.js","skipped":false,"dir":"test"},{"name":"Sectors are properly enabled with stylable component","suites":["Sectors","Sector visibility"],"updatePoint":{"line":57,"column":62,"index":1568},"line":57,"code":"    test('Sectors are properly enabled with stylable component', () => {\n      const stylable = ['width', 'height'];\n      const cmp = domc.addComponent({\n        stylable\n      });\n      em.setSelected(cmp);\n      sm.__upSel();\n      expect(s1.isVisible()).toBe(true);\n      expect(s2.isVisible()).toBe(false);\n      s1.getProperties().forEach(prop => {\n        const isVisible = stylable.indexOf(prop.getName()) >= 0;\n        expect(prop.isVisible()).toBe(isVisible);\n      });\n      s2.getProperties().forEach(prop => {\n        expect(prop.isVisible()).toBe(false);\n      });\n    });","file":"specs/style_manager/model/Sectors.js","skipped":false,"dir":"test"},{"name":"Sectors are properly enabled with unstylable component","suites":["Sectors","Sector visibility"],"updatePoint":{"line":74,"column":64,"index":2157},"line":74,"code":"    test('Sectors are properly enabled with unstylable component', () => {\n      const unstylable = ['color'];\n      const cmp = domc.addComponent({\n        unstylable\n      });\n      em.setSelected(cmp);\n      sm.__upSel();\n      expect(s1.isVisible()).toBe(true);\n      expect(s2.isVisible()).toBe(true);\n      s1.getProperties().forEach(prop => {\n        expect(prop.isVisible()).toBe(true);\n      });\n      s2.getProperties().forEach(prop => {\n        const isVisible = unstylable.indexOf(prop.getName()) < 0;\n        expect(prop.isVisible()).toBe(isVisible);\n      });\n    });","file":"specs/style_manager/model/Sectors.js","skipped":false,"dir":"test"},{"name":"Rendered correctly","suites":["PropertyColorView"],"updatePoint":{"line":53,"column":26,"index":1292},"line":53,"code":"  test('Rendered correctly', () => {\n    var prop = view.el;\n    expect(fixtures.querySelector('.property')).toBeTruthy();\n    expect(prop.querySelector('.label')).toBeTruthy();\n    expect(prop.querySelector('.field')).toBeTruthy();\n  });","file":"specs/style_manager/view/PropertyColorView.js","skipped":false,"dir":"test"},{"name":"Inputs rendered","suites":["PropertyColorView"],"updatePoint":{"line":59,"column":23,"index":1528},"line":59,"code":"  test('Inputs rendered', () => {\n    var prop = view.el;\n    expect(prop.querySelector('input[type=text]')).toBeTruthy();\n  });","file":"specs/style_manager/view/PropertyColorView.js","skipped":false,"dir":"test"},{"name":"Inputs should exist","suites":["PropertyColorView"],"updatePoint":{"line":63,"column":27,"index":1661},"line":63,"code":"  test('Inputs should exist', () => {\n    expect(view.inputInst).toBeTruthy();\n  });","file":"specs/style_manager/view/PropertyColorView.js","skipped":false,"dir":"test"},{"name":"Input value is empty","suites":["PropertyColorView"],"updatePoint":{"line":66,"column":28,"index":1747},"line":66,"code":"  test('Input value is empty', () => {\n    expect(view.model.get('value')).toBeFalsy();\n    expect(view.getInputEl().value).toBeFalsy();\n  });","file":"specs/style_manager/view/PropertyColorView.js","skipped":false,"dir":"test"},{"name":"Update model on setValue","suites":["PropertyColorView"],"updatePoint":{"line":70,"column":32,"index":1894},"line":70,"code":"  test('Update model on setValue', () => {\n    view.setValue(propValue);\n    expect(view.getInputEl().value).toEqual(propValue);\n  });","file":"specs/style_manager/view/PropertyColorView.js","skipped":false,"dir":"test"},{"name":"Update model on input change","suites":["PropertyColorView"],"updatePoint":{"line":74,"column":36,"index":2033},"line":74,"code":"  test('Update model on input change', () => {\n    view.getInputEl().value = propValue;\n    view.inputValueChanged({\n      target: {\n        value: propValue\n      },\n      stopPropagation() {}\n    });\n    expect(view.model.get('value')).toEqual(propValue);\n  });","file":"specs/style_manager/view/PropertyColorView.js","skipped":false,"dir":"test"},{"name":"Update input on value change","suites":["PropertyColorView"],"updatePoint":{"line":84,"column":36,"index":2297},"line":84,"code":"  test('Update input on value change', done => {\n    view.model.set('value', propValue);\n    setTimeout(() => {\n      expect(view.getInputEl().value).toEqual(propValue);\n      done();\n    }, 15);\n  });","file":"specs/style_manager/view/PropertyColorView.js","skipped":false,"dir":"test"},{"name":"Value as default","suites":["PropertyColorView","Init property"],"updatePoint":{"line":106,"column":26,"index":2859},"line":106,"code":"    test('Value as default', () => {\n      expect(view.model.getValue()).toEqual(propValue);\n    });","file":"specs/style_manager/view/PropertyColorView.js","skipped":false,"dir":"test"},{"name":"Input value is the default","suites":["PropertyColorView","Init property"],"updatePoint":{"line":109,"column":36,"index":2970},"line":109,"code":"    test('Input value is the default', () => {\n      expect(view.getInputEl().value).toEqual(propValue);\n    });","file":"specs/style_manager/view/PropertyColorView.js","skipped":false,"dir":"test"},{"name":"Rendered correctly","suites":["PropertyCompositeView"],"updatePoint":{"line":65,"column":26,"index":1526},"line":65,"code":"  test('Rendered correctly', () => {\n    var prop = view.el;\n    expect(fixtures.querySelector('.property')).toBeTruthy();\n    expect(prop.querySelector('.label')).toBeTruthy();\n    expect(prop.querySelector('.field')).toBeTruthy();\n  });","file":"specs/style_manager/view/PropertyCompositeView.js","skipped":false,"dir":"test"},{"name":"Properties rendered","suites":["PropertyCompositeView"],"updatePoint":{"line":71,"column":27,"index":1766},"line":71,"code":"  test('Properties rendered', () => {\n    var prop = view.el;\n    expect(prop.querySelector('.properties')).toBeTruthy();\n  });","file":"specs/style_manager/view/PropertyCompositeView.js","skipped":false,"dir":"test"},{"name":"Properties rendered correctly","suites":["PropertyCompositeView"],"updatePoint":{"line":75,"column":37,"index":1904},"line":75,"code":"  test('Properties rendered correctly', () => {\n    var children = view.el.querySelector('.properties').children;\n    expect(children.length).toEqual(properties.length);\n  });","file":"specs/style_manager/view/PropertyCompositeView.js","skipped":false,"dir":"test"},{"name":"Props should exist","suites":["PropertyCompositeView"],"updatePoint":{"line":79,"column":26,"index":2069},"line":79,"code":"  test('Props should exist', () => {\n    expect(view.props).toBeTruthy();\n  });","file":"specs/style_manager/view/PropertyCompositeView.js","skipped":false,"dir":"test"},{"name":"Input value is empty","suites":["PropertyCompositeView"],"updatePoint":{"line":82,"column":28,"index":2151},"line":82,"code":"  test('Input value is empty', () => {\n    expect(model.getFullValue()).toEqual('0 val2');\n  });","file":"specs/style_manager/view/PropertyCompositeView.js","skipped":false,"dir":"test"},{"name":"Rendered correctly","suites":["PropertyNumberView"],"updatePoint":{"line":54,"column":26,"index":1399},"line":54,"code":"  test('Rendered correctly', () => {\n    var prop = view.el;\n    expect(fixtures.querySelector('.property')).toBeTruthy();\n    expect(prop.querySelector('.label')).toBeTruthy();\n    expect(prop.querySelector('.field')).toBeTruthy();\n  });","file":"specs/style_manager/view/PropertyIntegerView.js","skipped":false,"dir":"test"},{"name":"Inputs rendered","suites":["PropertyNumberView"],"updatePoint":{"line":60,"column":23,"index":1635},"line":60,"code":"  test('Inputs rendered', () => {\n    var prop = view.el;\n    expect(prop.querySelector('input[type=text]')).toBeTruthy();\n    expect(prop.querySelector(unitsElSel)).toBeTruthy();\n  });","file":"specs/style_manager/view/PropertyIntegerView.js","skipped":false,"dir":"test"},{"name":"Units rendered","suites":["PropertyNumberView"],"updatePoint":{"line":65,"column":22,"index":1820},"line":65,"code":"  test('Units rendered', () => {\n    var select = view.el.querySelector(unitsElSel);\n    expect(select.children.length).toEqual(units.length + 1); // (+ hidden option)\n  });","file":"specs/style_manager/view/PropertyIntegerView.js","skipped":false,"dir":"test"},{"name":"Units rendered correctly","suites":["PropertyNumberView"],"updatePoint":{"line":70,"column":32,"index":2005},"line":70,"code":"  test('Units rendered correctly', () => {\n    var children = view.el.querySelector(unitsElSel).children;\n    expect(children[1].textContent).toEqual(units[0]);\n    expect(children[2].textContent).toEqual(units[1]);\n    expect(children[3].textContent).toEqual(units[2]);\n  });","file":"specs/style_manager/view/PropertyIntegerView.js","skipped":false,"dir":"test"},{"name":"Inputs should exist","suites":["PropertyNumberView"],"updatePoint":{"line":76,"column":27,"index":2277},"line":76,"code":"  test('Inputs should exist', () => {\n    expect(view.input).toBeTruthy();\n  });","file":"specs/style_manager/view/PropertyIntegerView.js","skipped":false,"dir":"test"},{"name":"Input value is empty","suites":["PropertyNumberView"],"updatePoint":{"line":79,"column":28,"index":2359},"line":79,"code":"  test('Input value is empty', () => {\n    expect(view.model.get('value')).toBeFalsy();\n  });","file":"specs/style_manager/view/PropertyIntegerView.js","skipped":false,"dir":"test"},{"name":"Update model on setValue","suites":["PropertyNumberView"],"updatePoint":{"line":82,"column":32,"index":2457},"line":82,"code":"  test('Update model on setValue', () => {\n    view.inputInst.setValue(intValue + unitValue);\n    expect(view.model.get('value')).toEqual(parseFloat(intValue));\n    expect(view.model.get('unit')).toEqual(unitValue);\n    expect(view.getInputEl().value).toEqual(intValue);\n  });","file":"specs/style_manager/view/PropertyIntegerView.js","skipped":false,"dir":"test"},{"name":"Update model on input change","suites":["PropertyNumberView"],"updatePoint":{"line":88,"column":36,"index":2738},"line":88,"code":"  test('Update model on input change', () => {\n    view.inputInst.inputEl.val(123).trigger('change');\n    expect(view.model.get('value')).toEqual(123);\n  });","file":"specs/style_manager/view/PropertyIntegerView.js","skipped":false,"dir":"test"},{"name":"Update model on unit change","suites":["PropertyNumberView"],"updatePoint":{"line":92,"column":35,"index":2895},"line":92,"code":"  test('Update model on unit change', () => {\n    view.inputInst.unitEl.value = units[1];\n    view.inputInst.handleUnitChange({\n      stopPropagation() {}\n    });\n    expect(view.model.get('unit')).toEqual(units[1]);\n  });","file":"specs/style_manager/view/PropertyIntegerView.js","skipped":false,"dir":"test"},{"name":"Update input on value change","suites":["PropertyNumberView"],"updatePoint":{"line":99,"column":36,"index":3119},"line":99,"code":"  test('Update input on value change', () => {\n    view.model.set('value', intValue);\n    expect(view.getInputEl().value).toEqual(intValue);\n  });","file":"specs/style_manager/view/PropertyIntegerView.js","skipped":false,"dir":"test"},{"name":"Value as default","suites":["PropertyNumberView","Init property"],"updatePoint":{"line":123,"column":26,"index":3716},"line":123,"code":"    test('Value as default', () => {\n      expect(view.model.getValue()).toEqual(intValue);\n      expect(view.model.getUnit()).toEqual(units[1]);\n    });","file":"specs/style_manager/view/PropertyIntegerView.js","skipped":false,"dir":"test"},{"name":"Input value is as default","suites":["PropertyNumberView","Init property"],"updatePoint":{"line":127,"column":35,"index":3879},"line":127,"code":"    test('Input value is as default', () => {\n      expect(view.getInputEl().value).toEqual('');\n      expect(view.getInputEl().placeholder).toEqual(intValue);\n      expect(view.inputInst.unitEl.value).toEqual(units[1]);\n    });","file":"specs/style_manager/view/PropertyIntegerView.js","skipped":false,"dir":"test"},{"name":"Input follows min","suites":["PropertyNumberView","Init property"],"updatePoint":{"line":132,"column":27,"index":4100},"line":132,"code":"    test('Input follows min', () => {\n      view.inputInst.inputEl.val(minValue - 50).trigger('change');\n      expect(view.model.get('value')).toEqual(minValue);\n      expect(view.getInputEl().value).toEqual(minValue + '');\n    });","file":"specs/style_manager/view/PropertyIntegerView.js","skipped":false,"dir":"test"},{"name":"Input follows max","suites":["PropertyNumberView","Init property"],"updatePoint":{"line":137,"column":27,"index":4332},"line":137,"code":"    test('Input follows max', () => {\n      view.inputInst.inputEl.val(maxValue + 50).trigger('change');\n      expect(view.model.get('value')).toEqual(maxValue);\n      expect(view.getInputEl().value).toEqual(maxValue + '');\n    });","file":"specs/style_manager/view/PropertyIntegerView.js","skipped":false,"dir":"test"},{"name":"Rendered correctly","suites":["PropertyRadioView"],"updatePoint":{"line":60,"column":26,"index":1636},"line":60,"code":"  test('Rendered correctly', () => {\n    var prop = view.el;\n    expect(fixtures.querySelector('.property')).toBeTruthy();\n    expect(prop.querySelector('.label')).toBeTruthy();\n    expect(prop.querySelector('.field')).toBeTruthy();\n  });","file":"specs/style_manager/view/PropertyRadioView.js","skipped":false,"dir":"test"},{"name":"Radio rendered","suites":["PropertyRadioView"],"updatePoint":{"line":66,"column":22,"index":1871},"line":66,"code":"  test('Radio rendered', () => {\n    var prop = view.el;\n    expect(prop.querySelector('input[type=radio]')).toBeTruthy();\n  });","file":"specs/style_manager/view/PropertyRadioView.js","skipped":false,"dir":"test"},{"name":"Options rendered","suites":["PropertyRadioView"],"updatePoint":{"line":70,"column":24,"index":2002},"line":70,"code":"  test('Options rendered', () => {\n    var input = view.el.querySelector('.field').firstChild;\n    expect(input.children.length).toEqual(options.length);\n  });","file":"specs/style_manager/view/PropertyRadioView.js","skipped":false,"dir":"test"},{"name":"Options rendered correctly","suites":["PropertyRadioView"],"updatePoint":{"line":74,"column":34,"index":2172},"line":74,"code":"  test('Options rendered correctly', () => {\n    var children = view.el.querySelector('.field').firstChild.children;\n    expect(children[0].querySelector('label').textContent).toEqual('test1value');\n    expect(children[1].querySelector('label').textContent).toEqual('test2');\n    expect(children[0].querySelector('input').value).toEqual(options[0].value);\n    expect(children[1].querySelector('input').value).toEqual(options[1].value);\n    expect(children[0].querySelector('label').getAttribute('title')).toEqual(options[0].title);\n    expect(children[1].querySelector('label').getAttribute('title')).toEqual(null);\n  });","file":"specs/style_manager/view/PropertyRadioView.js","skipped":false,"dir":"test"},{"name":"Input should exist","suites":["PropertyRadioView"],"updatePoint":{"line":83,"column":26,"index":2786},"line":83,"code":"  test('Input should exist', () => {\n    expect(view.input).toBeTruthy();\n  });","file":"specs/style_manager/view/PropertyRadioView.js","skipped":false,"dir":"test"},{"name":"Input value is empty","suites":["PropertyRadioView"],"updatePoint":{"line":86,"column":28,"index":2868},"line":86,"code":"  test('Input value is empty', () => {\n    expect(view.model.get('value')).toBeFalsy();\n  });","file":"specs/style_manager/view/PropertyRadioView.js","skipped":false,"dir":"test"},{"name":"Update model on input change","suites":["PropertyRadioView"],"updatePoint":{"line":89,"column":36,"index":2970},"line":89,"code":"  test('Update model on input change', () => {\n    view.setValue(propValue);\n    view.inputValueChanged({\n      target: {\n        value: propValue\n      },\n      stopPropagation() {}\n    });\n    expect(view.model.get('value')).toEqual(propValue);\n  });","file":"specs/style_manager/view/PropertyRadioView.js","skipped":false,"dir":"test"},{"name":"Update input on value change","suites":["PropertyRadioView"],"updatePoint":{"line":99,"column":36,"index":3223},"line":99,"code":"  test('Update input on value change', done => {\n    view.model.set('value', propValue);\n    setTimeout(() => {\n      expect(getCheckedEl(view).value).toEqual(propValue);\n      done();\n    }, 15);\n  });","file":"specs/style_manager/view/PropertyRadioView.js","skipped":false,"dir":"test"},{"name":"Value as default","suites":["PropertyRadioView","Init property"],"updatePoint":{"line":122,"column":26,"index":3809},"line":122,"code":"    test('Value as default', () => {\n      expect(view.model.getValue()).toEqual(defValue);\n    });","file":"specs/style_manager/view/PropertyRadioView.js","skipped":false,"dir":"test"},{"name":"Input value is as default","suites":["PropertyRadioView","Init property"],"updatePoint":{"line":125,"column":35,"index":3918},"line":125,"code":"    test('Input value is as default', () => {\n      expect(view.model.getDefaultValue()).toEqual(defValue);\n    });","file":"specs/style_manager/view/PropertyRadioView.js","skipped":false,"dir":"test"},{"name":"Rendered correctly","suites":["PropertySelectView"],"updatePoint":{"line":56,"column":26,"index":1378},"line":56,"code":"  test('Rendered correctly', () => {\n    var prop = view.el;\n    expect(fixtures.querySelector('.property')).toBeTruthy();\n    expect(prop.querySelector('.label')).toBeTruthy();\n    expect(prop.querySelector('.field')).toBeTruthy();\n  });","file":"specs/style_manager/view/PropertySelectView.js","skipped":false,"dir":"test"},{"name":"Select rendered","suites":["PropertySelectView"],"updatePoint":{"line":62,"column":23,"index":1614},"line":62,"code":"  test('Select rendered', () => {\n    var prop = view.el;\n    expect(prop.querySelector('select')).toBeTruthy();\n  });","file":"specs/style_manager/view/PropertySelectView.js","skipped":false,"dir":"test"},{"name":"Options rendered","suites":["PropertySelectView"],"updatePoint":{"line":66,"column":24,"index":1734},"line":66,"code":"  test('Options rendered', () => {\n    var select = view.el.querySelector('select');\n    expect(select.children.length).toEqual(options.length);\n  });","file":"specs/style_manager/view/PropertySelectView.js","skipped":false,"dir":"test"},{"name":"Options rendered correctly","suites":["PropertySelectView"],"updatePoint":{"line":70,"column":34,"index":1895},"line":70,"code":"  test('Options rendered correctly', () => {\n    var select = view.el.querySelector('select');\n    var children = select.children;\n    expect(children[0].value).toEqual(options[0].value);\n    expect(children[1].value).toEqual(options[1].value);\n    expect(children[0].textContent).toEqual(options[0].value);\n    expect(children[1].textContent).toEqual(options[1].name);\n    expect(children[0].getAttribute('style')).toEqual(options[0].style);\n    expect(children[1].getAttribute('style')).toEqual(null);\n  });","file":"specs/style_manager/view/PropertySelectView.js","skipped":false,"dir":"test"},{"name":"Input should exist","suites":["PropertySelectView"],"updatePoint":{"line":80,"column":26,"index":2397},"line":80,"code":"  test('Input should exist', () => {\n    expect(view.input).toBeTruthy();\n  });","file":"specs/style_manager/view/PropertySelectView.js","skipped":false,"dir":"test"},{"name":"Input value is empty","suites":["PropertySelectView"],"updatePoint":{"line":83,"column":28,"index":2479},"line":83,"code":"  test('Input value is empty', () => {\n    expect(view.model.get('value')).toBeFalsy();\n  });","file":"specs/style_manager/view/PropertySelectView.js","skipped":false,"dir":"test"},{"name":"Update model on input change","suites":["PropertySelectView"],"updatePoint":{"line":86,"column":36,"index":2581},"line":86,"code":"  test('Update model on input change', () => {\n    view.getInputEl().value = propValue;\n    view.inputValueChanged({\n      target: {\n        value: propValue\n      },\n      stopPropagation() {}\n    });\n    expect(view.model.get('value')).toEqual(propValue);\n  });","file":"specs/style_manager/view/PropertySelectView.js","skipped":false,"dir":"test"},{"name":"Update input on value change","suites":["PropertySelectView"],"updatePoint":{"line":96,"column":36,"index":2845},"line":96,"code":"  test('Update input on value change', done => {\n    view.model.set('value', propValue);\n    setTimeout(() => {\n      expect(view.getInputEl().value).toEqual(propValue);\n      done();\n    }, 11);\n  });","file":"specs/style_manager/view/PropertySelectView.js","skipped":false,"dir":"test"},{"name":"Value as default","suites":["PropertySelectView","Init property"],"updatePoint":{"line":119,"column":26,"index":3431},"line":119,"code":"    test('Value as default', () => {\n      expect(view.model.getValue()).toEqual(defValue);\n    });","file":"specs/style_manager/view/PropertySelectView.js","skipped":false,"dir":"test"},{"name":"Empty value as default","suites":["PropertySelectView","Init property"],"updatePoint":{"line":122,"column":32,"index":3537},"line":122,"code":"    test('Empty value as default', () => {\n      options = [{\n        value: '',\n        name: 'test'\n      }, {\n        value: 'test1value',\n        name: 'test1'\n      }, {\n        value: 'test2value',\n        name: 'test2'\n      }, {\n        value: '',\n        name: 'TestDef'\n      }];\n      component = new Component();\n      model = new Property({\n        type: 'select',\n        list: options,\n        defaults: '',\n        property: 'emptyDefault'\n      });\n      view = new PropertySelectView({\n        model\n      });\n      view.render();\n      fixtures.innerHTML = '';\n      fixtures.appendChild(view.el);\n      expect(view.getInputEl().value).toEqual('');\n    });","file":"specs/style_manager/view/PropertySelectView.js","skipped":false,"dir":"test"},{"name":"Input value is as default","suites":["PropertySelectView","Init property"],"updatePoint":{"line":151,"column":35,"index":4216},"line":151,"code":"    test('Input value is as default', () => {\n      expect(view.model.getDefaultValue()).toEqual(defValue);\n    });","file":"specs/style_manager/view/PropertySelectView.js","skipped":false,"dir":"test"},{"name":"Rendered correctly","suites":["PropertyStackView"],"updatePoint":{"line":63,"column":26,"index":1466},"line":63,"code":"  test('Rendered correctly', () => {\n    var prop = view.el;\n    expect(fixtures.querySelector('.property')).toBeTruthy();\n    expect(prop.querySelector('.label')).toBeTruthy();\n    expect(prop.querySelector('.field')).toBeTruthy();\n    expect(prop.querySelector('#add')).toBeTruthy();\n  });","file":"specs/style_manager/view/PropertyStackView.js","skipped":false,"dir":"test"},{"name":"Layers rendered","suites":["PropertyStackView"],"updatePoint":{"line":70,"column":23,"index":1755},"line":70,"code":"  test('Layers rendered', () => {\n    expect(view.el.querySelector('.layers')).toBeTruthy();\n  });","file":"specs/style_manager/view/PropertyStackView.js","skipped":false,"dir":"test"},{"name":"Layers wrapper should exist","suites":["PropertyStackView"],"updatePoint":{"line":73,"column":35,"index":1866},"line":73,"code":"  test('Layers wrapper should exist', () => {\n    expect(view.el.querySelector('[data-layers-wrapper]')).toBeTruthy();\n  });","file":"specs/style_manager/view/PropertyStackView.js","skipped":false,"dir":"test"},{"name":"Layers rendered correctly","suites":["PropertyStackView"],"updatePoint":{"line":76,"column":33,"index":1989},"line":76,"code":"  test('Layers rendered correctly', () => {\n    var children = view.el.querySelector('[data-layers-wrapper]').children;\n    expect(children.length).toEqual(1);\n  });","file":"specs/style_manager/view/PropertyStackView.js","skipped":false,"dir":"test"},{"name":"Layers container is empty","suites":["PropertyStackView"],"updatePoint":{"line":80,"column":33,"index":2155},"line":80,"code":"  test('Layers container is empty', () => {\n    var layers = view.el.querySelector('.layers');\n    expect(layers.innerHTML).toBeFalsy();\n  });","file":"specs/style_manager/view/PropertyStackView.js","skipped":false,"dir":"test"},{"name":"Rendered correctly","suites":["PropertyView"],"updatePoint":{"line":49,"column":26,"index":1203},"line":49,"code":"  test('Rendered correctly', () => {\n    var prop = view.el;\n    expect(fixtures.querySelector('.property')).toBeTruthy();\n    expect(prop.querySelector('.label')).toBeTruthy();\n    expect(prop.querySelector('.field')).toBeTruthy();\n  });","file":"specs/style_manager/view/PropertyView.js","skipped":false,"dir":"test"},{"name":"Input should exist","suites":["PropertyView"],"updatePoint":{"line":55,"column":26,"index":1442},"line":55,"code":"  test('Input should exist', () => {\n    expect(view.getInputEl()).toBeTruthy();\n  });","file":"specs/style_manager/view/PropertyView.js","skipped":false,"dir":"test"},{"name":"Input value is empty","suites":["PropertyView"],"updatePoint":{"line":58,"column":28,"index":1531},"line":58,"code":"  test('Input value is empty', () => {\n    expect(view.model.get('value')).toBeFalsy();\n    expect(view.getInputEl().value).toBeFalsy();\n  });","file":"specs/style_manager/view/PropertyView.js","skipped":false,"dir":"test"},{"name":"Model not change without update trigger","suites":["PropertyView"],"updatePoint":{"line":62,"column":47,"index":1693},"line":62,"code":"  test('Model not change without update trigger', () => {\n    view.getInputEl().value = propValue;\n    expect(view.model.get('value')).toBeFalsy();\n  });","file":"specs/style_manager/view/PropertyView.js","skipped":false,"dir":"test"},{"name":"Update model on input change","suites":["PropertyView"],"updatePoint":{"line":66,"column":36,"index":1836},"line":66,"code":"  test('Update model on input change', () => {\n    view.getInputEl().value = propValue;\n    view.inputValueChanged({\n      target: {\n        value: propValue\n      },\n      stopPropagation() {}\n    });\n    expect(view.model.get('value')).toEqual(propValue);\n  });","file":"specs/style_manager/view/PropertyView.js","skipped":false,"dir":"test"},{"name":"Update input on value change","suites":["PropertyView"],"updatePoint":{"line":76,"column":36,"index":2100},"line":76,"code":"  test('Update input on value change', done => {\n    view.model.set('value', propValue);\n    setTimeout(() => {\n      expect(view.getInputEl().value).toEqual(propValue);\n      done();\n    }, 15);\n  });","file":"specs/style_manager/view/PropertyView.js","skipped":false,"dir":"test"},{"name":"Value as default","suites":["PropertyView","Init property"],"updatePoint":{"line":97,"column":26,"index":2632},"line":97,"code":"    test('Value as default', () => {\n      expect(view.model.getValue()).toEqual(defValue);\n    });","file":"specs/style_manager/view/PropertyView.js","skipped":false,"dir":"test"},{"name":"Placeholder as default","suites":["PropertyView","Init property"],"updatePoint":{"line":100,"column":32,"index":2738},"line":100,"code":"    test('Placeholder as default', () => {\n      var input = view.getInputEl();\n      expect(input.getAttribute('placeholder')).toEqual(defValue);\n    });","file":"specs/style_manager/view/PropertyView.js","skipped":false,"dir":"test"},{"name":"Input value is set up to default","suites":["PropertyView","Init property"],"updatePoint":{"line":104,"column":42,"index":2903},"line":104,"code":"    test('Input value is set up to default', () => {\n      expect(view.getInputEl().value).toEqual(defValue);\n    });","file":"specs/style_manager/view/PropertyView.js","skipped":false,"dir":"test"},{"name":"Collection is empty","suites":["SectorsView"],"updatePoint":{"line":19,"column":27,"index":526},"line":19,"code":"  test('Collection is empty', () => {\n    expect(view.el.innerHTML).toEqual('');\n  });","file":"specs/style_manager/view/SectorsView.js","skipped":false,"dir":"test"},{"name":"Add new sectors","suites":["SectorsView"],"updatePoint":{"line":22,"column":23,"index":609},"line":22,"code":"  test('Add new sectors', () => {\n    view.collection.add([{}, {}]);\n    expect(view.el.children.length).toEqual(2);\n  });","file":"specs/style_manager/view/SectorsView.js","skipped":false,"dir":"test"},{"name":"Rendered correctly","suites":["SectorView"],"updatePoint":{"line":19,"column":26,"index":510},"line":19,"code":"  test('Rendered correctly', () => {\n    var sector = view.el;\n    expect(sector.querySelector('[data-sector-title]')).toBeTruthy();\n    var props = sector.querySelector('.properties');\n    expect(props).toBeTruthy();\n    expect(sector.classList.contains('open')).toEqual(true);\n  });","file":"specs/style_manager/view/SectorView.js","skipped":false,"dir":"test"},{"name":"No properties","suites":["SectorView"],"updatePoint":{"line":26,"column":21,"index":790},"line":26,"code":"  test('No properties', () => {\n    var props = view.el.querySelector('.properties');\n    expect(props.innerHTML).toEqual('');\n  });","file":"specs/style_manager/view/SectorView.js","skipped":false,"dir":"test"},{"name":"Update on open","suites":["SectorView"],"updatePoint":{"line":30,"column":22,"index":924},"line":30,"code":"  test('Update on open', () => {\n    var sector = view.el;\n    var props = sector.querySelector('.properties');\n    model.set('open', false);\n    expect(sector.classList.contains('open')).toEqual(false);\n    expect(props.style.display).toEqual('none');\n  });","file":"specs/style_manager/view/SectorView.js","skipped":false,"dir":"test"},{"name":"Toggle on click","suites":["SectorView"],"updatePoint":{"line":37,"column":23,"index":1184},"line":37,"code":"  test('Toggle on click', () => {\n    var sector = view.el;\n    view.$el.find('[data-sector-title]').click();\n    expect(sector.classList.contains('open')).toEqual(false);\n  });","file":"specs/style_manager/view/SectorView.js","skipped":false,"dir":"test"},{"name":"Rendered correctly","suites":["SectorView","Init with options"],"updatePoint":{"line":62,"column":28,"index":1880},"line":62,"code":"    test('Rendered correctly', () => {\n      var sector = view.el;\n      var props = sector.querySelector('.properties');\n      expect(sector.querySelector('[data-sector-title]').innerHTML).toContain('TestName');\n      expect(props).toBeTruthy();\n      expect(sector.classList.contains('open')).toEqual(false);\n      expect(props.style.display).toEqual('none');\n    });","file":"specs/style_manager/view/SectorView.js","skipped":false,"dir":"test"},{"name":"Has properties","suites":["SectorView","Init with options"],"updatePoint":{"line":70,"column":24,"index":2246},"line":70,"code":"    test('Has properties', () => {\n      var props = view.el.querySelector('.properties');\n      expect(props.children.length).toEqual(3);\n    });","file":"specs/style_manager/view/SectorView.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["TraitModels"],"updatePoint":{"line":17,"column":21,"index":374},"line":17,"code":"  test('Object exists', () => {\n    expect(Trait).toBeTruthy();\n  });","file":"specs/trait_manager/model/TraitsModel.js","skipped":false,"dir":"test"},{"name":"Object exists","suites":["TraitView"],"updatePoint":{"line":24,"column":21,"index":524},"line":24,"code":"  test('Object exists', () => {\n    expect(Trait).toBeTruthy();\n  });","file":"specs/trait_manager/view/TraitsView.js","skipped":false,"dir":"test"},{"name":"Target has no attributes on init","suites":["TraitView"],"updatePoint":{"line":27,"column":40,"index":613},"line":27,"code":"  test('Target has no attributes on init', () => {\n    expect(target.get('attributes')).toEqual({});\n  });","file":"specs/trait_manager/view/TraitsView.js","skipped":false,"dir":"test"},{"name":"On update of the value updates the target attributes","suites":["TraitView"],"updatePoint":{"line":30,"column":60,"index":740},"line":30,"code":"  test('On update of the value updates the target attributes', () => {\n    model.set('value', 'test');\n    var eq = {};\n    eq[modelName] = 'test';\n    expect(target.get('attributes')).toEqual(eq);\n  });","file":"specs/trait_manager/view/TraitsView.js","skipped":false,"dir":"test"},{"name":"Updates on different models do not alter other targets","suites":["TraitView"],"updatePoint":{"line":36,"column":62,"index":946},"line":36,"code":"  test('Updates on different models do not alter other targets', () => {\n    var target1 = new Component();\n    var target2 = new Component();\n    var model1 = new Trait({\n      name: modelName,\n      target: target1\n    });\n    var model2 = new Trait({\n      name: modelName,\n      target: target2\n    });\n    var obj1 = new TraitView({\n      model: model1\n    });\n    var obj2 = new TraitView({\n      model: model2\n    });\n    model1.set('value', 'test1');\n    model2.set('value', 'test2');\n    var eq1 = {};\n    eq1[modelName] = 'test1';\n    var eq2 = {};\n    eq2[modelName] = 'test2';\n    expect(target1.get('attributes')).toEqual(eq1);\n    expect(target2.get('attributes')).toEqual(eq2);\n  });","file":"specs/trait_manager/view/TraitsView.js","skipped":false,"dir":"test"},{"name":"returns original when a none svg is provided","suites":[".buildBase64UrlFromSvg"],"updatePoint":{"line":3,"column":50,"index":148},"line":3,"code":"  it('returns original when a none svg is provided', () => {\n    const input = 'something else';\n    expect(buildBase64UrlFromSvg(input)).toEqual(input);\n  });","file":"specs/utils/Mixins.ts","skipped":false,"dir":"test"},{"name":"returns base64 image when an svg is provided","suites":[".buildBase64UrlFromSvg"],"updatePoint":{"line":7,"column":50,"index":308},"line":7,"code":"  it('returns base64 image when an svg is provided', () => {\n    const input = `<svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      stroke-width=\"2\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    >\n      <polygon points=\"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6\" />\n      <line x1=\"8\" y1=\"2\" x2=\"8\" y2=\"18\" />\n      <line x1=\"16\" y1=\"6\" x2=\"16\" y2=\"22\" />\n    </svg>`;\n    const output = 'data:image/svg+xml;base64,PHN2ZwogICAgICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgICAgIHdpZHRoPSIyNCIKICAgICAgaGVpZ2h0PSIyNCIKICAgICAgdmlld0JveD0iMCAwIDI0IDI0IgogICAgICBmaWxsPSJub25lIgogICAgICBzdHJva2U9ImN1cnJlbnRDb2xvciIKICAgICAgc3Ryb2tlLXdpZHRoPSIyIgogICAgICBzdHJva2UtbGluZWNhcD0icm91bmQiCiAgICAgIHN0cm9rZS1saW5lam9pbj0icm91bmQiCiAgICA+CiAgICAgIDxwb2x5Z29uIHBvaW50cz0iMSA2IDEgMjIgOCAxOCAxNiAyMiAyMyAxOCAyMyAyIDE2IDYgOCAyIDEgNiIgLz4KICAgICAgPGxpbmUgeDE9IjgiIHkxPSIyIiB4Mj0iOCIgeTI9IjE4IiAvPgogICAgICA8bGluZSB4MT0iMTYiIHkxPSI2IiB4Mj0iMTYiIHkyPSIyMiIgLz4KICAgIDwvc3ZnPg==';\n    expect(buildBase64UrlFromSvg(input)).toEqual(output);\n  });","file":"specs/utils/Mixins.ts","skipped":false,"dir":"test"},{"name":"matches class","suites":["Sorter"],"updatePoint":{"line":61,"column":21,"index":1788},"line":61,"code":"  test('matches class', () => {\n    var el = document.createElement('div');\n    el.setAttribute('class', 'test test2');\n    parent.appendChild(el);\n    expect(obj.matches(el, '.test')).toEqual(true);\n    expect(obj.matches(el, '.test2')).toEqual(true);\n    expect(obj.matches(el, '.test3')).toEqual(false);\n  });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"},{"name":"matches id","suites":["Sorter"],"updatePoint":{"line":69,"column":18,"index":2098},"line":69,"code":"  test('matches id', () => {\n    var el = document.createElement('div');\n    el.setAttribute('id', 'test2');\n    parent.appendChild(el);\n    expect(obj.matches(el, '#test2')).toEqual(true);\n    expect(obj.matches(el, '.test2')).toEqual(false);\n    expect(obj.matches(el, '#test')).toEqual(false);\n  });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"},{"name":"matches tag","suites":["Sorter"],"updatePoint":{"line":77,"column":19,"index":2402},"line":77,"code":"  test('matches tag', () => {\n    var el = document.createElement('span');\n    parent.appendChild(el);\n    expect(obj.matches(el, 'span')).toEqual(true);\n    expect(obj.matches(el, 'div')).toEqual(false);\n    expect(obj.matches(el, '*')).toEqual(true);\n  });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"},{"name":"Creates placeholder","suites":["Sorter"],"updatePoint":{"line":84,"column":27,"index":2669},"line":84,"code":"  test('Creates placeholder', () => {\n    expect(obj.createPlaceholder().className).toEqual('placeholder');\n  });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"},{"name":"isInFlow to overflow hidden","suites":["Sorter"],"updatePoint":{"line":87,"column":35,"index":2791},"line":87,"code":"  test('isInFlow to overflow hidden', () => {\n    parent.innerHTML = html;\n    var el = parent.querySelector('#el1');\n    expect(obj.isInFlow(el)).toEqual(false);\n  });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"},{"name":"isInFlow inner to overflow","suites":["Sorter"],"updatePoint":{"line":92,"column":34,"index":2959},"line":92,"code":"  test('isInFlow inner to overflow', () => {\n    parent.innerHTML = html;\n    var el = parent.querySelector('#el2');\n    if (!el) {\n      console.log('phantom issue');\n      return;\n    }\n    expect(obj.isInFlow(el)).toEqual(true);\n  });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"},{"name":"isInFlow for span","suites":["Sorter"],"updatePoint":{"line":101,"column":25,"index":3188},"line":101,"code":"  test('isInFlow for span', () => {\n    parent.innerHTML = html;\n    var el = parent.querySelector('#elspan');\n    expect(obj.isInFlow(el)).toEqual(false);\n  });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"},{"name":"isInFlow for div #a","suites":["Sorter"],"updatePoint":{"line":106,"column":27,"index":3352},"line":106,"code":"  test('isInFlow for div #a', () => {\n    parent.innerHTML = html;\n    var el = parent.querySelector('#a');\n    if (!el) {\n      console.log('phantom issue');\n      return;\n    }\n    expect(obj.isInFlow(el)).toEqual(true);\n  });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"},{"name":"isInFlow for div #aa","suites":["Sorter"],"updatePoint":{"line":115,"column":28,"index":3582},"line":115,"code":"  test('isInFlow for div #aa', () => {\n    parent.innerHTML = html;\n    var el = parent.querySelector('#aa');\n    if (!el) {\n      console.log('phantom issue');\n      return;\n    }\n    expect(obj.isInFlow(el)).toEqual(true);\n  });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"},{"name":"isInFlow for p #aaa","suites":["Sorter"],"updatePoint":{"line":124,"column":27,"index":3812},"line":124,"code":"  test('isInFlow for p #aaa', () => {\n    parent.innerHTML = html;\n    var el = parent.querySelector('#aaa');\n    if (!el) {\n      console.log('phantom issue');\n      return;\n    }\n    expect(obj.isInFlow(el)).toEqual(true);\n  });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"},{"name":"isInFlow for span #aab","suites":["Sorter"],"updatePoint":{"line":133,"column":30,"index":4046},"line":133,"code":"  test('isInFlow for span #aab', () => {\n    parent.innerHTML = html;\n    var el = parent.querySelector('#aab');\n    expect(obj.isInFlow(el)).toEqual(false);\n  });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"},{"name":"isInFlow for span #aac with display block","suites":["Sorter"],"updatePoint":{"line":138,"column":49,"index":4229},"line":138,"code":"  test('isInFlow for span #aac with display block', () => {\n    parent.innerHTML = html;\n    var el = parent.querySelector('#aac');\n    if (!el)\n      // in phantom doesnt work\n      return;\n    expect(obj.isInFlow(el)).toEqual(true);\n  });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"},{"name":"isInFlow for div #ab with float left","suites":["Sorter"],"updatePoint":{"line":146,"column":44,"index":4465},"line":146,"code":"  test('isInFlow for div #ab with float left', () => {\n    parent.innerHTML = html;\n    var el = parent.querySelector('#ab');\n    expect(obj.isInFlow(el)).toEqual(false);\n  });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"},{"name":"isInFlow for div #ac in absolute","suites":["Sorter"],"updatePoint":{"line":151,"column":40,"index":4638},"line":151,"code":"  test('isInFlow for div #ac in absolute', () => {\n    parent.innerHTML = html;\n    var el = parent.querySelector('#ac');\n    expect(obj.isInFlow(el)).toEqual(false);\n  });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"},{"name":"isInFlow for div #acb inside absolute","suites":["Sorter"],"updatePoint":{"line":156,"column":45,"index":4816},"line":156,"code":"  test('isInFlow for div #acb inside absolute', () => {\n    parent.innerHTML = html;\n    var el = parent.querySelector('#acb');\n    if (!el) {\n      console.log('phantom issue');\n      return;\n    }\n    expect(obj.isInFlow(el)).toEqual(true);\n  });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"},{"name":"isInFlow for div #ad overflow hidden","suites":["Sorter"],"updatePoint":{"line":165,"column":44,"index":5064},"line":165,"code":"  test('isInFlow for div #ad overflow hidden', () => {\n    parent.innerHTML = html;\n    var el = parent.querySelector('#ad');\n    expect(obj.isInFlow(el)).toEqual(false);\n  });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"},{"name":"Closest by class","suites":["Sorter","Closest method"],"updatePoint":{"line":181,"column":26,"index":5587},"line":181,"code":"    test('Closest by class', () => {\n      var el = document.createElement('div');\n      parent3.appendChild(el);\n      expect(obj.closest(el, '.parent2')).toEqual(parent2);\n      expect(obj.closest(el, '.parent3')).toEqual(parent3);\n      expect(obj.closest(el, '.parent1')).toEqual(parent);\n    });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"},{"name":"Closest by tag","suites":["Sorter","Closest method"],"updatePoint":{"line":188,"column":24,"index":5886},"line":188,"code":"    test('Closest by tag', () => {\n      var el = document.createElement('div');\n      el.setAttribute('class', 'el');\n      parent3.appendChild(el);\n      expect(obj.closest(el, 'span')).toEqual(parent2);\n      expect(obj.closest(el, 'div')).toEqual(parent3);\n      expect(obj.closest(el, '*')).toEqual(parent3);\n    });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"},{"name":"startSort inits correctly inits","suites":["Sorter","With elements"],"updatePoint":{"line":236,"column":41,"index":7536},"line":236,"code":"    test('startSort inits correctly inits', () => {\n      obj.startSort(el);\n      expect(obj.moved).toEqual(0);\n      expect(obj.plh.style.display).toEqual('none');\n    });","file":"specs/utils/Sorter.js","skipped":true,"dir":"test"},{"name":"onMove","suites":["Sorter","With elements"],"updatePoint":{"line":241,"column":16,"index":7685},"line":241,"code":"    test('onMove', () => {\n      var target = document.createElement('div');\n      obj.startSort(el);\n      obj.onMove({\n        pageX: 0,\n        pageY: 0,\n        target: target\n      });\n      expect(obj.moved).toEqual(1);\n    });","file":"specs/utils/Sorter.js","skipped":true,"dir":"test"},{"name":"getDim from element","suites":["Sorter","With elements"],"updatePoint":{"line":251,"column":29,"index":7932},"line":251,"code":"    test('getDim from element', () => {\n      var subPos = obj.offset(sib1);\n      var top = subPos.top;\n      var left = subPos.left;\n      var result = [top, left, 50, 100];\n      expect(obj.getDim(sib1)).toEqual(result);\n    });","file":"specs/utils/Sorter.js","skipped":true,"dir":"test"},{"name":"getChildrenDim from element","suites":["Sorter","With elements"],"updatePoint":{"line":258,"column":37,"index":8172},"line":258,"code":"    test('getChildrenDim from element', () => {\n      el.style.position = 'absolute';\n      el.style.top = '0';\n      var ch = obj.getChildrenDim(el);\n      ch = ch.map(function (v) {\n        return v.slice(0, 5);\n      });\n      var subPos = obj.offset(sib1);\n      var top = subPos.top;\n      var left = subPos.left;\n      var result = [[top, left, 50, 100, true], [top + 50, left + 0, 50, 100, true], [top + 100, left + 0, 50, 100, true], [top + 100, left + 100, 50, 70, true]];\n      expect(ch).toEqual(result);\n    });","file":"specs/utils/Sorter.js","skipped":true,"dir":"test"},{"name":"nearBorders","suites":["Sorter","With elements"],"updatePoint":{"line":271,"column":21,"index":8680},"line":271,"code":"    test('nearBorders', () => {\n      obj.borderOffset = 10;\n      var dim = [0, 0, 100, 200];\n      expect(obj.nearBorders(dim, 20, 15)).toEqual(false);\n      expect(obj.nearBorders(dim, 3, 4)).toEqual(true);\n      expect(obj.nearBorders(dim, 500, 500)).toEqual(true);\n    });","file":"specs/utils/Sorter.js","skipped":true,"dir":"test"},{"name":"dimsFromTarget","suites":["Sorter","With elements"],"updatePoint":{"line":278,"column":24,"index":8961},"line":278,"code":"    test('dimsFromTarget', () => {\n      var child1 = document.createElement('div');\n      var child2 = document.createElement('div');\n      child1.style.width = '30px';\n      child1.style.height = '30px';\n      child2.style.width = '30px';\n      child2.style.height = '20px';\n      sib3.appendChild(child1);\n      sib3.appendChild(child2);\n      var subPos = obj.offset(sib1);\n      var top = subPos.top;\n      var left = subPos.left;\n      var topSib3 = top + 100;\n      var leftSib3 = left + 0;\n      var resultParent = [[top, left, 50, 100, true], [top + 50, left + 0, 50, 100, true], [topSib3, leftSib3, 50, 100, true], [top + 100, left + 100, 50, 70, true]];\n      var resultChildren = [[topSib3, leftSib3, 30, 30, true], [topSib3 + 30, left + 0, 20, 30, true]];\n      var dims = obj.dimsFromTarget(sib3);\n      dims = dims.map(function (v) {\n        return v.slice(0, 5);\n      });\n      expect(dims).toEqual(resultParent);\n\n      // Inside target\n      var dims = obj.dimsFromTarget(sib3, leftSib3 + 15, topSib3 + 15);\n      dims = dims.map(function (v) {\n        return v.slice(0, 5);\n      });\n      expect(dims).toEqual(resultChildren);\n\n      // Exactly on border\n      var bOffset = obj.borderOffset;\n      var dims = obj.dimsFromTarget(sib3, leftSib3 + bOffset, topSib3 + bOffset);\n      dims = dims.map(function (v) {\n        return v.slice(0, 5);\n      });\n      expect(dims).toEqual(resultChildren);\n\n      // Slightly near border\n      var dims = obj.dimsFromTarget(sib3, leftSib3 + bOffset - 3, topSib3 + bOffset);\n      dims = dims.map(function (v) {\n        return v.slice(0, 5);\n      });\n      expect(dims).toEqual(resultParent);\n    });","file":"specs/utils/Sorter.js","skipped":true,"dir":"test"},{"name":"Vertical dimensions","suites":["Sorter","With elements","findPosition"],"updatePoint":{"line":324,"column":31,"index":10694},"line":324,"code":"      test('Vertical dimensions', () => {\n        var result = {\n          index: 0,\n          method: 'before'\n        };\n        expect(obj.findPosition(vertDims, -10, -10)).toEqual(result);\n        expect(obj.findPosition(vertDims, 0, 0)).toEqual(result);\n        expect(obj.findPosition(vertDims, 10, 10)).toEqual(result);\n        var result = {\n          index: 1,\n          method: 'before'\n        };\n        expect(obj.findPosition(vertDims, 10, 30)).toEqual(result);\n        expect(obj.findPosition(vertDims, 10, 70)).toEqual(result);\n        var result = {\n          index: 2,\n          method: 'before'\n        };\n        expect(obj.findPosition(vertDims, 10, 76)).toEqual(result);\n        var result = {\n          index: 3,\n          method: 'before'\n        };\n        expect(obj.findPosition(vertDims, 100, 140)).toEqual(result);\n        expect(obj.findPosition(vertDims, 100, 160)).toEqual(result);\n        var result = {\n          index: 3,\n          method: 'after'\n        };\n        expect(obj.findPosition(vertDims, 1000, 1000)).toEqual(result);\n      });","file":"specs/utils/Sorter.js","skipped":true,"dir":"test"},{"name":"Vertical dimensions with before position","suites":["Sorter","With elements","movePlaceholder"],"updatePoint":{"line":360,"column":52,"index":11994},"line":360,"code":"      test('Vertical dimensions with before position', () => {\n        var pos = {\n          index: 2,\n          method: 'before'\n        };\n        obj.movePlaceholder(plh, vertDims, pos);\n        var style = plh.style;\n        expect(style.top).toEqual('100px');\n        expect(style.left).toEqual('30px');\n        expect(style.width).toEqual('100px');\n      });","file":"specs/utils/Sorter.js","skipped":true,"dir":"test"},{"name":"Vertical dimensions with after position","suites":["Sorter","With elements","movePlaceholder"],"updatePoint":{"line":371,"column":51,"index":12358},"line":371,"code":"      test('Vertical dimensions with after position', () => {\n        var pos = {\n          index: 1,\n          method: 'after'\n        };\n        obj.movePlaceholder(plh, vertDims, pos);\n        var style = plh.style;\n        expect(style.top).toEqual('100px');\n        expect(style.left).toEqual('20px');\n        expect(style.width).toEqual('70px');\n      });","file":"specs/utils/Sorter.js","skipped":true,"dir":"test"},{"name":"Droppable function","suites":["Sorter","Valid Target with components","Droppable"],"updatePoint":{"line":401,"column":30,"index":13197},"line":401,"code":"      test('Droppable function', () => {\n        var srcModel = new Component({\n          tagName: 'div',\n          draggable: true,\n          content: 'Content text',\n          attributes: {\n            class: 'canDrop'\n          }\n        });\n        var srcView = new ComponentTextView({\n          model: srcModel\n        });\n        expect(obj.validTarget(parentView.el, srcView.el).valid).toEqual(true);\n      });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"},{"name":"Not droppable function","suites":["Sorter","Valid Target with components","Droppable"],"updatePoint":{"line":415,"column":34,"index":13620},"line":415,"code":"      test('Not droppable function', () => {\n        var srcModel = new Component({\n          tagName: 'div',\n          draggable: true,\n          content: 'Content text',\n          attributes: {\n            class: 'cannotDrop'\n          }\n        });\n        var srcView = new ComponentTextView({\n          model: srcModel\n        });\n        expect(obj.validTarget(parentView.el, srcView.el).valid).toEqual(false);\n      });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"},{"name":"Draggable function","suites":["Sorter","Valid Target with components","Draggable"],"updatePoint":{"line":446,"column":30,"index":14466},"line":446,"code":"      test('Draggable function', () => {\n        var parentModel = new Component({\n          tagName: 'div',\n          droppable: true,\n          content: 'Content text',\n          attributes: {\n            class: 'canDrag'\n          }\n        });\n        var parentView = new ComponentTextView({\n          model: parentModel\n        });\n        expect(obj.validTarget(parentView.el, srcView.el).valid).toEqual(true);\n      });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"},{"name":"Not draggable function","suites":["Sorter","Valid Target with components","Draggable"],"updatePoint":{"line":460,"column":34,"index":14898},"line":460,"code":"      test('Not draggable function', () => {\n        var parentModel = new Component({\n          tagName: 'div',\n          droppable: true,\n          content: 'Content text',\n          attributes: {\n            class: 'cannotDrag'\n          }\n        });\n        var parentView = new ComponentTextView({\n          model: parentModel\n        });\n        expect(obj.validTarget(parentView.el, srcView.el).valid).toEqual(false);\n      });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"},{"name":"Parents","suites":["Sorter","Parents"],"updatePoint":{"line":517,"column":17,"index":16239},"line":517,"code":"    test('Parents', () => {\n      expect(obj.parents(root)).toEqual([root]);\n      expect(obj.parents(child0)).toEqual([child0, root]);\n      expect(obj.parents(child00)).toEqual([child00, child0, root]);\n    });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"},{"name":"Sort","suites":["Sorter","Parents"],"updatePoint":{"line":522,"column":14,"index":16449},"line":522,"code":"    test('Sort', () => {\n      const withParents = model => ({\n        model,\n        parents: obj.parents(model)\n      });\n      expect(obj.sort(withParents(child00), withParents(child1))).toEqual(1);\n      expect(obj.sort(withParents(child00), withParents(child01))).toEqual(1);\n      expect(obj.sort(withParents(child00), withParents(child10))).toEqual(1);\n      expect(obj.sort(withParents(child1), withParents(child2))).toEqual(1);\n      expect(obj.sort(withParents(child10), withParents(child2))).toEqual(1);\n      expect(obj.sort(withParents(child1), withParents(child00))).toEqual(-1);\n      expect(obj.sort(withParents(child01), withParents(child00))).toEqual(-1);\n      expect(obj.sort(withParents(child10), withParents(child00))).toEqual(-1);\n      expect(obj.sort(withParents(child2), withParents(child1))).toEqual(-1);\n      expect(obj.sort(withParents(child2), withParents(child10))).toEqual(-1);\n    });","file":"specs/utils/Sorter.js","skipped":false,"dir":"test"}]}