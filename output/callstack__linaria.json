{"repo":"callstack/linaria","url":"https://github.com/callstack/linaria","branch":"master","configs":[{"package":"preact-example","lang":"js","dir":"examples/Preact/preact-example/tests","framework":"jest","pattern":"**/*[._-]{test,spec,unittest,unit}.{ts,js}"},{"package":"@linaria/babel-preset","lang":"ts","dir":"packages/babel/__tests__","framework":"jest","pattern":"**/*[._-]{test,spec,unittest,unit}.{ts,js}"},{"package":"@linaria/core","lang":"js","dir":"packages/core/__tests__","framework":"jest","pattern":"**/*[._-]{test,spec,unittest,unit}.{ts,js}"},{"package":"@linaria/extractor","lang":"ts","dir":"packages/extractor/__tests__","framework":"jest","pattern":"**/*[._-]{test,spec,unittest,unit}.{ts,js}"},{"package":"@linaria/babel-plugin-interop","lang":"js","dir":"packages/interop/__tests__","framework":"jest","pattern":"**/*[._-]{test,spec,unittest,unit}.{ts,js}"},{"package":"@linaria/react","lang":"js","dir":"packages/react/__tests__","framework":"jest","pattern":"**/*[._-]{test,spec,unittest,unit}.{ts,js}"},{"package":"@linaria/server","lang":"ts","dir":"packages/server/__tests__","framework":"jest","pattern":"**/*[._-]{test,spec,unittest,unit}.{ts,js}"},{"package":"@linaria/shaker","lang":"ts","dir":"packages/shaker/__tests__","framework":"jest","pattern":"**/*[._-]{test,spec,unittest,unit}.{ts,js}"},{"package":"@linaria/utils","lang":"ts","dir":"packages/utils/__tests__","framework":"jest","pattern":"**/*[._-]{test,spec,unittest,unit}.{ts,js}"}],"tests":[{"name":"Header renders 3 nav items","suites":["Initial Test of the Header"],"updatePoint":{"line":6,"column":34,"index":255},"line":6,"code":"  test('Header renders 3 nav items', () => {\n    const context = shallow( /*#__PURE__*/React.createElement(Header, null));\n    expect(context.find('h1').text()).toBe('Preact App');\n    expect(context.find('Link').length).toBe(3);\n  });","file":"header.test.js","skipped":false,"dir":"examples/Preact/preact-example/tests"},{"name":"transpiles styled template literal with object","suites":[],"updatePoint":{"line":25,"column":50},"line":25,"code":"it('transpiles styled template literal with object', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    import { styled } from '@linaria/react';\n\n    export const Title = styled.h1\\`\n      font-size: 14px;\n    \\`;\n    `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"uses string passed in as classNameSlug","suites":[],"updatePoint":{"line":40,"column":42},"line":40,"code":"it('uses string passed in as classNameSlug', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    import { styled } from '@linaria/react';\n\n    export const Title = styled('h1')\\`\n      font-size: 14px;\n    \\`;\n`,\n    {\n      classNameSlug: ['hash', 'title', 'file', 'name', 'ext', 'dir']\n        .map((s) => `[${s}]`)\n        .join('_'),\n    }\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"removes fake replacement patterns in string classNameSlug","suites":[],"updatePoint":{"line":60,"column":61},"line":60,"code":"it('removes fake replacement patterns in string classNameSlug', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    import { styled } from '@linaria/react';\n\n    export const Title = styled('h1')\\`\n      font-size: 14px;\n    \\`;\n`,\n    {\n      classNameSlug: `[not]_[actual]_[replacements]`,\n    }\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"handles fn passed in as classNameSlug","suites":[],"updatePoint":{"line":78,"column":41},"line":78,"code":"it('handles fn passed in as classNameSlug', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    import { styled } from '@linaria/react';\n\n    export const Title = styled('h1')\\`\n      font-size: 14px;\n    \\`;\n`,\n    {\n      classNameSlug: (hash, title, vars) => {\n        return [\n          hash,\n          title,\n          vars.hash,\n          vars.title,\n          vars.file,\n          vars.name,\n          vars.ext,\n          vars.dir,\n        ].join('_');\n      },\n    }\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"transpiles styled template literal with function and tag","suites":[],"updatePoint":{"line":107,"column":60},"line":107,"code":"it('transpiles styled template literal with function and tag', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    import { styled } from '@linaria/react';\n\n    export const Title = styled('h1')\\`\n      font-size: 14px;\n    \\`;\n    `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"transpiles renamed styled import","suites":[],"updatePoint":{"line":122,"column":36},"line":122,"code":"it('transpiles renamed styled import', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    import { styled as custom } from '@linaria/react';\n\n    export const Title = custom('h1')\\`\n      font-size: 14px;\n    \\`;\n    `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"transpiles renamed css and atomic-css imports in the same file","suites":[],"updatePoint":{"line":137,"column":66},"line":137,"code":"it('transpiles renamed css and atomic-css imports in the same file', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    /* @flow */\n\n    import { css as coreCss } from '@linaria/core';\n    import { css as atomicCss } from '@linaria/atomic';\n\n    const x = coreCss\\`\n      background: red;\n    \\`;\n\n    const y = atomicCss\\`\n      background: red;\n    \\`;\n\n    console.log(x, y);\n      `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"transpiles renamed css from linaria v2","suites":[],"updatePoint":{"line":161,"column":42},"line":161,"code":"it('transpiles renamed css from linaria v2', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    import {css as coreCss} from 'linaria';\n\n    const x = coreCss\\`\n      background: red;\n    \\`;\n\n    console.log(x);\n      `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"transpiles styled template literal with function and component","suites":[],"updatePoint":{"line":178,"column":66},"line":178,"code":"it('transpiles styled template literal with function and component', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    import { styled } from '@linaria/react';\n    const Heading = () => null;\n\n    export const Title = styled(Heading)\\`\n      font-size: 14px;\n    \\`;\n    `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"outputs valid CSS classname","suites":[],"updatePoint":{"line":194,"column":31},"line":194,"code":"it('outputs valid CSS classname', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    import { styled } from '@linaria/react';\n\n    export const ΩPage$Title = styled.h1\\`\n      font-size: 14px;\n    \\`;\n    `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"evaluates and inlines expressions in scope","suites":[],"updatePoint":{"line":209,"column":46},"line":209,"code":"it('evaluates and inlines expressions in scope', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    import { styled } from '@linaria/react';\n\n    const color = 'blue';\n\n    export const Title = styled.h1\\`\n      color: ${'${color}'};\n      width: ${'${100 / 3}'}%;\n    \\`;\n    `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"inlines object styles as CSS string","suites":[],"updatePoint":{"line":227,"column":39},"line":227,"code":"it('inlines object styles as CSS string', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    import { styled } from '@linaria/react';\n\n    const cover = {\n      '--color-primaryText': '#222',\n      position: 'absolute',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      opacity: 1,\n      minHeight: 420,\n\n      '&.shouldNotBeChanged': {\n        borderColor: '#fff',\n      },\n\n      '@media (min-width: 200px)': {\n        WebkitOpacity: .8,\n        MozOpacity: .8,\n        msOpacity: .8,\n        OOpacity: .8,\n        WebkitBorderRadius: 2,\n        MozBorderRadius: 2,\n        msBorderRadius: 2,\n        OBorderRadius: 2,\n        WebkitTransition: '400ms',\n        MozTransition: '400ms',\n        OTransition: '400ms',\n        msTransition: '400ms',\n      }\n    };\n\n    export const Title = styled.h1\\`\n      ${'${cover}'}\n    \\`;\n    `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"inlines array styles as CSS string","suites":[],"updatePoint":{"line":272,"column":38},"line":272,"code":"it('inlines array styles as CSS string', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    import { styled } from '@linaria/react';\n\n    const styles = [\n      { flex: 1 },\n      { display: 'block', height: 24 },\n    ];\n\n    export const Title = styled.h1\\`\n      ${'${styles}'}\n    \\`;\n    `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"replaces unknown expressions with CSS custom properties","suites":[],"updatePoint":{"line":292,"column":59},"line":292,"code":"it('replaces unknown expressions with CSS custom properties', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    import { styled } from '@linaria/react';\n\n    export const Title = styled.h1\\`\n      font-size: ${'${size}'}px;\n      color: ${'${props => props.color}'};\n    \\`;\n    `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"handles interpolation followed by unit","suites":[],"updatePoint":{"line":308,"column":42},"line":308,"code":"it('handles interpolation followed by unit', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    import { styled } from '@linaria/react';\n\n    export const Title = styled.h1\\`\n      font-size: ${'${size}'}em;\n      text-shadow: black 1px ${'${shadow}'}px, white -2px -2px;\n      margin: ${'${size}'}px;\n      width: calc(2 * ${'${props => props.width}'}vw);\n      height: ${'${props => { if (true) { return props.height } else { return 200 } }}'}px;\n      grid-template-columns: ${'${unit}'}fr 1fr 1fr ${'${unit}'}fr;\n      border-radius: ${'${function(props) { return 200 }}'}px\n    \\`;\n    `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"uses the same custom property for the same identifier","suites":[],"updatePoint":{"line":329,"column":57},"line":329,"code":"it('uses the same custom property for the same identifier', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    import { styled } from '@linaria/react';\n\n    export const Box = styled.div\\`\n      height: ${'${size}'}px;\n      width: ${'${size}'}px;\n    \\`;\n    `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"uses the same custom property for the same expression","suites":[],"updatePoint":{"line":345,"column":57},"line":345,"code":"it('uses the same custom property for the same expression', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    import { styled } from '@linaria/react';\n\n    export const Box = styled.div\\`\n      height: ${'${props => props.size}'}px;\n      width: ${'${props => props.size}'}px;\n    \\`;\n    `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"handles nested blocks","suites":[],"updatePoint":{"line":361,"column":25},"line":361,"code":"it('handles nested blocks', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    import { styled } from '@linaria/react';\n\n    export const Button = styled.button\\`\n      font-family: ${'${regular}'};\n\n      &:hover {\n        border-color: blue;\n      }\n\n      @media (max-width: 200px) {\n        width: 100%;\n      }\n    \\`;\n    `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"prevents class name collision","suites":[],"updatePoint":{"line":384,"column":33},"line":384,"code":"it('prevents class name collision', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    import { styled } from '@linaria/react';\n\n    export const Title = styled.h1\\`\n      font-size: ${'${size}'}px;\n      color: ${'${props => props.color}'}\n    \\`;\n\n    function Something() {\n      const Title = styled.h1\\`\n        font-family: ${'${regular}'};\n      \\`;\n\n      return <Title />;\n    }\n    `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"does not output CSS if none present","suites":[],"updatePoint":{"line":408,"column":39},"line":408,"code":"it('does not output CSS if none present', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n      const number = 42;\n\n      const title = String.raw\\`This is something\\`;\n      `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"does not output CSS property when value is a blank string","suites":[],"updatePoint":{"line":421,"column":61},"line":421,"code":"it('does not output CSS property when value is a blank string', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    import { css } from '@linaria/core';\n\n    export const title = css\\`\n      font-size: ${''};\n      margin: 6px;\n    \\`;\n    `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"transpiles css template literal","suites":[],"updatePoint":{"line":437,"column":35},"line":437,"code":"it('transpiles css template literal', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    import { css } from '@linaria/core';\n\n    export const title = css\\`\n      font-size: 14px;\n    \\`;\n    `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"handles css template literal in object property","suites":[],"updatePoint":{"line":452,"column":51},"line":452,"code":"it('handles css template literal in object property', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    import { css } from '@linaria/core';\n\n    const components = {\n      title: css\\`\n        font-size: 14px;\n      \\`\n    };\n    `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"handles css template literal in JSX element","suites":[],"updatePoint":{"line":469,"column":47},"line":469,"code":"it('handles css template literal in JSX element', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    import { css } from '@linaria/core';\n\n    <Title class={css\\` font-size: 14px; \\`} />\n    `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"throws when contains dynamic expression without evaluate: true in css tag","suites":[],"updatePoint":{"line":482,"column":77},"line":482,"code":"it('throws when contains dynamic expression without evaluate: true in css tag', async () => {\n  expect.assertions(1);\n\n  try {\n    await transpile(\n      dedent`\n      import { css } from '@linaria/core';\n\n      const title = css\\`\n        font-size: ${'${size}'}px;\n      \\`;\n      `\n    );\n  } catch (e) {\n    expect(\n      stripAnsi(e.message.replace(__dirname, '<<DIRNAME>>'))\n    ).toMatchSnapshot();\n  }\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"supports both css and styled tags","suites":[],"updatePoint":{"line":502,"column":37},"line":502,"code":"it('supports both css and styled tags', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n      import { css } from '@linaria/core';\n      import { styled } from '@linaria/react';\n\n      export const Title = styled.h1\\`\n        font-size: 14px;\n      \\`;\n\n      export const title = css\\`\n        color: blue;\n      \\`;\n      `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"does not include styles if not referenced anywhere","suites":[],"updatePoint":{"line":522,"column":54},"line":522,"code":"it('does not include styles if not referenced anywhere', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n      import { css } from '@linaria/core';\n      import { styled } from '@linaria/react';\n\n      const Title = styled.h1\\`\n        font-size: 14px;\n      \\`;\n\n      const title = css\\`\n        color: blue;\n      \\`;\n      `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"includes unreferenced styles for :global","suites":[],"updatePoint":{"line":542,"column":44},"line":542,"code":"it('includes unreferenced styles for :global', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n      import { css } from '@linaria/core';\n      import { styled } from '@linaria/react';\n\n      const a = css\\`\n        :global() {\n          .title {\n            font-size: 14px;\n          }\n        }\n      \\`;\n\n      const B = styled.div\\`\n        :global(.title) {\n          font-size: 14px;\n        }\n      \\`;\n      `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"handles objects with numeric keys","suites":[],"updatePoint":{"line":568,"column":37},"line":568,"code":"it('handles objects with numeric keys', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n      import { css } from '@linaria/core';\n\n      export const object = {\n        stringKey: css\\`\\`,\n        42: css\\`\\`,\n      }\n      `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"handles objects with enums as keys","suites":[],"updatePoint":{"line":584,"column":38},"line":584,"code":"it('handles objects with enums as keys', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n      import { css } from '@linaria/core';\n      import { TestEnum } from './ts-data.ts';\n\n      export const object = {\n        [TestEnum.FirstValue]: css\\`\\`,\n        [TestEnum.SecondValue]: css\\`\\`,\n      }\n      `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"compiles atomic css","suites":[],"updatePoint":{"line":601,"column":23},"line":601,"code":"it('compiles atomic css', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    /* @flow */\n\n    import { css } from '@linaria/atomic';\n    import { styled } from '@linaria/react';\n\n    const x = css\\`\n      background: red;\n      height: 100px;\n    \\`;\n\n    console.log(x);\n\n      `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"compiles atomic css with property priorities","suites":[],"updatePoint":{"line":623,"column":48},"line":623,"code":"it('compiles atomic css with property priorities', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    /* @flow */\n\n    import { css } from '@linaria/atomic';\n    import { styled } from '@linaria/react';\n\n    const y = css\\`\n      margin-left: 5px;\n    \\`;\n\n    const x = css\\`\n      margin: 0;\n    \\`;\n\n    console.log(x, y);\n\n      `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"compiles atomic css with at-rules and pseudo classes","suites":[],"updatePoint":{"line":648,"column":56},"line":648,"code":"it('compiles atomic css with at-rules and pseudo classes', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    /* @flow */\n\n    import { css } from '@linaria/atomic';\n    import { styled } from '@linaria/react';\n\n    const x = css\\`\n      @media (max-width: 500px) {\n        background: blue;\n      }\n      @media (min-width: 300px) {\n        &:hover {\n          background: purple;\n        }\n      }\n      &:enabled {\n        width: 100%;\n      }\n      background: red;\n      height: 100px;\n    \\`;\n\n    console.log(x);\n\n      `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"compiles atomic css with at-rules and property priorities","suites":[],"updatePoint":{"line":681,"column":61},"line":681,"code":"it('compiles atomic css with at-rules and property priorities', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    /* @flow */\n\n    import { css } from '@linaria/atomic';\n    import { styled } from '@linaria/react';\n\n    const x = css\\`\n      @media (max-width: 500px) {\n        padding: 0;\n      }\n      @media (min-width: 300px) {\n        &:hover {\n          padding-top: 5px;\n        }\n      }\n      &:enabled {\n        padding-left: 6px;\n      }\n      padding-bottom: 7px;\n    \\`;\n\n    console.log(x);\n      `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"compiles atomic css with keyframes","suites":[],"updatePoint":{"line":712,"column":38},"line":712,"code":"it('compiles atomic css with keyframes', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    /* @flow */\n\n    import { css } from '@linaria/atomic';\n    import { styled } from '@linaria/react';\n\n    const x = css\\`\n      @keyframes fade {\n        from {\n          opacity: 0;\n        }\n        to {\n          opacity: 1;\n        }\n      }\n      animation: fade 1s infinite;\n\n      background: red;\n      height: 100px;\n    \\`;\n\n    console.log(x);\n\n      `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"compiles atomic css with unique atoms based on key value pairs","suites":[],"updatePoint":{"line":744,"column":66},"line":744,"code":"it('compiles atomic css with unique atoms based on key value pairs', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    /* @flow */\n\n    import { css } from '@linaria/atomic';\n\n    const x = css\\`\n      height: 100px;\n    \\`;\n\n    const y = css\\`\n      height: 99px\n    \\`;\n\n    console.log(x, y);\n      `\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"can re-export lib apis using a custom resolver","suites":[],"updatePoint":{"line":767,"column":50},"line":767,"code":"it('can re-export lib apis using a custom resolver', async () => {\n  const { code, metadata } = await transpile(\n    dedent`\n    import { css } from './my-folder';\n\n    const x = css\\`\n      background: red;\n      height: 100px;\n    \\`\n\n    console.log(x);\n    `,\n    {\n      libResolver: () => {\n        // In testing, since ./my-folder isn't a real folder, to match the\n        // resolution we need to return null here. In a real use case, the full\n        // file path to the correct resolution would be returned\n        return null;\n      },\n    }\n  );\n\n  expect(code).toMatchSnapshot();\n  expect(metadata).toMatchSnapshot();\n});","file":"babel.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"Identifier","suites":["VariableDeclaration"],"updatePoint":{"line":21,"column":16},"line":21,"code":"  it('Identifier', () => {\n    const graph = _buildGraph`\n        const a = 42;\n      `;\n\n    const deps = graph.getDependenciesByBinding('0:a');\n    expect(deps).toMatchObject([\n      {\n        type: 'NumericLiteral',\n        value: 42,\n      },\n      {\n        type: 'VariableDeclarator',\n      },\n    ]);\n\n    expect(graph.findDependencies({ name: 'a' })).toContainEqual(deps[0]);\n  });","file":"depsGraph.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"BlockStatement","suites":["scopes"],"updatePoint":{"line":42,"column":20},"line":42,"code":"  it('BlockStatement', () => {\n    const graph = _buildGraph`\n        let a = 42;\n        {\n          const a = \"21\";\n        }\n\n        a = 21;\n      `;\n\n    const deps0 = graph.getDependenciesByBinding('0:a');\n    expect(deps0).toMatchObject([\n      {\n        type: 'NumericLiteral',\n        value: 42,\n      },\n      {\n        type: 'VariableDeclarator',\n      },\n      {\n        type: 'Identifier',\n        start: 4,\n      },\n      {\n        type: 'Identifier',\n        start: 35,\n      },\n      {\n        type: 'NumericLiteral',\n        value: 21,\n      },\n      {\n        type: 'AssignmentExpression',\n      },\n    ]);\n\n    const deps1 = graph.getDependenciesByBinding('1:a');\n    expect(deps1).toMatchObject([\n      {\n        type: 'StringLiteral',\n        value: '21',\n      },\n      {\n        type: 'VariableDeclarator',\n      },\n    ]);\n\n    expect(graph.findDependencies({ name: 'a' })).toHaveLength(8);\n  });","file":"depsGraph.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"Function","suites":["scopes"],"updatePoint":{"line":92,"column":14},"line":92,"code":"  it('Function', () => {\n    const graph = _buildGraph`\n        const a = (arg1, arg2, arg3) => arg1 + arg2 + arg3;\n      `;\n\n    const aDeps = graph.getDependenciesByBinding('0:a');\n    expect(aDeps).toMatchObject([\n      {\n        type: 'ArrowFunctionExpression',\n      },\n      {\n        type: 'VariableDeclarator',\n      },\n    ]);\n\n    expect(graph.getDependenciesByBinding('1:arg1')).toHaveLength(1);\n    expect(graph.getDependentsByBinding('1:arg1')).toMatchObject([\n      {\n        // arg1 in the binary expression\n        type: 'Identifier',\n        name: 'arg1',\n        start: 32,\n      },\n      {\n        // arg1 + arg2\n        type: 'BinaryExpression',\n        right: {\n          name: 'arg2',\n        },\n      },\n      {\n        // (arg1 + arg2) + arg3, because of it is the whole function body\n        type: 'BinaryExpression',\n        right: {\n          name: 'arg3',\n        },\n      },\n    ]);\n\n    expect(graph.getDependenciesByBinding('1:arg2')).toMatchObject([\n      {\n        type: 'Identifier',\n        name: 'arg2',\n        start: 17,\n      },\n    ]);\n\n    expect(graph.getDependenciesByBinding('1:arg3')).toMatchObject([\n      {\n        type: 'Identifier',\n        name: 'arg3',\n        start: 23,\n      },\n    ]);\n  });","file":"depsGraph.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"Identifier","suites":["AssignmentExpression"],"updatePoint":{"line":150,"column":16},"line":150,"code":"  it('Identifier', () => {\n    const graph = _buildGraph`\n        let a = 42;\n        a = 24;\n      `;\n\n    const deps = graph.getDependenciesByBinding('0:a');\n    expect(deps).toMatchObject([\n      {\n        type: 'NumericLiteral',\n        value: 42,\n      },\n      {\n        type: 'VariableDeclarator',\n      },\n      {\n        type: 'Identifier',\n        name: 'a',\n        start: 4,\n      },\n      {\n        type: 'Identifier',\n        name: 'a',\n        start: 12,\n      },\n      {\n        type: 'NumericLiteral',\n        value: 24,\n      },\n      {\n        type: 'AssignmentExpression',\n      },\n    ]);\n\n    expect(graph.findDependents({ value: 42 })).toHaveLength(1);\n    expect(graph.findDependents({ value: 24 })).toHaveLength(1);\n  });","file":"depsGraph.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"MemberExpression","suites":["AssignmentExpression"],"updatePoint":{"line":188,"column":22},"line":188,"code":"  it('MemberExpression', () => {\n    const graph = _buildGraph`\n        const a = {};\n        a.foo.bar = 42;\n      `;\n\n    expect(graph.getDependenciesByBinding('0:a')).toMatchObject([\n      {\n        type: 'ObjectExpression',\n        properties: [],\n      },\n      {\n        type: 'VariableDeclarator',\n      },\n      {\n        type: 'Identifier',\n        name: 'a',\n        start: 6,\n      },\n      {\n        type: 'Identifier',\n        name: 'a',\n        start: 14,\n      },\n      {\n        type: 'MemberExpression',\n        property: {\n          name: 'foo',\n        },\n      },\n    ]);\n\n    expect(graph.findDependents({ value: 42 })).toMatchObject([\n      {\n        type: 'MemberExpression',\n        property: {\n          name: 'bar',\n        },\n      },\n    ]);\n  });","file":"depsGraph.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"SequenceExpression","suites":["AssignmentExpression"],"updatePoint":{"line":231,"column":22},"line":231,"code":"it('SequenceExpression', () => {\n  const graph = _buildGraph`\n      const color1 = 'blue';\n      let local = '';\n      const color2 = (true, local = color1, () => local);\n    `;\n\n  const seqDeps = graph.findDependencies({\n    type: 'SequenceExpression',\n  });\n  expect(seqDeps).toMatchObject([\n    {\n      type: 'ArrowFunctionExpression',\n    },\n  ]);\n\n  const fnDeps = graph.findDependencies({\n    type: 'ArrowFunctionExpression',\n  });\n  expect(fnDeps).toMatchObject([\n    {\n      body: {\n        name: 'local',\n        type: 'Identifier',\n      },\n\n      type: 'ArrowFunctionExpression',\n    },\n    {\n      name: 'local',\n      type: 'Identifier',\n    },\n  ]);\n\n  const localDeps = graph.getDependenciesByBinding('0:local');\n  expect(localDeps).toMatchObject([\n    {\n      type: 'StringLiteral',\n      value: '',\n    },\n    {\n      type: 'VariableDeclarator',\n    },\n    {\n      type: 'Identifier',\n      name: 'local',\n      start: 27,\n    },\n    {\n      type: 'Identifier',\n      name: 'local',\n      start: 61,\n    },\n    {\n      type: 'Identifier',\n      name: 'color1',\n    },\n    {\n      type: 'AssignmentExpression',\n    },\n    {\n      type: 'Identifier',\n      name: 'local',\n      start: 27,\n    },\n  ]);\n\n  const bool = { type: 'BooleanLiteral' };\n  expect(graph.findDependents(bool)).toHaveLength(0);\n  expect(graph.findDependencies(bool)).toHaveLength(0);\n});","file":"depsGraph.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"MemberExpression","suites":["AssignmentExpression"],"updatePoint":{"line":303,"column":20},"line":303,"code":"it('MemberExpression', () => {\n  const graph = _buildGraph`\n    const key = 'blue';\n    const obj = { blue: '#00F' };\n    const blue = obj[key];\n  `;\n\n  const memberExprDeps = graph.findDependencies({\n    type: 'MemberExpression',\n  });\n\n  expect(memberExprDeps).toMatchObject([\n    {\n      type: 'Identifier',\n      name: 'obj',\n    },\n    {\n      type: 'Identifier',\n      name: 'key',\n    },\n  ]);\n});","file":"depsGraph.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"replaces dynamic imports with a noop","suites":[],"updatePoint":{"line":3,"column":40},"line":3,"code":"it('replaces dynamic imports with a noop', async () => {\n  const { code } = await transformAsync(\n    `import('./foo').then(foo => foo.init())`,\n    {\n      plugins: [require.resolve('../src/dynamic-import-noop')],\n      filename: 'source.js',\n      configFile: false,\n      babelrc: false,\n    }\n  );\n\n  expect(code).toMatchSnapshot();\n});","file":"dynamic-import-noop.test.js","skipped":false,"dir":"packages/babel/__tests__"},{"name":"removes all","suites":[],"updatePoint":{"line":40,"column":15},"line":40,"code":"it('removes all', () => {\n  const [shaken] = _shake()`\n    const { whiteColor: color, anotherColor } = require('…');\n    const a = color || anotherColor;\n    color.green = '#0f0';\n\n    exports.__linariaPreval = [];\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/extractor.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"keeps only code which is related to `color`","suites":[],"updatePoint":{"line":52,"column":47},"line":52,"code":"it('keeps only code which is related to `color`', () => {\n  const [shaken] = _shake()`\n    const { whiteColor: color, anotherColor } = require('…');\n    const wrap = '';\n    const a = color || anotherColor;\n    color.green = '#0f0';\n    module.exports = { color, anotherColor };\n    exports.__linariaPreval = [color];\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/extractor.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"keeps only code which is related to `anotherColor`","suites":[],"updatePoint":{"line":65,"column":54},"line":65,"code":"it('keeps only code which is related to `anotherColor`', () => {\n  const [shaken] = _shake()`\n    const { whiteColor: color, anotherColor } = require('…');\n    const a = color || anotherColor;\n    color.green = '#0f0';\n    exports.__linariaPreval = [anotherColor];\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/extractor.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"keeps only code which is related to `a`","suites":[],"updatePoint":{"line":76,"column":43},"line":76,"code":"it('keeps only code which is related to `a`', () => {\n  const [shaken] = _shake()`\n    const { whiteColor: color, anotherColor } = require('…');\n    const a = color || anotherColor;\n    color.green = '#0f0';\n    exports.__linariaPreval = [a];\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/extractor.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"shakes imports","suites":[],"updatePoint":{"line":87,"column":18},"line":87,"code":"it('shakes imports', () => {\n  const [shaken] = _shake()`\n    import { unrelatedImport } from '…';\n    import { whiteColor as color, anotherColor } from '…';\n    import defaultColor from '…';\n    import anotherDefaultColor from '…';\n    import '…';\n    require('…');\n    export default color;\n    exports.__linariaPreval = [color, defaultColor];\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/extractor.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"should keep member expression key","suites":[],"updatePoint":{"line":102,"column":37},"line":102,"code":"it('should keep member expression key', () => {\n  const [shaken] = _shake()`\n    const key = 'blue';\n    const obj = { blue: '#00F' };\n    const blue = obj[key];\n    exports.__linariaPreval = [blue];\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/extractor.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"shakes exports","suites":[],"updatePoint":{"line":113,"column":18},"line":113,"code":"it('shakes exports', () => {\n  const [shaken] = _shake()`\n    import { whiteColor as color, anotherColor } from '…';\n    export const a = color;\n    export { redColor } from \"…\";\n    export { anotherColor };\n    exports.__linariaPreval = [a];\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/extractor.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"shakes es5 exports","suites":[],"updatePoint":{"line":125,"column":22},"line":125,"code":"it('shakes es5 exports', () => {\n  const [shaken] = _shake(undefined, ['redColor', 'greenColor'])`\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.redColor = 'red';\n    Object.defineProperty(exports, \"blueColor\", {\n      enumerable: true,\n      get: function get() {\n        return 'blue';\n      }\n    });\n    Object.defineProperty(exports, \"greenColor\", {\n      enumerable: true,\n      get: function get() {\n        return 'green';\n      }\n    });\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/extractor.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"should throw away any side effects","suites":[],"line":151,"code":"it.skip('should throw away any side effects', () => {","file":"evaluators/extractor.test.ts","skipped":true,"dir":"packages/babel/__tests__"},{"name":"keeps objects as is","suites":[],"updatePoint":{"line":165,"column":23},"line":165,"code":"it('keeps objects as is', () => {\n  const [shaken] = _shake()`\n    const fill1 = (top = 0, left = 0, right = 0, bottom = 0) => ({\n      position: 'absolute',\n      top,\n      right,\n      bottom,\n      left,\n    });\n\n    const fill2 = (top = 0, left = 0, right = 0, bottom = 0) => {\n      return {\n        position: 'absolute',\n        top,\n        right,\n        bottom,\n        left,\n      };\n    };\n\n    exports.__linariaPreval = [fill1, fill2];\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/extractor.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"shakes sequence expression","suites":[],"updatePoint":{"line":191,"column":30},"line":191,"code":"it('shakes sequence expression', () => {\n  const [shaken] = _shake()`\n    import { external } from '…';\n    const color1 = (external, () => 'blue');\n    let local = '';\n    const color2 = (local = color1(), () => local);\n    exports.__linariaPreval = [color2];\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/extractor.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"shakes assignment patterns","suites":[],"updatePoint":{"line":203,"column":30},"line":203,"code":"it('shakes assignment patterns', () => {\n  const [shaken] = _shake()`\n    const [identifier = 1] = [2];\n    const [{...object} = {}] = [{ a: 1, b: 2 }];\n    const [[...array] = []] = [[1,2,3,4]];\n    const obj = { member: null };\n    ([obj.member = 42] = [1]);\n    exports.__linariaPreval = [identifier, object, array, obj];\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/extractor.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"preserves classNames","suites":[],"updatePoint":{"line":26,"column":24},"line":26,"code":"it('preserves classNames', async () => {\n  const { code } = await transpile(\n    dedent`\n      import { styled } from '@linaria/react';\n\n      const Component = styled.div\\`\\`;\n      `\n  );\n\n  expect(code).toMatchSnapshot();\n});","file":"evaluators/preeval.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"handles locally named import","suites":[],"updatePoint":{"line":38,"column":32},"line":38,"code":"it('handles locally named import', async () => {\n  const { code } = await transpile(\n    dedent`\n      import { styled as custom } from '@linaria/react';\n\n      const Component = custom.div\\`\\`;\n      `\n  );\n\n  expect(code).toMatchSnapshot();\n});","file":"evaluators/preeval.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"replaces functional component","suites":[],"updatePoint":{"line":50,"column":33},"line":50,"code":"it('replaces functional component', async () => {\n  const div = '<div>{props.children}</div>';\n  const { code } = await transpile(\n    dedent`\n      import React from 'react';\n\n      const Component = (props) => ${div};\n      `\n  );\n\n  expect(code).toMatchSnapshot();\n});","file":"evaluators/preeval.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"replaces class component","suites":[],"updatePoint":{"line":63,"column":28},"line":63,"code":"it('replaces class component', async () => {\n  const div = '<div>{props.children}</div>';\n  const { code } = await transpile(\n    dedent`\n      import React from 'react';\n\n      class Component extends React.PureComponent {\n        render() {\n          return ${div};\n        }\n      }\n      `\n  );\n\n  expect(code).toMatchSnapshot();\n});","file":"evaluators/preeval.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"replaces constant","suites":[],"updatePoint":{"line":80,"column":21},"line":80,"code":"it('replaces constant', async () => {\n  const div = '<div>{props.children}</div>';\n  const { code } = await transpile(\n    dedent`\n      import React from 'react';\n\n      const tag = ${div};\n\n      const Component = (props) => tag;\n      `\n  );\n\n  expect(code).toMatchSnapshot();\n});","file":"evaluators/preeval.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"hoists exports","suites":[],"updatePoint":{"line":95,"column":18},"line":95,"code":"it('hoists exports', async () => {\n  const { code } = await transpile(\n    dedent`\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      Object.defineProperty(exports, \"foo\", {\n        enumerable: true,\n        get: function get() {\n          return _foo.foo;\n        }\n      });\n      Object.defineProperty(exports, \"bar\", {\n        enumerable: true,\n        get: function get() {\n          return _foo.bar;\n        }\n      });\n\n      var _foo = require(\"./foo\");\n    `\n  );\n\n  expect(code).toMatchSnapshot();\n});","file":"evaluators/preeval.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"removes all","suites":[],"updatePoint":{"line":40,"column":15},"line":40,"code":"it('removes all', () => {\n  const [shaken] = _shake()`\n    const { whiteColor: color, anotherColor } = require('…');\n    const a = color || anotherColor;\n    color.green = '#0f0';\n\n    exports.__linariaPreval = [];\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/shaker.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"keeps only code which is related to `color`","suites":[],"updatePoint":{"line":52,"column":47},"line":52,"code":"it('keeps only code which is related to `color`', () => {\n  const [shaken] = _shake()`\n    const { whiteColor: color, anotherColor } = require('…');\n    const wrap = '';\n    const a = color || anotherColor;\n    color.green = '#0f0';\n    module.exports = { color, anotherColor };\n    exports.__linariaPreval = [color];\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/shaker.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"keeps only code which is related to `anotherColor`","suites":[],"updatePoint":{"line":65,"column":54},"line":65,"code":"it('keeps only code which is related to `anotherColor`', () => {\n  const [shaken] = _shake()`\n    const { whiteColor: color, anotherColor } = require('…');\n    const a = color || anotherColor;\n    color.green = '#0f0';\n    exports.__linariaPreval = [anotherColor];\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/shaker.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"keeps only code which is related to `a`","suites":[],"updatePoint":{"line":76,"column":43},"line":76,"code":"it('keeps only code which is related to `a`', () => {\n  const [shaken] = _shake()`\n    const { whiteColor: color, anotherColor } = require('…');\n    const a = color || anotherColor;\n    color.green = '#0f0';\n    exports.__linariaPreval = [a];\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/shaker.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"shakes imports","suites":[],"updatePoint":{"line":87,"column":18},"line":87,"code":"it('shakes imports', () => {\n  const [shaken] = _shake()`\n    import { unrelatedImport } from '…';\n    import { whiteColor as color, anotherColor } from '…';\n    import defaultColor from '…';\n    import anotherDefaultColor from '…';\n    import '…';\n    require('…');\n    export default color;\n    exports.__linariaPreval = [color, defaultColor];\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/shaker.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"should keep member expression key","suites":[],"updatePoint":{"line":102,"column":37},"line":102,"code":"it('should keep member expression key', () => {\n  const [shaken] = _shake()`\n    const key = 'blue';\n    const obj = { blue: '#00F' };\n    const blue = obj[key];\n    exports.__linariaPreval = [blue];\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/shaker.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"shakes exports","suites":[],"updatePoint":{"line":113,"column":18},"line":113,"code":"it('shakes exports', () => {\n  const [shaken] = _shake()`\n    import { whiteColor as color, anotherColor } from '…';\n    export const a = color;\n    export { redColor } from \"…\";\n    export { anotherColor };\n    exports.__linariaPreval = [a];\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/shaker.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"shakes es5 exports","suites":[],"updatePoint":{"line":125,"column":22},"line":125,"code":"it('shakes es5 exports', () => {\n  const [shaken] = _shake(undefined, ['redColor', 'greenColor', 'yellowColor'])`\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.redColor = 'red';\n    exports['yellowColor'] = 'yellow';\n    exports['pinkColor'] = 'pink';\n    Object.defineProperty(exports, \"blueColor\", {\n      enumerable: true,\n      get: function get() {\n        return 'blue';\n      }\n    });\n    Object.defineProperty(exports, \"greenColor\", {\n      enumerable: true,\n      get: function get() {\n        return 'green';\n      }\n    });\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/shaker.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"should throw away any side effects","suites":[],"line":153,"code":"it.skip('should throw away any side effects', () => {","file":"evaluators/shaker.test.ts","skipped":true,"dir":"packages/babel/__tests__"},{"name":"keeps objects as is","suites":[],"updatePoint":{"line":167,"column":23},"line":167,"code":"it('keeps objects as is', () => {\n  const [shaken] = _shake()`\n    const fill1 = (top = 0, left = 0, right = 0, bottom = 0) => ({\n      position: 'absolute',\n      top,\n      right,\n      bottom,\n      left,\n    });\n\n    const fill2 = (top = 0, left = 0, right = 0, bottom = 0) => {\n      return {\n        position: 'absolute',\n        top,\n        right,\n        bottom,\n        left,\n      };\n    };\n\n    exports.__linariaPreval = [fill1, fill2];\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/shaker.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"shakes sequence expression","suites":[],"updatePoint":{"line":193,"column":30},"line":193,"code":"it('shakes sequence expression', () => {\n  const [shaken] = _shake()`\n    import { external } from '…';\n    const color1 = (external, () => 'blue');\n    let local = '';\n    const color2 = (local = color1(), () => local);\n    exports.__linariaPreval = [color2];\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/shaker.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"shakes assignment patterns","suites":[],"updatePoint":{"line":205,"column":30},"line":205,"code":"it('shakes assignment patterns', () => {\n  const [shaken] = _shake()`\n    const [identifier = 1] = [2];\n    const [{...object} = {}] = [{ a: 1, b: 2 }];\n    const [[...array] = []] = [[1,2,3,4]];\n    const obj = { member: null };\n    ([obj.member = 42] = [1]);\n    exports.__linariaPreval = [identifier, object, array, obj];\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/shaker.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"shakes for-in statements","suites":[],"updatePoint":{"line":218,"column":28},"line":218,"code":"it('shakes for-in statements', () => {\n  const [shaken] = _shake()`\n    const obj1 = { a: 1, b: 2 };\n    const obj2 = {};\n    for (const key in obj1) {\n      obj2[key] = obj1[key];\n    }\n    exports.__linariaPreval = [obj2];\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/shaker.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"keeps reused exports","suites":[],"updatePoint":{"line":231,"column":24},"line":231,"code":"it('keeps reused exports', () => {\n  const [shaken] = _shake()`\n    const bar = function() {\n      return 'hello world';\n    };\n    exports.bar = bar;\n\n    const foo = exports.bar();\n    exports.__linariaPreval = [foo];\n  `;\n\n  expect(shaken).toMatchSnapshot();\n});","file":"evaluators/shaker.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"creates module for JS files","suites":[],"updatePoint":{"line":37,"column":31},"line":37,"code":"it('creates module for JS files', () => {\n  const filename = '/foo/bar/test.js';\n  const mod = new Module(filename, options);\n\n  mod.evaluate('module.exports = () => 42');\n\n  expect(mod.exports()).toBe(42);\n  expect(mod.id).toBe(filename);\n  expect(mod.filename).toBe(filename);\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"requires JS files","suites":[],"updatePoint":{"line":48,"column":21},"line":48,"code":"it('requires JS files', () => {\n  const mod = new Module(getFileName(), options);\n\n  mod.evaluate(dedent`\n    const answer = require('./sample-script');\n\n    module.exports = 'The answer is ' + answer;\n  `);\n\n  expect(mod.exports).toBe('The answer is 42');\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"requires JSON files","suites":[],"updatePoint":{"line":60,"column":23},"line":60,"code":"it('requires JSON files', () => {\n  const mod = new Module(getFileName(), options);\n\n  mod.evaluate(dedent`\n    const data = require('./sample-data.json');\n\n    module.exports = 'Our saviour, ' + data.name;\n  `);\n\n  expect(mod.exports).toBe('Our saviour, Luke Skywalker');\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"imports JS files","suites":[],"updatePoint":{"line":72,"column":20},"line":72,"code":"it('imports JS files', () => {\n  const mod = new Module(getFileName(), options);\n\n  mod.evaluate(dedent`\n    import answer from './sample-script';\n\n    export const result = 'The answer is ' + answer;\n  `);\n\n  expect(mod.exports.result).toBe('The answer is 42');\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"imports TypeScript files","suites":[],"updatePoint":{"line":84,"column":28},"line":84,"code":"it('imports TypeScript files', () => {\n  const mod = new Module(\n    path.resolve(__dirname, '../__fixtures__/test.ts'),\n    options\n  );\n\n  mod.evaluate(dedent`\n    import answer from './sample-typescript';\n\n    export const result = 'The answer is ' + answer;\n  `);\n\n  expect(mod.exports.result).toBe('The answer is 27');\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"imports JSON files","suites":[],"updatePoint":{"line":99,"column":22},"line":99,"code":"it('imports JSON files', () => {\n  const mod = new Module(getFileName(), options);\n\n  mod.evaluate(dedent`\n    import data from './sample-data.json';\n\n    const result = 'Our saviour, ' + data.name;\n\n    export default result;\n  `);\n\n  expect(mod.exports.default).toBe('Our saviour, Luke Skywalker');\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"returns module from the cache","suites":[],"updatePoint":{"line":113,"column":33},"line":113,"code":"it('returns module from the cache', () => {\n  /* eslint-disable no-self-compare */\n\n  const filename = getFileName();\n  const mod = new Module(filename, options);\n  const id = './sample-data.json';\n\n  expect(mod.require(id) === mod.require(id)).toBe(true);\n\n  expect(\n    new Module(filename, options).require(id) ===\n      new Module(filename, options).require(id)\n  ).toBe(true);\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"clears modules from the cache","suites":[],"updatePoint":{"line":128,"column":33},"line":128,"code":"it('clears modules from the cache', () => {\n  const filename = getFileName();\n  const id = './sample-data.json';\n\n  const result = new Module(filename, options).require(id);\n\n  expect(result === new Module(filename, options).require(id)).toBe(true);\n\n  Module.invalidate();\n\n  expect(result === new Module(filename, options).require(id)).toBe(false);\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"exports the path for non JS/JSON files","suites":[],"updatePoint":{"line":141,"column":42},"line":141,"code":"it('exports the path for non JS/JSON files', () => {\n  const mod = new Module(getFileName(), options);\n\n  expect(mod.require('./sample-asset.png')).toBe('./sample-asset.png');\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"returns module when requiring mocked builtin node modules","suites":[],"updatePoint":{"line":147,"column":61},"line":147,"code":"it('returns module when requiring mocked builtin node modules', () => {\n  const mod = new Module(getFileName(), options);\n\n  expect(mod.require('path')).toBe(require('path'));\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"returns null when requiring empty builtin node modules","suites":[],"updatePoint":{"line":153,"column":58},"line":153,"code":"it('returns null when requiring empty builtin node modules', () => {\n  const mod = new Module(getFileName(), options);\n\n  expect(mod.require('fs')).toBe(null);\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"throws when requiring unmocked builtin node modules","suites":[],"updatePoint":{"line":159,"column":55},"line":159,"code":"it('throws when requiring unmocked builtin node modules', () => {\n  const mod = new Module(getFileName(), options);\n\n  expect(() => mod.require('perf_hooks')).toThrow(\n    'Unable to import \"perf_hooks\". Importing Node builtins is not supported in the sandbox.'\n  );\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"has access to the global object","suites":[],"updatePoint":{"line":167,"column":35},"line":167,"code":"it('has access to the global object', () => {\n  const mod = new Module(getFileName(), options);\n\n  expect(() =>\n    mod.evaluate(dedent`\n    new global.Set();\n  `)\n  ).not.toThrow();\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"doesn't have access to the process object","suites":[],"updatePoint":{"line":177,"column":45},"line":177,"code":"it(\"doesn't have access to the process object\", () => {\n  const mod = new Module(getFileName(), options);\n\n  expect(() =>\n    mod.evaluate(dedent`\n    module.exports = process.abort();\n  `)\n  ).toThrow('process.abort is not a function');\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"has access to NODE_ENV","suites":[],"updatePoint":{"line":187,"column":26},"line":187,"code":"it('has access to NODE_ENV', () => {\n  const mod = new Module(getFileName(), options);\n\n  mod.evaluate(dedent`\n  module.exports = process.env.NODE_ENV;\n  `);\n\n  expect(mod.exports).toBe(process.env.NODE_ENV);\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"has require.resolve available","suites":[],"updatePoint":{"line":197,"column":33},"line":197,"code":"it('has require.resolve available', () => {\n  const mod = new Module(getFileName(), options);\n\n  mod.evaluate(dedent`\n  module.exports = require.resolve('./sample-script');\n  `);\n\n  expect(mod.exports).toBe(\n    path.resolve(path.dirname(mod.filename), 'sample-script.js')\n  );\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"has require.ensure available","suites":[],"updatePoint":{"line":209,"column":32},"line":209,"code":"it('has require.ensure available', () => {\n  const mod = new Module(getFileName(), options);\n\n  expect(() =>\n    mod.evaluate(dedent`\n  require.ensure(['./sample-script']);\n  `)\n  ).not.toThrow();\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"has __filename available","suites":[],"updatePoint":{"line":219,"column":28},"line":219,"code":"it('has __filename available', () => {\n  const mod = new Module(getFileName(), options);\n\n  mod.evaluate(dedent`\n  module.exports = __filename;\n  `);\n\n  expect(mod.exports).toBe(mod.filename);\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"has __dirname available","suites":[],"updatePoint":{"line":229,"column":27},"line":229,"code":"it('has __dirname available', () => {\n  const mod = new Module(getFileName(), options);\n\n  mod.evaluate(dedent`\n  module.exports = __dirname;\n  `);\n\n  expect(mod.exports).toBe(path.dirname(mod.filename));\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"has setTimeout, clearTimeout available","suites":[],"updatePoint":{"line":239,"column":42},"line":239,"code":"it('has setTimeout, clearTimeout available', () => {\n  const mod = new Module(getFileName(), options);\n\n  expect(() =>\n    mod.evaluate(dedent`\n  const x = setTimeout(() => {\n    console.log('test');\n  },0);\n\n  clearTimeout(x);\n  `)\n  ).not.toThrow();\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"has setInterval, clearInterval available","suites":[],"updatePoint":{"line":253,"column":44},"line":253,"code":"it('has setInterval, clearInterval available', () => {\n  const mod = new Module(getFileName(), options);\n\n  expect(() =>\n    mod.evaluate(dedent`\n  const x = setInterval(() => {\n    console.log('test');\n  }, 1000);\n\n  clearInterval(x);\n  `)\n  ).not.toThrow();\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"has setImmediate, clearImmediate available","suites":[],"updatePoint":{"line":267,"column":46},"line":267,"code":"it('has setImmediate, clearImmediate available', () => {\n  const mod = new Module(getFileName(), options);\n\n  expect(() =>\n    mod.evaluate(dedent`\n  const x = setImmediate(() => {\n    console.log('test');\n  });\n\n  clearImmediate(x);\n  `)\n  ).not.toThrow();\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"has global objects available without referencing global","suites":[],"updatePoint":{"line":281,"column":59},"line":281,"code":"it('has global objects available without referencing global', () => {\n  const mod = new Module(getFileName(), options);\n\n  expect(() =>\n    mod.evaluate(dedent`\n  const x = new Set();\n  `)\n  ).not.toThrow();\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"changes resolve behaviour on overriding _resolveFilename","suites":[],"updatePoint":{"line":291,"column":60},"line":291,"code":"it('changes resolve behaviour on overriding _resolveFilename', () => {\n  const originalResolveFilename = Module._resolveFilename;\n\n  Module._resolveFilename = (id) => (id === 'foo' ? 'bar' : id);\n\n  const mod = new Module(getFileName(), options);\n\n  mod.evaluate(dedent`\n  module.exports = [\n    require.resolve('foo'),\n    require.resolve('test'),\n  ];\n  `);\n\n  // Restore old behavior\n  Module._resolveFilename = originalResolveFilename;\n\n  expect(mod.exports).toEqual(['bar', 'test']);\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"correctly processes export declarations in strict mode","suites":[],"updatePoint":{"line":311,"column":58},"line":311,"code":"it('correctly processes export declarations in strict mode', () => {\n  const filename = '/foo/bar/test.js';\n  const mod = new Module(filename, options);\n\n  mod.evaluate('\"use strict\"; exports = module.exports = () => 42');\n\n  expect(mod.exports()).toBe(42);\n  expect(mod.id).toBe(filename);\n  expect(mod.filename).toBe(filename);\n});","file":"module.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"should work with posix paths","suites":["transformUrl"],"updatePoint":{"line":32,"column":34},"line":32,"code":"  it('should work with posix paths', () => {\n    for (const result of Object.keys(dataset)) {\n      expect(transformUrl(...dataset[result])).toBe(result);\n    }\n  });","file":"transform.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"should work with win32 paths","suites":["transformUrl"],"updatePoint":{"line":38,"column":34},"line":38,"code":"  it('should work with win32 paths', () => {\n    const toWin32 = (p: string) => p.split(path.posix.sep).join(path.win32.sep);\n    const win32Dataset = Object.keys(dataset).reduce(\n      (acc, key) => ({\n        ...acc,\n        [key]: [\n          dataset[key][0],\n          toWin32(dataset[key][1]),\n          toWin32(dataset[key][2]),\n          path.win32,\n        ] as TransformUrlArgs,\n      }),\n      {} as Record<string, TransformUrlArgs>\n    );\n\n    for (const result of Object.keys(win32Dataset)) {\n      expect(transformUrl(...win32Dataset[result])).toBe(result);\n    }\n  });","file":"transform.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"rewrites a relative path in url() declarations","suites":["transformUrl"],"updatePoint":{"line":59,"column":50},"line":59,"code":"it('rewrites a relative path in url() declarations', async () => {\n  const { cssText } = await transform(\n    dedent`\n    import { css } from '@linaria/core';\n\n    export const title = css\\`\n      background-image: url(./assets/test.jpg);\n      background-image: url(\"./assets/test.jpg\");\n      background-image: url('./assets/test.jpg');\n    \\`;\n    `,\n    {\n      filename: './test.js',\n      outputFilename: './.linaria-cache/test.css',\n      pluginOptions: {\n        rules,\n      },\n    }\n  );\n\n  expect(cssText).toMatchSnapshot();\n});","file":"transform.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"rewrites multiple relative paths in url() declarations","suites":["transformUrl"],"updatePoint":{"line":82,"column":58},"line":82,"code":"it('rewrites multiple relative paths in url() declarations', async () => {\n  const { cssText } = await transform(\n    dedent`\n    import { css } from '@linaria/core';\n\n    export const title = css\\`\n      @font-face {\n        font-family: Test;\n        src: url(./assets/font.woff2) format(\"woff2\"), url(./assets/font.woff) format(\"woff\");\n      }\n    \\`;\n    `,\n    {\n      filename: './test.js',\n      outputFilename,\n      pluginOptions: {\n        rules,\n      },\n    }\n  );\n\n  expect(cssText).toMatchSnapshot();\n});","file":"transform.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"doesn't rewrite an absolute path in url() declarations","suites":["transformUrl"],"updatePoint":{"line":106,"column":58},"line":106,"code":"it(\"doesn't rewrite an absolute path in url() declarations\", async () => {\n  const { cssText } = await transform(\n    dedent`\n    import { css } from '@linaria/core';\n\n    export const title = css\\`\n      background-image: url(/assets/test.jpg);\n    \\`;\n    `,\n    {\n      filename: './test.js',\n      outputFilename,\n      pluginOptions: {\n        rules,\n      },\n    }\n  );\n\n  expect(cssText).toMatchSnapshot();\n});","file":"transform.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"respects passed babel options","suites":["transformUrl"],"updatePoint":{"line":127,"column":33},"line":127,"code":"it('respects passed babel options', async () => {\n  expect.assertions(2);\n\n  expect(() =>\n    transform(\n      dedent`\n      import { css } from '@linaria/core';\n\n      export const error = <jsx />;\n      `,\n      {\n        filename: './test.js',\n        outputFilename,\n        pluginOptions: {\n          rules,\n          babelOptions: {\n            babelrc: false,\n            configFile: false,\n            presets: [['@babel/preset-env', { loose: true }]],\n          },\n        },\n      }\n    )\n  ).toThrow(\n    /Support for the experimental syntax 'jsx' isn't currently enabled/\n  );\n\n  expect(() =>\n    transform(\n      dedent`\n      import { css } from '@linaria/core';\n\n      export const error = <jsx />;\n      export const title = css\\`\n        background-image: url(/assets/test.jpg);\n      \\`;\n      `,\n      {\n        filename: './test.js',\n        outputFilename,\n        pluginOptions: {\n          rules,\n          babelOptions: {\n            babelrc: false,\n            configFile: false,\n            presets: [\n              ['@babel/preset-env', { loose: true }],\n              '@babel/preset-react',\n            ],\n          },\n        },\n      }\n    )\n  ).not.toThrow('Unexpected token');\n});","file":"transform.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"doesn't throw due to duplicate preset","suites":["transformUrl"],"updatePoint":{"line":183,"column":41},"line":183,"code":"it(\"doesn't throw due to duplicate preset\", async () => {\n  expect.assertions(1);\n\n  expect(() =>\n    transform(\n      dedent`\n      import { styled } from '@linaria/react';\n\n      const Title = styled.h1\\` color: blue; \\`;\n\n      const Article = styled.article\\`\n        ${'${Title}'} {\n          font-size: 16px;\n        }\n      \\`;\n      `,\n      {\n        filename: './test.js',\n        outputFilename,\n        pluginOptions: {\n          rules,\n          babelOptions: {\n            babelrc: false,\n            configFile: false,\n            presets: [require.resolve('../src')],\n            plugins: [\n              require.resolve('@babel/plugin-transform-modules-commonjs'),\n            ],\n          },\n        },\n      }\n    )\n  ).not.toThrow('Duplicate plugin/preset detected');\n});","file":"transform.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"should return transformed code even when file only contains unused linaria code","suites":["transformUrl"],"updatePoint":{"line":218,"column":83},"line":218,"code":"it('should return transformed code even when file only contains unused linaria code', async () => {\n  const { code } = await transform(\n    dedent`\n    import { css } from '@linaria/core';\n\n    const title = css\\`\n      color: red;\n    \\`;\n    `,\n    {\n      filename: './test.js',\n      outputFilename,\n      pluginOptions: {\n        rules,\n      },\n    }\n  );\n\n  expect(code).not.toContain('css`');\n});","file":"transform.test.ts","skipped":false,"dir":"packages/babel/__tests__"},{"name":"Ensures that package do not include core-js dependency after build","suites":[],"updatePoint":{"line":15,"column":70,"index":357},"line":15,"code":"it('Ensures that package do not include core-js dependency after build', async () => {\n  // eslint-disable-next-line import/no-extraneous-dependencies\n  const packageJSON = require('@linaria/babel-preset/package.json');\n\n  const buildScript = packageJSON.scripts['build:lib'];\n  const proc = cp.exec(buildScript, {\n    stdio: 'ignore',\n    env: { ...process.env,\n      DEBUG_CORE_JS: 'true'\n    }\n  });\n  const result = await waitForProcess(proc); // run `DEBUG_CORE_JS=true yarn build:lib` to debug issues with introduced core-js dependency\n\n  expect(result).not.toContain('The corejs3 polyfill added the following polyfills');\n  expect(result).toContain('Based on your code and targets, the corejs3 polyfill did not add any polyfill');\n}, 15000);","file":"detect-core-js.test.js","skipped":false,"dir":"packages/core/__tests__"},{"name":"keeps linaria","suites":["styled-components"],"updatePoint":{"line":17,"column":19,"index":298},"line":17,"code":"  it('keeps linaria', () => {\n    const code = getCode(`\n    import styled from \"linaria/react\";\n    import Title from \"./Title\";\n\n    export default styled.h1\\`\n      & > ${'${Title}'} {\n        color: red;\n      }\n    \\`;\n  `);\n    expect(code).toMatchSnapshot();\n  });","file":"index.test.js","skipped":false,"dir":"packages/interop/__tests__"},{"name":"css","suites":["styled-components"],"updatePoint":{"line":30,"column":9,"index":560},"line":30,"code":"  it('css', () => {\n    const code = getCode(`\n    import { css } from \"styled-components\";\n    import Title from \"./Title\";\n\n    export default css\\`\n      & > ${'${Title}'} {\n        color: red;\n      }\n    \\`;\n  `);\n    expect(code).toMatchSnapshot();\n  });","file":"index.test.js","skipped":false,"dir":"packages/interop/__tests__"},{"name":"styled.h1","suites":["styled-components"],"updatePoint":{"line":43,"column":15,"index":827},"line":43,"code":"  it('styled.h1', () => {\n    const code = getCode(`\n    import styled from \"styled-components\";\n    import Title from \"./Title\";\n\n    export default styled.h1\\`\n      & > ${'${Title}'} {\n        color: red;\n      }\n    \\`;\n  `);\n    expect(code).toMatchSnapshot();\n  });","file":"index.test.js","skipped":false,"dir":"packages/interop/__tests__"},{"name":"member expression as selector","suites":["styled-components"],"updatePoint":{"line":56,"column":35,"index":1119},"line":56,"code":"  it('member expression as selector', () => {\n    const code = getCode(`\n    import styled from \"styled-components\";\n    import Title from \"./Title\";\n\n    export default styled.h1\\`\n      & > ${'${Title.Small}'} {\n        color: red;\n      }\n    \\`;\n  `);\n    expect(code).toMatchSnapshot();\n  });","file":"index.test.js","skipped":false,"dir":"packages/interop/__tests__"},{"name":"styled(Cmp)","suites":["styled-components"],"updatePoint":{"line":69,"column":17,"index":1399},"line":69,"code":"  it('styled(Cmp)', () => {\n    const code = getCode(`\n    import styled from \"styled-components\";\n    import Cmp from \"./Cmp\";\n    import Title from \"./Title\";\n\n    export default styled(Cmp)\\`\n      & > ${'${Title}'} {\n        color: red;\n      }\n    \\`;\n  `);\n    expect(code).toMatchSnapshot();\n  });","file":"index.test.js","skipped":false,"dir":"packages/interop/__tests__"},{"name":"styled(Cmp).attrs({})","suites":["styled-components"],"updatePoint":{"line":83,"column":27,"index":1714},"line":83,"code":"  it('styled(Cmp).attrs({})', () => {\n    const code = getCode(`\n    import styled from \"styled-components\";\n    import Cmp from \"./Cmp\";\n    import Title from \"./Title\";\n\n    export default styled(Cmp).attrs(() => ({}))\\`\n      & > ${'${Title}'} {\n        color: red;\n      }\n    \\`;\n  `);\n    expect(code).toMatchSnapshot();\n  });","file":"index.test.js","skipped":false,"dir":"packages/interop/__tests__"},{"name":"styled.h1.attrs({})","suites":["styled-components"],"updatePoint":{"line":97,"column":25,"index":2045},"line":97,"code":"  it('styled.h1.attrs({})', () => {\n    const code = getCode(`\n    import styled from \"styled-components\";\n    import Title from \"./Title\";\n\n    export default styled.h1.attrs(() => ({}))\\`\n      & > ${'${Title}'} {\n        color: red;\n      }\n    \\`;\n  `);\n    expect(code).toMatchSnapshot();\n  });","file":"index.test.js","skipped":false,"dir":"packages/interop/__tests__"},{"name":"Ensures that package do not include core-js dependency after build","suites":[],"updatePoint":{"line":15,"column":70,"index":357},"line":15,"code":"it('Ensures that package do not include core-js dependency after build', async () => {\n  // eslint-disable-next-line import/no-extraneous-dependencies\n  const packageJSON = require('@linaria/babel-preset/package.json');\n\n  const buildScript = packageJSON.scripts['build:lib'];\n  const proc = cp.exec(buildScript, {\n    stdio: 'ignore',\n    env: { ...process.env,\n      DEBUG_CORE_JS: 'true'\n    }\n  });\n  const result = await waitForProcess(proc); // run `DEBUG_CORE_JS=true yarn build:lib` to debug issues with introduced core-js dependency\n\n  expect(result).not.toContain('The corejs3 polyfill added the following polyfills');\n  expect(result).toContain('Based on your code and targets, the corejs3 polyfill did not add any polyfill');\n}, 15000);","file":"detect-core-js.test.js","skipped":false,"dir":"packages/react/__tests__"},{"name":"renders tag with display name and class name","suites":[],"updatePoint":{"line":11,"column":48,"index":554},"line":11,"code":"it('renders tag with display name and class name', () => {\n  const Test = styled('h1')({\n    name: 'TestComponent',\n    class: 'abcdefg'\n  });\n  expect(Test.displayName).toBe('TestComponent');\n  expect(Test.__linaria.className).toBe('abcdefg');\n  expect(Test.__linaria.extends).toBe('h1');\n  const tree = renderer.create( /*#__PURE__*/React.createElement(Test, null, \"This is a test\"));\n  expect(tree.toJSON()).toMatchSnapshot();\n});","file":"styled.test.js","skipped":false,"dir":"packages/react/__tests__"},{"name":"renders component with display name and class name","suites":[],"updatePoint":{"line":22,"column":54,"index":994},"line":22,"code":"it('renders component with display name and class name', () => {\n  const Custom = props => /*#__PURE__*/React.createElement(\"div\", props);\n\n  const Test = styled(Custom)({\n    name: 'TestComponent',\n    class: 'abcdefg'\n  });\n  expect(Test.displayName).toBe('TestComponent');\n  expect(Test.__linaria.className).toBe('abcdefg');\n  expect(Test.__linaria.extends).toBe(Custom);\n  const tree = renderer.create( /*#__PURE__*/React.createElement(Test, null, \"This is a test\"));\n  expect(tree.toJSON()).toMatchSnapshot();\n});","file":"styled.test.js","skipped":false,"dir":"packages/react/__tests__"},{"name":"applies CSS variables in style prop","suites":[],"updatePoint":{"line":35,"column":39,"index":1498},"line":35,"code":"it('applies CSS variables in style prop', () => {\n  const Test = styled('div')({\n    name: 'TestComponent',\n    class: 'abcdefg',\n    vars: {\n      foo: ['tomato'],\n      bar: [20, 'px'],\n      baz: [props => props.size, 'px']\n    }\n  });\n  const tree = renderer.create( /*#__PURE__*/React.createElement(Test, {\n    size: 24\n  }, \"This is a test\"));\n  expect(tree.toJSON()).toMatchSnapshot();\n});","file":"styled.test.js","skipped":false,"dir":"packages/react/__tests__"},{"name":"merges CSS variables with custom style prop","suites":[],"updatePoint":{"line":50,"column":47,"index":1903},"line":50,"code":"it('merges CSS variables with custom style prop', () => {\n  const Test = styled('div')({\n    name: 'TestComponent',\n    class: 'abcdefg',\n    vars: {\n      foo: ['tomato']\n    }\n  });\n  const tree = renderer.create( /*#__PURE__*/React.createElement(Test, {\n    style: {\n      bar: 'baz'\n    }\n  }, \"This is a test\"));\n  expect(tree.toJSON()).toMatchSnapshot();\n});","file":"styled.test.js","skipped":false,"dir":"packages/react/__tests__"},{"name":"supports extra className prop","suites":[],"updatePoint":{"line":65,"column":33,"index":2254},"line":65,"code":"it('supports extra className prop', () => {\n  const Test = styled('div')({\n    name: 'TestComponent',\n    class: 'abcdefg'\n  });\n  const tree = renderer.create( /*#__PURE__*/React.createElement(Test, {\n    className: \"primary\"\n  }, \"This is a test\"));\n  expect(tree.toJSON()).toMatchSnapshot();\n});","file":"styled.test.js","skipped":false,"dir":"packages/react/__tests__"},{"name":"supports extra class prop","suites":[],"updatePoint":{"line":75,"column":29,"index":2549},"line":75,"code":"it('supports extra class prop', () => {\n  const Test = styled('div')({\n    name: 'TestComponent',\n    class: 'abcdefg'\n  });\n  const tree = renderer.create( /*#__PURE__*/React.createElement(Test, {\n    class: \"primary\"\n  }, \"This is a test\"));\n  expect(tree.toJSON()).toMatchSnapshot();\n});","file":"styled.test.js","skipped":false,"dir":"packages/react/__tests__"},{"name":"replaces simple component with as prop","suites":[],"updatePoint":{"line":85,"column":42,"index":2853},"line":85,"code":"it('replaces simple component with as prop', () => {\n  const Test = styled('button')({\n    name: 'TestComponent',\n    class: 'abcdefg'\n  });\n  const tree = renderer.create( /*#__PURE__*/React.createElement(Test, {\n    as: \"a\",\n    id: \"test\",\n    foo: \"bar\"\n  }, \"This is a test\"));\n  expect(tree.toJSON()).toMatchSnapshot();\n});","file":"styled.test.js","skipped":false,"dir":"packages/react/__tests__"},{"name":"replaces custom component with as prop for primitive","suites":[],"updatePoint":{"line":97,"column":56,"index":3197},"line":97,"code":"it('replaces custom component with as prop for primitive', () => {\n  const Custom = props => /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    style: {\n      fontSize: 12\n    }\n  }));\n\n  const Test = styled(Custom)({\n    name: 'TestComponent',\n    class: 'abcdefg'\n  });\n  const tree = renderer.create( /*#__PURE__*/React.createElement(Test, {\n    as: \"a\",\n    id: \"test\",\n    foo: \"bar\"\n  }, \"This is a test\"));\n  expect(tree.toJSON()).toMatchSnapshot();\n});","file":"styled.test.js","skipped":false,"dir":"packages/react/__tests__"},{"name":"replaces primitive with as prop for custom component","suites":[],"updatePoint":{"line":115,"column":56,"index":3673},"line":115,"code":"it('replaces primitive with as prop for custom component', () => {\n  const Custom = props => /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    style: {\n      fontSize: 12\n    }\n  }));\n\n  const Test = styled('div')({\n    name: 'TestComponent',\n    class: 'abcdefg'\n  });\n  const tree = renderer.create( /*#__PURE__*/React.createElement(Test, {\n    as: Custom,\n    id: \"test\",\n    foo: \"bar\"\n  }, \"This is a test\"));\n  expect(tree.toJSON()).toMatchSnapshot();\n});","file":"styled.test.js","skipped":false,"dir":"packages/react/__tests__"},{"name":"handles wrapping another styled component","suites":[],"updatePoint":{"line":133,"column":45,"index":4140},"line":133,"code":"it('handles wrapping another styled component', () => {\n  const First = styled('div')({\n    name: 'FirstComponent',\n    class: 'abcdefg'\n  });\n  const Second = styled(First)({\n    name: 'SecondComponent',\n    class: 'hijklmn'\n  });\n  const tree = renderer.create( /*#__PURE__*/React.createElement(Second, null, \"This is a test\"));\n  expect(tree.toJSON()).toMatchSnapshot();\n});","file":"styled.test.js","skipped":false,"dir":"packages/react/__tests__"},{"name":"forwards as prop when wrapping another styled component","suites":[],"updatePoint":{"line":145,"column":59,"index":4532},"line":145,"code":"it('forwards as prop when wrapping another styled component', () => {\n  const First = styled('div')({\n    name: 'FirstComponent',\n    class: 'abcdefg'\n  });\n  const Second = styled(First)({\n    name: 'SecondComponent',\n    class: 'hijklmn'\n  });\n  const tree = renderer.create( /*#__PURE__*/React.createElement(Second, {\n    as: \"a\"\n  }, \"This is a test\"));\n  expect(tree.toJSON()).toMatchSnapshot();\n});","file":"styled.test.js","skipped":false,"dir":"packages/react/__tests__"},{"name":"filters unknown html attributes for HTML tag","suites":[],"updatePoint":{"line":159,"column":48,"index":4926},"line":159,"code":"it('filters unknown html attributes for HTML tag', () => {\n  const Test = styled('div')({\n    name: 'TestComponent',\n    class: 'abcdefg'\n  });\n  const tree = renderer.create( /*#__PURE__*/React.createElement(Test, {\n    unknownAttribute: \"voila\"\n  }, \"This is a test\"));\n  expect(tree.toJSON()).toMatchSnapshot();\n});","file":"styled.test.js","skipped":false,"dir":"packages/react/__tests__"},{"name":"does not filter attributes for kebab cased custom elements","suites":[],"updatePoint":{"line":169,"column":62,"index":5259},"line":169,"code":"it('does not filter attributes for kebab cased custom elements', () => {\n  const Test = styled('my-element')({\n    name: 'TestComponent',\n    class: 'abcdefg'\n  });\n  const tree = renderer.create( /*#__PURE__*/React.createElement(Test, {\n    unknownAttribute: \"voila\"\n  }, \"This is a test\"));\n  expect(tree.toJSON()).toMatchSnapshot();\n});","file":"styled.test.js","skipped":false,"dir":"packages/react/__tests__"},{"name":"does not filter attributes for upper camel cased custom elements","suites":[],"updatePoint":{"line":179,"column":68,"index":5605},"line":179,"code":"it('does not filter attributes for upper camel cased custom elements', () => {\n  const Test = styled('View')({\n    name: 'TestComponent',\n    class: 'abcdefg'\n  });\n  const tree = renderer.create( /*#__PURE__*/React.createElement(Test, {\n    hoverClass: \"voila\"\n  }, \"This is a test\"));\n  expect(tree.toJSON()).toMatchSnapshot();\n});","file":"styled.test.js","skipped":false,"dir":"packages/react/__tests__"},{"name":"does not filter attributes for components","suites":[],"updatePoint":{"line":189,"column":45,"index":5916},"line":189,"code":"it('does not filter attributes for components', () => {\n  const Custom = props => /*#__PURE__*/React.createElement(\"div\", null, props.unknownAttribute);\n\n  const Test = styled(Custom)({\n    name: 'TestComponent',\n    class: 'abcdefg'\n  });\n  const tree = renderer.create( /*#__PURE__*/React.createElement(Test, {\n    unknownAttribute: \"voila\"\n  }, \"This is a test\"));\n  expect(tree.toJSON()).toMatchSnapshot();\n});","file":"styled.test.js","skipped":false,"dir":"packages/react/__tests__"},{"name":"provides linaria component className for composition as last item in props.className","suites":[],"updatePoint":{"line":201,"column":88,"index":6374},"line":201,"code":"it('provides linaria component className for composition as last item in props.className', () => {\n  const Custom = props => {\n    const classnames = props.className.split(' ');\n    const linariaClassName = classnames[classnames.length - 1];\n    const newClassNames = [props.className, `${linariaClassName}--primary`, `${linariaClassName}--accessibility`].join(' ');\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: newClassNames\n    }, \"original classname used for composition\");\n  };\n\n  const Test = styled(Custom)({\n    name: 'TestComponent',\n    class: 'abcdefg'\n  });\n  const tree = renderer.create( /*#__PURE__*/React.createElement(Test, {\n    className: \"some-another-class\"\n  }, \"This is a test\"));\n  expect(tree.toJSON()).toMatchSnapshot();\n});","file":"styled.test.js","skipped":false,"dir":"packages/react/__tests__"},{"name":"throws when using as tag for template literal","suites":[],"updatePoint":{"line":220,"column":49,"index":7110},"line":220,"code":"it('throws when using as tag for template literal', () => {\n  expect(() => styled('div')`\n        color: blue;\n      `).toThrow('Using the \"styled\" tag in runtime is not supported');\n  expect(() => styled.div`\n        color: blue;\n      `).toThrow('Using the \"styled\" tag in runtime is not supported');\n});","file":"styled.test.js","skipped":false,"dir":"packages/react/__tests__"},{"name":"can get rest keys from object","suites":[],"updatePoint":{"line":228,"column":33,"index":7401},"line":228,"code":"it('can get rest keys from object', () => {\n  const obj = {\n    one: 1,\n    two: 2,\n    three: 3\n  };\n  const rest = omit(obj, ['two']); // eslint-disable-next-line no-unused-vars\n\n  const {\n    two,\n    ...expectedRest\n  } = obj;\n  expect(rest).toEqual(expectedRest);\n});","file":"styled.test.js","skipped":false,"dir":"packages/react/__tests__"},{"name":"can get rest keys from complex object","suites":[],"updatePoint":{"line":242,"column":41,"index":7682},"line":242,"code":"it('can get rest keys from complex object', () => {\n  const obj = {\n    string: 'hello',\n    bool: false,\n    object: {\n      hello: 'world'\n    },\n    arr: [1, 2, 3],\n    num: 47\n  };\n  const rest = omit(obj, ['bool', 'object', 'arr']); // eslint-disable-next-line no-unused-vars\n\n  const {\n    bool,\n    object,\n    arr,\n    ...expectedRest\n  } = obj;\n  expect(rest).toEqual(expectedRest);\n});","file":"styled.test.js","skipped":false,"dir":"packages/react/__tests__"},{"name":"critical","suites":[],"updatePoint":{"line":9,"column":16},"line":9,"code":"  test('critical', () => expect(prettyPrint(critical)).toMatchSnapshot());","file":"collect.test.ts","skipped":false,"dir":"packages/server/__tests__"},{"name":"other","suites":[],"updatePoint":{"line":10,"column":13},"line":10,"code":"  test('other', () => expect(prettyPrint(other)).toMatchSnapshot());","file":"collect.test.ts","skipped":false,"dir":"packages/server/__tests__"},{"name":"critical","suites":["works with global css"],"updatePoint":{"line":197,"column":16},"line":197,"code":"  test('critical', () => expect(prettyPrint(critical)).toMatchSnapshot());","file":"collect.test.ts","skipped":false,"dir":"packages/server/__tests__"},{"name":"other","suites":["works with global css"],"updatePoint":{"line":198,"column":13},"line":198,"code":"  test('other', () => expect(prettyPrint(other)).toMatchSnapshot());","file":"collect.test.ts","skipped":false,"dir":"packages/server/__tests__"},{"name":"critical","suites":["handles top-level @font-face"],"updatePoint":{"line":212,"column":16},"line":212,"code":"  test('critical', () => expect(prettyPrint(critical)).toMatchSnapshot());","file":"collect.test.ts","skipped":false,"dir":"packages/server/__tests__"},{"name":"other","suites":["handles top-level @font-face"],"updatePoint":{"line":213,"column":13},"line":213,"code":"  test('other', () => expect(prettyPrint(other)).toMatchSnapshot());","file":"collect.test.ts","skipped":false,"dir":"packages/server/__tests__"},{"name":"critical","suites":["include atrule once"],"updatePoint":{"line":233,"column":16},"line":233,"code":"  test('critical', () => expect(prettyPrint(critical)).toMatchSnapshot());","file":"collect.test.ts","skipped":false,"dir":"packages/server/__tests__"},{"name":"other","suites":["include atrule once"],"updatePoint":{"line":234,"column":13},"line":234,"code":"  test('other', () => expect(prettyPrint(other)).toMatchSnapshot());","file":"collect.test.ts","skipped":false,"dir":"packages/server/__tests__"},{"name":"critical should be empty","suites":["ignore empty class attribute"],"updatePoint":{"line":251,"column":32},"line":251,"code":"  test('critical should be empty', () => expect(critical).toEqual(''));","file":"collect.test.ts","skipped":false,"dir":"packages/server/__tests__"},{"name":"should work with wildcard imports","suites":["shaker"],"updatePoint":{"line":6,"column":41},"line":6,"code":"    it('should work with wildcard imports', async () => {\n      const { code, metadata } = await transpile(\n        dedent`\n      import { css } from \"@linaria/core\";\n      import * as mod from \"@linaria/babel-preset/__fixtures__/complex-component\";\n\n      const color = mod[\"whiteColor\"];\n\n      export const square = css\\`\n        ${'${mod.Title}'} {\n          color: ${'${color}'};\n        }\n      \\`;\n    `\n      );\n\n      expect(code).toMatchSnapshot();\n      expect(metadata).toMatchSnapshot();\n    });","file":"shaker.test.ts","skipped":false,"dir":"packages/shaker/__tests__"},{"name":"assigning to exports","suites":["shaker"],"updatePoint":{"line":26,"column":28},"line":26,"code":"    it('assigning to exports', async () => {\n      const { code, metadata } = await transpile(\n        dedent`\n      import { css } from \"@linaria/core\";\n      import { Padding } from \"../__fixtures__/assignToExport\";\n\n      export const square = css\\`\n        div {\n          padding: ${'${Padding}'}px;\n        }\n      \\`;\n    `\n      );\n\n      expect(code).toMatchSnapshot();\n      expect(metadata).toMatchSnapshot();\n    });","file":"shaker.test.ts","skipped":false,"dir":"packages/shaker/__tests__"},{"name":"exporting objects","suites":["shaker"],"updatePoint":{"line":44,"column":25},"line":44,"code":"    it('exporting objects', async () => {\n      const { code, metadata } = await transpile(\n        dedent`\n      import { css } from \"@linaria/core\";\n      import object from \"../__fixtures__/objectExport\";\n\n      export const square = css\\`\n        div {\n          margin: ${'${object.margin}'}px;\n        }\n      \\`;\n    `\n      );\n\n      expect(code).toMatchSnapshot();\n      expect(metadata).toMatchSnapshot();\n    });","file":"shaker.test.ts","skipped":false,"dir":"packages/shaker/__tests__"},{"name":"exporting objects with computed keys","suites":["shaker"],"updatePoint":{"line":62,"column":44},"line":62,"code":"    it('exporting objects with computed keys', async () => {\n      const { code, metadata } = await transpile(\n        dedent`\n      import { css } from \"@linaria/core\";\n      import { object } from \"../__fixtures__/computedKeys\";\n\n      export const square = css\\`\n        div {\n          color: ${'${object.blue}'};\n        }\n      \\`;\n    `\n      );\n\n      expect(code).toMatchSnapshot();\n      expect(metadata).toMatchSnapshot();\n    });","file":"shaker.test.ts","skipped":false,"dir":"packages/shaker/__tests__"},{"name":"exporting sequence expressions","suites":["shaker"],"updatePoint":{"line":80,"column":38},"line":80,"code":"    it('exporting sequence expressions', async () => {\n      const { code, metadata } = await transpile(\n        dedent`\n      import { css } from \"@linaria/core\";\n      import number from \"../__fixtures__/sequenceExport\";\n\n      export const square = css\\`\n        div {\n          height: ${'${number}'}px;\n        }\n      \\`;\n    `\n      );\n\n      expect(code).toMatchSnapshot();\n      expect(metadata).toMatchSnapshot();\n    });","file":"shaker.test.ts","skipped":false,"dir":"packages/shaker/__tests__"},{"name":"should work with wildcard reexports","suites":["shaker"],"updatePoint":{"line":98,"column":43},"line":98,"code":"    it('should work with wildcard reexports', async () => {\n      const { code, metadata } = await transpile(\n        dedent`\n      import { css } from \"@linaria/core\";\n      import { foo1 } from \"../__fixtures__/reexports\";\n\n      export const square = css\\`\n        color: ${'${foo1}'};\n      \\`;\n    `\n      );\n\n      expect(code).toMatchSnapshot();\n      expect(metadata).toMatchSnapshot();\n    });","file":"shaker.test.ts","skipped":false,"dir":"packages/shaker/__tests__"},{"name":"should interpolate imported components","suites":["shaker"],"updatePoint":{"line":114,"column":46},"line":114,"code":"    it('should interpolate imported components', async () => {\n      const { code, metadata } = await transpile(\n        dedent`\n      import { css } from \"@linaria/core\";\n      import { Title } from \"@linaria/babel-preset/__fixtures__/complex-component\";\n\n      export const square = css\\`\n        ${'${Title}'} {\n          color: red;\n        }\n      \\`;\n    `\n      );\n\n      expect(code).toMatchSnapshot();\n      expect(metadata).toMatchSnapshot();\n    });","file":"shaker.test.ts","skipped":false,"dir":"packages/shaker/__tests__"},{"name":"should interpolate imported variables","suites":["shaker"],"updatePoint":{"line":132,"column":45},"line":132,"code":"    it('should interpolate imported variables', async () => {\n      const { code, metadata } = await transpile(\n        dedent`\n      import { css } from \"@linaria/core\";\n      import { whiteColor } from \"@linaria/babel-preset/__fixtures__/complex-component\";\n\n      export const square = css\\`\n        color: ${'${whiteColor}'}\n      \\`;\n    `\n      );\n\n      expect(code).toMatchSnapshot();\n      expect(metadata).toMatchSnapshot();\n    });","file":"shaker.test.ts","skipped":false,"dir":"packages/shaker/__tests__"},{"name":"evaluates typescript enums","suites":["shaker"],"updatePoint":{"line":148,"column":34},"line":148,"code":"    it('evaluates typescript enums', async () => {\n      const { code, metadata } = await transpile(\n        dedent`\n      import { styled } from '@linaria/react';\n\n      enum Colors {\n        BLUE = '#27509A'\n      }\n\n      export const Title = styled.h1\\`\n        color: ${'${Colors.BLUE}'};\n      \\`;\n      `,\n        (config) => ({\n          ...config,\n          presets: ['@babel/preset-typescript', ...(config.presets ?? [])],\n          filename: 'source.ts',\n        })\n      );\n\n      expect(code).toMatchSnapshot();\n      expect(metadata).toMatchSnapshot();\n    });","file":"shaker.test.ts","skipped":false,"dir":"packages/shaker/__tests__"},{"name":"evaluates chain of reexports","suites":["shaker"],"updatePoint":{"line":172,"column":36},"line":172,"code":"    it('evaluates chain of reexports', async () => {\n      const { code, metadata } = await transpile(\n        dedent`\n      import { styled } from '@linaria/react';\n      import { fooStyles } from \"@linaria/babel-preset/__fixtures__/reexports\";\n\n      const value = fooStyles.foo;\n\n      export const H1 = styled.h1\\`\n        color: ${'${value}'};\n      \\`\n      `\n      );\n\n      expect(code).toMatchSnapshot();\n      expect(metadata).toMatchSnapshot();\n    });","file":"shaker.test.ts","skipped":false,"dir":"packages/shaker/__tests__"},{"name":"should filter falsy values","suites":[],"updatePoint":{"line":3,"column":30},"line":3,"code":"it('should filter falsy values', () => {\n  expect(cx('1', 'test', false, '2', 0, '', null, undefined, '3')).toBe(\n    '1 test 2 3'\n  );\n});","file":"cx.test.ts","skipped":false,"dir":"packages/utils/__tests__"},{"name":"should join atoms together, de-duplicating by property and joining the values","suites":[],"updatePoint":{"line":9,"column":81},"line":9,"code":"it('should join atoms together, de-duplicating by property and joining the values', () => {\n  expect(cx('atm_a_class1 atm_b_class2', 'atm_a_class3')).toBe(\n    'atm_a_class3 atm_b_class2'\n  );\n});","file":"cx.test.ts","skipped":false,"dir":"packages/utils/__tests__"},{"name":"should join atoms and non atoms together at the same time","suites":[],"updatePoint":{"line":15,"column":61},"line":15,"code":"it('should join atoms and non atoms together at the same time', () => {\n  expect(\n    cx('atm_a_1', 'atm_b_2', false, '2', 0, '', null, undefined, '3', 'atm_b_3')\n  ).toBe('atm_a_1 atm_b_3 2 3');\n});","file":"cx.test.ts","skipped":false,"dir":"packages/utils/__tests__"}]}