{
    "repo": "yabwe/medium-editor",
    "url": "https://github.com/yabwe/medium-editor",
    "branch": "master",
    "configs": [
        {
            "package": "medium-editor",
            "lang": "js",
            "dir": "spec",
            "framework": "jasmine",
            "pattern": "**/*[._-]{test,spec,unittest,unit}.{ts,js}"
        }
    ],
    "tests": [
        {
            "name": "should be displayed on hover of a link element",
            "suites": [
                "Anchor Preview TestCase",
                "anchor preview element"
            ],
            "line": 13,
            "updatePoint": {
                "line": 13,
                "column": 54
            },
            "code": "    it('should be displayed on hover of a link element', function () {\n      var editor = this.newMediumEditor('.editor', {\n        delay: 200\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          sel = window.getSelection(),\n          anchorPreview = editor.getExtensionByName('anchor-preview'),\n          nextRange; // show preview\n\n      spyOn(MediumEditor.extensions.anchorPreview.prototype, 'showPreview').and.callThrough();\n      fireEvent(document.getElementById('test-link'), 'mouseover'); // preview shows only after delay\n\n      expect(anchorPreview.showPreview).not.toHaveBeenCalled();\n      jasmine.clock().tick(250);\n      expect(anchorPreview.showPreview).toHaveBeenCalled(); // link is set in preview\n\n      expect(anchorPreview.getPreviewElement().querySelector('a').innerHTML).toBe(document.getElementById('test-link').attributes.href.value); // load into editor\n\n      spyOn(MediumEditor.extensions.anchor.prototype, 'showForm').and.callThrough();\n      fireEvent(anchorPreview.getPreviewElement(), 'click');\n      jasmine.clock().tick(300);\n      expect(editor.getExtensionByName('anchor').showForm).toHaveBeenCalled(); // selecting other text should close the toolbar\n\n      spyOn(MediumEditor.extensions.toolbar.prototype, 'hideToolbar').and.callThrough();\n      nextRange = document.createRange();\n      nextRange.selectNodeContents(document.getElementById('another-element'));\n      sel.removeAllRanges();\n      sel.addRange(nextRange);\n      fireEvent(document.getElementById('another-element'), 'click');\n      jasmine.clock().tick(200);\n      expect(toolbar.hideToolbar).toHaveBeenCalled();\n    });",
            "file": "anchor-preview.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be displayed on hover of a link element with markup inside",
            "suites": [
                "Anchor Preview TestCase",
                "anchor preview element"
            ],
            "line": 45,
            "updatePoint": {
                "line": 45,
                "column": 73
            },
            "code": "    it('should be displayed on hover of a link element with markup inside', function () {\n      var editor = this.newMediumEditor('.editor', {\n        delay: 200\n      }),\n          anchorPreview = editor.getExtensionByName('anchor-preview'); // show preview\n\n      spyOn(MediumEditor.extensions.anchorPreview.prototype, 'showPreview').and.callThrough();\n      fireEvent(document.getElementById('test-markup-link'), 'mouseover'); // preview shows only after delay\n\n      expect(anchorPreview.showPreview).not.toHaveBeenCalled();\n      jasmine.clock().tick(250);\n      expect(anchorPreview.showPreview).toHaveBeenCalled(); // link is set in preview\n\n      expect(anchorPreview.getPreviewElement().querySelector('a').innerHTML).toBe(document.getElementById('test-markup-link').attributes.href.value);\n    });",
            "file": "anchor-preview.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should show the unencoded link",
            "suites": [
                "Anchor Preview TestCase",
                "anchor preview element"
            ],
            "line": 60,
            "updatePoint": {
                "line": 60,
                "column": 38
            },
            "code": "    it('should show the unencoded link', function () {\n      var editor = this.newMediumEditor('.editor'),\n          anchorPreview = editor.getExtensionByName('anchor-preview'); // show preview\n\n      fireEvent(document.getElementById('test-symbol-link'), 'mouseover'); // preview shows only after delay\n\n      jasmine.clock().tick(200); // link is set in preview\n\n      expect(anchorPreview.getPreviewElement().querySelector('a').innerHTML).toBe(document.getElementById('test-symbol-link').attributes.href.value);\n    });",
            "file": "anchor-preview.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should display different urls when hovering over different links consecutively",
            "suites": [
                "Anchor Preview TestCase",
                "anchor preview element"
            ],
            "line": 70,
            "updatePoint": {
                "line": 70,
                "column": 86
            },
            "code": "    it('should display different urls when hovering over different links consecutively', function () {\n      var editor = this.newMediumEditor('.editor', {\n        delay: 300\n      }),\n          anchorPreview = editor.getExtensionByName('anchor-preview'); // show preview for first link\n\n      fireEvent(document.getElementById('test-link'), 'mouseover'); // preview shows only after delay\n\n      jasmine.clock().tick(300);\n      expect(anchorPreview.getPreviewElement().querySelector('a').innerHTML).toBe(document.getElementById('test-link').attributes.href.value); // show preview for second link\n\n      fireEvent(document.getElementById('test-symbol-link'), 'mouseover');\n      expect(anchorPreview.getPreviewElement().classList.contains('medium-editor-anchor-preview-active')).toBe(false); // wait for delay\n\n      jasmine.clock().tick(300);\n      expect(anchorPreview.getPreviewElement().querySelector('a').innerHTML).toBe(document.getElementById('test-symbol-link').attributes.href.value);\n    });",
            "file": "anchor-preview.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should display the anchor form in the toolbar when clicked",
            "suites": [
                "Anchor Preview TestCase",
                "anchor preview element"
            ],
            "line": 87,
            "updatePoint": {
                "line": 87,
                "column": 66
            },
            "code": "    it('should display the anchor form in the toolbar when clicked', function () {\n      var editor = this.newMediumEditor('.editor', {\n        anchor: {\n          targetCheckbox: true,\n          targetCheckboxText: 'Open in new window',\n          customClassOption: 'custom-class',\n          customClassOptionText: 'Custom Class'\n        }\n      }),\n          anchorPreview = editor.getExtensionByName('anchor-preview'),\n          anchor = editor.getExtensionByName('anchor'),\n          toolbar = editor.getExtensionByName('toolbar'); // show preview\n\n      fireEvent(document.getElementById('test-link'), 'mouseover'); // load into editor\n\n      jasmine.clock().tick(1);\n      fireEvent(anchorPreview.getPreviewElement(), 'click');\n      jasmine.clock().tick(200);\n      expect(toolbar.isDisplayed()).toBe(true);\n      expect(anchor.isDisplayed()).toBe(true); // textbox should contain the url\n\n      expect(anchor.getInput().value).toEqual('http://test.com'); // the checkboxes should be unchecked\n\n      expect(anchor.getAnchorTargetCheckbox().checked).toBe(false);\n      expect(anchor.getAnchorButtonCheckbox().checked).toBe(false);\n    });",
            "file": "anchor-preview.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should display the anchor form with target checkbox checked in the toolbar when clicked",
            "suites": [
                "Anchor Preview TestCase",
                "anchor preview element"
            ],
            "line": 113,
            "updatePoint": {
                "line": 113,
                "column": 95
            },
            "code": "    it('should display the anchor form with target checkbox checked in the toolbar when clicked', function () {\n      var editor = this.newMediumEditor('.editor', {\n        anchor: {\n          targetCheckbox: true,\n          targetCheckboxText: 'Open in new window',\n          customClassOption: 'custom-class',\n          customClassOptionText: 'Custom Class'\n        }\n      }),\n          anchorPreview = editor.getExtensionByName('anchor-preview'),\n          anchor = editor.getExtensionByName('anchor'),\n          toolbar = editor.getExtensionByName('toolbar'); // show preview\n\n      fireEvent(document.getElementById('text-target-blank-link'), 'mouseover'); // load into editor\n\n      jasmine.clock().tick(1);\n      fireEvent(anchorPreview.getPreviewElement(), 'click');\n      jasmine.clock().tick(200);\n      expect(toolbar.isDisplayed()).toBe(true);\n      expect(anchor.isDisplayed()).toBe(true); // the checkboxes should be unchecked\n\n      expect(anchor.getAnchorTargetCheckbox().checked).toBe(true);\n      expect(anchor.getAnchorButtonCheckbox().checked).toBe(false);\n    });",
            "file": "anchor-preview.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should display the anchor form with custom class checkbox checked in the toolbar when clicked",
            "suites": [
                "Anchor Preview TestCase",
                "anchor preview element"
            ],
            "line": 137,
            "updatePoint": {
                "line": 137,
                "column": 101
            },
            "code": "    it('should display the anchor form with custom class checkbox checked in the toolbar when clicked', function () {\n      var editor = this.newMediumEditor('.editor', {\n        anchor: {\n          targetCheckbox: true,\n          targetCheckboxText: 'Open in new window',\n          customClassOption: 'custom-class',\n          customClassOptionText: 'Custom Class'\n        }\n      }),\n          anchorPreview = editor.getExtensionByName('anchor-preview'),\n          anchor = editor.getExtensionByName('anchor'),\n          toolbar = editor.getExtensionByName('toolbar'); // show preview\n\n      fireEvent(document.getElementById('text-custom-class-link'), 'mouseover'); // load into editor\n\n      jasmine.clock().tick(1);\n      fireEvent(anchorPreview.getPreviewElement(), 'click');\n      jasmine.clock().tick(200);\n      expect(toolbar.isDisplayed()).toBe(true);\n      expect(anchor.isDisplayed()).toBe(true); // the checkboxes should be unchecked\n\n      expect(anchor.getAnchorTargetCheckbox().checked).toBe(false);\n      expect(anchor.getAnchorButtonCheckbox().checked).toBe(true);\n    });",
            "file": "anchor-preview.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be displayed by default when the hovered link is empty",
            "suites": [
                "Anchor Preview TestCase",
                "anchor preview element"
            ],
            "line": 161,
            "updatePoint": {
                "line": 161,
                "column": 69
            },
            "code": "    it('should be displayed by default when the hovered link is empty', function () {\n      var editor = this.newMediumEditor('.editor', {\n        delay: 200\n      }),\n          anchorPreview = editor.getExtensionByName('anchor-preview'); // show preview\n\n      spyOn(MediumEditor.extensions.anchorPreview.prototype, 'showPreview').and.callThrough();\n      fireEvent(document.getElementById('test-empty-link'), 'mouseover'); // preview shows only after delay\n\n      jasmine.clock().tick(250);\n      expect(anchorPreview.showPreview).toHaveBeenCalled();\n    });",
            "file": "anchor-preview.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should NOT be displayed when the hovered link is empty and the option showOnEmptyLinks is set to false",
            "suites": [
                "Anchor Preview TestCase",
                "anchor preview element"
            ],
            "line": 173,
            "updatePoint": {
                "line": 173,
                "column": 110
            },
            "code": "    it('should NOT be displayed when the hovered link is empty and the option showOnEmptyLinks is set to false', function () {\n      var editor = this.newMediumEditor('.editor', {\n        delay: 200,\n        anchorPreview: {\n          showOnEmptyLinks: false\n        }\n      }),\n          anchorPreview = editor.getExtensionByName('anchor-preview'); // show preview\n\n      spyOn(MediumEditor.extensions.anchorPreview.prototype, 'showPreview').and.callThrough();\n      fireEvent(document.getElementById('test-empty-link'), 'mouseover'); // preview shows only after delay\n\n      jasmine.clock().tick(250);\n      expect(anchorPreview.showPreview).not.toHaveBeenCalled();\n    });",
            "file": "anchor-preview.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be displayed when the link has data attribute to disable preview",
            "suites": [
                "Anchor Preview TestCase",
                "anchor preview element"
            ],
            "line": 188,
            "updatePoint": {
                "line": 188,
                "column": 79
            },
            "code": "    it('should be displayed when the link has data attribute to disable preview', function () {\n      var editor = this.newMediumEditor('.editor', {\n        delay: 200\n      }),\n          anchorPreview = editor.getExtensionByName('anchor-preview'); // show preview\n\n      spyOn(MediumEditor.extensions.anchorPreview.prototype, 'showPreview').and.callThrough();\n      fireEvent(document.getElementById('test-link-disable-preview'), 'mouseover'); // preview shows only after delay\n\n      jasmine.clock().tick(250);\n      expect(anchorPreview.showPreview).toHaveBeenCalled(); // showPreview is called but the preview isn't displayed\n\n      expect(anchorPreview.getPreviewElement().classList.contains('medium-toolbar-arrow-over')).toBe(false);\n    });",
            "file": "anchor-preview.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be displayed when the option showWhenToolbarIsVisible is set to true and toolbar is visible",
            "suites": [
                "Anchor Preview TestCase",
                "anchor preview element"
            ],
            "line": 202,
            "updatePoint": {
                "line": 202,
                "column": 106
            },
            "code": "    it('should be displayed when the option showWhenToolbarIsVisible is set to true and toolbar is visible', function () {\n      var editor = this.newMediumEditor('.editor', {\n        delay: 200,\n        anchorPreview: {\n          showWhenToolbarIsVisible: true\n        },\n        toolbar: {\n          static: true\n        }\n      }),\n          anchorPreview = editor.getExtensionByName('anchor-preview'),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(editor.elements[0].firstChild); // show preview\n\n      spyOn(MediumEditor.extensions.anchorPreview.prototype, 'showPreview').and.callThrough();\n      fireEvent(document.getElementById('test-link'), 'mouseover'); // preview shows only after delay\n\n      jasmine.clock().tick(250);\n      expect(anchorPreview.showPreview).toHaveBeenCalled();\n      expect(toolbar.isDisplayed()).toBe(true);\n      expect(anchorPreview.getPreviewElement().classList.contains('medium-editor-anchor-preview-active')).toBe(true);\n    });",
            "file": "anchor-preview.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should NOT be displayed when the option showWhenToolbarIsVisible is set to false and toolbar is visible",
            "suites": [
                "Anchor Preview TestCase",
                "anchor preview element"
            ],
            "line": 224,
            "updatePoint": {
                "line": 224,
                "column": 111
            },
            "code": "    it('should NOT be displayed when the option showWhenToolbarIsVisible is set to false and toolbar is visible', function () {\n      var editor = this.newMediumEditor('.editor', {\n        delay: 200,\n        anchorPreview: {\n          showWhenToolbarIsVisible: false\n        },\n        toolbar: {\n          static: true\n        }\n      }),\n          anchorPreview = editor.getExtensionByName('anchor-preview'),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(editor.elements[0].firstChild); // show preview\n\n      spyOn(MediumEditor.extensions.anchorPreview.prototype, 'showPreview').and.callThrough();\n      fireEvent(document.getElementById('test-link'), 'mouseover'); // preview shows only after delay\n\n      jasmine.clock().tick(250);\n      expect(anchorPreview.showPreview).not.toHaveBeenCalled();\n      expect(toolbar.isDisplayed()).toBe(true);\n      expect(anchorPreview.getPreviewElement().classList.contains('medium-editor-anchor-preview-active')).toBe(false);\n    }); // https://github.com/yabwe/medium-editor/issues/1047",
            "file": "anchor-preview.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should display the anchor form in the toolbar when clicked when showWhenToolbarIsVisible is set to true and toolbar is visible",
            "suites": [
                "Anchor Preview TestCase",
                "anchor preview element"
            ],
            "line": 247,
            "updatePoint": {
                "line": 247,
                "column": 134
            },
            "code": "    it('should display the anchor form in the toolbar when clicked when showWhenToolbarIsVisible is set to true and toolbar is visible', function () {\n      var editor = this.newMediumEditor('.editor', {\n        anchorPreview: {\n          showWhenToolbarIsVisible: true\n        },\n        toolbar: {\n          static: true\n        }\n      }),\n          anchorPreview = editor.getExtensionByName('anchor-preview'),\n          anchor = editor.getExtensionByName('anchor'),\n          toolbar = editor.getExtensionByName('toolbar'); // show toolbar\n\n      selectElementContentsAndFire(editor.elements[0].firstChild);\n      jasmine.clock().tick(1);\n      expect(toolbar.isDisplayed()).toBe(true); // show preview\n\n      fireEvent(document.getElementById('test-link'), 'mouseover'); // load into editor\n\n      jasmine.clock().tick(1);\n      expect(anchorPreview.getPreviewElement().classList.contains('medium-editor-anchor-preview-active')).toBe(true);\n      var clickEvent = {\n        defaultPrevented: false,\n        preventDefault: function () {\n          this.defaultPrevented = true;\n        }\n      }; // trigger all events toolbar is listening to on clicks\n\n      fireEvent(anchorPreview.getPreviewElement(), 'mousedown');\n      fireEvent(anchorPreview.getPreviewElement(), 'mouseup');\n      anchorPreview.handleClick(clickEvent);\n      jasmine.clock().tick(1); // click on the link should have called `preventDefault` to stop from navigating away\n\n      expect(clickEvent.defaultPrevented).toBe(true, 'link navigation was not prevented on click of the anchor-preview'); // anchor form should be visible in toolbar\n\n      expect(toolbar.isDisplayed()).toBe(true);\n      expect(anchor.isDisplayed()).toBe(true, 'anchor form to edit link is not visible');\n      expect(anchorPreview.getPreviewElement().classList.contains('medium-editor-anchor-preview-active')).toBe(false, 'anchor-preview is still visible after being clicked');\n    });",
            "file": "anchor-preview.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should NOT be present when anchorPreview option is set to false",
            "suites": [
                "Anchor Preview TestCase",
                "anchor preview element"
            ],
            "line": 286,
            "updatePoint": {
                "line": 286,
                "column": 71
            },
            "code": "    it('should NOT be present when anchorPreview option is set to false', function () {\n      var editor = this.newMediumEditor('.editor', {\n        anchorPreview: false\n      }),\n          anchorPreview = editor.getExtensionByName('anchor-preview');\n      expect(anchorPreview).toBeUndefined();\n      expect(document.querySelector('.medium-editor-anchor-preview')).toBeNull();\n    });",
            "file": "anchor-preview.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not be present when toolbar option is disabled",
            "suites": [
                "Anchor Preview TestCase",
                "anchor preview element"
            ],
            "line": 294,
            "updatePoint": {
                "line": 294,
                "column": 61
            },
            "code": "    it('should not be present when toolbar option is disabled', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: false\n      }),\n          anchorPreview = editor.getExtensionByName('anchor-preview');\n      expect(anchorPreview).toBeUndefined();\n      expect(document.querySelector('.medium-editor-anchor-preview')).toBeNull();\n    });",
            "file": "anchor-preview.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be removed from the document when editor is destroyed",
            "suites": [
                "Anchor Preview TestCase",
                "anchor preview element"
            ],
            "line": 302,
            "updatePoint": {
                "line": 302,
                "column": 68
            },
            "code": "    it('should be removed from the document when editor is destroyed', function () {\n      var editor = this.newMediumEditor('.editor'),\n          anchorPreview = editor.getExtensionByName('anchor-preview');\n      spyOn(MediumEditor.extensions.anchorPreview.prototype, 'destroy').and.callThrough();\n      expect(document.querySelector('.medium-editor-anchor-preview')).not.toBeNull();\n      expect(document.querySelector('.medium-editor-anchor-preview-active')).toBeNull(); // show preview\n\n      fireEvent(document.getElementById('test-link'), 'mouseover');\n      jasmine.clock().tick(1);\n      expect(document.querySelector('.medium-editor-anchor-preview-active')).not.toBeNull(); // destroy\n\n      editor.destroy();\n      expect(anchorPreview.destroy).toHaveBeenCalled();\n      expect(document.querySelector('.medium-editor-anchor-preview-active')).toBeNull();\n      expect(document.querySelector('.medium-editor-anchor-preview')).toBeNull();\n    });",
            "file": "anchor-preview.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should NOT be in the DOM when a custom anchorPreview extension is provided",
            "suites": [
                "Anchor Preview TestCase",
                "anchor preview element"
            ],
            "line": 318,
            "updatePoint": {
                "line": 318,
                "column": 82
            },
            "code": "    it('should NOT be in the DOM when a custom anchorPreview extension is provided', function () {\n      this.newMediumEditor('.editor', {\n        extensions: {\n          'anchor-preview': {}\n        }\n      });\n      expect(document.querySelector('.medium-editor-anchor-preview')).toBeNull();\n    });",
            "file": "anchor-preview.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should correctly set preview position even if elementsContainer is absolute",
            "suites": [
                "Anchor Preview TestCase",
                "anchor preview element"
            ],
            "line": 326,
            "updatePoint": {
                "line": 326,
                "column": 83
            },
            "code": "    it('should correctly set preview position even if elementsContainer is absolute', function () {\n      var container = document.createElement('div'),\n          editor,\n          anchorPreview;\n      container.style.position = 'absolute';\n      container.style.left = '200px';\n      container.style.top = '200px';\n      document.body.appendChild(container);\n      editor = this.newMediumEditor('.editor', {\n        elementsContainer: container,\n        anchorPreview: {\n          showWhenToolbarIsVisible: true\n        },\n        toolbar: {\n          static: true\n        }\n      });\n      anchorPreview = editor.getExtensionByName('anchor-preview').getPreviewElement();\n      selectElementContentsAndFire(editor.elements[0].firstChild); // show preview\n\n      fireEvent(document.getElementById('test-link'), 'mouseover'); // preview shows only after delay\n\n      jasmine.clock().tick(501);\n      expect(anchorPreview.classList.contains('medium-editor-anchor-preview-active')).toBe(true);\n      expect(parseInt(anchorPreview.style.left, 10)).toBeLessThan(200);\n      expect(parseInt(anchorPreview.style.top, 10)).toBeLessThan(200);\n      document.body.removeChild(container);\n    });",
            "file": "anchor-preview.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should add class for visible state and remove it for invisivble",
            "suites": [
                "Anchor Button TestCase",
                "Anchor Form"
            ],
            "line": 14,
            "updatePoint": {
                "line": 14,
                "column": 71
            },
            "code": "    it('should add class for visible state and remove it for invisivble', function () {\n      var editor = this.newMediumEditor('.editor', {\n        buttonLabels: 'fontawesome'\n      }),\n          anchorExtension = editor.getExtensionByName('anchor'),\n          toolbar = editor.getExtensionByName('toolbar'),\n          activeClass = anchorExtension.activeClass;\n      selectElementContentsAndFire(editor.elements[0]);\n      var button = toolbar.getToolbarElement().querySelector('[data-action=\"createLink\"]');\n      fireEvent(button, 'click');\n      expect(anchorExtension.getForm().classList.contains(activeClass)).toBe(true);\n      fireEvent(anchorExtension.getForm().querySelector('a.medium-editor-toolbar-save'), 'click');\n      expect(anchorExtension.getForm().classList.contains(activeClass)).toBe(false);\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not hide the toolbar when mouseup fires inside the anchor form",
            "suites": [
                "Anchor Button TestCase",
                "Anchor Form"
            ],
            "line": 28,
            "updatePoint": {
                "line": 28,
                "column": 77
            },
            "code": "    it('should not hide the toolbar when mouseup fires inside the anchor form', function () {\n      var editor = this.newMediumEditor('.editor', {\n        buttonLabels: 'fontawesome'\n      }),\n          anchorExtension = editor.getExtensionByName('anchor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(editor.elements[0]);\n      var button = toolbar.getToolbarElement().querySelector('[data-action=\"createLink\"]');\n      fireEvent(button, 'click');\n      expect(toolbar.isDisplayed()).toBe(true);\n      expect(anchorExtension.isDisplayed()).toBe(true);\n      fireEvent(anchorExtension.getInput(), 'mouseup');\n      expect(toolbar.isDisplayed()).toBe(true);\n      expect(anchorExtension.isDisplayed()).toBe(true);\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should show the form on shortcut",
            "suites": [
                "Anchor Button TestCase",
                "Anchor Form"
            ],
            "line": 43,
            "updatePoint": {
                "line": 43,
                "column": 40
            },
            "code": "    it('should show the form on shortcut', function () {\n      var editor = this.newMediumEditor('.editor'),\n          anchorExtension = editor.getExtensionByName('anchor'),\n          toolbar = editor.getExtensionByName('toolbar'),\n          code = 'K'.charCodeAt(0);\n      selectElementContentsAndFire(editor.elements[0]);\n      fireEvent(editor.elements[0], 'keydown', {\n        keyCode: code,\n        ctrlKey: true,\n        metaKey: true\n      });\n      expect(toolbar.isDisplayed()).toBe(true);\n      expect(anchorExtension.isDisplayed()).toBe(true);\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should create a link when user presses enter",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 59,
            "updatePoint": {
                "line": 59,
                "column": 52
            },
            "code": "    it('should create a link when user presses enter', function () {\n      spyOn(MediumEditor.prototype, 'createLink').and.callThrough();\n      var editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button,\n          input;\n      selectElementContents(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"createLink\"]');\n      fireEvent(button, 'click');\n      input = editor.getExtensionByName('anchor').getInput();\n      input.value = 'http://test.com';\n      fireEvent(input, 'keyup', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      expect(editor.createLink).toHaveBeenCalled(); // A trailing <br> may be added when insertHTML is used to add the link internally.\n\n      expect(this.el.innerHTML.indexOf('<a href=\"http://test.com\">lorem ipsum</a>')).toBe(0);\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove the extra white spaces in the link when user presses enter",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 77,
            "updatePoint": {
                "line": 77,
                "column": 80
            },
            "code": "    it('should remove the extra white spaces in the link when user presses enter', function () {\n      spyOn(MediumEditor.prototype, 'createLink').and.callThrough();\n      var editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button,\n          input;\n      selectElementContents(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"createLink\"]');\n      fireEvent(button, 'click');\n      input = editor.getExtensionByName('anchor').getInput();\n      input.value = '    test   ';\n      fireEvent(input, 'keyup', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      expect(editor.createLink).toHaveBeenCalled(); // A trailing <br> may be added when insertHTML is used to add the link internally.\n\n      expect(this.el.innerHTML.indexOf('<a href=\"test\">lorem ipsum</a>')).toBe(0);\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not set any href if all user passes is spaces in the link when user presses enter",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 95,
            "updatePoint": {
                "line": 95,
                "column": 96
            },
            "code": "    it('should not set any href if all user passes is spaces in the link when user presses enter', function () {\n      spyOn(MediumEditor.prototype, 'createLink').and.callThrough();\n      var editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button,\n          input;\n      selectElementContents(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"createLink\"]');\n      fireEvent(button, 'click');\n      input = editor.getExtensionByName('anchor').getInput();\n      input.value = '    ';\n      fireEvent(input, 'keyup', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      }); //Since user only passes empty string in the url, there should be no <a> tag created for the element.\n\n      expect(this.el.innerHTML.indexOf('<a href=\"\">lorem ipsum</a>')).toBe(-1);\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should create only one anchor tag when the user selects across a boundary",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 112,
            "updatePoint": {
                "line": 112,
                "column": 81
            },
            "code": "    it('should create only one anchor tag when the user selects across a boundary', function () {\n      this.el.innerHTML = 'Hello world, this <strong>will become a link, but this part won\\'t.</strong>';\n      spyOn(MediumEditor.prototype, 'createLink').and.callThrough();\n      var editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button,\n          input;\n      MediumEditor.selection.select(document, this.el.childNodes[0], 'Hello world, '.length, this.el.childNodes[1].childNodes[0], 'will become a link'.length);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"createLink\"]');\n      fireEvent(button, 'click');\n      input = editor.getExtensionByName('anchor').getInput();\n      input.value = 'http://test.com';\n      fireEvent(input, 'keyup', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      expect(editor.createLink).toHaveBeenCalled();\n      expect(this.el.innerHTML).toMatch(/^Hello world, <a href=\"http:\\/\\/test\\.com\\/?\">this <strong>will become a link<\\/strong><\\/a><strong>, but this part won\\'t\\.<\\/strong>(<br>|<strong><\\/strong>)?$/);\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should create a link when the user selects text within two paragraphs",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 130,
            "updatePoint": {
                "line": 130,
                "column": 77
            },
            "code": "    it('should create a link when the user selects text within two paragraphs', function () {\n      this.el.innerHTML = '<p>Hello <span>world</span>.</p>' + '<p><strong>Let us make a link</strong> across paragraphs.</p>';\n      spyOn(MediumEditor.prototype, 'createLink').and.callThrough();\n      var editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button,\n          input;\n      MediumEditor.selection.select(document, this.el.querySelector('span'), 0, this.el.querySelector('strong'), 1);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"createLink\"]');\n      fireEvent(button, 'click');\n      input = editor.getExtensionByName('anchor').getInput();\n      input.value = 'http://test.com';\n      fireEvent(input, 'keyup', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      expect(editor.createLink).toHaveBeenCalled();\n      var anchors = this.el.querySelectorAll('a'); // Edge creates 3 links, other browsers create 2\n\n      expect(anchors.length).toBeGreaterThan(1);\n      expect(anchors.length).toBeLessThan(4);\n      var linkText = '';\n      Array.prototype.slice.call(anchors).forEach(function (anchor) {\n        linkText += anchor.textContent;\n      });\n      expect(linkText).toBe('world.Let us make a link');\n      var spans = this.el.querySelectorAll('span');\n      expect(spans.length).toBe(1);\n      expect(spans[0].textContent).toBe('world');\n      var strongs = this.el.querySelectorAll('strong');\n      expect(strongs.length).toBe(1);\n      expect(strongs[0].textContent).toBe('Let us make a link');\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "shouldn't create a link when user presses enter without value",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 162,
            "updatePoint": {
                "line": 162,
                "column": 70
            },
            "code": "    it('shouldn\\'t create a link when user presses enter without value', function () {\n      spyOn(MediumEditor.prototype, 'createLink').and.callThrough();\n      var editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button,\n          input;\n      selectElementContents(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"createLink\"]');\n      fireEvent(button, 'click');\n      input = editor.getExtensionByName('anchor').getInput();\n      input.value = '';\n      fireEvent(input, 'keyup', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      expect(editor.elements[0].querySelector('a')).toBeNull();\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should add http:// if need be and linkValidation option is set to true",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 178,
            "updatePoint": {
                "line": 178,
                "column": 78
            },
            "code": "    it('should add http:// if need be and linkValidation option is set to true', function () {\n      var editor = this.newMediumEditor('.editor', {\n        anchor: {\n          linkValidation: true\n        }\n      }),\n          link,\n          anchorExtension = editor.getExtensionByName('anchor');\n      selectElementContentsAndFire(editor.elements[0]);\n      anchorExtension.showForm('test.com');\n      fireEvent(anchorExtension.getForm().querySelector('a.medium-editor-toolbar-save'), 'click');\n      link = editor.elements[0].querySelector('a');\n      expect(link).not.toBeNull();\n      expect(link.href).toBe('http://test.com/');\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should add tel: if need be and linkValidation option is set to true",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 193,
            "updatePoint": {
                "line": 193,
                "column": 75
            },
            "code": "    it('should add tel: if need be and linkValidation option is set to true', function () {\n      var editor = this.newMediumEditor('.editor', {\n        anchor: {\n          linkValidation: true\n        }\n      }),\n          link,\n          anchorExtension = editor.getExtensionByName('anchor');\n      selectElementContentsAndFire(editor.elements[0]);\n      anchorExtension.showForm('347-999-9999');\n      fireEvent(anchorExtension.getForm().querySelector('a.medium-editor-toolbar-save'), 'click');\n      link = editor.elements[0].querySelector('a');\n      expect(link).not.toBeNull();\n      expect(link.href).toBe('tel:347-999-9999');\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not change protocol when a valid one is included",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 208,
            "updatePoint": {
                "line": 208,
                "column": 63
            },
            "code": "    it('should not change protocol when a valid one is included', function () {\n      var editor = this.newMediumEditor('.editor', {\n        anchor: {\n          linkValidation: true\n        }\n      }),\n          validUrl = 'mailto:test.com',\n          link,\n          anchorExtension = editor.getExtensionByName('anchor');\n      selectElementContentsAndFire(editor.elements[0]);\n      anchorExtension.showForm(validUrl);\n      fireEvent(anchorExtension.getForm().querySelector('a.medium-editor-toolbar-save'), 'click');\n      link = editor.elements[0].querySelector('a');\n      expect(link).not.toBeNull();\n      expect(link.href).toBe(validUrl);\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not change protocol when a tel scheme is included",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 224,
            "updatePoint": {
                "line": 224,
                "column": 64
            },
            "code": "    it('should not change protocol when a tel scheme is included', function () {\n      var editor = this.newMediumEditor('.editor', {\n        anchor: {\n          linkValidation: true\n        }\n      }),\n          // Specifically using a bad phone number to illustrate that what follows tel is not checked\n      validUrl = 'tel:abc123!@#',\n          link,\n          anchorExtension = editor.getExtensionByName('anchor');\n      selectElementContentsAndFire(editor.elements[0]);\n      anchorExtension.showForm(validUrl);\n      fireEvent(anchorExtension.getForm().querySelector('a.medium-editor-toolbar-save'), 'click');\n      link = editor.elements[0].querySelector('a');\n      expect(link).not.toBeNull();\n      expect(link.href).toBe(validUrl);\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not change protocol when a maps scheme is included",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 241,
            "updatePoint": {
                "line": 241,
                "column": 65
            },
            "code": "    it('should not change protocol when a maps scheme is included', function () {\n      var editor = this.newMediumEditor('.editor', {\n        anchor: {\n          linkValidation: true\n        }\n      }),\n          // Specifically using a non-sensical maps string to illustrate that what follows maps is not checked\n      validUrl = 'maps:abc123!@#',\n          link,\n          anchorExtension = editor.getExtensionByName('anchor');\n      selectElementContentsAndFire(editor.elements[0]);\n      anchorExtension.showForm(validUrl);\n      fireEvent(anchorExtension.getForm().querySelector('a.medium-editor-toolbar-save'), 'click');\n      link = editor.elements[0].querySelector('a');\n      expect(link).not.toBeNull();\n      expect(link.href).toBe(validUrl);\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not change protocol for protocol-relative URLs",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 258,
            "updatePoint": {
                "line": 258,
                "column": 61
            },
            "code": "    it('should not change protocol for protocol-relative URLs', function () {\n      var editor = this.newMediumEditor('.editor', {\n        anchor: {\n          linkValidation: true\n        }\n      }),\n          validUrl = '//test.com/',\n          link,\n          anchorExtension = editor.getExtensionByName('anchor');\n      selectElementContentsAndFire(editor.elements[0]);\n      anchorExtension.showForm(validUrl);\n      fireEvent(anchorExtension.getForm().querySelector('a.medium-editor-toolbar-save'), 'click');\n      link = editor.elements[0].querySelector('a');\n      expect(link).not.toBeNull();\n      expect(link.href).toBe(window.location.protocol + validUrl);\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not change protocol for any alphabetic scheme",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 274,
            "updatePoint": {
                "line": 274,
                "column": 60
            },
            "code": "    it('should not change protocol for any alphabetic scheme', function () {\n      var editor = this.newMediumEditor('.editor', {\n        anchor: {\n          linkValidation: true\n        }\n      }),\n          link,\n          validUrl = 'abcDEFgHi://test.com/',\n          anchorExtension = editor.getExtensionByName('anchor');\n      selectElementContentsAndFire(editor.elements[0]);\n      anchorExtension.showForm(validUrl);\n      fireEvent(anchorExtension.getForm().querySelector('a.medium-editor-toolbar-save'), 'click');\n      link = editor.elements[0].querySelector('a');\n      expect(link).not.toBeNull();\n      expect(link.href).toBe(validUrl.toLowerCase());\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not change fragment identifier when link begins with hash",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 290,
            "updatePoint": {
                "line": 290,
                "column": 72
            },
            "code": "    it('should not change fragment identifier when link begins with hash', function () {\n      var editor = this.newMediumEditor('.editor', {\n        anchor: {\n          linkValidation: true\n        }\n      }),\n          validHashLink = '#!$&\\'()*+,;=123abcDEF-._~:@/?',\n          link,\n          anchorExtension = editor.getExtensionByName('anchor');\n      selectElementContentsAndFire(editor.elements[0]);\n      anchorExtension.showForm(validHashLink);\n      fireEvent(anchorExtension.getForm().querySelector('a.medium-editor-toolbar-save'), 'click');\n      link = editor.elements[0].querySelector('a');\n      expect(link).not.toBeNull();\n      expect(link.getAttribute('href')).toBe(validHashLink);\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not add a scheme to an absolute path",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 306,
            "updatePoint": {
                "line": 306,
                "column": 51
            },
            "code": "    it('should not add a scheme to an absolute path', function () {\n      var editor = this.newMediumEditor('.editor', {\n        anchor: {\n          linkValidation: true\n        }\n      }),\n          absolutePath = '/test',\n          link,\n          anchorExtension = editor.getExtensionByName('anchor');\n      selectElementContentsAndFire(editor.elements[0]);\n      anchorExtension.showForm(absolutePath);\n      fireEvent(anchorExtension.getForm().querySelector('a.medium-editor-toolbar-save'), 'click');\n      link = editor.elements[0].querySelector('a');\n      expect(link).not.toBeNull();\n      expect(link.getAttribute('href')).toBe(absolutePath);\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not add a scheme to an obviously relative path",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 322,
            "updatePoint": {
                "line": 322,
                "column": 61
            },
            "code": "    it('should not add a scheme to an obviously relative path', function () {\n      var editor = this.newMediumEditor('.editor', {\n        anchor: {\n          linkValidation: true\n        }\n      }),\n          relativePath = 'test/file.html',\n          link,\n          anchorExtension = editor.getExtensionByName('anchor');\n      selectElementContentsAndFire(editor.elements[0]);\n      anchorExtension.showForm(relativePath);\n      fireEvent(anchorExtension.getForm().querySelector('a.medium-editor-toolbar-save'), 'click');\n      link = editor.elements[0].querySelector('a');\n      expect(link).not.toBeNull();\n      expect(link.getAttribute('href')).toBe(relativePath);\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should add a scheme to a localhost url",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 338,
            "updatePoint": {
                "line": 338,
                "column": 46
            },
            "code": "    it('should add a scheme to a localhost url', function () {\n      var editor = this.newMediumEditor('.editor', {\n        anchor: {\n          linkValidation: true\n        }\n      }),\n          localhostUrl = 'http://localhost',\n          link,\n          anchorExtension = editor.getExtensionByName('anchor');\n      selectElementContentsAndFire(editor.elements[0]);\n      anchorExtension.showForm('localhost');\n      fireEvent(anchorExtension.getForm().querySelector('a.medium-editor-toolbar-save'), 'click');\n      link = editor.elements[0].querySelector('a');\n      expect(link).not.toBeNull();\n      expect(link.getAttribute('href')).toBe(localhostUrl);\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should change spaces to %20 for a valid url if linkValidation option is set to true",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 354,
            "updatePoint": {
                "line": 354,
                "column": 91
            },
            "code": "    it('should change spaces to %20 for a valid url if linkValidation option is set to true', function () {\n      var editor = this.newMediumEditor('.editor', {\n        anchor: {\n          linkValidation: true\n        }\n      }),\n          link,\n          anchorExtension = editor.getExtensionByName('anchor'),\n          expectedOpts = {\n        value: 'http://te%20s%20t.com/',\n        target: '_self'\n      };\n      spyOn(editor, 'execAction').and.callThrough();\n      selectElementContentsAndFire(editor.elements[0]);\n      anchorExtension.showForm('te s t.com/');\n      fireEvent(anchorExtension.getForm().querySelector('a.medium-editor-toolbar-save'), 'click');\n      expect(editor.execAction).toHaveBeenCalledWith('createLink', expectedOpts);\n      link = editor.elements[0].querySelector('a');\n      expect(link).not.toBeNull();\n      expect(link.href).toBe(expectedOpts.value);\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not change # to %23 for a valid url if linkValidation option is set to true",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 375,
            "updatePoint": {
                "line": 375,
                "column": 90
            },
            "code": "    it('should not change # to %23 for a valid url if linkValidation option is set to true', function () {\n      var editor = this.newMediumEditor('.editor', {\n        anchor: {\n          linkValidation: true\n        }\n      }),\n          link,\n          anchorExtension = editor.getExtensionByName('anchor'),\n          expectedOpts = {\n        value: 'http://example.com/?query=value#anchor',\n        target: '_self'\n      };\n      spyOn(editor, 'execAction').and.callThrough();\n      selectElementContentsAndFire(editor.elements[0]);\n      anchorExtension.showForm(expectedOpts.value);\n      fireEvent(anchorExtension.getForm().querySelector('a.medium-editor-toolbar-save'), 'click');\n      expect(editor.execAction).toHaveBeenCalledWith('createLink', expectedOpts);\n      link = editor.elements[0].querySelector('a');\n      expect(link).not.toBeNull();\n      expect(link.href).toBe(expectedOpts.value);\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not encode an encoded URL if linkValidation option is set to true",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 396,
            "updatePoint": {
                "line": 396,
                "column": 80
            },
            "code": "    it('should not encode an encoded URL if linkValidation option is set to true', function () {\n      var editor = this.newMediumEditor('.editor', {\n        anchor: {\n          linkValidation: true\n        }\n      }),\n          link,\n          anchorExtension = editor.getExtensionByName('anchor'),\n          expectedOpts = {\n        value: 'http://a%20b.com/',\n        target: '_self'\n      };\n      spyOn(editor, 'execAction').and.callThrough();\n      selectElementContentsAndFire(editor.elements[0]);\n      anchorExtension.showForm('a%20b.com/');\n      fireEvent(anchorExtension.getForm().querySelector('a.medium-editor-toolbar-save'), 'click');\n      expect(editor.execAction).toHaveBeenCalledWith('createLink', expectedOpts);\n      link = editor.elements[0].querySelector('a');\n      expect(link).not.toBeNull();\n      expect(link.href).toBe(expectedOpts.value);\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should encode query params if linkValidation option is set to true",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 417,
            "updatePoint": {
                "line": 417,
                "column": 74
            },
            "code": "    it('should encode query params if linkValidation option is set to true', function () {\n      var editor = this.newMediumEditor('.editor', {\n        anchor: {\n          linkValidation: true\n        }\n      }),\n          link,\n          anchorExtension = editor.getExtensionByName('anchor'),\n          expectedOpts = {\n        value: 'http://a.com/?q=http%3A%2F%2Fb.com&q2=http%3A%2F%2Fc.com',\n        target: '_self'\n      };\n      spyOn(editor, 'execAction').and.callThrough();\n      selectElementContentsAndFire(editor.elements[0]);\n      anchorExtension.showForm('a.com/?q=http://b.com&q2=http://c.com');\n      fireEvent(anchorExtension.getForm().querySelector('a.medium-editor-toolbar-save'), 'click');\n      expect(editor.execAction).toHaveBeenCalledWith('createLink', expectedOpts);\n      link = editor.elements[0].querySelector('a');\n      expect(link).not.toBeNull();\n      expect(link.href).toBe(expectedOpts.value);\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not encode an encoded query param if linkValidation option is set to true",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 438,
            "updatePoint": {
                "line": 438,
                "column": 88
            },
            "code": "    it('should not encode an encoded query param if linkValidation option is set to true', function () {\n      var editor = this.newMediumEditor('.editor', {\n        anchor: {\n          linkValidation: true\n        }\n      }),\n          link,\n          anchorExtension = editor.getExtensionByName('anchor'),\n          expectedOpts = {\n        value: 'http://a.com/?q=http%3A%2F%2Fb.com&q2=http%3A%2F%2Fc.com',\n        target: '_self'\n      };\n      spyOn(editor, 'execAction').and.callThrough();\n      selectElementContentsAndFire(editor.elements[0]);\n      anchorExtension.showForm('a.com/?q=http%3A%2F%2Fb.com&q2=http://c.com');\n      fireEvent(anchorExtension.getForm().querySelector('a.medium-editor-toolbar-save'), 'click');\n      expect(editor.execAction).toHaveBeenCalledWith('createLink', expectedOpts);\n      link = editor.elements[0].querySelector('a');\n      expect(link).not.toBeNull();\n      expect(link.href).toBe(expectedOpts.value);\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not change spaces to %20 if linkValidation is set to false",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 459,
            "updatePoint": {
                "line": 459,
                "column": 73
            },
            "code": "    it('should not change spaces to %20 if linkValidation is set to false', function () {\n      var editor = this.newMediumEditor('.editor', {\n        anchor: {\n          linkValidation: false\n        }\n      }),\n          link,\n          anchorExtension = editor.getExtensionByName('anchor'),\n          expectedOpts = {\n        value: 'http://te s t.com/',\n        target: '_self'\n      };\n      spyOn(editor, 'execAction').and.callThrough();\n      selectElementContentsAndFire(editor.elements[0]);\n      anchorExtension.showForm(expectedOpts.value);\n      fireEvent(anchorExtension.getForm().querySelector('a.medium-editor-toolbar-save'), 'click'); // Chrome, Edge, and IE will automatically escape the href once it's set on the link\n      // So for this case, we'll only look at the call to execAction to see what URL it was trying to set\n      // since the value of the link's href could be different values\n\n      expect(editor.execAction).toHaveBeenCalledWith('createLink', expectedOpts);\n      link = editor.elements[0].querySelector('a');\n      expect(link).not.toBeNull();\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should add target=\"_blank\" when \"open in a new window\" checkbox is checked",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 482,
            "updatePoint": {
                "line": 482,
                "column": 82
            },
            "code": "    it('should add target=\"_blank\" when \"open in a new window\" checkbox is checked', function () {\n      var editor = this.newMediumEditor('.editor', {\n        anchor: {\n          targetCheckbox: true\n        }\n      }),\n          anchorExtension = editor.getExtensionByName('anchor'),\n          targetCheckbox,\n          link;\n      selectElementContentsAndFire(editor.elements[0]);\n      anchorExtension.showForm('http://test.com');\n      expect(anchorExtension.isDisplayed()).toBe(true);\n      targetCheckbox = anchorExtension.getForm().querySelector('input.medium-editor-toolbar-anchor-target');\n      expect().not.toBeNull(targetCheckbox);\n      targetCheckbox.checked = true;\n      fireEvent(anchorExtension.getForm().querySelector('a.medium-editor-toolbar-save'), 'click');\n      expect(anchorExtension.isDisplayed()).toBe(false);\n      link = editor.elements[0].querySelector('a');\n      expect(link).not.toBeNull();\n      expect(link.target).toBe('_blank');\n      expect(link.rel).toBe('noopener noreferrer');\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should add target=\"_blank\" when respective option is set to true",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 504,
            "updatePoint": {
                "line": 504,
                "column": 72
            },
            "code": "    it('should add target=\"_blank\" when respective option is set to true', function () {\n      var editor = this.newMediumEditor('.editor', {\n        targetBlank: true\n      }),\n          link,\n          anchorExtension = editor.getExtensionByName('anchor');\n      selectElementContentsAndFire(editor.elements[0]);\n      anchorExtension.showForm('http://test.com');\n      fireEvent(anchorExtension.getForm().querySelector('a.medium-editor-toolbar-save'), 'click');\n      link = editor.elements[0].querySelector('a');\n      expect(link).not.toBeNull();\n      expect(link.target).toBe('_blank');\n      expect(link.rel).toBe('noopener noreferrer');\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should create a button when user selects this option and presses enter",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 518,
            "updatePoint": {
                "line": 518,
                "column": 78
            },
            "code": "    it('should create a button when user selects this option and presses enter', function () {\n      spyOn(MediumEditor.prototype, 'createLink').and.callThrough();\n      var editor = this.newMediumEditor('.editor', {\n        anchor: {\n          customClassOption: 'btn btn-default'\n        }\n      }),\n          save,\n          input,\n          button,\n          link,\n          opts,\n          anchorExtension = editor.getExtensionByName('anchor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContents(editor.elements[0]);\n      save = toolbar.getToolbarElement().querySelector('[data-action=\"createLink\"]');\n      fireEvent(save, 'click');\n      input = anchorExtension.getInput();\n      input.value = 'http://test.com';\n      button = anchorExtension.getForm().querySelector('input.medium-editor-toolbar-anchor-button');\n      button.setAttribute('type', 'checkbox');\n      button.checked = true;\n      fireEvent(input, 'keyup', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      opts = {\n        value: 'http://test.com',\n        target: '_self',\n        buttonClass: 'btn btn-default'\n      };\n      expect(editor.createLink).toHaveBeenCalledWith(opts);\n      link = editor.elements[0].querySelector('a');\n      expect(link).not.toBeNull();\n      expect(link.classList.contains('btn')).toBe(true);\n      expect(link.classList.contains('btn-default')).toBe(true);\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not select empty paragraphs when link is created at beginning of paragraph after empty paragraphs",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 658,
            "updatePoint": {
                "line": 658,
                "column": 112
            },
            "code": "    it('should not select empty paragraphs when link is created at beginning of paragraph after empty paragraphs', function () {\n      spyOn(MediumEditor.prototype, 'createLink').and.callThrough();\n      this.el.innerHTML = '<p>Some text</p><p><br/></p><p><br/></p><p>link text more text</p>';\n      var editor = this.newMediumEditor('.editor'),\n          lastP = this.el.lastChild,\n          anchorExtension = editor.getExtensionByName('anchor'),\n          toolbar = editor.getExtensionByName('toolbar'); // Select the text 'link text' in the last paragraph\n\n      MediumEditor.selection.select(document, lastP.firstChild, 0, lastP.firstChild, 'link text'.length);\n      fireEvent(editor.elements[0], 'focus');\n      jasmine.clock().tick(1); // Click the 'anchor' button in the toolbar\n\n      fireEvent(toolbar.getToolbarElement().querySelector('[data-action=\"createLink\"]'), 'click'); // Input a url and save\n\n      var input = anchorExtension.getInput();\n      input.value = 'http://www.example.com';\n      fireEvent(input, 'keyup', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      expect(editor.createLink).toHaveBeenCalledWith({\n        value: 'http://www.example.com',\n        target: '_self'\n      }); // Make sure the <p> wasn't removed, and the <a> was added to the end\n\n      expect(this.el.lastChild).toBe(lastP);\n      expect(lastP.firstChild.nodeName.toLowerCase()).toBe('a'); // Make sure selection is only the link\n\n      var range = window.getSelection().getRangeAt(0);\n      expect(MediumEditor.util.isDescendant(lastP, range.startContainer, true)).toBe(true, 'The start of the selection is incorrect');\n      expect(range.startOffset).toBe(0);\n      expect(MediumEditor.util.isDescendant(lastP.firstChild, range.endContainer, true)).toBe(true, 'The end of the selection is not contained within the link');\n    }); // https://github.com/yabwe/medium-editor/issues/757",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not select empty paragraphs when link is created at beginning of paragraph after another paragraph",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 691,
            "updatePoint": {
                "line": 691,
                "column": 113
            },
            "code": "    it('should not select empty paragraphs when link is created at beginning of paragraph after another paragraph', function () {\n      spyOn(MediumEditor.prototype, 'createLink').and.callThrough();\n      this.el.innerHTML = '<p>Some text</p><p>link text more text</p>';\n      var editor = this.newMediumEditor('.editor'),\n          lastP = this.el.lastChild,\n          anchorExtension = editor.getExtensionByName('anchor'),\n          toolbar = editor.getExtensionByName('toolbar'); // Select the text 'link text' in the last paragraph\n\n      MediumEditor.selection.select(document, lastP.firstChild, 0, lastP.firstChild, 'link text'.length);\n      fireEvent(editor.elements[0], 'focus');\n      jasmine.clock().tick(1); // Click the 'anchor' button in the toolbar\n\n      fireEvent(toolbar.getToolbarElement().querySelector('[data-action=\"createLink\"]'), 'click'); // Input a url and save\n\n      var input = anchorExtension.getInput();\n      input.value = 'http://www.example.com';\n      fireEvent(input, 'keyup', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      expect(editor.createLink).toHaveBeenCalledWith({\n        value: 'http://www.example.com',\n        target: '_self'\n      }); // Make sure the <p> wasn't removed, and the <a> was added to the end\n\n      expect(this.el.lastChild).toBe(lastP);\n      expect(lastP.firstChild.nodeName.toLowerCase()).toBe('a'); // Make sure selection is only the link\n\n      var range = window.getSelection().getRangeAt(0);\n      expect(MediumEditor.util.isDescendant(lastP, range.startContainer, true)).toBe(true, 'The start of the selection is incorrect');\n      expect(range.startOffset).toBe(0);\n      expect(MediumEditor.util.isDescendant(lastP.firstChild, range.endContainer, true)).toBe(true, 'The end of the selection is not contained within the link');\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not remove the <p> container when adding a link inside a top-level <p> with a single text-node child",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 723,
            "updatePoint": {
                "line": 723,
                "column": 115
            },
            "code": "    it('should not remove the <p> container when adding a link inside a top-level <p> with a single text-node child', function () {\n      spyOn(MediumEditor.prototype, 'createLink').and.callThrough();\n      this.el.innerHTML = '<p>Some text</p><p><br/></p><p><br/></p><p>some text link text</p>';\n      var editor = this.newMediumEditor('.editor'),\n          lastP = this.el.lastChild,\n          anchorExtension = editor.getExtensionByName('anchor'),\n          toolbar = editor.getExtensionByName('toolbar'); // Select the text 'link text' in the last paragraph\n\n      MediumEditor.selection.select(document, lastP.firstChild, 'some text '.length, lastP.firstChild, 'some text link text'.length);\n      fireEvent(editor.elements[0], 'focus');\n      jasmine.clock().tick(1); // Click the 'anchor' button in the toolbar\n\n      fireEvent(toolbar.getToolbarElement().querySelector('[data-action=\"createLink\"]'), 'click'); // Input a url and save\n\n      var input = anchorExtension.getInput();\n      input.value = 'http://www.example.com';\n      fireEvent(input, 'keyup', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      expect(editor.createLink).toHaveBeenCalledWith({\n        value: 'http://www.example.com',\n        target: '_self'\n      }); // Make sure the <p> wasn't removed, and the <a> was added to the end\n\n      expect(this.el.lastChild).toBe(lastP);\n      expect(lastP.lastChild.nodeName.toLowerCase()).toBe('a'); // Make sure selection is only the link\n\n      var range = window.getSelection().getRangeAt(0);\n\n      if (range.startContainer === lastP.lastChild.firstChild) {\n        expect(range.startOffset).toBe(0, 'The start of the selection is not at the front of the link');\n      } else {\n        expect(range.startContainer).toBe(lastP.firstChild);\n        expect(range.startOffset).toBe('some text '.length, 'The start of the selection is not at the front of the link');\n      }\n\n      expect(MediumEditor.util.isDescendant(lastP.lastChild, range.endContainer, true)).toBe(true, 'The end of the selection is incorrect');\n    }); // https://github.com/yabwe/medium-editor/issues/803",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should update the href of a link containing only an image",
            "suites": [
                "Anchor Button TestCase",
                "Link Creation"
            ],
            "line": 762,
            "updatePoint": {
                "line": 762,
                "column": 65
            },
            "code": "    it('should update the href of a link containing only an image', function () {\n      this.el.innerHTML = '<a href=\"#\"><img src=\"../demo/img/medium-editor.jpg\"></a>';\n      spyOn(MediumEditor.prototype, 'createLink').and.callThrough();\n      var editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button,\n          input,\n          aTag = this.el.childNodes[0];\n      selectElementContents(aTag);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"createLink\"]');\n      fireEvent(button, 'click');\n      input = editor.getExtensionByName('anchor').getInput();\n      input.value = 'http://www.google.com';\n      fireEvent(input, 'keyup', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      expect(editor.createLink).toHaveBeenCalled(); // This appears to be broken in Edge < 13, but works correctly in Edge 13 or higher\n      // So for the sake of sanity, disabling this check for Edge 12.\n      // TODO: Find a better way to fix this issue if Edge 12 is going to matter\n\n      var edgeVersion = getEdgeVersion();\n\n      if (!edgeVersion || edgeVersion >= 13) {\n        expect(this.el.innerHTML).toContain('<a href=\"http://www.google.com\"><img src=\"../demo/img/medium-editor.jpg\"></a>');\n      }\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should close the link form when user clicks on cancel",
            "suites": [
                "Anchor Button TestCase",
                "Cancel"
            ],
            "line": 790,
            "updatePoint": {
                "line": 790,
                "column": 61
            },
            "code": "    it('should close the link form when user clicks on cancel', function () {\n      spyOn(MediumEditor.extensions.toolbar.prototype, 'showAndUpdateToolbar').and.callThrough();\n      var editor = this.newMediumEditor('.editor'),\n          button,\n          cancel,\n          anchorExtension = editor.getExtensionByName('anchor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"createLink\"]');\n      cancel = anchorExtension.getForm().querySelector('a.medium-editor-toolbar-close');\n      fireEvent(button, 'click');\n      expect(anchorExtension.isDisplayed()).toBe(true);\n      fireEvent(cancel, 'click');\n      expect(toolbar.showAndUpdateToolbar).toHaveBeenCalled();\n      expect(anchorExtension.isDisplayed()).toBe(false);\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should close the link form when user presses escape",
            "suites": [
                "Anchor Button TestCase",
                "Cancel"
            ],
            "line": 806,
            "updatePoint": {
                "line": 806,
                "column": 59
            },
            "code": "    it('should close the link form when user presses escape', function () {\n      var editor = this.newMediumEditor('.editor'),\n          anchorExtension = editor.getExtensionByName('anchor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(editor.elements[0]);\n      fireEvent(toolbar.getToolbarElement().querySelector('[data-action=\"createLink\"]'), 'click');\n      expect(anchorExtension.isDisplayed()).toBe(true);\n      fireEvent(anchorExtension.getInput(), 'keyup', {\n        keyCode: MediumEditor.util.keyCode.ESCAPE\n      });\n      expect(anchorExtension.isDisplayed()).toBe(false);\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should display the anchor form when toolbar is visible",
            "suites": [
                "Anchor Button TestCase",
                "Click"
            ],
            "line": 820,
            "updatePoint": {
                "line": 820,
                "column": 62
            },
            "code": "    it('should display the anchor form when toolbar is visible', function () {\n      spyOn(MediumEditor.extensions.anchor.prototype, 'showForm').and.callThrough();\n      var button,\n          editor = this.newMediumEditor('.editor'),\n          anchorExtension = editor.getExtensionByName('anchor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"createLink\"]');\n      fireEvent(button, 'click');\n      expect(toolbar.getToolbarActionsElement().style.display).toBe('none');\n      expect(anchorExtension.isDisplayed()).toBe(true);\n      expect(anchorExtension.showForm).toHaveBeenCalled();\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should unlink when selection is a link",
            "suites": [
                "Anchor Button TestCase",
                "Click"
            ],
            "line": 833,
            "updatePoint": {
                "line": 833,
                "column": 46
            },
            "code": "    it('should unlink when selection is a link', function () {\n      this.el.innerHTML = '<a href=\"#\">link</a>';\n      var button,\n          editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      spyOn(document, 'execCommand').and.callThrough();\n      selectElementContentsAndFire(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"createLink\"]');\n      fireEvent(button, 'click');\n      expect(this.el.innerHTML).toBe('link');\n      expect(document.execCommand).toHaveBeenCalled();\n    }); // https://github.com/yabwe/medium-editor/issues/751",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should allow more than one link creation within a paragraph",
            "suites": [
                "Anchor Button TestCase",
                "Click"
            ],
            "line": 846,
            "updatePoint": {
                "line": 846,
                "column": 67
            },
            "code": "    it('should allow more than one link creation within a paragraph', function () {\n      spyOn(MediumEditor.extensions.anchor.prototype, 'showForm').and.callThrough();\n      this.el.innerHTML = '<p><a href=\"#\">beginning</a> some text middle some text end</p>';\n      var editor = this.newMediumEditor('.editor'),\n          anchorExtension = editor.getExtensionByName('anchor'),\n          toolbar = editor.getExtensionByName('toolbar'),\n          para = this.el.firstChild; // Select the text 'middle'\n\n      MediumEditor.selection.select(document, para.childNodes[1], 11, para.childNodes[1], 18);\n      fireEvent(editor.elements[0], 'focus');\n      jasmine.clock().tick(1); // Click the 'anchor' button in the toolbar\n\n      fireEvent(toolbar.getToolbarElement().querySelector('[data-action=\"createLink\"]'), 'click');\n      expect(toolbar.getToolbarActionsElement().style.display).toBe('none');\n      expect(anchorExtension.isDisplayed()).toBe(true);\n      expect(anchorExtension.showForm).toHaveBeenCalled();\n      expect(anchorExtension.getInput().value).toBe('');\n    });",
            "file": "anchor.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should turn off browser auto-link during initialization",
            "suites": [
                "Autolink",
                "extension"
            ],
            "line": 13,
            "updatePoint": {
                "line": 13,
                "column": 63
            },
            "code": "    it('should turn off browser auto-link during initialization', function () {\n      var autoUrlDetectTurnedOn = true,\n          origExecCommand = document.execCommand;\n      spyOn(document, 'execCommand').and.callFake(function (command, showUi, val) {\n        if (command === 'AutoUrlDetect') {\n          autoUrlDetectTurnedOn = val;\n        }\n\n        return origExecCommand.apply(document, arguments);\n      });\n      this.newMediumEditor('.editor', {\n        autoLink: true\n      });\n      expect(autoUrlDetectTurnedOn).toBe(false);\n    });",
            "file": "auto-link.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should reset browser auto-link (if supported) during destroy",
            "suites": [
                "Autolink",
                "extension"
            ],
            "line": 28,
            "updatePoint": {
                "line": 28,
                "column": 68
            },
            "code": "    it('should reset browser auto-link (if supported) during destroy', function () {\n      var autoUrlDetectTurnedOn = true,\n          origExecCommand = document.execCommand,\n          origQCS = document.queryCommandSupported;\n      spyOn(document, 'execCommand').and.callFake(function (command, showUi, val) {\n        if (command === 'AutoUrlDetect') {\n          autoUrlDetectTurnedOn = val;\n        }\n\n        return origExecCommand.apply(document, arguments);\n      });\n      spyOn(document, 'queryCommandSupported').and.callFake(function (command) {\n        if (command === 'AutoUrlDetect') {\n          return true;\n        }\n\n        return origQCS.apply(document, arguments);\n      });\n      var editor = this.newMediumEditor('.editor', {\n        autoLink: true\n      });\n      expect(autoUrlDetectTurnedOn).toBe(false);\n      editor.destroy();\n      expect(autoUrlDetectTurnedOn).toBe(true);\n    });",
            "file": "auto-link.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not reset multiple browser auto-links (if supported) during destroy",
            "suites": [
                "Autolink",
                "extension"
            ],
            "line": 53,
            "updatePoint": {
                "line": 53,
                "column": 82
            },
            "code": "    it('should not reset multiple browser auto-links (if supported) during destroy', function () {\n      var autoUrlDetectTurnedOn = true,\n          origExecCommand = document.execCommand,\n          origQCS = document.queryCommandSupported;\n      this.el = this.createElement('div', 'editor2', '');\n      spyOn(document, 'execCommand').and.callFake(function (command, showUi, val) {\n        if (command === 'AutoUrlDetect') {\n          autoUrlDetectTurnedOn = val;\n        }\n\n        return origExecCommand.apply(document, arguments);\n      });\n      spyOn(document, 'queryCommandSupported').and.callFake(function (command) {\n        if (command === 'AutoUrlDetect') {\n          return true;\n        }\n\n        return origQCS.apply(document, arguments);\n      });\n      var editor = this.newMediumEditor('.editor', {\n        autoLink: true\n      }),\n          editor2 = this.newMediumEditor('.editor2', {\n        autoLink: true\n      });\n      expect(autoUrlDetectTurnedOn).toBe(false);\n      editor.destroy();\n      expect(autoUrlDetectTurnedOn).toBe(false);\n      editor2.destroy();\n      expect(autoUrlDetectTurnedOn).toBe(true);\n    });",
            "file": "auto-link.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should auto-link text on its own",
            "suites": [
                "Autolink",
                "integration",
                "auto-linking typed-in text"
            ],
            "line": 155,
            "updatePoint": {
                "line": 155,
                "column": 42
            },
            "code": "      it('should auto-link text on its own', function () {\n        this.el.innerHTML = 'http://www.example.com';\n        selectElementContentsAndFire(this.el);\n        triggerAutolinking(this.el);\n        var links = this.el.getElementsByTagName('a');\n        expect(links.length).toBe(1);\n        expect(links[0].getAttribute('href')).toBe('http://www.example.com');\n        expect(links[0].firstChild.getAttribute('data-auto-link')).toBe('true');\n        expect(links[0].textContent).toBe('http://www.example.com');\n      });",
            "file": "auto-link.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should auto-link text on all SPACE or ENTER",
            "suites": [
                "Autolink",
                "integration",
                "auto-linking typed-in text"
            ],
            "line": 165,
            "updatePoint": {
                "line": 165,
                "column": 53
            },
            "code": "      it('should auto-link text on all SPACE or ENTER', function () {\n        var links;\n        this.el.innerHTML = 'http://www.example.enter';\n        selectElementContentsAndFire(this.el);\n        triggerAutolinking(this.el, MediumEditor.util.keyCode.ENTER);\n        links = this.el.getElementsByTagName('a');\n        expect(links.length).toBe(1, 'links length after ENTER');\n        expect(links[0].getAttribute('href')).toBe('http://www.example.enter');\n        expect(links[0].firstChild.getAttribute('data-auto-link')).toBe('true');\n        expect(links[0].textContent).toBe('http://www.example.enter');\n        this.el.innerHTML = 'http://www.example.space';\n        selectElementContentsAndFire(this.el);\n        triggerAutolinking(this.el, MediumEditor.util.keyCode.SPACE);\n        links = this.el.getElementsByTagName('a');\n        expect(links.length).toBe(1, 'links length after SPACE');\n        expect(links[0].getAttribute('href')).toBe('http://www.example.space');\n        expect(links[0].firstChild.getAttribute('data-auto-link')).toBe('true');\n        expect(links[0].textContent).toBe('http://www.example.space');\n      });",
            "file": "auto-link.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should auto-link text on blur",
            "suites": [
                "Autolink",
                "integration",
                "auto-linking typed-in text"
            ],
            "line": 184,
            "updatePoint": {
                "line": 184,
                "column": 39
            },
            "code": "      it('should auto-link text on blur', function () {\n        var links;\n        this.el.innerHTML = 'http://www.example.blur';\n        selectElementContentsAndFire(this.el);\n        fireEvent(this.el, 'blur');\n        jasmine.clock().tick(1);\n        links = this.el.getElementsByTagName('a');\n        expect(links.length).toBe(1);\n        expect(links[0].getAttribute('href')).toBe('http://www.example.blur');\n        expect(links[0].firstChild.getAttribute('data-auto-link')).toBe('true');\n        expect(links[0].textContent).toBe('http://www.example.blur');\n      });",
            "file": "auto-link.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should fire editableInput after autolinking",
            "suites": [
                "Autolink",
                "integration",
                "auto-linking typed-in text"
            ],
            "line": 196,
            "updatePoint": {
                "line": 196,
                "column": 53
            },
            "code": "      it('should fire editableInput after autolinking', function () {\n        var spy = jasmine.createSpy('handler');\n        this.el.innerHTML = 'http://www.example.com';\n        selectElementContentsAndFire(this.el);\n        this.editor.subscribe('editableInput', spy);\n        expect(spy).not.toHaveBeenCalled();\n        fireEvent(this.el, 'blur');\n        jasmine.clock().tick(1);\n        expect(spy).toHaveBeenCalled();\n      });",
            "file": "auto-link.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should auto-link link within basic text",
            "suites": [
                "Autolink",
                "integration",
                "auto-linking typed-in text"
            ],
            "line": 206,
            "updatePoint": {
                "line": 206,
                "column": 49
            },
            "code": "      it('should auto-link link within basic text', function () {\n        this.el.innerHTML = 'Text with http://www.example.com inside!';\n        selectElementContentsAndFire(this.el);\n        triggerAutolinking(this.el);\n        var links = this.el.getElementsByTagName('a');\n        expect(links.length).toBe(1);\n        expect(links[0].getAttribute('href')).toBe('http://www.example.com');\n        expect(links[0].getAttribute('href')).toBe(links[0].textContent);\n        expect(this.el.childNodes[0].nodeValue).toBe('Text with ');\n        expect(this.el.childNodes[this.el.childNodes.length - 1].nodeValue).toBe(' inside!');\n      });",
            "file": "auto-link.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should auto-link basic text within a parent element",
            "suites": [
                "Autolink",
                "integration",
                "auto-linking typed-in text"
            ],
            "line": 217,
            "updatePoint": {
                "line": 217,
                "column": 61
            },
            "code": "      it('should auto-link basic text within a parent element', function () {\n        this.el.innerHTML = '<span>Text with http://www.example.com inside!</span>';\n        selectElementContentsAndFire(this.el);\n        triggerAutolinking(this.el);\n        var links = this.el.getElementsByTagName('a');\n        expect(links.length).toBe(1);\n        expect(this.el.firstChild.nodeName.toLowerCase()).toBe('span');\n        expect(this.el.firstChild.textContent).toBe('Text with http://www.example.com inside!');\n        expect(this.el.firstChild.getElementsByTagName('a').length).toBe(1);\n        expect(links[0].getAttribute('href')).toBe('http://www.example.com');\n        expect(links[0].textContent).toBe('http://www.example.com');\n        expect(links[0].firstChild.getAttribute('data-auto-link')).toBe('true');\n      });",
            "file": "auto-link.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should auto-link text that is partially styled and preserve the SPAN and B tags",
            "suites": [
                "Autolink",
                "integration",
                "auto-linking typed-in text"
            ],
            "line": 230,
            "updatePoint": {
                "line": 230,
                "column": 89
            },
            "code": "      it('should auto-link text that is partially styled and preserve the SPAN and B tags', function () {\n        var selection = window.getSelection(),\n            newRange = document.createRange();\n        this.el.innerHTML = '<p><span class=\"a\"><b>Here is the link: http://www.</b>exa</span>mple.com </p>';\n        selection.removeAllRanges();\n        newRange.setStart(this.el.firstChild.lastChild, this.el.firstChild.lastChild.nodeValue.length);\n        newRange.setEnd(this.el.firstChild.lastChild, this.el.firstChild.lastChild.nodeValue.length);\n        selection.addRange(newRange);\n        triggerAutolinking(this.el);\n        expect(this.el.innerHTML.indexOf('<p><span class=\"a\"><b>Here is the link: </b></span>')).toBe(0);\n        var links = this.el.getElementsByTagName('a');\n        expect(links.length).toBe(1);\n        expect(links[0].getAttribute('href')).toBe('http://www.example.com');\n        expect(links[0].firstChild.getAttribute('data-auto-link')).toBe('true');\n        expect(links[0].firstChild.nodeName.toLowerCase()).toBe('span');\n        expect(links[0].firstChild.innerHTML).toBe('<span class=\"a\"><b>http://www.</b>exa</span>mple.com');\n        expect(this.el.firstChild.lastChild.nodeValue).toBe(' ');\n      });",
            "file": "auto-link.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should auto-link text that is partially styled with a profusion of mixed bold sections",
            "suites": [
                "Autolink",
                "integration",
                "auto-linking typed-in text"
            ],
            "line": 248,
            "updatePoint": {
                "line": 248,
                "column": 96
            },
            "code": "      it('should auto-link text that is partially styled with a profusion of mixed bold sections', function () {\n        var selection = window.getSelection(),\n            newRange = document.createRange();\n        this.el.innerHTML = '<p><b>Here is the link: http://www.</b>exampl<b>e</b>.com </p>';\n        selection.removeAllRanges();\n        newRange.setStart(this.el.firstChild.lastChild, this.el.firstChild.lastChild.nodeValue.length);\n        newRange.setEnd(this.el.firstChild.lastChild, this.el.firstChild.lastChild.nodeValue.length);\n        selection.addRange(newRange);\n        triggerAutolinking(this.el);\n        expect(this.el.innerHTML.indexOf('<p><b>Here is the link: </b>')).toBe(0);\n        var links = this.el.getElementsByTagName('a');\n        expect(links.length).toBe(1);\n        expect(links[0].firstChild.getAttribute('data-auto-link')).toBe('true');\n        expect(links[0].firstChild.nodeName.toLowerCase()).toBe('span');\n        expect(links[0].firstChild.innerHTML).toBe('<b>http://www.</b>exampl<b>e</b>.com');\n        expect(links[0].getAttribute('href')).toBe('http://www.example.com');\n        expect(links[0].firstChild.getAttribute('data-auto-link')).toBe('true');\n        expect(this.el.firstChild.lastChild.nodeValue).toBe(' ');\n      });",
            "file": "auto-link.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should auto-link text in a really hideous example",
            "suites": [
                "Autolink",
                "integration",
                "auto-linking typed-in text"
            ],
            "line": 267,
            "updatePoint": {
                "line": 267,
                "column": 59
            },
            "code": "      it('should auto-link text in a really hideous example', function () {\n        this.el.innerHTML = '' + '<span>' + '<b>Link: http</b>' + '<i>://</i>' + '</span>' + '<span>' + '<b>www</b>' + '<u>.google.com</u>' + '</span>' + '<span>' + '<b>/wow </b>' + '<i>impressive</i>' + '</span>';\n        selectElementContentsAndFire(this.el.firstChild);\n        triggerAutolinking(this.el);\n        var links = this.el.getElementsByTagName('a');\n        expect(links.length).toBe(1);\n        expect(links[0].firstChild.getAttribute('data-auto-link')).toBe('true');\n        expect(links[0].firstChild.getAttribute('data-href')).toBe('http://www.google.com/wow');\n        links[0].firstChild.removeAttribute('data-href'); // to make the next innerHTML check work consistently\n\n        var expectedOutput = '' + '<span>' + '<b>Link: </b>' + '</span>' + '<a href=\"http://www.google.com/wow\">' + '<span data-auto-link=\"true\">' + '<span>' + '<b>http</b>' + '<i>://</i>' + '</span>' + '<span>' + '<b>www</b>' + '<u>.google.com</u>' + '</span>' + '<span>' + '<b>/wow</b>' + '</span>' + '</span>' + '</a>' + '<span>' + '<b> </b>' + '<i>impressive</i>' + '</span>';\n        expect(this.el.innerHTML).toBe(expectedOutput);\n      });",
            "file": "auto-link.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not auto-link text inside links",
            "suites": [
                "Autolink",
                "integration",
                "auto-linking typed-in text"
            ],
            "line": 280,
            "updatePoint": {
                "line": 280,
                "column": 48
            },
            "code": "      it('should not auto-link text inside links', function () {\n        this.el.innerHTML = 'Click this http://www.example.com link';\n        selectElementContentsAndFire(this.el.firstChild);\n        triggerAutolinking(this.el);\n        var links = this.el.getElementsByTagName('a');\n        expect(links.length).toBe(1);\n        expect(links[0].getAttribute('href')).toBe('http://www.example.com');\n        expect(links[0].firstChild.getAttribute('data-auto-link')).toBe('true');\n        triggerAutolinking(this.el);\n        links = this.el.getElementsByTagName('a');\n        expect(links.length).toBe(1);\n        expect(links[0].getAttribute('href')).toBe('http://www.example.com');\n        expect(links[0].firstChild.getAttribute('data-auto-link')).toBe('true');\n      });",
            "file": "auto-link.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not auto-link text inside a span with data-auto-link=true",
            "suites": [
                "Autolink",
                "integration",
                "auto-linking typed-in text"
            ],
            "line": 294,
            "updatePoint": {
                "line": 294,
                "column": 74
            },
            "code": "      it('should not auto-link text inside a span with data-auto-link=true', function () {\n        this.el.innerHTML = 'Click this <span data-href=\"http://www.example.com\" data-auto-link=\"true\">' + 'http://www.example.com</span> link';\n        selectElementContentsAndFire(this.el.firstChild);\n        triggerAutolinking(this.el);\n        expect(this.el.getElementsByTagName('a').length).toBe(0, 'should not create a link');\n        expect(this.el.getElementsByTagName('span').length).toBe(1, 'span should remain in place');\n      });",
            "file": "auto-link.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not auto-link text containing a span with data-auto-link=true",
            "suites": [
                "Autolink",
                "integration",
                "auto-linking typed-in text"
            ],
            "line": 301,
            "updatePoint": {
                "line": 301,
                "column": 78
            },
            "code": "      it('should not auto-link text containing a span with data-auto-link=true', function () {\n        this.el.innerHTML = 'Click this <span data-href=\"http://www.example.com\" data-auto-link=\"true\">' + 'www.example.com</span>foo/bar/baz link';\n        selectElementContentsAndFire(this.el.firstChild);\n        triggerAutolinking(this.el);\n        expect(this.el.getElementsByTagName('a').length).toBe(0, 'should not create a link');\n        expect(this.el.getElementsByTagName('span').length).toBe(1, 'span should remain in place');\n      });",
            "file": "auto-link.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove a span with data-auto-link=true when the text no longer matches the original link",
            "suites": [
                "Autolink",
                "integration",
                "auto-linking typed-in text"
            ],
            "line": 308,
            "updatePoint": {
                "line": 308,
                "column": 105
            },
            "code": "      it('should remove a span with data-auto-link=true when the text no longer matches the original link', function () {\n        this.el.innerHTML = 'Click this <span data-auto-link=\"true\" data-href=\"http://www.example.com\">' + 'foo</span> link';\n        triggerAutolinking(this.el);\n        expect(this.el.getElementsByTagName('span').length).toBe(0, 'span should have been removed');\n      });",
            "file": "auto-link.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should create a link with target=\"_blank\" when respective option is set to true",
            "suites": [
                "Autolink",
                "integration",
                "auto-linking typed-in text"
            ],
            "line": 319,
            "updatePoint": {
                "line": 319,
                "column": 89
            },
            "code": "      it('should create a link with target=\"_blank\" when respective option is set to true', function () {\n        this.el = this.createElement('div', 'editor-blank', '');\n        this.newMediumEditor('.editor-blank', {\n          autoLink: true,\n          targetBlank: true\n        });\n        this.el.innerHTML = 'http://www.example.com';\n        selectElementContentsAndFire(this.el);\n        triggerAutolinking(this.el);\n        var links = this.el.getElementsByTagName('a');\n        expect(links.length).toBe(1);\n        expect(links[0].getAttribute('href')).toBe('http://www.example.com');\n        expect(links[0].target).toBe('_blank');\n      });",
            "file": "auto-link.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should stop attempting to auto-link on keypress if an error is encountered",
            "suites": [
                "Autolink",
                "integration",
                "auto-linking typed-in text"
            ],
            "line": 333,
            "updatePoint": {
                "line": 333,
                "column": 84
            },
            "code": "      it('should stop attempting to auto-link on keypress if an error is encountered', function () {\n        var spy = spyOn(MediumEditor.extensions.autoLink.prototype, 'performLinking');\n        this.el.innerHTML = '<span><a href=\"http://www.google.com>http://www.google.com</a></span>'; // This will cause an error\n\n        triggerAutolinking(this.el);\n        expect(spy.calls.count()).toBe(1); // The previous error should prevent performLiking from being called again\n\n        triggerAutolinking(this.el);\n        expect(spy.calls.count()).toBe(2);\n      });",
            "file": "auto-link.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should create a link for a url within a list item",
            "suites": [
                "Autolink",
                "integration",
                "auto-linking typed-in text"
            ],
            "line": 343,
            "updatePoint": {
                "line": 343,
                "column": 59
            },
            "code": "      it('should create a link for a url within a list item', function () {\n        this.el.innerHTML = '<p>This is my list of links:</p><ol><li>http://www.example.com</li></ol><p>It is very impressive</p>';\n        selectElementContentsAndFire(this.el);\n        triggerAutolinking(this.el);\n        var links = this.el.getElementsByTagName('a'),\n            li = this.el.querySelector('li');\n        expect(links.length).toBe(1, 'A single link was not automatically created');\n        expect(li.firstChild).toBe(links[0]);\n        expect(li.textContent).toBe('http://www.example.com');\n        expect(links[0].getAttribute('href')).toBe('http://www.example.com');\n        expect(links[0].firstChild.getAttribute('data-auto-link')).toBe('true');\n      }); // https://github.com/yabwe/medium-editor/issues/790",
            "file": "auto-link.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not create a link when text in consecutive list items could be a valid url when combined",
            "suites": [
                "Autolink",
                "integration",
                "auto-linking typed-in text"
            ],
            "line": 356,
            "updatePoint": {
                "line": 356,
                "column": 105
            },
            "code": "      it('should not create a link when text in consecutive list items could be a valid url when combined', function () {\n        this.el.innerHTML = '<ul><li>text ending in a period.</li><li>name - text starting with a TLD</li></ul>';\n        selectElementContentsAndFire(this.el);\n        triggerAutolinking(this.el);\n        var links = this.el.getElementsByTagName('a');\n        expect(links.length).toBe(0, 'A link was created without a valid url being in the text');\n        expect(this.el.innerHTML).toBe('<ul><li>text ending in a period.</li><li>name - text starting with a TLD</li></ul>', 'Content does not contain a valid url, but auto-link caused the content to change');\n      }); // https://github.com/yabwe/medium-editor/issues/790",
            "file": "auto-link.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not create a link which spans multiple list items",
            "suites": [
                "Autolink",
                "integration",
                "auto-linking typed-in text"
            ],
            "line": 365,
            "updatePoint": {
                "line": 365,
                "column": 66
            },
            "code": "      it('should not create a link which spans multiple list items', function () {\n        this.el.innerHTML = '<blockquote><ol><li>abc</li><li>www.example.com</li></ol></blockquote>';\n        selectElementContentsAndFire(this.el);\n        triggerAutolinking(this.el);\n        var links = this.el.getElementsByTagName('a'),\n            lastLi = this.el.querySelector('ol').lastChild;\n        expect(links.length).toBe(1, 'There should have been exactly 1 link created');\n        expect(links[0].getAttribute('href')).toBe('http://www.example.com');\n        expect(lastLi.firstChild).toBe(links[0]);\n        expect(lastLi.textContent).toBe('www.example.com');\n      });",
            "file": "auto-link.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not create a link which spans multiple list items",
            "suites": [
                "Autolink",
                "integration",
                "auto-linking typed-in text"
            ],
            "line": 376,
            "updatePoint": {
                "line": 376,
                "column": 66
            },
            "code": "      it('should not create a link which spans multiple list items', function () {\n        this.el.innerHTML = '<blockquote><ol><li>www</li><li>.example.com</li></ol></blockquote>';\n        selectElementContentsAndFire(this.el);\n        triggerAutolinking(this.el);\n        var links = this.el.getElementsByTagName('a');\n        expect(links.length).toBe(0, 'There should not have been any links created');\n      });",
            "file": "auto-link.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should set active class on click",
            "suites": [
                "Buttons TestCase",
                "Button click"
            ],
            "line": 24,
            "updatePoint": {
                "line": 24,
                "column": 40
            },
            "code": "    it('should set active class on click', function () {\n      var button,\n          editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"bold\"]');\n      fireEvent(button, 'click');\n      expect(button.className).toContain('medium-editor-button-active');\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should check for selection when selection is undefined",
            "suites": [
                "Buttons TestCase",
                "Button click"
            ],
            "line": 33,
            "updatePoint": {
                "line": 33,
                "column": 62
            },
            "code": "    it('should check for selection when selection is undefined', function () {\n      spyOn(MediumEditor.prototype, 'checkSelection');\n      var button,\n          editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"bold\"]');\n      fireEvent(button, 'click');\n      expect(editor.checkSelection).toHaveBeenCalled();\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove active class if button has it",
            "suites": [
                "Buttons TestCase",
                "Button click"
            ],
            "line": 43,
            "updatePoint": {
                "line": 43,
                "column": 51
            },
            "code": "    it('should remove active class if button has it', function () {\n      this.el.innerHTML = '<b>lorem ipsum</b>';\n      var button,\n          editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"bold\"]');\n      expect(button.className).toContain('medium-editor-button-active');\n      fireEvent(button, 'click');\n      expect(button.className).not.toContain('medium-editor-button-active');\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should execute the button action",
            "suites": [
                "Buttons TestCase",
                "Button click"
            ],
            "line": 54,
            "updatePoint": {
                "line": 54,
                "column": 40
            },
            "code": "    it('should execute the button action', function () {\n      spyOn(MediumEditor.prototype, 'execAction');\n      var button,\n          editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"bold\"]');\n      fireEvent(button, 'click');\n      expect(editor.execAction).toHaveBeenCalledWith('bold');\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be accesible via defaults property of the button prototype",
            "suites": [
                "Buttons TestCase",
                "Button default config"
            ],
            "line": 66,
            "updatePoint": {
                "line": 66,
                "column": 73
            },
            "code": "    it('should be accesible via defaults property of the button prototype', function () {\n      expect(MediumEditor.extensions.button.prototype.defaults['bold']).toBeTruthy();\n      expect(MediumEditor.extensions.button.prototype.defaults['anchor']).toBeFalsy();\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be check-able via static Button.isBuiltInButton() method",
            "suites": [
                "Buttons TestCase",
                "Button default config"
            ],
            "line": 70,
            "updatePoint": {
                "line": 70,
                "column": 71
            },
            "code": "    it('should be check-able via static Button.isBuiltInButton() method', function () {\n      expect(MediumEditor.extensions.button.isBuiltInButton('bold')).toBe(true);\n      expect(MediumEditor.extensions.button.isBuiltInButton('anchor')).toBe(false);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should accept a set of config options",
            "suites": [
                "Buttons TestCase",
                "Button constructor"
            ],
            "line": 76,
            "updatePoint": {
                "line": 76,
                "column": 45
            },
            "code": "    it('should accept a set of config options', function () {\n      var italicConfig = MediumEditor.extensions.button.prototype.defaults['italic'],\n          italicButton = new MediumEditor.extensions.button(italicConfig);\n      Object.keys(italicConfig).forEach(function (prop) {\n        expect(italicButton[prop]).toBe(italicConfig[prop]);\n      });\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should accept a built-in button name",
            "suites": [
                "Buttons TestCase",
                "Button constructor"
            ],
            "line": 83,
            "updatePoint": {
                "line": 83,
                "column": 44
            },
            "code": "    it('should accept a built-in button name', function () {\n      var italicButtonOne = new MediumEditor.extensions.button(MediumEditor.extensions.button.prototype.defaults['italic']),\n          italicButtonTwo = new MediumEditor.extensions.button('italic');\n      expect(italicButtonOne).toEqual(italicButtonTwo);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should support overriding defaults",
            "suites": [
                "Buttons TestCase",
                "Button options"
            ],
            "line": 90,
            "updatePoint": {
                "line": 90,
                "column": 42
            },
            "code": "    it('should support overriding defaults', function () {\n      this.el.innerHTML = '<h2>lorem</h2><h3>ipsum</h3>';\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['bold', {\n            name: 'h1',\n            action: 'append-h2',\n            aria: 'fake h1',\n            tagNames: ['h2'],\n            contentDefault: '<b>H1</b>',\n            classList: ['customClassName'],\n            attrs: {\n              'data-custom-attr': 'custom-value'\n            }\n          }, {\n            name: 'h2',\n            getAction: function () {\n              return 'append-h3';\n            },\n            getAria: function () {\n              return 'fake h2';\n            },\n            getTagNames: function () {\n              return ['h3'];\n            },\n            contentDefault: '<b>H2</b>'\n          }]\n        }\n      }),\n          headerOneButton = editor.getExtensionByName('h1'),\n          headerTwoButton = editor.getExtensionByName('h2'),\n          toolbar = editor.getExtensionByName('toolbar');\n      expect(toolbar.getToolbarElement().querySelectorAll('button').length).toBe(3);\n      var button = toolbar.getToolbarElement().querySelector('.medium-editor-action-h1'),\n          buttonTwo = toolbar.getToolbarElement().querySelector('.medium-editor-action-h2');\n      expect(button).toBe(headerOneButton.getButton());\n      expect(button.getAttribute('aria-label')).toBe('fake h1');\n      expect(button.getAttribute('title')).toBe('fake h1');\n      expect(button.getAttribute('data-custom-attr')).toBe('custom-value');\n      expect(button.classList.contains('customClassName')).toBe(true);\n      expect(button.innerHTML).toBe('<b>H1</b>');\n      selectElementContentsAndFire(editor.elements[0].querySelector('h2').firstChild);\n      expect(button.classList.contains('medium-editor-button-active')).toBe(true);\n      expect(buttonTwo.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(buttonTwo).toBe(headerTwoButton.getButton());\n      expect(buttonTwo.getAttribute('aria-label')).toBe('fake h2');\n      expect(buttonTwo.getAttribute('title')).toBe('fake h2');\n      expect(buttonTwo.innerHTML).toBe('<b>H2</b>');\n      selectElementContentsAndFire(editor.elements[0].querySelector('h3'), {\n        eventToFire: 'mouseup'\n      });\n      expect(button.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(buttonTwo.classList.contains('medium-editor-button-active')).toBe(true);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should have aria-label and title attributes set",
            "suites": [
                "Buttons TestCase",
                "Buttons with various labels"
            ],
            "line": 202,
            "updatePoint": {
                "line": 202,
                "column": 55
            },
            "code": "    it('should have aria-label and title attributes set', function () {\n      var button,\n          editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: allButtons\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar');\n      Object.keys(customLabels).forEach(function (buttonName) {\n        button = toolbar.getToolbarElement().querySelector('.medium-editor-action-' + buttonName);\n        expect(button).not.toBeUndefined();\n        expect(button.getAttribute('aria-label')).toBe(customLabels[buttonName]);\n        expect(button.getAttribute('title')).toBe(customLabels[buttonName]);\n      });\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should contain default content if no custom labels are provided",
            "suites": [
                "Buttons TestCase",
                "Buttons with various labels"
            ],
            "line": 217,
            "updatePoint": {
                "line": 217,
                "column": 71
            },
            "code": "    it('should contain default content if no custom labels are provided', function () {\n      var button,\n          editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: allButtons\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar');\n      expect(toolbar.getToolbarElement().querySelectorAll('button').length).toBe(allButtons.length);\n      selectElementContentsAndFire(editor.elements[0]);\n      Object.keys(defaultLabels).forEach(function (buttonName) {\n        button = toolbar.getToolbarElement().querySelector('.medium-editor-action-' + buttonName);\n        expect(button).not.toBeUndefined();\n        expect(button.innerHTML).toBe(defaultLabels[buttonName].label);\n      });\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should contain fontawesome labels and execute the button action when clicked",
            "suites": [
                "Buttons TestCase",
                "Buttons with various labels"
            ],
            "line": 233,
            "updatePoint": {
                "line": 233,
                "column": 84
            },
            "code": "    it('should contain fontawesome labels and execute the button action when clicked', function () {\n      spyOn(MediumEditor.prototype, 'execAction');\n      var action,\n          button,\n          editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: allButtons\n        },\n        buttonLabels: 'fontawesome'\n      }),\n          toolbar = editor.getExtensionByName('toolbar');\n      expect(toolbar.getToolbarElement().querySelectorAll('button').length).toBe(allButtons.length);\n      selectElementContentsAndFire(editor.elements[0]);\n      Object.keys(fontAwesomeLabels).forEach(function (buttonName) {\n        action = defaultLabels[buttonName].action;\n        button = toolbar.getToolbarElement().querySelector('.medium-editor-action-' + buttonName);\n        expect(button).not.toBeUndefined();\n        fireEvent(button, 'click');\n\n        if (action) {\n          expect(editor.execAction).toHaveBeenCalledWith(action);\n        }\n\n        expect(button.innerHTML).toBe(fontAwesomeLabels[buttonName]);\n      });\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should contain custom labels and execute the button action when clicked",
            "suites": [
                "Buttons TestCase",
                "Buttons with various labels"
            ],
            "line": 259,
            "updatePoint": {
                "line": 259,
                "column": 79
            },
            "code": "    it('should contain custom labels and execute the button action when clicked', function () {\n      spyOn(MediumEditor.prototype, 'execAction');\n      var action,\n          button,\n          editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: customButtons\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar');\n      expect(toolbar.getToolbarElement().querySelectorAll('button').length).toBe(allButtons.length);\n      selectElementContentsAndFire(editor.elements[0]);\n      Object.keys(customLabels).forEach(function (buttonName) {\n        action = defaultLabels[buttonName].action;\n        button = toolbar.getToolbarElement().querySelector('.medium-editor-action-' + buttonName);\n        expect(button).not.toBeUndefined();\n        fireEvent(button, 'click');\n\n        if (action) {\n          expect(editor.execAction).toHaveBeenCalledWith(action);\n        }\n\n        expect(button.innerHTML).toBe(customLabels[buttonName]);\n      });\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should call the document.execCommand method when button action is append",
            "suites": [
                "Buttons TestCase",
                "AppendEl"
            ],
            "line": 286,
            "updatePoint": {
                "line": 286,
                "column": 80
            },
            "code": "    it('should call the document.execCommand method when button action is append', function () {\n      var button,\n          editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      spyOn(document, 'execCommand');\n      selectElementContentsAndFire(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"append-h3\"]');\n      fireEvent(button, 'click');\n\n      if (isIE()) {\n        expect(document.execCommand).toHaveBeenCalledWith('formatBlock', false, '<h3>');\n      } else {\n        expect(document.execCommand).toHaveBeenCalledWith('formatBlock', false, 'h3');\n      }\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should create an h3 element when h3 is clicked",
            "suites": [
                "Buttons TestCase",
                "AppendEl"
            ],
            "line": 301,
            "updatePoint": {
                "line": 301,
                "column": 54
            },
            "code": "    it('should create an h3 element when h3 is clicked', function () {\n      this.el.innerHTML = '<p><b>lorem ipsum</b></p>';\n      var button,\n          editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"append-h3\"]');\n      fireEvent(button, 'click'); // depending on the styling you have,\n      // IE might strip the <b> out when it applies the H3 here.\n      // so, make the <b> match optional in the output:\n\n      expect(this.el.innerHTML).toMatch(/<h3>(<b>)?lorem ipsum(<\\/b>)?<\\/h3>/);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should get back to a p element if parent element is the same as the action",
            "suites": [
                "Buttons TestCase",
                "AppendEl"
            ],
            "line": 314,
            "updatePoint": {
                "line": 314,
                "column": 82
            },
            "code": "    it('should get back to a p element if parent element is the same as the action', function () {\n      this.el.innerHTML = '<h3><b>lorem ipsum</b></h3>';\n      var button,\n          editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(editor.elements[0].firstChild);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"append-h3\"]');\n      fireEvent(button, 'click');\n      expect(this.el.innerHTML).toBe('<p><b>lorem ipsum</b></p>');\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should add a special class to the first and last buttons",
            "suites": [
                "Buttons TestCase",
                "First and Last"
            ],
            "line": 326,
            "updatePoint": {
                "line": 326,
                "column": 64
            },
            "code": "    it('should add a special class to the first and last buttons', function () {\n      var editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar'),\n          buttons = toolbar.getToolbarElement().querySelectorAll('button');\n      expect(buttons[0].className).toContain('medium-editor-button-first');\n      expect(buttons[1].className).not.toContain('medium-editor-button-first');\n      expect(buttons[1].className).not.toContain('medium-editor-button-last');\n      expect(buttons[buttons.length - 1].className).toContain('medium-editor-button-last');\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "button should be active if the selection already has the element",
            "suites": [
                "Buttons TestCase",
                "Bold"
            ],
            "line": 337,
            "updatePoint": {
                "line": 337,
                "column": 72
            },
            "code": "    it('button should be active if the selection already has the element', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['bold']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button = toolbar.getToolbarElement().querySelector('[data-action=\"bold\"]');\n      this.el.innerHTML = '<b>lorem ipsum</b>';\n      selectElementContentsAndFire(editor.elements[0]);\n      expect(button.classList.contains('medium-editor-button-active')).toBe(true);\n      fireEvent(button, 'click');\n      expect(button.classList.contains('medium-editor-button-active')).toBe(false);\n      this.el.innerHTML = '<strong>lorem ipsum</strong>';\n      selectElementContentsAndFire(editor.elements[0], {\n        eventToFire: 'mouseup'\n      });\n      expect(button.classList.contains('medium-editor-button-active')).toBe(true);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "button should be active if the selection is bold and queryCommandState fails",
            "suites": [
                "Buttons TestCase",
                "Bold"
            ],
            "line": 356,
            "updatePoint": {
                "line": 356,
                "column": 84
            },
            "code": "    it('button should be active if the selection is bold and queryCommandState fails', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['bold']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button = toolbar.getToolbarElement().querySelector('[data-action=\"bold\"]');\n      spyOn(document, 'queryCommandState').and.throwError('DOM ERROR');\n      this.el.innerHTML = '<b><i><u>lorem ipsum</u></i></b>';\n      selectElementContentsAndFire(editor.elements[0].querySelector('u'));\n      expect(button.classList.contains('medium-editor-button-active')).toBe(true);\n      fireEvent(button, 'click');\n      expect(button.classList.contains('medium-editor-button-active')).toBe(false);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "button should be active for other cases when text is bold",
            "suites": [
                "Buttons TestCase",
                "Bold"
            ],
            "line": 371,
            "updatePoint": {
                "line": 371,
                "column": 65
            },
            "code": "    it('button should be active for other cases when text is bold', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['bold']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button = toolbar.getToolbarElement().querySelector('[data-action=\"bold\"]');\n      this.el.innerHTML = '<p><span id=\"bold-span\" style=\"font-weight: bold\">lorem ipsum</span></p>';\n      selectElementContentsAndFire(document.getElementById('bold-span'));\n      expect(button.classList.contains('medium-editor-button-active')).toBe(true);\n      fireEvent(button, 'click');\n      this.el.innerHTML = stripAttrIfEmpty(this.el, 'style'); // style=\"font-weight: bold\" prevents IE9+10 from doing anything when 'bold' is triggered\n      // but it should work in other browsers\n\n      expect(!isOldIE() && button.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(!isOldIE() && this.el.innerHTML !== '<p><span id=\"bold-span\">lorem ipsum</span></p>').toBe(false);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should call the execCommand for native actions",
            "suites": [
                "Buttons TestCase",
                "Italics"
            ],
            "line": 391,
            "updatePoint": {
                "line": 391,
                "column": 54
            },
            "code": "    it('should call the execCommand for native actions', function () {\n      var button,\n          editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      spyOn(document, 'execCommand').and.callThrough();\n      selectElementContentsAndFire(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"italic\"]');\n      fireEvent(button, 'click');\n      expect(document.execCommand).toHaveBeenCalled(); // IE won't generate an `<i>` tag here. it generates an `<em>`:\n\n      expect(this.el.innerHTML).toMatch(/(<i>|<em>)lorem ipsum(<\\/i>|<\\/em>)/);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "button should be active if the selection already has the element",
            "suites": [
                "Buttons TestCase",
                "Italics"
            ],
            "line": 403,
            "updatePoint": {
                "line": 403,
                "column": 72
            },
            "code": "    it('button should be active if the selection already has the element', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['italic']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button = toolbar.getToolbarElement().querySelector('[data-action=\"italic\"]');\n      this.el.innerHTML = '<i>lorem ipsum</i>';\n      selectElementContentsAndFire(editor.elements[0]);\n      expect(button.classList.contains('medium-editor-button-active')).toBe(true);\n      fireEvent(button, 'click');\n      expect(button.classList.contains('medium-editor-button-active')).toBe(false);\n      this.el.innerHTML = '<em>lorem ipsum</em>';\n      selectElementContentsAndFire(editor.elements[0], {\n        eventToFire: 'mouseup'\n      });\n      expect(button.classList.contains('medium-editor-button-active')).toBe(true);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "button should be active if the selection is italic and queryCommandState fails",
            "suites": [
                "Buttons TestCase",
                "Italics"
            ],
            "line": 422,
            "updatePoint": {
                "line": 422,
                "column": 86
            },
            "code": "    it('button should be active if the selection is italic and queryCommandState fails', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['italic']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button = toolbar.getToolbarElement().querySelector('[data-action=\"italic\"]');\n      spyOn(document, 'queryCommandState').and.throwError('DOM ERROR');\n      this.el.innerHTML = '<i><b><u>lorem ipsum</u></b></i>';\n      selectElementContentsAndFire(editor.elements[0].querySelector('u'));\n      expect(button.classList.contains('medium-editor-button-active')).toBe(true);\n      fireEvent(button, 'click');\n      expect(button.classList.contains('medium-editor-button-active')).toBe(false);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "button should be active for other cases when text is italic",
            "suites": [
                "Buttons TestCase",
                "Italics"
            ],
            "line": 437,
            "updatePoint": {
                "line": 437,
                "column": 67
            },
            "code": "    it('button should be active for other cases when text is italic', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['italic']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button = toolbar.getToolbarElement().querySelector('[data-action=\"italic\"]');\n      this.el.innerHTML = '<p><span id=\"italic-span\" style=\"font-style: italic\">lorem ipsum</span></p>';\n      selectElementContentsAndFire(document.getElementById('italic-span'));\n      expect(button.classList.contains('medium-editor-button-active')).toBe(true);\n      fireEvent(button, 'click');\n      this.el.innerHTML = stripAttrIfEmpty(this.el, 'style'); // style=\"font-style: italic\" prevents IE9+10 from doing anything when 'italic' is triggered\n      // but it should work in other browsers\n\n      expect(!isOldIE() && button.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(!isOldIE() && this.el.innerHTML !== '<p><span id=\"italic-span\">lorem ipsum</span></p>').toBe(false);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "button should be active if the selection already has the element",
            "suites": [
                "Buttons TestCase",
                "Underline"
            ],
            "line": 457,
            "updatePoint": {
                "line": 457,
                "column": 72
            },
            "code": "    it('button should be active if the selection already has the element', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['underline']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button = toolbar.getToolbarElement().querySelector('[data-action=\"underline\"]');\n      this.el.innerHTML = '<u>lorem ipsum</u>';\n      selectElementContentsAndFire(editor.elements[0]);\n      expect(button.classList.contains('medium-editor-button-active')).toBe(true);\n      fireEvent(button, 'click');\n      expect(button.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(this.el.innerHTML).toBe('lorem ipsum');\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "button should be active if the selection is underlined and queryCommandState fails",
            "suites": [
                "Buttons TestCase",
                "Underline"
            ],
            "line": 472,
            "updatePoint": {
                "line": 472,
                "column": 90
            },
            "code": "    it('button should be active if the selection is underlined and queryCommandState fails', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['underline']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button = toolbar.getToolbarElement().querySelector('[data-action=\"underline\"]');\n      spyOn(document, 'queryCommandState').and.throwError('DOM ERROR');\n      this.el.innerHTML = '<u><b><i>lorem ipsum</i></b></u>';\n      selectElementContentsAndFire(editor.elements[0].querySelector('i'));\n      expect(button.classList.contains('medium-editor-button-active')).toBe(true);\n      fireEvent(button, 'click');\n      expect(button.classList.contains('medium-editor-button-active')).toBe(false);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "button should be active for other cases when text is underlined",
            "suites": [
                "Buttons TestCase",
                "Underline"
            ],
            "line": 487,
            "updatePoint": {
                "line": 487,
                "column": 71
            },
            "code": "    it('button should be active for other cases when text is underlined', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['underline']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button = toolbar.getToolbarElement().querySelector('[data-action=\"underline\"]');\n      this.el.innerHTML = '<p><span id=\"underline-span\" style=\"text-decoration: underline\">lorem ipsum</span></p>';\n      selectElementContentsAndFire(document.getElementById('underline-span'));\n      expect(button.classList.contains('medium-editor-button-active')).toBe(true);\n      fireEvent(button, 'click');\n      this.el.innerHTML = stripAttrIfEmpty(this.el, 'style'); // style=\"text-decoration: underline\" prevents IE9+10 from doing anything when 'underline' is triggered\n      // but it should work in other browsers\n\n      expect(!isOldIE() && button.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(!isOldIE() && this.el.innerHTML !== '<p><span id=\"underline-span\">lorem ipsum</span></p>').toBe(false);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "button should be active if the selection already has the element",
            "suites": [
                "Buttons TestCase",
                "Strikethrough"
            ],
            "line": 507,
            "updatePoint": {
                "line": 507,
                "column": 72
            },
            "code": "    it('button should be active if the selection already has the element', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['strikethrough']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button = toolbar.getToolbarElement().querySelector('[data-action=\"strikethrough\"]');\n      this.el.innerHTML = '<s>lorem ipsum</s>';\n      selectElementContentsAndFire(editor.elements[0]);\n      expect(button.classList.contains('medium-editor-button-active')).toBe(true);\n      fireEvent(button, 'click');\n      expect(button.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(this.el.innerHTML).toBe('lorem ipsum');\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "button should be active if the selection is strikethrough and queryCommandState fails",
            "suites": [
                "Buttons TestCase",
                "Strikethrough"
            ],
            "line": 522,
            "updatePoint": {
                "line": 522,
                "column": 93
            },
            "code": "    it('button should be active if the selection is strikethrough and queryCommandState fails', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['strikethrough']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button = toolbar.getToolbarElement().querySelector('[data-action=\"strikethrough\"]');\n      spyOn(document, 'queryCommandState').and.throwError('DOM ERROR');\n      this.el.innerHTML = '<s><b><i>lorem ipsum</i></b></s>';\n      selectElementContentsAndFire(editor.elements[0].querySelector('i'));\n      expect(button.classList.contains('medium-editor-button-active')).toBe(true);\n      fireEvent(button, 'click');\n      expect(button.classList.contains('medium-editor-button-active')).toBe(false);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "button should be active for other cases when text is strikethrough",
            "suites": [
                "Buttons TestCase",
                "Strikethrough"
            ],
            "line": 537,
            "updatePoint": {
                "line": 537,
                "column": 74
            },
            "code": "    it('button should be active for other cases when text is strikethrough', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['strikethrough']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button = toolbar.getToolbarElement().querySelector('[data-action=\"strikethrough\"]');\n      this.el.innerHTML = '<p><span id=\"strike-span\" style=\"text-decoration: line-through\">lorem ipsum</span></p>';\n      selectElementContentsAndFire(document.getElementById('strike-span'));\n      expect(button.classList.contains('medium-editor-button-active')).toBe(true);\n      fireEvent(button, 'click');\n      this.el.innerHTML = stripAttrIfEmpty(this.el, 'style'); // style=\"text-decoration: line-through\" prevents IE9+10 from doing anything when 'strikethrough' is triggered\n      // but it should work in other browsers\n\n      expect(!isOldIE() && button.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(!isOldIE() && this.el.innerHTML !== '<p><span id=\"strike-span\">lorem ipsum</span></p>').toBe(false);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "button should be active if the selection already has the element",
            "suites": [
                "Buttons TestCase",
                "Superscript"
            ],
            "line": 557,
            "updatePoint": {
                "line": 557,
                "column": 72
            },
            "code": "    it('button should be active if the selection already has the element', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['superscript']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button = toolbar.getToolbarElement().querySelector('[data-action=\"superscript\"]');\n      this.el.innerHTML = '<sup>lorem ipsum</sub>';\n      selectElementContentsAndFire(editor.elements[0]);\n      expect(button.classList.contains('medium-editor-button-active')).toBe(true);\n      fireEvent(button, 'click');\n      expect(button.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(this.el.innerHTML).toBe('lorem ipsum');\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "button should be active if the selection already has the element",
            "suites": [
                "Buttons TestCase",
                "Subscript"
            ],
            "line": 574,
            "updatePoint": {
                "line": 574,
                "column": 72
            },
            "code": "    it('button should be active if the selection already has the element', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['subscript']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button = toolbar.getToolbarElement().querySelector('[data-action=\"subscript\"]');\n      this.el.innerHTML = '<sub>lorem ipsum</sub>';\n      selectElementContentsAndFire(editor.elements[0]);\n      expect(button.classList.contains('medium-editor-button-active')).toBe(true);\n      fireEvent(button, 'click');\n      expect(button.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(this.el.innerHTML).toBe('lorem ipsum');\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "button should be active if the selection already has the element",
            "suites": [
                "Buttons TestCase",
                "Anchor"
            ],
            "line": 591,
            "updatePoint": {
                "line": 591,
                "column": 72
            },
            "code": "    it('button should be active if the selection already has the element', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['anchor']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button = toolbar.getToolbarElement().querySelector('[data-action=\"createLink\"]');\n      this.el.innerHTML = '<p><span id=\"span-lorem\">lorem</span> <a href=\"#\" id=\"link\">ipsum</a></p>';\n      selectElementContentsAndFire(document.getElementById('link'));\n      expect(button.classList.contains('medium-editor-button-active')).toBe(true);\n      selectElementContentsAndFire(document.getElementById('span-lorem'), {\n        eventToFire: 'mouseup'\n      });\n      expect(button.classList.contains('medium-editor-button-active')).toBe(false);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "button should call the anchorExtension.showForm() method",
            "suites": [
                "Buttons TestCase",
                "Anchor"
            ],
            "line": 607,
            "updatePoint": {
                "line": 607,
                "column": 64
            },
            "code": "    it('button should call the anchorExtension.showForm() method', function () {\n      spyOn(MediumEditor.extensions.anchor.prototype, 'showForm');\n      var button,\n          editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"createLink\"]');\n      fireEvent(button, 'click');\n      expect(editor.getExtensionByName('anchor').showForm).toHaveBeenCalled();\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "button should not be active if the selection is not inside a blockquote",
            "suites": [
                "Buttons TestCase",
                "Quote"
            ],
            "line": 619,
            "updatePoint": {
                "line": 619,
                "column": 79
            },
            "code": "    it('button should not be active if the selection is not inside a blockquote', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['quote']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button = toolbar.getToolbarElement().querySelector('[data-action=\"append-blockquote\"]');\n      this.el.innerHTML = '<span id=\"span-lorem\">lorem ipsum</span>';\n      selectElementContentsAndFire(document.getElementById('span-lorem'));\n      expect(button.classList.contains('medium-editor-button-active')).toBe(false);\n      fireEvent(button, 'click');\n      selectElementContentsAndFire(document.getElementById('span-lorem'));\n      expect(button.classList.contains('medium-editor-button-active')).toBe(true);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should create an image",
            "suites": [
                "Buttons TestCase",
                "Image"
            ],
            "line": 636,
            "updatePoint": {
                "line": 636,
                "column": 30
            },
            "code": "    it('should create an image', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['image']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button = toolbar.getToolbarElement().querySelector('[data-action=\"image\"]');\n      spyOn(document, 'execCommand').and.callThrough();\n      this.el.innerHTML = '<span id=\"span-image\">http://i.imgur.com/twlXfUq.jpg  \\n\\n</span>';\n      selectElementContentsAndFire(document.getElementById('span-image'));\n      fireEvent(button, 'click');\n      expect(this.el.innerHTML).toContain('<img src=\"http://i.imgur.com/twlXfUq.jpg\">');\n      expect(document.execCommand).toHaveBeenCalledWith('insertImage', false, 'http://i.imgur.com/twlXfUq.jpg');\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should create an evaluated html tag",
            "suites": [
                "Buttons TestCase",
                "Html"
            ],
            "line": 653,
            "updatePoint": {
                "line": 653,
                "column": 43
            },
            "code": "    it('should create an evaluated html tag', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['html']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button = toolbar.getToolbarElement().querySelector('[data-action=\"html\"]');\n      spyOn(document, 'execCommand').and.callThrough();\n      this.el.innerHTML = '<span id=\"span-html\">&lt;iframe width=\"854\" height=\"480\" src=\"https://www.youtube.com/embed/QHH3iSeDBLo\" frameborder=\"0\" allowfullscreen&gt;&lt;/iframe&gt;  \\n\\n</span>';\n      selectElementContentsAndFire(document.getElementById('span-html'));\n      fireEvent(button, 'click');\n      expect(this.el.innerHTML).toMatch(/<iframe(?: width=\"854\"| height=\"480\"| src=\"https:\\/\\/www.youtube.com\\/embed\\/QHH3iSeDBLo\"| frameborder=\"0\"| allowfullscreen=\"\"){5}>(<br>)?<\\/iframe>/gi);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "button should be active if the selection already has the element",
            "suites": [
                "Buttons TestCase",
                "OrderedList"
            ],
            "line": 669,
            "updatePoint": {
                "line": 669,
                "column": 72
            },
            "code": "    it('button should be active if the selection already has the element', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['orderedlist', 'unorderedlist']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button = toolbar.getToolbarElement().querySelector('[data-action=\"insertorderedlist\"]');\n      this.el.innerHTML = '<ol><li id=\"li-lorem\">lorem ipsum</li></ol>';\n      selectElementContentsAndFire(document.getElementById('li-lorem'));\n      expect(button.classList.contains('medium-editor-button-active')).toBe(true); // Unordered list should not be active\n\n      expect(toolbar.getToolbarElement().querySelector('[data-action=\"insertunorderedlist\"]').classList.contains('medium-editor-button-active')).toBe(false);\n      fireEvent(button, 'click');\n      expect(button.classList.contains('medium-editor-button-active')).toBe(false); // Unordered list should not be active\n\n      expect(toolbar.getToolbarElement().querySelector('[data-action=\"insertunorderedlist\"]').classList.contains('medium-editor-button-active')).toBe(false);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "button should be active if the selection already has the element",
            "suites": [
                "Buttons TestCase",
                "UnorderedList"
            ],
            "line": 689,
            "updatePoint": {
                "line": 689,
                "column": 72
            },
            "code": "    it('button should be active if the selection already has the element', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['unorderedlist', 'orderedlist']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button = toolbar.getToolbarElement().querySelector('[data-action=\"insertunorderedlist\"]');\n      this.el.innerHTML = '<ul><li id=\"li-lorem\">lorem ipsum</li></ul>';\n      selectElementContentsAndFire(document.getElementById('li-lorem'));\n      expect(button.classList.contains('medium-editor-button-active')).toBe(true); // Ordered list button should not be active\n\n      expect(toolbar.getToolbarElement().querySelector('[data-action=\"insertorderedlist\"]').classList.contains('medium-editor-button-active')).toBe(false);\n      fireEvent(button, 'click');\n      expect(button.classList.contains('medium-editor-button-active')).toBe(false); // Ordered list button should not be active\n\n      expect(toolbar.getToolbarElement().querySelector('[data-action=\"insertorderedlist\"]').classList.contains('medium-editor-button-active')).toBe(false);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "button should be active if the selection already has the element",
            "suites": [
                "Buttons TestCase",
                "Pre"
            ],
            "line": 709,
            "updatePoint": {
                "line": 709,
                "column": 72
            },
            "code": "    it('button should be active if the selection already has the element', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['pre']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button = toolbar.getToolbarElement().querySelector('[data-action=\"append-pre\"]');\n      this.el.innerHTML = '<pre><span id=\"span-lorem\">lorem ipsum</span></pre>';\n      selectElementContentsAndFire(document.getElementById('span-lorem'));\n      expect(button.classList.contains('medium-editor-button-active')).toBe(true);\n      fireEvent(button, 'click');\n      expect(button.classList.contains('medium-editor-button-active')).toBe(false);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "button should be activated based on text-align values",
            "suites": [
                "Buttons TestCase",
                "Justify"
            ],
            "line": 725,
            "updatePoint": {
                "line": 725,
                "column": 61
            },
            "code": "    it('button should be activated based on text-align values', function () {\n      this.el.innerHTML = '<div><p id=\"justify-para-one\">lorem ipsum</p></div>';\n      document.body.style.setProperty('text-align', 'center');\n\n      try {\n        var editor = this.newMediumEditor('.editor', {\n          toolbar: {\n            buttons: ['justifyCenter', 'justifyRight']\n          }\n        }),\n            toolbar = editor.getExtensionByName('toolbar'),\n            rightButton = toolbar.getToolbarElement().querySelector('[data-action=\"justifyRight\"]'),\n            centerButton = toolbar.getToolbarElement().querySelector('[data-action=\"justifyCenter\"]');\n        selectElementContentsAndFire(document.getElementById('justify-para-one'));\n        expect(rightButton.classList.contains('medium-editor-button-active')).toBe(false);\n        expect(centerButton.classList.contains('medium-editor-button-active')).toBe(true);\n        fireEvent(rightButton, 'click');\n        expect(rightButton.classList.contains('medium-editor-button-active')).toBe(true);\n        expect(centerButton.classList.contains('medium-editor-button-active')).toBe(false);\n      } finally {\n        document.body.style.removeProperty('text-align');\n      }\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "buttons should deactivate other justify buttons",
            "suites": [
                "Buttons TestCase",
                "Justify"
            ],
            "line": 748,
            "updatePoint": {
                "line": 748,
                "column": 55
            },
            "code": "    it('buttons should deactivate other justify buttons', function () {\n      this.el.innerHTML = '<p id=\"justify-para-one\">lorem ipsum</p>' + '<p id=\"justify-para-two\" align=\"left\">lorem ipsum</p>' + '<p id=\"justify-para-three\" align=\"right\">lorem ipsum</p>' + '<p id=\"justify-para-four\" align=\"center\">lorem ipsum</p>' + '<p id=\"justify-para-five\" align=\"justify\">lorem ipsum</p>';\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          leftButton = toolbar.getToolbarElement().querySelector('[data-action=\"justifyLeft\"]'),\n          rightButton = toolbar.getToolbarElement().querySelector('[data-action=\"justifyRight\"]'),\n          centerButton = toolbar.getToolbarElement().querySelector('[data-action=\"justifyCenter\"]'),\n          fullButton = toolbar.getToolbarElement().querySelector('[data-action=\"justifyFull\"]'); // First paragraph should have nothing activated (IE will select align-left)\n\n      selectElementContentsAndFire(document.getElementById('justify-para-one'));\n      expect(rightButton.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(centerButton.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(fullButton.classList.contains('medium-editor-button-active')).toBe(false); // Trigger justify full, only it should be active\n\n      fireEvent(fullButton, 'click');\n      expect(leftButton.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(rightButton.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(centerButton.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(fullButton.classList.contains('medium-editor-button-active')).toBe(true); // Second paragraph should have justifyLeft activated\n\n      selectElementContentsAndFire(document.getElementById('justify-para-two'), {\n        eventToFire: 'mouseup'\n      });\n      expect(leftButton.classList.contains('medium-editor-button-active')).toBe(true);\n      expect(rightButton.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(centerButton.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(fullButton.classList.contains('medium-editor-button-active')).toBe(false); // Trigger justify center, only it should be active\n\n      fireEvent(centerButton, 'click');\n      expect(leftButton.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(rightButton.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(centerButton.classList.contains('medium-editor-button-active')).toBe(true);\n      expect(fullButton.classList.contains('medium-editor-button-active')).toBe(false); // Third paragraph should have justifyRight activated\n\n      selectElementContentsAndFire(document.getElementById('justify-para-three'), {\n        eventToFire: 'mouseup'\n      });\n      expect(leftButton.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(rightButton.classList.contains('medium-editor-button-active')).toBe(true);\n      expect(centerButton.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(fullButton.classList.contains('medium-editor-button-active')).toBe(false); // Trigger justify left, only it should be active\n\n      fireEvent(leftButton, 'click');\n      expect(leftButton.classList.contains('medium-editor-button-active')).toBe(true);\n      expect(rightButton.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(centerButton.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(fullButton.classList.contains('medium-editor-button-active')).toBe(false); // Fourth paragraph should have justifyCenter activated\n\n      selectElementContentsAndFire(document.getElementById('justify-para-four'), {\n        eventToFire: 'mouseup'\n      });\n      expect(leftButton.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(rightButton.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(centerButton.classList.contains('medium-editor-button-active')).toBe(true);\n      expect(fullButton.classList.contains('medium-editor-button-active')).toBe(false); // Trigger justify right, only it should be active\n\n      fireEvent(rightButton, 'click');\n      selectElementContentsAndFire(document.getElementById('justify-para-four'), {\n        eventToFire: 'mouseup'\n      });\n      expect(leftButton.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(rightButton.classList.contains('medium-editor-button-active')).toBe(true);\n      expect(centerButton.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(fullButton.classList.contains('medium-editor-button-active')).toBe(false); // Fifth paragraph should have justifyFull activated\n\n      selectElementContentsAndFire(document.getElementById('justify-para-five'), {\n        eventToFire: 'mouseup'\n      });\n      expect(leftButton.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(rightButton.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(centerButton.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(fullButton.classList.contains('medium-editor-button-active')).toBe(true);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should unwrap basic things",
            "suites": [
                "Buttons TestCase",
                "Remove Formatting"
            ],
            "line": 827,
            "updatePoint": {
                "line": 827,
                "column": 34
            },
            "code": "    it('should unwrap basic things', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['removeFormat']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button = toolbar.getToolbarElement().querySelector('[data-action=\"removeFormat\"]');\n      expect(button).toBeTruthy();\n      this.el.innerHTML = '<p>foo<b>bar</b><i>baz</i><strong>bam</strong></p>';\n      selectElementContentsAndFire(editor.elements[0].querySelector('p'));\n      fireEvent(button, 'click');\n      expect(this.el.innerHTML).toBe('<p>foobarbazbam</p>');\n      this.el.innerHTML = '<div><p><b>foo</b></p><p><i>bar</i></p><ul><li>on<b>e</b></li></ul></div>';\n      selectElementContentsAndFire(editor.elements[0].querySelector('div'));\n      fireEvent(button, 'click');\n      expect(this.el.innerHTML).toBe('<div><p>foo</p><p>bar</p><ul><li>one</li></ul></div>'); // TODO: IE does not unwrap something like <p><span style='color:red'>bar</span></p>\n\n      this.el.innerHTML = '<div><h2>b<i>a</i>r</h2><p><em><strong><u><sub><sup>foo</sup></sub></u></strong></em></p><pre>foo<i>bar</i>baz</pre></div>';\n      selectElementContentsAndFire(editor.elements[0].querySelector('div'));\n      fireEvent(button, 'click');\n      expect(this.el.innerHTML).toBe('<div><h2>bar</h2><p>foo</p><pre>foobarbaz</pre></div>');\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "buttons should be active if the selection already has the element",
            "suites": [
                "Buttons TestCase",
                "Header"
            ],
            "line": 852,
            "updatePoint": {
                "line": 852,
                "column": 73
            },
            "code": "    it('buttons should be active if the selection already has the element', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['h3', 'h4']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          buttonOne = toolbar.getToolbarElement().querySelector('[data-action=\"append-h3\"]'),\n          buttonTwo = toolbar.getToolbarElement().querySelector('[data-action=\"append-h4\"]');\n      this.el.innerHTML = '<h2>lorem</h2><h3>ipsum</h3><h4>dolor</h4>';\n      selectElementContentsAndFire(editor.elements[0].querySelector('h2'));\n      expect(buttonOne.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(buttonTwo.classList.contains('medium-editor-button-active')).toBe(false);\n      selectElementContentsAndFire(editor.elements[0].querySelector('h3'), {\n        eventToFire: 'mouseup'\n      });\n      expect(buttonOne.classList.contains('medium-editor-button-active')).toBe(true);\n      expect(buttonTwo.classList.contains('medium-editor-button-active')).toBe(false);\n      selectElementContentsAndFire(editor.elements[0].querySelector('h4'), {\n        eventToFire: 'mouseup'\n      });\n      expect(buttonOne.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(buttonTwo.classList.contains('medium-editor-button-active')).toBe(true);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "buttons should be active if the selection already custom defined element types",
            "suites": [
                "Buttons TestCase",
                "Header"
            ],
            "line": 876,
            "updatePoint": {
                "line": 876,
                "column": 86
            },
            "code": "    it('buttons should be active if the selection already custom defined element types', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['h1', 'h5']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          buttonOne = toolbar.getToolbarElement().querySelector('[data-action=\"append-h1\"]'),\n          buttonTwo = toolbar.getToolbarElement().querySelector('[data-action=\"append-h5\"]');\n      expect(buttonOne).toBeTruthy();\n      expect(buttonTwo).toBeTruthy();\n      this.el.innerHTML = '<h1>lorem</h1><h3>ipsum</h3><h5>dolor</h5>';\n      selectElementContentsAndFire(editor.elements[0].querySelector('h1'));\n      expect(buttonOne.classList.contains('medium-editor-button-active')).toBe(true);\n      expect(buttonTwo.classList.contains('medium-editor-button-active')).toBe(false);\n      selectElementContentsAndFire(editor.elements[0].querySelector('h3'), {\n        eventToFire: 'mouseup'\n      });\n      expect(buttonOne.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(buttonTwo.classList.contains('medium-editor-button-active')).toBe(false);\n      selectElementContentsAndFire(editor.elements[0].querySelector('h5'), {\n        eventToFire: 'mouseup'\n      });\n      expect(buttonOne.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(buttonTwo.classList.contains('medium-editor-button-active')).toBe(true);\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "buttons should convert between element types and \"undo\" back to original type",
            "suites": [
                "Buttons TestCase",
                "Header"
            ],
            "line": 902,
            "updatePoint": {
                "line": 902,
                "column": 85
            },
            "code": "    it('buttons should convert between element types and \"undo\" back to original type', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['h1', 'h4']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          buttonOne = toolbar.getToolbarElement().querySelector('[data-action=\"append-h1\"]'),\n          buttonTwo = toolbar.getToolbarElement().querySelector('[data-action=\"append-h4\"]');\n      this.el.innerHTML = '<p>lorem ipsum dolor</p>';\n      selectElementContentsAndFire(editor.elements[0].firstChild);\n      expect(buttonOne.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(buttonTwo.classList.contains('medium-editor-button-active')).toBe(false);\n      fireEvent(buttonOne, 'click');\n      selectElementContentsAndFire(editor.elements[0].firstChild);\n      expect(buttonOne.classList.contains('medium-editor-button-active')).toBe(true);\n      expect(buttonTwo.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(editor.elements[0].innerHTML).toBe('<h1>lorem ipsum dolor</h1>');\n      fireEvent(buttonTwo, 'click');\n      selectElementContentsAndFire(editor.elements[0].firstChild);\n      expect(buttonOne.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(buttonTwo.classList.contains('medium-editor-button-active')).toBe(true);\n      expect(editor.elements[0].innerHTML).toBe('<h4>lorem ipsum dolor</h4>');\n      fireEvent(buttonTwo, 'click');\n      expect(buttonOne.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(buttonTwo.classList.contains('medium-editor-button-active')).toBe(false);\n      expect(editor.elements[0].innerHTML).toBe('<p>lorem ipsum dolor</p>');\n    });",
            "file": "buttons.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove paragraphs when a list is inserted inside of it",
            "suites": [
                "Content TestCase"
            ],
            "line": 16,
            "updatePoint": {
                "line": 16,
                "column": 67
            },
            "code": "  it('should remove paragraphs when a list is inserted inside of it', function () {\n    this.el.innerHTML = '<p>lorem ipsum<ul><li>dolor</li></ul></p>';\n    var editor = this.newMediumEditor('.editor', {\n      toolbar: {\n        buttons: ['orderedlist']\n      }\n    }),\n        target = editor.elements[0].querySelector('p'),\n        toolbar = editor.getExtensionByName('toolbar'),\n        range,\n        sel;\n    selectElementContentsAndFire(target);\n    fireEvent(toolbar.getToolbarElement().querySelector('[data-action=\"insertorderedlist\"]'), 'click');\n    expect(this.el.innerHTML).toMatch(/^<ol><li>lorem ipsum(<br>)?<\\/li><\\/ol><ul><li>dolor<\\/li><\\/ul>?/);\n    sel = document.getSelection();\n    expect(sel.rangeCount).toBe(1);\n    range = sel.getRangeAt(0); // Chrome and Safari collapse the range at the end of the 'lorem ipsum' li\n    // Firefox, IE, and Edge select the 'lorem ipsum' contents\n\n    if (range.collapsed) {\n      expect(range.startContainer.nodeValue).toBe('lorem ipsum');\n      expect(range.endContainer.nodeValue).toBe('lorem ipsum');\n      expect(range.startOffset).toBe('lorem ipsum'.length);\n      expect(range.endOffset).toBe('lorem ipsum'.length);\n    } else {\n      expect(range.toString()).toBe('lorem ipsum');\n      expect(range.startContainer.nodeName.toLowerCase()).toBe('li');\n      expect(range.endContainer.nodeName.toLowerCase()).toBe('li');\n      expect(range.startOffset).toBe(0);\n      expect(range.endOffset).toBe(1);\n    }\n  });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should indent when within an <li>",
            "suites": [
                "Content TestCase",
                "when the tab key is pressed"
            ],
            "line": 49,
            "updatePoint": {
                "line": 49,
                "column": 41
            },
            "code": "    it('should indent when within an <li>', function () {\n      this.el.innerHTML = '<ol><li>lorem</li><li>ipsum</li></ol>';\n      var editor = this.newMediumEditor('.editor'),\n          target = editor.elements[0].querySelector('ol').lastChild;\n      spyOn(document, 'execCommand').and.callThrough();\n      selectElementContents(target);\n      fireEvent(target, 'keydown', {\n        keyCode: MediumEditor.util.keyCode.TAB\n      });\n      expect(document.execCommand).toHaveBeenCalledWith('indent', false, null); // Firefox (annoyingly) throws a NS_ERROR_FAILURE when attempting to mimic this through a test case\n      // I was unable to find a workaround, and this works fine in a browser\n      // so let's just skip skip the innerHTML check in firefox\n\n      if (!isFirefox()) {\n        expect(this.el.innerHTML).toBe('<ol><li>lorem</li><ol><li>ipsum</li></ol></ol>');\n      }\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "with shift key, should outdent when within an <li>",
            "suites": [
                "Content TestCase",
                "when the tab key is pressed"
            ],
            "line": 66,
            "updatePoint": {
                "line": 66,
                "column": 58
            },
            "code": "    it('with shift key, should outdent when within an <li>', function () {\n      this.el.innerHTML = '<ol><li>lorem</li><ol><li><span><span>ipsum</span></span></li></ol></ol>';\n      var editor = this.newMediumEditor('.editor'),\n          target = editor.elements[0].querySelector('ol').lastChild.firstChild.firstChild;\n      spyOn(document, 'execCommand').and.callThrough();\n      selectElementContents(target);\n      fireEvent(target, 'keydown', {\n        keyCode: MediumEditor.util.keyCode.TAB,\n        shiftKey: true\n      });\n      expect(document.execCommand).toHaveBeenCalledWith('outdent', false, null); // Firefox (annoyingly) throws a NS_ERROR_FAILURE when attempting to mimic this through a test case\n      // I was unable to find a workaround, and this works fine in a browser\n      // so let's just skip skip the innerHTML check in firefox\n\n      if (!isFirefox()) {\n        // Webkit removes the nested spans, IE does not\n        expect(this.el.innerHTML).toMatch(/<ol><li>lorem<\\/li><li>(<span><span>)?ipsum(<br>|<\\/span><\\/span>)<\\/li><\\/ol>/);\n      }\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should insert a space when within a pre node",
            "suites": [
                "Content TestCase",
                "when the tab key is pressed"
            ],
            "line": 85,
            "updatePoint": {
                "line": 85,
                "column": 52
            },
            "code": "    it('should insert a space when within a pre node', function () {\n      this.el.innerHTML = '<pre>lorem ipsum</pre>';\n      var editor = this.newMediumEditor('.editor'),\n          targetNode = editor.elements[0].querySelector('pre');\n      placeCursorInsideElement(targetNode, 0);\n      fireEvent(targetNode, 'keydown', {\n        keyCode: MediumEditor.util.keyCode.TAB\n      });\n      expect(this.el.innerHTML).toBe('<pre>    lorem ipsum</pre>');\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not prevent new spaces from being inserted when disableExtraSpaces options is false",
            "suites": [
                "Content TestCase",
                "when the space key is pressed"
            ],
            "line": 97,
            "updatePoint": {
                "line": 97,
                "column": 98
            },
            "code": "    it('should not prevent new spaces from being inserted when disableExtraSpaces options is false', function () {\n      this.el.innerHTML = '<p>lorem ipsum</p>';\n      var editor = this.newMediumEditor('.editor', {\n        disableExtraSpaces: false\n      }),\n          evt;\n      placeCursorInsideElement(editor.elements[0], 0);\n      evt = prepareEvent(editor.elements[0], 'keydown', {\n        keyCode: MediumEditor.util.keyCode.SPACE\n      });\n      spyOn(evt, 'preventDefault').and.callThrough();\n      firePreparedEvent(evt, editor.elements[0], 'keydown');\n      expect(evt.preventDefault).not.toHaveBeenCalled();\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should prevent new spaces from being inserted when disableExtraSpaces options is true",
            "suites": [
                "Content TestCase",
                "when the space key is pressed"
            ],
            "line": 111,
            "updatePoint": {
                "line": 111,
                "column": 93
            },
            "code": "    it('should prevent new spaces from being inserted when disableExtraSpaces options is true', function () {\n      this.el.innerHTML = '<p>lorem ipsum</p>';\n      var editor = this.newMediumEditor('.editor', {\n        disableExtraSpaces: true\n      }),\n          evt;\n      placeCursorInsideElement(editor.elements[0], 0);\n      evt = prepareEvent(editor.elements[0], 'keydown', {\n        keyCode: MediumEditor.util.keyCode.SPACE\n      });\n      spyOn(evt, 'preventDefault').and.callThrough();\n      firePreparedEvent(evt, editor.elements[0], 'keydown');\n      expect(evt.preventDefault).toHaveBeenCalled();\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should allow one space at the end of a line when disableExtraSpaces options is true",
            "suites": [
                "Content TestCase",
                "when the space key is pressed"
            ],
            "line": 125,
            "updatePoint": {
                "line": 125,
                "column": 91
            },
            "code": "    it('should allow one space at the end of a line when disableExtraSpaces options is true', function () {\n      this.el.innerHTML = '<p>lorem ipsum</p>';\n      var editor = this.newMediumEditor('.editor', {\n        disableExtraSpaces: true\n      }),\n          evt;\n      placeCursorInsideElement(editor.elements[0].getElementsByTagName('p')[0], 1);\n      evt = prepareEvent(editor.elements[0], 'keydown', {\n        keyCode: MediumEditor.util.keyCode.SPACE\n      });\n      spyOn(evt, 'preventDefault').and.callThrough();\n      firePreparedEvent(evt, editor.elements[0], 'keydown');\n      expect(evt.preventDefault).not.toHaveBeenCalled();\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should prevent more spaces from being inserted at the end of a line when disableExtraSpaces options is true",
            "suites": [
                "Content TestCase",
                "when the space key is pressed"
            ],
            "line": 139,
            "updatePoint": {
                "line": 139,
                "column": 115
            },
            "code": "    it('should prevent more spaces from being inserted at the end of a line when disableExtraSpaces options is true', function () {\n      this.el.innerHTML = '<p>lorem ipsum    <br /></p>';\n      var editor = this.newMediumEditor('.editor', {\n        disableExtraSpaces: true\n      }),\n          evt;\n      placeCursorInsideElement(editor.elements[0].getElementsByTagName('p')[0], 1);\n      evt = prepareEvent(editor.elements[0], 'keydown', {\n        keyCode: MediumEditor.util.keyCode.SPACE\n      });\n      spyOn(evt, 'preventDefault').and.callThrough();\n      firePreparedEvent(evt, editor.elements[0], 'keydown');\n      expect(evt.preventDefault).toHaveBeenCalled();\n    }); //This test case replicates https://github.com/yabwe/medium-editor/issues/982",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should prevent more spaces from being inserted when a space already exists and disableExtraSpaces options is true",
            "suites": [
                "Content TestCase",
                "when the space key is pressed"
            ],
            "line": 154,
            "updatePoint": {
                "line": 154,
                "column": 121
            },
            "code": "    it('should prevent more spaces from being inserted when a space already exists and disableExtraSpaces options is true', function () {\n      this.el.innerHTML = '<p>lorem<span> ipsum</span></p>';\n      var editor = this.newMediumEditor('.editor', {\n        disableExtraSpaces: true\n      }),\n          evt;\n      placeCursorInsideElement(editor.elements[0].getElementsByTagName('p')[0], 1);\n      evt = prepareEvent(editor.elements[0], 'keydown', {\n        keyCode: MediumEditor.util.keyCode.SPACE\n      });\n      spyOn(evt, 'preventDefault').and.callThrough();\n      firePreparedEvent(evt, editor.elements[0], 'keydown');\n      expect(evt.preventDefault).toHaveBeenCalled();\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should prevent new lines from being inserted when disableReturn options is true",
            "suites": [
                "Content TestCase",
                "when the enter key is pressed"
            ],
            "line": 170,
            "updatePoint": {
                "line": 170,
                "column": 87
            },
            "code": "    it('should prevent new lines from being inserted when disableReturn options is true', function () {\n      this.el.innerHTML = 'lorem ipsum';\n      var editor = this.newMediumEditor('.editor', {\n        disableReturn: true\n      }),\n          evt;\n      placeCursorInsideElement(editor.elements[0], 0);\n      evt = prepareEvent(editor.elements[0], 'keydown', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      spyOn(evt, 'preventDefault').and.callThrough();\n      firePreparedEvent(evt, editor.elements[0], 'keydown');\n      expect(evt.preventDefault).toHaveBeenCalled();\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should prevent new lines from being inserted when data-disable-return is defined",
            "suites": [
                "Content TestCase",
                "when the enter key is pressed"
            ],
            "line": 184,
            "updatePoint": {
                "line": 184,
                "column": 88
            },
            "code": "    it('should prevent new lines from being inserted when data-disable-return is defined', function () {\n      this.el.innerHTML = 'lorem ipsum';\n      this.el.setAttribute('data-disable-return', true);\n      var editor = this.newMediumEditor('.editor'),\n          evt;\n      placeCursorInsideElement(editor.elements[0], 0);\n      evt = prepareEvent(editor.elements[0], 'keydown', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      spyOn(evt, 'preventDefault').and.callThrough();\n      firePreparedEvent(evt, editor.elements[0], 'keydown');\n      expect(evt.preventDefault).toHaveBeenCalled();\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should allow to get out of list when enter is pressed twice",
            "suites": [
                "Content TestCase",
                "when the enter key is pressed"
            ],
            "line": 197,
            "updatePoint": {
                "line": 197,
                "column": 67
            },
            "code": "    it('should allow to get out of list when enter is pressed twice', function () {\n      this.el.innerHTML = '<li><br></li>';\n      var editor = this.newMediumEditor('.editor', {\n        disableDoubleReturn: true\n      }),\n          p = editor.elements[0].querySelector('li'),\n          evt;\n      placeCursorInsideElement(p, 0);\n      evt = prepareEvent(p, 'keydown', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      spyOn(evt, 'preventDefault').and.callThrough();\n      firePreparedEvent(evt, p, 'keydown');\n      expect(evt.preventDefault).not.toHaveBeenCalled();\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should allow a line to be added when pressed enter at end of the <p> tag when disableDoubleReturn is true and contains <br> as the previous sibling",
            "suites": [
                "Content TestCase",
                "when the enter key is pressed"
            ],
            "line": 212,
            "updatePoint": {
                "line": 212,
                "column": 155
            },
            "code": "    it('should allow a line to be added when pressed enter at end of the <p> tag when disableDoubleReturn is true and contains <br> as the previous sibling', function () {\n      this.el.innerHTML = '<p>it is a test</p><br><p>because tests are great..!!</p>';\n      var editor = this.newMediumEditor('.editor', {\n        disableDoubleReturn: true\n      }),\n          targetNode = editor.elements[0].querySelector('p:last-child'),\n          evt;\n      placeCursorInsideElement(targetNode, 0);\n      evt = prepareEvent(targetNode, 'keydown', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      spyOn(evt, 'preventDefault').and.callThrough();\n      firePreparedEvent(evt, targetNode, 'keydown');\n      expect(evt.preventDefault).not.toHaveBeenCalled();\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should prevent consecutive new lines from being inserted when disableDoubleReturn is true",
            "suites": [
                "Content TestCase",
                "when the enter key is pressed"
            ],
            "line": 227,
            "updatePoint": {
                "line": 227,
                "column": 97
            },
            "code": "    it('should prevent consecutive new lines from being inserted when disableDoubleReturn is true', function () {\n      this.el.innerHTML = '<p><br></p>';\n      var editor = this.newMediumEditor('.editor', {\n        disableDoubleReturn: true\n      }),\n          p = editor.elements[0].querySelector('p'),\n          evt;\n      placeCursorInsideElement(p, 0);\n      evt = prepareEvent(p, 'keydown', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      spyOn(evt, 'preventDefault').and.callThrough();\n      firePreparedEvent(evt, p, 'keydown');\n      expect(evt.preventDefault).toHaveBeenCalled();\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should prevent consecutive new lines from being inserted when data-disable-double-return is defined",
            "suites": [
                "Content TestCase",
                "when the enter key is pressed"
            ],
            "line": 242,
            "updatePoint": {
                "line": 242,
                "column": 107
            },
            "code": "    it('should prevent consecutive new lines from being inserted when data-disable-double-return is defined', function () {\n      this.el.innerHTML = '<p><br></p>';\n      this.el.setAttribute('data-disable-double-return', true);\n      var editor = this.newMediumEditor('.editor'),\n          p = editor.elements[0].querySelector('p'),\n          evt;\n      placeCursorInsideElement(p, 0);\n      evt = prepareEvent(p, 'keydown', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      spyOn(evt, 'preventDefault').and.callThrough();\n      firePreparedEvent(evt, p, 'keydown');\n      expect(evt.preventDefault).toHaveBeenCalled();\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should prevent consecutive new lines from being inserted inside a sentence when disableDoubleReturn is true",
            "suites": [
                "Content TestCase",
                "when the enter key is pressed"
            ],
            "line": 256,
            "updatePoint": {
                "line": 256,
                "column": 115
            },
            "code": "    it('should prevent consecutive new lines from being inserted inside a sentence when disableDoubleReturn is true', function () {\n      this.el.innerHTML = '<p>hello</p><p><br></p><p>word</p>';\n      var editor = this.newMediumEditor('.editor', {\n        disableDoubleReturn: true\n      }),\n          p = editor.elements[0].getElementsByTagName('p')[2],\n          evt;\n      placeCursorInsideElement(p, 0);\n      evt = prepareEvent(p, 'keydown', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      spyOn(evt, 'preventDefault').and.callThrough();\n      firePreparedEvent(evt, p, 'keydown');\n      expect(evt.preventDefault).toHaveBeenCalled();\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should call formatBlock when inside a non-header and non-anchor",
            "suites": [
                "Content TestCase",
                "when the enter key is pressed"
            ],
            "line": 271,
            "updatePoint": {
                "line": 271,
                "column": 71
            },
            "code": "    it('should call formatBlock when inside a non-header and non-anchor', function () {\n      this.el.innerHTML = '<p>lorem <span>ipsum</span></p>';\n      var editor = this.newMediumEditor('.editor'),\n          targetNode = editor.elements[0].querySelector('span').firstChild;\n      spyOn(document, 'execCommand').and.callThrough();\n      placeCursorInsideElement(targetNode, targetNode.textContent.length - 1);\n      fireEvent(targetNode, 'keyup', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      expect(document.execCommand).toHaveBeenCalledWith('formatBlock', false, 'p');\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not call formatBlock when inside an anchor",
            "suites": [
                "Content TestCase",
                "when the enter key is pressed"
            ],
            "line": 282,
            "updatePoint": {
                "line": 282,
                "column": 57
            },
            "code": "    it('should not call formatBlock when inside an anchor', function () {\n      var html = '<p>lorem <a href=\"#\">ipsum</a></p>';\n      this.el.innerHTML = html;\n      var editor = this.newMediumEditor('.editor'),\n          targetNode = editor.elements[0].querySelector('a').firstChild;\n      spyOn(document, 'execCommand').and.callThrough();\n      placeCursorInsideElement(targetNode, targetNode.textContent.length - 1);\n      fireEvent(targetNode, 'keyup', {\n        keyCode: MediumEditor.util.keyCode.ENETER\n      });\n      expect(document.execCommand).not.toHaveBeenCalled();\n      expect(this.el.innerHTML).toBe(html);\n    }); // https://github.com/yabwe/medium-editor/issues/834",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not call formatBlock when inside a figCaption",
            "suites": [
                "Content TestCase",
                "when the enter key is pressed"
            ],
            "line": 296,
            "updatePoint": {
                "line": 296,
                "column": 60
            },
            "code": "    it('should not call formatBlock when inside a figCaption', function () {\n      var html = '<figure><img src=\"../demo/img/medium-editor.jpg\"><figcaption>ipsum</figcaption></figure>';\n      this.el.innerHTML = html;\n      var editor = this.newMediumEditor('.editor'),\n          targetNode = editor.elements[0].querySelector('figCaption').firstChild;\n      spyOn(document, 'execCommand').and.callThrough();\n      placeCursorInsideElement(targetNode, targetNode.textContent.length - 1);\n      fireEvent(targetNode, 'keyup', {\n        keyCode: MediumEditor.util.keyCode.ENETER\n      });\n      expect(document.execCommand).not.toHaveBeenCalled();\n      expect(this.el.innerHTML).toBe(html);\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not call formatBlock when inside a header",
            "suites": [
                "Content TestCase",
                "when the enter key is pressed"
            ],
            "line": 309,
            "updatePoint": {
                "line": 309,
                "column": 56
            },
            "code": "    it('should not call formatBlock when inside a header', function () {\n      var html = '<h1>lorem ipsum</h1>';\n      this.el.innerHTML = html;\n      var editor = this.newMediumEditor('.editor'),\n          targetNode = editor.elements[0].querySelector('h1').firstChild;\n      spyOn(document, 'execCommand').and.callThrough();\n      placeCursorInsideElement(targetNode, targetNode.textContent.length - 1);\n      fireEvent(targetNode, 'keyup', {\n        keyCode: MediumEditor.util.keyCode.ENETER\n      });\n      expect(document.execCommand).not.toHaveBeenCalled();\n      expect(this.el.innerHTML).toBe(html);\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "with ctrl key, should not call formatBlock",
            "suites": [
                "Content TestCase",
                "when the enter key is pressed"
            ],
            "line": 322,
            "updatePoint": {
                "line": 322,
                "column": 50
            },
            "code": "    it('with ctrl key, should not call formatBlock', function () {\n      this.el.innerHTML = '<p>lorem ipsum</p>';\n      var editor = this.newMediumEditor('.editor'),\n          p = editor.elements[0].querySelector('p');\n      spyOn(document, 'execCommand').and.callThrough();\n      placeCursorInsideElement(p, 0);\n      fireEvent(p, 'keyup', {\n        keyCode: MediumEditor.util.keyCode.ENTER,\n        ctrlKey: true\n      });\n      expect(document.execCommand).not.toHaveBeenCalledWith('formatBlock', false, 'p');\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "inside an anchor the anchors should be unlinked",
            "suites": [
                "Content TestCase",
                "when the enter key is pressed"
            ],
            "line": 334,
            "updatePoint": {
                "line": 334,
                "column": 55
            },
            "code": "    it('inside an anchor the anchors should be unlinked', function () {\n      this.el.innerHTML = '<a href=\"#\">test</a>';\n      var editor = this.newMediumEditor('.editor'),\n          target = editor.elements[0].querySelector('a');\n      spyOn(document, 'execCommand').and.callThrough();\n      placeCursorInsideElement(target, 1);\n      fireEvent(target, 'keyup', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      expect(document.execCommand).toHaveBeenCalledWith('unlink', false, null);\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "at the end of the blockquote, p tag should be created next, not blockquote",
            "suites": [
                "Content TestCase",
                "when the enter key is pressed",
                "within a blockquote element"
            ],
            "line": 346,
            "updatePoint": {
                "line": 346,
                "column": 84
            },
            "code": "      it('at the end of the blockquote, p tag should be created next, not blockquote', function () {\n        this.el.innerHTML = '<blockquote>lorem ipsum</blockquote>';\n        var editor = this.newMediumEditor('.editor'),\n            target = editor.elements[0].querySelector('blockquote').firstChild;\n        placeCursorInsideElement(target, target.textContent.length);\n        fireEvent(target, 'keydown', {\n          keyCode: MediumEditor.util.keyCode.ENTER\n        });\n        expect(this.el.innerHTML).toBe('<blockquote>lorem ipsum</blockquote><p><br></p>');\n      });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "NOT at the start of the blockqoute, no formatting should be changed",
            "suites": [
                "Content TestCase",
                "when the enter key is pressed",
                "within a blockquote element"
            ],
            "line": 356,
            "updatePoint": {
                "line": 356,
                "column": 77
            },
            "code": "      it('NOT at the start of the blockqoute, no formatting should be changed', function () {\n        this.el.innerHTML = '<blockquote>lorem ipsum</blockquote>';\n        var editor = this.newMediumEditor('.editor'),\n            target = editor.elements[0].querySelector('blockquote').firstChild;\n        placeCursorInsideElement(target, 0);\n        fireEvent(target, 'keydown', {\n          keyCode: MediumEditor.util.keyCode.ENTER\n        });\n        expect(this.el.innerHTML).toBe('<blockquote>lorem ipsum</blockquote>');\n      });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should prevent new lines from being inserted when disableReturn options is true",
            "suites": [
                "Content TestCase",
                "when the ctrl key and m key is pressed"
            ],
            "line": 369,
            "updatePoint": {
                "line": 369,
                "column": 87
            },
            "code": "    it('should prevent new lines from being inserted when disableReturn options is true', function () {\n      this.el.innerHTML = 'lorem ipsum';\n      var editor = this.newMediumEditor('.editor', {\n        disableReturn: true\n      }),\n          evt;\n      placeCursorInsideElement(editor.elements[0], 0);\n      evt = prepareEvent(editor.elements[0], 'keydown', {\n        ctrlKey: true,\n        keyCode: MediumEditor.util.keyCode.M\n      });\n      spyOn(evt, 'preventDefault').and.callThrough();\n      firePreparedEvent(evt, editor.elements[0], 'keydown');\n      expect(evt.preventDefault).toHaveBeenCalled();\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should prevent new lines from being inserted when data-disable-return is defined",
            "suites": [
                "Content TestCase",
                "when the ctrl key and m key is pressed"
            ],
            "line": 384,
            "updatePoint": {
                "line": 384,
                "column": 88
            },
            "code": "    it('should prevent new lines from being inserted when data-disable-return is defined', function () {\n      this.el.innerHTML = 'lorem ipsum';\n      this.el.setAttribute('data-disable-return', true);\n      var editor = this.newMediumEditor('.editor'),\n          evt;\n      placeCursorInsideElement(editor.elements[0], 0);\n      evt = prepareEvent(editor.elements[0], 'keydown', {\n        ctrlKey: true,\n        keyCode: MediumEditor.util.keyCode.M\n      });\n      spyOn(evt, 'preventDefault').and.callThrough();\n      firePreparedEvent(evt, editor.elements[0], 'keydown');\n      expect(evt.preventDefault).toHaveBeenCalled();\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should prevent consecutive new lines from being inserted when disableDoubleReturn is true",
            "suites": [
                "Content TestCase",
                "when the ctrl key and m key is pressed"
            ],
            "line": 398,
            "updatePoint": {
                "line": 398,
                "column": 97
            },
            "code": "    it('should prevent consecutive new lines from being inserted when disableDoubleReturn is true', function () {\n      this.el.innerHTML = '<p><br></p>';\n      var editor = this.newMediumEditor('.editor', {\n        disableDoubleReturn: true\n      }),\n          p = editor.elements[0].querySelector('p'),\n          evt;\n      placeCursorInsideElement(p, 0);\n      evt = prepareEvent(p, 'keydown', {\n        ctrlKey: true,\n        keyCode: MediumEditor.util.keyCode.M\n      });\n      spyOn(evt, 'preventDefault').and.callThrough();\n      firePreparedEvent(evt, p, 'keydown');\n      expect(evt.preventDefault).toHaveBeenCalled();\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should prevent consecutive new lines from being inserted when data-disable-double-return is defined",
            "suites": [
                "Content TestCase",
                "when the ctrl key and m key is pressed"
            ],
            "line": 414,
            "updatePoint": {
                "line": 414,
                "column": 107
            },
            "code": "    it('should prevent consecutive new lines from being inserted when data-disable-double-return is defined', function () {\n      this.el.innerHTML = '<p><br></p>';\n      this.el.setAttribute('data-disable-double-return', true);\n      var editor = this.newMediumEditor('.editor'),\n          p = editor.elements[0].querySelector('p'),\n          evt;\n      placeCursorInsideElement(p, 0);\n      evt = prepareEvent(p, 'keydown', {\n        ctrlKey: true,\n        keyCode: MediumEditor.util.keyCode.M\n      });\n      spyOn(evt, 'preventDefault').and.callThrough();\n      firePreparedEvent(evt, p, 'keydown');\n      expect(evt.preventDefault).toHaveBeenCalled();\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should prevent consecutive new lines from being inserted inside a sentence when disableDoubleReturn is true",
            "suites": [
                "Content TestCase",
                "when the ctrl key and m key is pressed"
            ],
            "line": 429,
            "updatePoint": {
                "line": 429,
                "column": 115
            },
            "code": "    it('should prevent consecutive new lines from being inserted inside a sentence when disableDoubleReturn is true', function () {\n      this.el.innerHTML = '<p>hello</p><p><br></p><p>word</p>';\n      var editor = this.newMediumEditor('.editor', {\n        disableDoubleReturn: true\n      }),\n          p = editor.elements[0].getElementsByTagName('p')[2],\n          evt;\n      placeCursorInsideElement(p, 0);\n      evt = prepareEvent(p, 'keydown', {\n        ctrlKey: true,\n        keyCode: MediumEditor.util.keyCode.M\n      });\n      spyOn(evt, 'preventDefault').and.callThrough();\n      firePreparedEvent(evt, p, 'keydown');\n      expect(evt.preventDefault).toHaveBeenCalled();\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should add a new line when selected node is an h2/h3 tag with text in it and when disableDoubleReturn is true",
            "suites": [
                "Content TestCase",
                "when the ctrl key and m key is pressed"
            ],
            "line": 445,
            "updatePoint": {
                "line": 445,
                "column": 117
            },
            "code": "    it('should add a new line when selected node is an h2/h3 tag with text in it and when disableDoubleReturn is true', function () {\n      this.el.innerHTML = '<p>lorem</p><h2>ipsum<br></h2>';\n      var editor = this.newMediumEditor('.editor', {\n        disableDoubleReturn: true\n      }),\n          p = editor.elements[0].getElementsByTagName('h2')[0],\n          evt;\n      placeCursorInsideElement(p, 0);\n      evt = prepareEvent(p, 'keydown', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      spyOn(evt, 'preventDefault').and.callThrough();\n      firePreparedEvent(evt, p, 'keydown');\n      expect(evt.preventDefault).not.toHaveBeenCalled();\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should prevent new line being added when selected node is an empty h2/h3 tag and when disableDoubleReturn is true",
            "suites": [
                "Content TestCase",
                "when the ctrl key and m key is pressed"
            ],
            "line": 460,
            "updatePoint": {
                "line": 460,
                "column": 121
            },
            "code": "    it('should prevent new line being added when selected node is an empty h2/h3 tag and when disableDoubleReturn is true', function () {\n      this.el.innerHTML = '<p>lorem</p><h2><br></h2>';\n      var editor = this.newMediumEditor('.editor', {\n        disableDoubleReturn: true\n      }),\n          p = editor.elements[0].getElementsByTagName('h2')[0],\n          evt;\n      placeCursorInsideElement(p, 1);\n      evt = prepareEvent(p, 'keydown', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      spyOn(evt, 'preventDefault').and.callThrough();\n      firePreparedEvent(evt, p, 'keydown');\n      expect(evt.preventDefault).toHaveBeenCalled();\n      expect(this.el.innerHTML).toBe('<p>lorem</p><h2><br></h2>');\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "at the start of the blockquote, the blockquote tag should be replaced with a p tag",
            "suites": [
                "Content TestCase",
                "when backspace is pressed",
                "within a blockquote element"
            ],
            "line": 479,
            "updatePoint": {
                "line": 479,
                "column": 92
            },
            "code": "      it('at the start of the blockquote, the blockquote tag should be replaced with a p tag', function () {\n        this.el.innerHTML = '<blockquote>lorem ipsum</blockquote>';\n        var editor = this.newMediumEditor('.editor'),\n            target = editor.elements[0].querySelector('blockquote');\n        placeCursorInsideElement(target, 0);\n        fireEvent(target, 'keydown', {\n          keyCode: MediumEditor.util.keyCode.BACKSPACE\n        });\n        expect(this.el.innerHTML).toBe('<p>lorem ipsum</p>');\n      });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "NOT at the start of the blockqoute, no formatting should be changed",
            "suites": [
                "Content TestCase",
                "when backspace is pressed",
                "within a blockquote element"
            ],
            "line": 489,
            "updatePoint": {
                "line": 489,
                "column": 77
            },
            "code": "      it('NOT at the start of the blockqoute, no formatting should be changed', function () {\n        this.el.innerHTML = '<blockquote>lorem ipsum</blockquote>';\n        var editor = this.newMediumEditor('.editor'),\n            target = editor.elements[0].querySelector('blockquote');\n        placeCursorInsideElement(target, 1);\n        fireEvent(target, 'keydown', {\n          keyCode: MediumEditor.util.keyCode.BACKSPACE\n        });\n        expect(this.el.innerHTML).toBe('<blockquote>lorem ipsum</blockquote>');\n      });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should insert a paragraph before the list if it is the first element in the editor",
            "suites": [
                "Content TestCase",
                "when backspace is pressed",
                "within an empty first list item"
            ],
            "line": 501,
            "updatePoint": {
                "line": 501,
                "column": 92
            },
            "code": "      it('should insert a paragraph before the list if it is the first element in the editor', function () {\n        this.el.innerHTML = '<ul><li></li><li>lorem ipsum</li></ul>';\n        var editor = this.newMediumEditor('.editor'),\n            target = editor.elements[0].querySelector('li'),\n            range;\n        placeCursorInsideElement(target, 0);\n        fireEvent(target, 'keydown', {\n          keyCode: MediumEditor.util.keyCode.BACKSPACE\n        });\n        expect(this.el.innerHTML).toBe('<p><br></p><ul><li>lorem ipsum</li></ul>');\n        range = document.getSelection().getRangeAt(0);\n        expect(range.commonAncestorContainer.nodeName.toLowerCase()).toBe('p');\n      });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not insert a paragraph before the list if it is NOT the first element in the editor",
            "suites": [
                "Content TestCase",
                "when backspace is pressed",
                "within an empty first list item"
            ],
            "line": 514,
            "updatePoint": {
                "line": 514,
                "column": 100
            },
            "code": "      it('should not insert a paragraph before the list if it is NOT the first element in the editor', function () {\n        this.el.innerHTML = '<p>lorem ipsum</p><ul><li></li><li>lorem ipsum</li></ul>';\n        var editor = this.newMediumEditor('.editor'),\n            target = editor.elements[0].querySelector('li');\n        placeCursorInsideElement(target, 0);\n        fireEvent(target, 'keydown', {\n          keyCode: MediumEditor.util.keyCode.BACKSPACE\n        });\n        expect(this.el.innerHTML).toMatch(/^<p>lorem ipsum<\\/p><ul><li>(<br>)?<\\/li><li>lorem ipsum<\\/li><\\/ul>$/);\n      });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should delete the paragraph and place the caret to the next paragraph",
            "suites": [
                "Content TestCase",
                "when backspace is pressed",
                "within an empty paragraph which is the first element of the editor"
            ],
            "line": 526,
            "updatePoint": {
                "line": 526,
                "column": 79
            },
            "code": "      it('should delete the paragraph and place the caret to the next paragraph', function () {\n        this.el.innerHTML = '<p class=\"\"><br></p><p>test</p>';\n        var editor = this.newMediumEditor('.editor'),\n            target = editor.elements[0].querySelector('p'),\n            range;\n        placeCursorInsideElement(target, 0);\n        fireEvent(target, 'keydown', {\n          keyCode: MediumEditor.util.keyCode.BACKSPACE\n        });\n        expect(this.el.innerHTML).toBe('<p>test</p>');\n        range = document.getSelection().getRangeAt(0);\n        expect(range.commonAncestorContainer.textContent).toBe('test');\n      });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should insert a breaking paragraph before header when hitting enter key at front of header",
            "suites": [
                "Content TestCase",
                "with header tags"
            ],
            "line": 542,
            "updatePoint": {
                "line": 542,
                "column": 98
            },
            "code": "    it('should insert a breaking paragraph before header when hitting enter key at front of header', function () {\n      this.el.innerHTML = '<h2>lorem</h2><h3>ipsum</h3>';\n      var editor = this.newMediumEditor('.editor'),\n          targetNode = editor.elements[0].querySelector('h3');\n      placeCursorInsideElement(targetNode, 0);\n      fireEvent(targetNode, 'keydown', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      expect(this.el.innerHTML).toBe('<h2>lorem</h2><p><br></p><h3>ipsum</h3>');\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove empty element if hitting delete key inside empty element before a header tag",
            "suites": [
                "Content TestCase",
                "with header tags"
            ],
            "line": 552,
            "updatePoint": {
                "line": 552,
                "column": 98
            },
            "code": "    it('should remove empty element if hitting delete key inside empty element before a header tag', function () {\n      this.el.innerHTML = '<h2>lorem</h2><p><br></p><h3>ipsum</h3>';\n      var editor = this.newMediumEditor('.editor'),\n          targetNode = editor.elements[0].querySelector('p');\n      selectElementContents(targetNode);\n      fireEvent(targetNode, 'keydown', {\n        keyCode: MediumEditor.util.keyCode.DELETE\n      });\n      expect(this.el.innerHTML).toBe('<h2>lorem</h2><h3>ipsum</h3>');\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not create a <p> tag when hitting enter",
            "suites": [
                "Content TestCase",
                "with header tags"
            ],
            "line": 562,
            "updatePoint": {
                "line": 562,
                "column": 54
            },
            "code": "    it('should not create a <p> tag when hitting enter', function () {\n      this.el.innerHTML = '<h2>lorem ipsum</h2>';\n      var editor = this.newMediumEditor('.editor'),\n          targetNode = editor.elements[0].querySelector('h2');\n      spyOn(document, 'execCommand').and.callThrough();\n      placeCursorInsideElement(targetNode, 0);\n      fireEvent(targetNode, 'keyup', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      expect(document.execCommand).not.toHaveBeenCalledWith('formatBlock', false, 'p');\n      expect(this.el.innerHTML).toBe('<h2>lorem ipsum</h2>');\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should call formatBlock when a keyup results in an empty element",
            "suites": [
                "Content TestCase",
                "with header tags"
            ],
            "line": 575,
            "updatePoint": {
                "line": 575,
                "column": 70
            },
            "code": "  it('should call formatBlock when a keyup results in an empty element', function () {\n    this.el.innerHTML = ' ';\n    var editor = this.newMediumEditor('.editor'),\n        target = editor.elements[0].firstChild;\n    spyOn(document, 'execCommand').and.callThrough();\n    selectElementContents(target);\n    target.parentNode.removeChild(target);\n    fireEvent(editor.elements[0], 'keyup', {\n      keyCode: MediumEditor.util.keyCode.BACKSPACE\n    });\n    expect(document.execCommand).toHaveBeenCalledWith('formatBlock', false, 'p'); // Webkit inserts a <p> tag, firefox & ie do not\n\n    expect(this.el.innerHTML).toMatch(/(<p><br><\\/p>)?/);\n  }); // https://github.com/yabwe/medium-editor/issues/994",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not throw an error when keyup occurs within a non-div editor",
            "suites": [
                "Content TestCase",
                "with header tags"
            ],
            "line": 590,
            "updatePoint": {
                "line": 590,
                "column": 73
            },
            "code": "  it('should not throw an error when keyup occurs within a non-div editor', function () {\n    var origEC = document.execCommand,\n        errorCount = 0; // Wrap document.execCommand so we can detect browser errors when it's called\n\n    document.execCommand = function () {\n      try {\n        origEC.apply(document, arguments);\n      } catch (err) {\n        errorCount++;\n        throw err;\n      }\n    };\n\n    this.el.parentNode.removeChild(this.el);\n    this.el = this.createElement('h1', 'editor', 'Lorem ipsum dolor sit amet');\n    var editor = this.newMediumEditor('h1.editor');\n    editor.elements[0].focus();\n    selectElementContentsAndFire(editor.elements[0]);\n    jasmine.clock().tick(1);\n    fireEvent(editor.elements[0], 'keyup', {\n      keyCode: MediumEditor.util.keyCode.M\n    }); // Restore original document.execCommand\n\n    document.execCommand = origEC;\n    expect(errorCount).toBe(0, 'there was an error thrown when calling document.execCommand()');\n  });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should have spellcheck attribute set to true by default",
            "suites": [
                "Content TestCase",
                "spellcheck"
            ],
            "line": 617,
            "updatePoint": {
                "line": 617,
                "column": 63
            },
            "code": "    it('should have spellcheck attribute set to true by default', function () {\n      var editor = this.newMediumEditor('.editor');\n      expect(editor.elements[0].getAttribute('spellcheck')).toBe('true');\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should accept spellcheck as an options",
            "suites": [
                "Content TestCase",
                "spellcheck"
            ],
            "line": 621,
            "updatePoint": {
                "line": 621,
                "column": 46
            },
            "code": "    it('should accept spellcheck as an options', function () {\n      var editor = this.newMediumEditor('.editor', {\n        spellcheck: false\n      });\n      expect(editor.elements[0].getAttribute('spellcheck')).toBe('false');\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not replace line breaks inside header elements with div elements",
            "suites": [
                "Content TestCase",
                "justify actions"
            ],
            "line": 629,
            "updatePoint": {
                "line": 629,
                "column": 79
            },
            "code": "    it('should not replace line breaks inside header elements with div elements', function () {\n      this.el.innerHTML = '<h2>lorem ipsum<br />lorem ipsum<br />lorem ipsum<br /></h2><ul><li>item 1</li><li>item 2</li><li>item 3</li></ul>';\n      var editor = this.newMediumEditor('.editor'),\n          h2 = this.el.querySelector('h2');\n      selectElementContentsAndFire(h2.firstChild);\n      editor.execAction('justifyRight');\n      h2 = this.el.querySelector('h2');\n      expect(h2.querySelectorAll('br').length).toBe(3, 'Some of the <br> elements have been removed from the <h2>');\n      expect(h2.querySelectorAll('div').length).toBe(0, 'Some <br> elements were replaced with <div> elements within the <h2>');\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not replace line breaks inside blockquote elements with div elements",
            "suites": [
                "Content TestCase",
                "justify actions"
            ],
            "line": 639,
            "updatePoint": {
                "line": 639,
                "column": 83
            },
            "code": "    it('should not replace line breaks inside blockquote elements with div elements', function () {\n      this.el.innerHTML = '<ul><li>item 1</li><li>item 2</li></ul><blockquote>lorem ipsum<br />lorem ipsum<br />lorem ipsum<br /></blockquote><ul><li>item 1</li><li>item 2</li><li>item 3</li></ul>';\n      var editor = this.newMediumEditor('.editor'),\n          blockquote = this.el.querySelector('blockquote');\n      selectElementContentsAndFire(blockquote);\n      editor.execAction('justifyCenter');\n      blockquote = this.el.querySelector('blockquote'); // Edge adds another <br /> automatically for some reason...\n\n      expect(blockquote.querySelectorAll('br').length).toBeGreaterThan(2, 'Some of the <br> elements have been removed from the <blockquote>');\n      expect(blockquote.querySelectorAll('div').length).toBe(0, 'Some <br> elements were replaced with <div> elements within the <blckquote>');\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not replace line breaks inside pre elements with div elements",
            "suites": [
                "Content TestCase",
                "justify actions"
            ],
            "line": 650,
            "updatePoint": {
                "line": 650,
                "column": 76
            },
            "code": "    it('should not replace line breaks inside pre elements with div elements', function () {\n      this.el.innerHTML = '<ul><li>item 1</li><li>item 2</li></ul><pre>lorem ipsum<br />lorem ipsum<br />lorem ipsum<br /></pre><ul><li>item 1</li><li>item 2</li><li>item 3</li></ul>';\n      var editor = this.newMediumEditor('.editor'),\n          pre = this.el.querySelector('pre');\n      selectElementContentsAndFire(pre);\n      editor.execAction('justifyCenter');\n      pre = this.el.querySelector('pre');\n      expect(pre.querySelectorAll('br').length).toBe(3, 'Some of the <br> elements have been removed from the <pre>');\n      expect(pre.querySelectorAll('div').length).toBe(0, 'Some <br> elements were replaced with <div> elements within the <pre>');\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not replace line breaks inside p elements with div elements",
            "suites": [
                "Content TestCase",
                "justify actions"
            ],
            "line": 660,
            "updatePoint": {
                "line": 660,
                "column": 74
            },
            "code": "    it('should not replace line breaks inside p elements with div elements', function () {\n      this.el.innerHTML = '<ul><li>item 1</li><li>item 2</li></ul><p>lorem ipsum<br />lorem ipsum<br />lorem ipsum<br /></p><ul><li>item 1</li><li>item 2</li><li>item 3</li></ul>';\n      var editor = this.newMediumEditor('.editor'),\n          para = this.el.querySelector('p');\n      selectElementContentsAndFire(para);\n      editor.execAction('justifyCenter');\n      para = this.el.querySelector('p');\n      expect(para.querySelectorAll('br').length).toBe(3, 'Some of the <br> elements have been removed from the <p>');\n      expect(para.querySelectorAll('div').length).toBe(0, 'Some <br> elements were replaced with <div> elements within the <p>');\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should fix markup when one list element is unlisted",
            "suites": [
                "Content TestCase",
                "when list element is unlisted"
            ],
            "line": 672,
            "updatePoint": {
                "line": 672,
                "column": 59
            },
            "code": "    it('should fix markup when one list element is unlisted', function () {\n      this.el.innerHTML = '<ul><li>lorem</li><li>ipsum</li><li>dolor</li></ul>';\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['unorderedlist']\n        }\n      }),\n          target = editor.elements[0].querySelector('li'),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(target);\n      fireEvent(toolbar.getToolbarElement().querySelector('[data-action=\"insertunorderedlist\"]'), 'click');\n\n      if (getEdgeVersion() > 0) {\n        // Edge wraps elements in div\n        expect(this.el.innerHTML).toBe('<div>lorem</div><ul><li>ipsum</li><li>dolor</li></ul>');\n      } else {\n        // Other browsers should wrap them in p\n        expect(this.el.innerHTML).toBe('<p>lorem</p><ul><li>ipsum</li><li>dolor</li></ul>');\n      }\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should fix markup when miltiple list elements are unlisted",
            "suites": [
                "Content TestCase",
                "when list element is unlisted"
            ],
            "line": 692,
            "updatePoint": {
                "line": 692,
                "column": 66
            },
            "code": "    it('should fix markup when miltiple list elements are unlisted', function () {\n      this.el.innerHTML = '<ol><li>lorem</li><li>ipsum</li><li>dolor</li></ol>';\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['orderedlist']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          selection = document.getSelection(),\n          range = document.createRange();\n      range.setStart(this.el.querySelectorAll('li')[0].firstChild, 0);\n      range.setEnd(this.el.querySelectorAll('li')[1].firstChild, 5);\n      selection.removeAllRanges();\n      selection.addRange(range);\n      fireEvent(toolbar.getToolbarElement().querySelector('[data-action=\"insertorderedlist\"]'), 'click');\n\n      if (getEdgeVersion() > 0) {\n        // Edge wraps elements in div\n        expect(this.el.innerHTML).toBe('<div>lorem</div><div>ipsum</div><ol><li>dolor</li></ol>');\n      } else {\n        // Other browsers should wrap them in p\n        expect(this.el.innerHTML).toBe('<p>lorem</p><p>ipsum</p><ol><li>dolor</li></ol>');\n      }\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should fix markup when all list elements are unlisted",
            "suites": [
                "Content TestCase",
                "when list element is unlisted"
            ],
            "line": 716,
            "updatePoint": {
                "line": 716,
                "column": 61
            },
            "code": "    it('should fix markup when all list elements are unlisted', function () {\n      this.el.innerHTML = '<ul><li>lorem</li><li>ipsum</li><li>dolor</li></ul>';\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['unorderedlist']\n        }\n      }),\n          target = editor.elements[0].querySelector('ul'),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(target);\n      fireEvent(toolbar.getToolbarElement().querySelector('[data-action=\"insertunorderedlist\"]'), 'click');\n\n      if (getEdgeVersion() > 0) {\n        // Edge wraps elements in div\n        expect(this.el.innerHTML).toBe('<div>lorem</div><div>ipsum</div><div>dolor</div>');\n      } else {\n        // Other browsers should wrap them in p\n        expect(this.el.innerHTML).toBe('<p>lorem</p><p>ipsum</p><p>dolor</p>');\n      }\n    });",
            "file": "content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return the element which currently has a data-medium-focused attribute",
            "suites": [
                "Core-API",
                "getFocusedElement"
            ],
            "line": 14,
            "updatePoint": {
                "line": 14,
                "column": 85
            },
            "code": "    it('should return the element which currently has a data-medium-focused attribute', function () {\n      var elementOne = this.createElement('div', 'editor', 'lorem ipsum'),\n          elementTwo = this.createElement('div', 'editor', 'lorem ipsum');\n      elementTwo.setAttribute('data-medium-focused', true);\n      var editor = this.newMediumEditor('.editor'),\n          focused = editor.getFocusedElement();\n      expect(focused).not.toBe(elementOne);\n      expect(focused).toBe(elementTwo);\n    });",
            "file": "core-api.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return the element focused via call to selectElement",
            "suites": [
                "Core-API",
                "getFocusedElement"
            ],
            "line": 23,
            "updatePoint": {
                "line": 23,
                "column": 67
            },
            "code": "    it('should return the element focused via call to selectElement', function () {\n      var elementOne = this.createElement('div', 'editor', 'lorem ipsum'),\n          elementTwo = this.createElement('div', 'editor', 'lorem ipsum');\n      elementTwo.setAttribute('data-medium-focused', true);\n      var editor = this.newMediumEditor('.editor');\n      editor.selectElement(elementOne.firstChild);\n      var focused = editor.getFocusedElement();\n      expect(focused).toBe(elementOne);\n    });",
            "file": "core-api.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should set the content of the editor's element",
            "suites": [
                "Core-API",
                "setContent"
            ],
            "line": 34,
            "updatePoint": {
                "line": 34,
                "column": 55
            },
            "code": "    it('should set the content of the editor\\'s element', function () {\n      var newHTML = 'Lorem ipsum dolor',\n          otherHTML = 'something different',\n          elementOne = this.createElement('div', 'editor', 'lorem ipsum'),\n          editor = this.newMediumEditor('.editor');\n      editor.setContent(newHTML);\n      expect(this.el.innerHTML).toEqual(newHTML);\n      expect(elementOne.innerHTML).not.toEqual(newHTML);\n      editor.setContent(otherHTML, 1);\n      expect(elementOne.innerHTML).toEqual(otherHTML);\n      expect(this.el.innerHTML).not.toEqual(otherHTML);\n    });",
            "file": "core-api.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should retrieve the content of the first element",
            "suites": [
                "Core-API",
                "getContent"
            ],
            "line": 48,
            "updatePoint": {
                "line": 48,
                "column": 56
            },
            "code": "    it('should retrieve the content of the first element', function () {\n      var editor = this.newMediumEditor('.editor');\n      expect(editor.getContent()).toEqual('lore ipsum');\n    });",
            "file": "core-api.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should retrieve the content of the element at the specified index",
            "suites": [
                "Core-API",
                "getContent"
            ],
            "line": 52,
            "updatePoint": {
                "line": 52,
                "column": 73
            },
            "code": "    it('should retrieve the content of the element at the specified index', function () {\n      var otherHTML = 'something different';\n      this.createElement('div', 'editor', otherHTML);\n      var editor = this.newMediumEditor('.editor');\n      expect(editor.getContent(1)).toEqual(otherHTML);\n    });",
            "file": "core-api.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return null if no element exists",
            "suites": [
                "Core-API",
                "getContent"
            ],
            "line": 58,
            "updatePoint": {
                "line": 58,
                "column": 47
            },
            "code": "    it('should return null if no element exists', function () {\n      var editor = this.newMediumEditor('.no-valid-selector');\n      expect(editor.getContent()).toBeNull();\n    });",
            "file": "core-api.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should reset the content of all editor elements to their initial values",
            "suites": [
                "Core-API",
                "resetContent"
            ],
            "line": 64,
            "updatePoint": {
                "line": 64,
                "column": 79
            },
            "code": "    it('should reset the content of all editor elements to their initial values', function () {\n      var initialOne = this.el.innerHTML,\n          initialTwo = 'Lorem ipsum dolor',\n          elementTwo = this.createElement('div', 'editor', initialTwo),\n          editor = this.newMediumEditor('.editor');\n      editor.setContent('<p>changed content</p>');\n      expect(this.el.innerHTML).not.toEqual(initialOne);\n      editor.setContent('<p>changed content</p>', 1);\n      expect(elementTwo.innerHTML).not.toEqual(initialTwo);\n      editor.resetContent();\n      expect(this.el.innerHTML).toEqual(initialOne);\n      expect(elementTwo.innerHTML).toEqual(initialTwo);\n    });",
            "file": "core-api.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should reset the content of a specific element when provided",
            "suites": [
                "Core-API",
                "resetContent"
            ],
            "line": 77,
            "updatePoint": {
                "line": 77,
                "column": 68
            },
            "code": "    it('should reset the content of a specific element when provided', function () {\n      var initialOne = this.el.innerHTML,\n          initialTwo = 'Lorem ipsum dolor',\n          elementTwo = this.createElement('div', 'editor', initialTwo),\n          editor = this.newMediumEditor('.editor');\n      editor.setContent('<p>changed content</p>');\n      expect(this.el.innerHTML).not.toEqual(initialOne);\n      editor.setContent('<p>changed content</p>', 1);\n      expect(elementTwo.innerHTML).not.toEqual(initialTwo);\n      editor.resetContent(elementTwo);\n      expect(this.el.innerHTML).not.toEqual(initialOne);\n      expect(elementTwo.innerHTML).toEqual(initialTwo);\n    });",
            "file": "core-api.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not reset anything if an invalid element is provided",
            "suites": [
                "Core-API",
                "resetContent"
            ],
            "line": 90,
            "updatePoint": {
                "line": 90,
                "column": 67
            },
            "code": "    it('should not reset anything if an invalid element is provided', function () {\n      var initialOne = this.el.innerHTML,\n          initialTwo = 'Lorem ipsum dolor',\n          elementTwo = this.createElement('div', 'editor', initialTwo),\n          dummyElement = this.createElement('div', 'not-editor', '<p>dummy element</p>'),\n          editor = this.newMediumEditor('.editor');\n      editor.setContent('<p>changed content</p>');\n      expect(this.el.innerHTML).not.toEqual(initialOne);\n      editor.setContent('<p>changed content</p>', 1);\n      expect(elementTwo.innerHTML).not.toEqual(initialTwo);\n      editor.resetContent(dummyElement);\n      expect(this.el.innerHTML).not.toEqual(initialOne);\n      expect(elementTwo.innerHTML).not.toEqual(initialTwo);\n    });",
            "file": "core-api.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be applicable if html changes but text does not",
            "suites": [
                "Core-API",
                "saveSelection/restoreSelection"
            ],
            "line": 106,
            "updatePoint": {
                "line": 106,
                "column": 62
            },
            "code": "    it('should be applicable if html changes but text does not', function () {\n      this.el.innerHTML = 'lorem <i>ipsum</i> dolor';\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['italic', 'underline', 'strikethrough']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button,\n          // Beacuse not all browsers use <strike> or <s>, check for both\n      sTagO = '<(s|strike)>',\n          sTagC = '</(s|strike)>',\n          // Edge breaks this into 3 separate <u> tags for some reason...\n      regex = new RegExp(['^<u>lorem ', '(<i>' + sTagO + '|' + sTagO + '<i>|</u><i><u>' + sTagO + ')', 'ipsum', '(</i>' + sTagC + '|' + sTagC + '</i>|' + sTagC + '</u></i><u>)', ' dolor</u>$'].join('')); // Save selection around <i> tag\n\n      selectElementContents(editor.elements[0].querySelector('i'));\n      editor.saveSelection(); // Underline entire element\n\n      selectElementContents(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"underline\"]');\n      fireEvent(button, 'click'); // Restore selection back to <i> tag and add a <s> tag\n\n      editor.restoreSelection();\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"strikethrough\"]');\n      fireEvent(button, 'click');\n      expect(editor.elements[0].innerHTML).toMatch(regex);\n    });",
            "file": "core-api.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should have an index in the exported selection when it is in the second contenteditable",
            "suites": [
                "Core-API",
                "exportSelection"
            ],
            "line": 135,
            "updatePoint": {
                "line": 135,
                "column": 95
            },
            "code": "    it('should have an index in the exported selection when it is in the second contenteditable', function () {\n      this.createElement('div', 'editor', 'lorem <i>ipsum</i> dolor');\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['italic', 'underline', 'strikethrough']\n        }\n      });\n      selectElementContents(editor.elements[1].querySelector('i'));\n      var exportedSelection = editor.exportSelection();\n      expect(Object.keys(exportedSelection).sort()).toEqual(['editableElementIndex', 'end', 'start']);\n      expect(exportedSelection.editableElementIndex).toEqual(1);\n    });",
            "file": "core-api.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should pass opt directly to document.execCommand",
            "suites": [
                "Core-API",
                "execAction"
            ],
            "line": 149,
            "updatePoint": {
                "line": 149,
                "column": 56
            },
            "code": "    it('should pass opt directly to document.execCommand', function () {\n      // In order to safely spy on document.execCommand we need to disable functionality\n      // which overrides document.execCommand in IE & Edge\n      var origSupported = MediumEditor.Events.prototype.InputEventOnContenteditableSupported;\n      MediumEditor.Events.prototype.InputEventOnContenteditableSupported = true;\n      spyOn(document, 'execCommand').and.callThrough();\n      var editor = this.newMediumEditor('.editor');\n      editor.execAction('foreColor', {\n        value: 'red'\n      });\n      expect(document.execCommand).toHaveBeenCalledWith('foreColor', false, 'red');\n      MediumEditor.Events.prototype.InputEventOnContenteditableSupported = origSupported;\n    });",
            "file": "core-api.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "fontName support old style",
            "suites": [
                "Core-API",
                "execAction"
            ],
            "line": 162,
            "updatePoint": {
                "line": 162,
                "column": 34
            },
            "code": "    it('fontName support old style', function () {\n      // In order to safely spy on document.execCommand we need to disable functionality\n      // which overrides document.execCommand in IE & Edge\n      var origSupported = MediumEditor.Events.prototype.InputEventOnContenteditableSupported;\n      MediumEditor.Events.prototype.InputEventOnContenteditableSupported = true;\n      spyOn(document, 'execCommand').and.callThrough();\n      var editor = this.newMediumEditor('.editor');\n      editor.execAction('fontName', {\n        name: 'Tahoma'\n      });\n      expect(document.execCommand).toHaveBeenCalledWith('fontName', false, 'Tahoma');\n      MediumEditor.Events.prototype.InputEventOnContenteditableSupported = origSupported;\n    });",
            "file": "core-api.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "fontName support new stle",
            "suites": [
                "Core-API",
                "execAction"
            ],
            "line": 175,
            "updatePoint": {
                "line": 175,
                "column": 33
            },
            "code": "    it('fontName support new stle', function () {\n      // In order to safely spy on document.execCommand we need to disable functionality\n      // which overrides document.execCommand in IE & Edge\n      var origSupported = MediumEditor.Events.prototype.InputEventOnContenteditableSupported;\n      MediumEditor.Events.prototype.InputEventOnContenteditableSupported = true;\n      spyOn(document, 'execCommand').and.callThrough();\n      var editor = this.newMediumEditor('.editor');\n      editor.execAction('fontName', {\n        value: 'Tahoma'\n      });\n      expect(document.execCommand).toHaveBeenCalledWith('fontName', false, 'Tahoma');\n      MediumEditor.Events.prototype.InputEventOnContenteditableSupported = origSupported;\n    });",
            "file": "core-api.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "fontSize support old style",
            "suites": [
                "Core-API",
                "execAction"
            ],
            "line": 188,
            "updatePoint": {
                "line": 188,
                "column": 34
            },
            "code": "    it('fontSize support old style', function () {\n      // In order to safely spy on document.execCommand we need to disable functionality\n      // which overrides document.execCommand in IE & Edge\n      var origSupported = MediumEditor.Events.prototype.InputEventOnContenteditableSupported;\n      MediumEditor.Events.prototype.InputEventOnContenteditableSupported = true;\n      spyOn(document, 'execCommand').and.callThrough();\n      var editor = this.newMediumEditor('.editor');\n      editor.execAction('fontSize', {\n        size: 14\n      });\n      expect(document.execCommand).toHaveBeenCalledWith('fontSize', false, 14);\n      MediumEditor.Events.prototype.InputEventOnContenteditableSupported = origSupported;\n    });",
            "file": "core-api.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "fontSize support new stle",
            "suites": [
                "Core-API",
                "execAction"
            ],
            "line": 201,
            "updatePoint": {
                "line": 201,
                "column": 33
            },
            "code": "    it('fontSize support new stle', function () {\n      // In order to safely spy on document.execCommand we need to disable functionality\n      // which overrides document.execCommand in IE & Edge\n      var origSupported = MediumEditor.Events.prototype.InputEventOnContenteditableSupported;\n      MediumEditor.Events.prototype.InputEventOnContenteditableSupported = true;\n      spyOn(document, 'execCommand').and.callThrough();\n      var editor = this.newMediumEditor('.editor');\n      editor.execAction('fontSize', {\n        value: 14\n      });\n      expect(document.execCommand).toHaveBeenCalledWith('fontSize', false, 14);\n      MediumEditor.Events.prototype.InputEventOnContenteditableSupported = origSupported;\n    });",
            "file": "core-api.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "createLink support old style",
            "suites": [
                "Core-API",
                "execAction"
            ],
            "line": 214,
            "updatePoint": {
                "line": 214,
                "column": 36
            },
            "code": "    it('createLink support old style', function () {\n      // In order to safely spy on document.execCommand we need to disable functionality\n      // which overrides document.execCommand in IE & Edge\n      var origSupported = MediumEditor.Events.prototype.InputEventOnContenteditableSupported;\n      MediumEditor.Events.prototype.InputEventOnContenteditableSupported = true;\n      spyOn(document, 'execCommand').and.callThrough();\n      var editor = this.newMediumEditor('.editor');\n      selectElementContentsAndFire(editor.elements[0].firstChild);\n      jasmine.clock().tick(1);\n      editor.execAction('createLink', {\n        url: 'http://www.test.com'\n      });\n      expect(document.execCommand).toHaveBeenCalledWith('createLink', false, 'http://www.test.com');\n      MediumEditor.Events.prototype.InputEventOnContenteditableSupported = origSupported;\n    });",
            "file": "core-api.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "createLink support new style",
            "suites": [
                "Core-API",
                "execAction"
            ],
            "line": 229,
            "updatePoint": {
                "line": 229,
                "column": 36
            },
            "code": "    it('createLink support new style', function () {\n      // In order to safely spy on document.execCommand we need to disable functionality\n      // which overrides document.execCommand in IE & Edge\n      var origSupported = MediumEditor.Events.prototype.InputEventOnContenteditableSupported;\n      MediumEditor.Events.prototype.InputEventOnContenteditableSupported = true;\n      spyOn(document, 'execCommand').and.callThrough();\n      var editor = this.newMediumEditor('.editor');\n      selectElementContentsAndFire(editor.elements[0].firstChild);\n      jasmine.clock().tick(1);\n      editor.execAction('createLink', {\n        value: 'http://www.test.com'\n      });\n      expect(document.execCommand).toHaveBeenCalledWith('createLink', false, 'http://www.test.com');\n      MediumEditor.Events.prototype.InputEventOnContenteditableSupported = origSupported;\n    });",
            "file": "core-api.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should trigger editableInput when called after the html has changed",
            "suites": [
                "Core-API",
                "checkContentChanged"
            ],
            "line": 246,
            "updatePoint": {
                "line": 246,
                "column": 75
            },
            "code": "    it('should trigger editableInput when called after the html has changed', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['italic', 'underline', 'strikethrough']\n        }\n      }),\n          spy = jasmine.createSpy('handler');\n      editor.subscribe('editableInput', spy);\n      expect(spy).not.toHaveBeenCalled();\n      selectElementContentsAndFire(this.el.firstChild);\n      jasmine.clock().tick(1);\n      this.el.innerHTML = 'lorem ipsum';\n      expect(spy).not.toHaveBeenCalled();\n      var obj = {\n        target: this.el,\n        currentTarget: this.el\n      };\n      editor.checkContentChanged();\n      expect(spy).toHaveBeenCalledWith(obj, this.el);\n    });",
            "file": "core-api.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not trigger editableInput when called after the html has not changed",
            "suites": [
                "Core-API",
                "checkContentChanged"
            ],
            "line": 266,
            "updatePoint": {
                "line": 266,
                "column": 83
            },
            "code": "    it('should not trigger editableInput when called after the html has not changed', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['italic', 'underline', 'strikethrough']\n        }\n      }),\n          spy = jasmine.createSpy('handler');\n      editor.subscribe('editableInput', spy);\n      expect(spy).not.toHaveBeenCalled();\n      selectElementContentsAndFire(this.el.firstChild);\n      jasmine.clock().tick(1);\n      this.el.innerHTML = 'lore ipsum';\n      expect(spy).not.toHaveBeenCalled();\n      editor.checkContentChanged();\n      expect(spy).not.toHaveBeenCalled();\n    });",
            "file": "core-api.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return the editor instance the element belongs to",
            "suites": [
                "Core-API",
                "getEditorFromElement"
            ],
            "line": 284,
            "updatePoint": {
                "line": 284,
                "column": 64
            },
            "code": "    it('should return the editor instance the element belongs to', function () {\n      var elTwo = this.createElement('div', 'editor-two', 'lore ipsum'),\n          editorOne = this.newMediumEditor('.editor'),\n          editorTwo = this.newMediumEditor('.editor-two');\n      expect(editorOne.elements[0]).toBe(this.el);\n      expect(editorTwo.elements[0]).toBe(elTwo);\n      expect(MediumEditor.getEditorFromElement(this.el)).toBe(editorOne);\n      expect(MediumEditor.getEditorFromElement(elTwo)).toBe(editorTwo);\n    });",
            "file": "core-api.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return null if the element is not within an editor",
            "suites": [
                "Core-API",
                "getEditorFromElement"
            ],
            "line": 293,
            "updatePoint": {
                "line": 293,
                "column": 65
            },
            "code": "    it('should return null if the element is not within an editor', function () {\n      expect(MediumEditor.getEditorFromElement(this.el)).toBeNull();\n    });",
            "file": "core-api.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should call function after delay",
            "suites": [
                "Delay TestCase"
            ],
            "line": 11,
            "updatePoint": {
                "line": 11,
                "column": 38
            },
            "code": "  it('should call function after delay', function () {\n    var editor, spy;\n    editor = this.newMediumEditor('.editor', {\n      delay: 100\n    });\n    spy = jasmine.createSpy('spy');\n    editor.delay(spy);\n    jasmine.clock().tick(50);\n    expect(spy).not.toHaveBeenCalled();\n    jasmine.clock().tick(150);\n    expect(spy).toHaveBeenCalled();\n  });",
            "file": "delay.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not call function if editor not active",
            "suites": [
                "Delay TestCase"
            ],
            "line": 23,
            "updatePoint": {
                "line": 23,
                "column": 51
            },
            "code": "  it('should not call function if editor not active', function () {\n    var editor, spy;\n    editor = this.newMediumEditor('.editor', {\n      delay: 1\n    });\n    spy = jasmine.createSpy('spy');\n    editor.destroy();\n    editor.delay(spy);\n    jasmine.clock().tick(100);\n    expect(spy).not.toHaveBeenCalled();\n  });",
            "file": "delay.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should add medium-editor-dragover class",
            "suites": [
                "Drag and Drop TestCase",
                "drag"
            ],
            "line": 13,
            "updatePoint": {
                "line": 13,
                "column": 47
            },
            "code": "    it('should add medium-editor-dragover class', function () {\n      var editor = this.newMediumEditor(this.el);\n      fireEvent(editor.elements[0], 'dragover');\n      expect(editor.elements[0].className).toContain('medium-editor-dragover');\n    });",
            "file": "drag-and-drop.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should add medium-editor-dragover class even when data is invalid",
            "suites": [
                "Drag and Drop TestCase",
                "drag"
            ],
            "line": 18,
            "updatePoint": {
                "line": 18,
                "column": 73
            },
            "code": "    it('should add medium-editor-dragover class even when data is invalid', function () {\n      var editor = this.newMediumEditor(this.el, {\n        imageDragging: false\n      });\n      fireEvent(editor.elements[0], 'dragover');\n      expect(editor.elements[0].className).toContain('medium-editor-dragover');\n    });",
            "file": "drag-and-drop.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove medium-editor-dragover class on drag leave",
            "suites": [
                "Drag and Drop TestCase",
                "drag"
            ],
            "line": 25,
            "updatePoint": {
                "line": 25,
                "column": 64
            },
            "code": "    it('should remove medium-editor-dragover class on drag leave', function () {\n      var editor = this.newMediumEditor(this.el);\n      fireEvent(editor.elements[0], 'dragover');\n      expect(editor.elements[0].className).toContain('medium-editor-dragover');\n      fireEvent(editor.elements[0], 'dragleave');\n      expect(editor.elements[0].className).not.toContain('medium-editor-dragover');\n    });",
            "file": "drag-and-drop.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove medium-editor-dragover class and add the image to the editor content",
            "suites": [
                "Drag and Drop TestCase",
                "drop"
            ],
            "line": 49,
            "updatePoint": {
                "line": 49,
                "column": 90
            },
            "code": "    it('should remove medium-editor-dragover class and add the image to the editor content', function () {\n      var editor = this.newMediumEditor(this.el),\n          editableInputListener = jasmine.createSpy();\n      editor.subscribe('editableInput', editableInputListener);\n      expect(editableInputListener).not.toHaveBeenCalled();\n      fireEvent(editor.elements[0], 'dragover');\n      expect(editor.elements[0].className).toContain('medium-editor-dragover');\n      fireEvent(editor.elements[0], 'drop');\n      expect(editor.elements[0].className).not.toContain('medium-editor-dragover'); // File API just doesn't work in IE9, so only verify this functionality if it's not IE9\n\n      if (typeof FileReader === 'function') {\n        // Ensure that the load event is bound to the FileReader\n        expect(eventListener.calls.mostRecent().args[0]).toEqual('load'); // Pass into the event handler our dummy image source\n\n        eventListener.calls.mostRecent().args[1]({\n          target: {\n            result: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'\n          }\n        }); // Expect that the image is inserted\n\n        expect(MediumEditor.util.insertHTMLCommand).toHaveBeenCalled(); // Expect that the editableInput event is fired\n\n        expect(editableInputListener).toHaveBeenCalled();\n      }\n    });",
            "file": "drag-and-drop.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove medium-editor-dragover class and NOT add the image to the editor content",
            "suites": [
                "Drag and Drop TestCase",
                "drop"
            ],
            "line": 74,
            "updatePoint": {
                "line": 74,
                "column": 94
            },
            "code": "    it('should remove medium-editor-dragover class and NOT add the image to the editor content', function () {\n      var editor = this.newMediumEditor(this.el, {\n        imageDragging: false\n      }),\n          editableInputListener = jasmine.createSpy();\n      editor.subscribe('editableInput', editableInputListener);\n      fireEvent(editor.elements[0], 'dragover');\n      expect(editor.elements[0].className).toContain('medium-editor-dragover');\n      fireEvent(editor.elements[0], 'drop');\n      expect(editor.elements[0].className).not.toContain('medium-editor-dragover'); //The following ensures that MediumEditor.Extension.insertImageFile is not called:\n      // 1. Ensure that a load event is not bound to the FileReader\n\n      expect(eventListener.calls.mostRecent()).toEqual(undefined); // 2. Expect that the image is not inserted\n\n      expect(MediumEditor.util.insertHTMLCommand).not.toHaveBeenCalled(); // 3. Expect that the editableInput event is not fired\n\n      expect(editableInputListener).not.toHaveBeenCalled();\n    });",
            "file": "drag-and-drop.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should initialize dom element properly when adding dynamically",
            "suites": [
                "MediumEditor.DynamicElements TestCase",
                "addElements"
            ],
            "line": 15,
            "updatePoint": {
                "line": 15,
                "column": 70
            },
            "code": "    it('should initialize dom element properly when adding dynamically', function () {\n      var editor = this.newMediumEditor('.editor'),\n          focusedEditable,\n          blurredEditable,\n          focusListener = function (event, editable) {\n        focusedEditable = editable;\n      },\n          blurListener = function (event, editable) {\n        blurredEditable = editable;\n      };\n\n      editor.subscribe('focus', focusListener);\n      editor.subscribe('blur', blurListener);\n      editor.addElements(this.addOne);\n      expect(this.addOne.getAttribute('data-medium-editor-element')).toBeDefined();\n      expect(editor.elements.length).toBe(2);\n      editor.addElements(this.addOne);\n      expect(editor.elements.length).toBe(2);\n      editor.selectElement(this.addOne.firstChild);\n      expect(focusedEditable).toBe(this.addOne);\n      expect(blurredEditable).toBeUndefined();\n      fireEvent(document.body, 'mousedown');\n      fireEvent(document.body, 'mouseup');\n      fireEvent(document.body, 'click');\n      expect(blurredEditable).toBe(this.addOne);\n    });",
            "file": "dyn-elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should attach all event handlers to an element when adding an element",
            "suites": [
                "MediumEditor.DynamicElements TestCase",
                "addElements"
            ],
            "line": 41,
            "updatePoint": {
                "line": 41,
                "column": 77
            },
            "code": "    it('should attach all event handlers to an element when adding an element', function () {\n      var listenerWrapper = function () {\n        this.listenerInfo.push([arguments[0], arguments[1], arguments[2]]);\n\n        this._addEventListner.apply(this, arguments);\n      };\n\n      this.el._addEventListner = this.el.addEventListener;\n      this.el.listenerInfo = [];\n      this.el.addEventListener = listenerWrapper.bind(this.el);\n      this.addOne._addEventListner = this.addOne.addEventListener;\n      this.addOne.listenerInfo = [];\n      this.addOne.addEventListener = listenerWrapper.bind(this.addOne); // Instatiating editor will trigger adding event handlers to each element\n\n      expect(this.el.listenerInfo.length).toBe(0);\n      var editor = this.newMediumEditor('.editor', {\n        anchorPreview: false\n      });\n      expect(this.el.listenerInfo.length).not.toBe(0);\n      var listenerCount = this.el.listenerInfo.length;\n      editor.subscribe('editableBlur', function blurHandler() {});\n      expect(this.el.listenerInfo.length).toBe(listenerCount + 1); // When adding a new element, all handlers should also be added to that element\n\n      expect(this.addOne.listenerInfo.length).toBe(0);\n      editor.addElements(this.addOne);\n      expect(this.addOne.listenerInfo.length).toBe(this.el.listenerInfo.length); // When attaching a new handler, the handler should be added to dynamically added elements too\n\n      editor.subscribe('editableMouseover', function mouseoverHandler() {});\n      expect(this.el.listenerInfo.length).toBe(listenerCount + 2);\n      expect(this.addOne.listenerInfo.length).toBe(listenerCount + 2); // Check that the same handlers have been added to each element\n\n      this.el.listenerInfo.forEach(function (elListener) {\n        var found = this.addOne.listenerInfo.some(function (addOneListener) {\n          return elListener[0] === addOneListener[0] && elListener[0].name === addOneListener[0].name;\n        });\n        expect(found).toBe(true);\n      }, this);\n    });",
            "file": "dyn-elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should accept a selector to specify elements to add",
            "suites": [
                "MediumEditor.DynamicElements TestCase",
                "addElements"
            ],
            "line": 79,
            "updatePoint": {
                "line": 79,
                "column": 59
            },
            "code": "    it('should accept a selector to specify elements to add', function () {\n      var editor = this.newMediumEditor('.editor');\n      expect(editor.elements.length).toBe(1);\n      editor.addElements('.add-one');\n      expect(editor.elements.length).toBe(2);\n    });",
            "file": "dyn-elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should accept a NodeList to specify elements to add",
            "suites": [
                "MediumEditor.DynamicElements TestCase",
                "addElements"
            ],
            "line": 85,
            "updatePoint": {
                "line": 85,
                "column": 59
            },
            "code": "    it('should accept a NodeList to specify elements to add', function () {\n      var editor = this.newMediumEditor('.editor');\n      expect(editor.elements.length).toBe(1);\n      editor.addElements(document.getElementsByClassName('add-one'));\n      expect(editor.elements.length).toBe(2);\n    });",
            "file": "dyn-elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not add an element that is already an editor element",
            "suites": [
                "MediumEditor.DynamicElements TestCase",
                "addElements"
            ],
            "line": 91,
            "updatePoint": {
                "line": 91,
                "column": 67
            },
            "code": "    it('should not add an element that is already an editor element', function () {\n      var editor = this.newMediumEditor('.editor');\n      expect(editor.elements.length).toBe(1);\n      editor.addElements('.editor');\n      expect(editor.elements.length).toBe(1);\n    });",
            "file": "dyn-elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should attach editableKeydownEnter to the editor when adding an element with a data-disable-return attribute",
            "suites": [
                "MediumEditor.DynamicElements TestCase",
                "addElements"
            ],
            "line": 97,
            "updatePoint": {
                "line": 97,
                "column": 116
            },
            "code": "    it('should attach editableKeydownEnter to the editor when adding an element with a data-disable-return attribute', function () {\n      var editor = this.newMediumEditor('.editor');\n      expect(editor.events.customEvents['editableKeydownEnter'].length).toBe(1);\n      this.addOne.setAttribute('data-disable-return', true);\n      editor.addElements(this.addOne);\n      expect(editor.events.customEvents['editableKeydownEnter'].length).toBe(2, 'editableKeydownEnter should be subscribed to when adding a data-disbale-return element');\n    });",
            "file": "dyn-elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should trigger addElement custom event for each element",
            "suites": [
                "MediumEditor.DynamicElements TestCase",
                "addElements"
            ],
            "line": 104,
            "updatePoint": {
                "line": 104,
                "column": 63
            },
            "code": "    it('should trigger addElement custom event for each element', function () {\n      var editor = this.newMediumEditor('.editor'),\n          spy = jasmine.createSpy('handler');\n      editor.subscribe('addElement', spy);\n      editor.addElements('.add-one');\n      expect(spy).toHaveBeenCalledWith({\n        target: this.addOne,\n        currentTarget: this.addOne\n      }, this.addOne);\n      editor.addElements(document.getElementsByClassName('add-two'));\n      expect(spy).toHaveBeenCalledWith({\n        target: this.addTwo,\n        currentTarget: this.addTwo\n      }, this.addTwo);\n    });",
            "file": "dyn-elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should re-attach element properly when removed from dom, cleaned up and injected to dom again",
            "suites": [
                "MediumEditor.DynamicElements TestCase",
                "addElements"
            ],
            "line": 121,
            "updatePoint": {
                "line": 121,
                "column": 103
            },
            "code": "      it('should re-attach element properly when removed from dom, cleaned up and injected to dom again', function () {\n        var originalInputSupport = MediumEditor.Events.prototype.InputEventOnContenteditableSupported;\n        MediumEditor.Events.prototype.InputEventOnContenteditableSupported = inputSupported;\n\n        var editor = this.newMediumEditor('.editor'),\n            focusedEditable,\n            firedTarget,\n            firedCounter,\n            handler = function (event, editable) {\n          firedTarget = editable;\n          firedCounter++;\n        },\n            focusListener = function (event, editable) {\n          focusedEditable = editable;\n        };\n\n        firedCounter = 0;\n        editor.subscribe('focus', focusListener);\n        editor.subscribe('editableInput', handler);\n        editor.addElements(this.addOne);\n        expect(this.addOne.getAttribute('data-medium-editor-element')).toBeDefined();\n        expect(editor.elements.length).toBe(2); // Detach + exec fn + reattach, asynchronous.\n\n        detach(this.addOne, true, function (reattach) {\n          editor.removeElements(this.addOne);\n          expect(editor.elements.length).toBe(1);\n          reattach();\n          editor.addElements(this.addTwo);\n          expect(editor.elements.length).toBe(2);\n          expect(this.addTwo.getAttribute('data-medium-editor-element')).toBeDefined();\n          editor.selectElement(this.addTwo.firstChild);\n          expect(focusedEditable).toBe(this.addTwo);\n          editor.selectElement(this.addTwo.firstChild);\n          this.addTwo.textContent = 'lore ipsum!'; // trigger onInput\n\n          fireEvent(this.addTwo, 'input'); // trigger faked 'selectionchange' event\n\n          fireEvent(document, 'selectionchange', {\n            target: document,\n            currentTarget: this.addTwo\n          });\n          jasmine.clock().tick(1);\n          expect(firedTarget).toBe(this.addTwo);\n          expect(firedCounter).toBe(1);\n          MediumEditor.Events.prototype.InputEventOnContenteditableSupported = originalInputSupport;\n        }.bind(this));\n      });",
            "file": "dyn-elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should accept specific elements to remove",
            "suites": [
                "MediumEditor.DynamicElements TestCase",
                "removeElements"
            ],
            "line": 174,
            "updatePoint": {
                "line": 174,
                "column": 49
            },
            "code": "    it('should accept specific elements to remove', function () {\n      var editor = this.newMediumEditor('.editor, .add-one');\n      expect(editor.elements.indexOf(this.addOne)).not.toBe(-1);\n      expect(editor.elements.indexOf(this.el)).not.toBe(-1);\n      editor.removeElements(this.addOne);\n      expect(editor.elements.indexOf(this.addOne)).toBe(-1);\n      expect(editor.elements.indexOf(this.el)).not.toBe(-1);\n      editor.removeElements(this.el);\n      expect(editor.elements.indexOf(this.el)).toBe(-1);\n    });",
            "file": "dyn-elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should accept a selector to specify elements to remove",
            "suites": [
                "MediumEditor.DynamicElements TestCase",
                "removeElements"
            ],
            "line": 184,
            "updatePoint": {
                "line": 184,
                "column": 62
            },
            "code": "    it('should accept a selector to specify elements to remove', function () {\n      var editor = this.newMediumEditor('.editor, .add-one');\n      expect(editor.elements.length).toBe(2);\n      editor.removeElements('.editor');\n      expect(editor.elements.length).toBe(1);\n      editor.removeElements('.add-one');\n      expect(editor.elements.length).toBe(0);\n    });",
            "file": "dyn-elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should accept a NodeList to specify elements to remove",
            "suites": [
                "MediumEditor.DynamicElements TestCase",
                "removeElements"
            ],
            "line": 192,
            "updatePoint": {
                "line": 192,
                "column": 62
            },
            "code": "    it('should accept a NodeList to specify elements to remove', function () {\n      var editor = this.newMediumEditor('.editor, .add-one');\n      expect(editor.elements.length).toBe(2);\n      editor.removeElements(document.getElementsByClassName('editor'));\n      expect(editor.elements.length).toBe(1);\n      editor.removeElements(document.getElementsByClassName('add-one'));\n      expect(editor.elements.length).toBe(0);\n    });",
            "file": "dyn-elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should detach all event handlers from an element",
            "suites": [
                "MediumEditor.DynamicElements TestCase",
                "removeElements"
            ],
            "line": 200,
            "updatePoint": {
                "line": 200,
                "column": 56
            },
            "code": "    it('should detach all event handlers from an element', function () {\n      var attached = [],\n          origAdd = this.el.addEventListener,\n          origRemove = this.el.removeEventListener;\n\n      this.el.removeEventListener = function () {\n        var args = arguments;\n        attached = attached.filter(function (props) {\n          if (props[0] === args[0] && props[1] === args[1] && props[2] === args[2]) {\n            return false;\n          }\n\n          return true;\n        });\n        origRemove.apply(this, arguments);\n      }.bind(this.el);\n\n      this.el.addEventListener = function () {\n        attached.push([arguments[0], arguments[1], arguments[2]]);\n        origAdd.apply(this, arguments);\n      }.bind(this.el); // Instatiating editor will trigger adding event handlers to each element\n\n\n      var editor = this.newMediumEditor('.editor, .add-one');\n      expect(attached.length).not.toBe(0); // Removing should make calls to remove each individual event handler\n\n      editor.removeElements(this.el);\n      expect(attached.length).toBe(0);\n    });",
            "file": "dyn-elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should trigger removeElement custom event for each element",
            "suites": [
                "MediumEditor.DynamicElements TestCase",
                "removeElements"
            ],
            "line": 229,
            "updatePoint": {
                "line": 229,
                "column": 66
            },
            "code": "    it('should trigger removeElement custom event for each element', function () {\n      var editor = this.newMediumEditor('.editor, .add-one, .add-two'),\n          spy = jasmine.createSpy('handler');\n      editor.subscribe('removeElement', spy);\n      editor.removeElements('.add-one');\n      expect(spy).toHaveBeenCalledWith({\n        target: this.addOne,\n        currentTarget: this.addOne\n      }, this.addOne);\n      editor.removeElements(document.getElementsByClassName('add-two'));\n      expect(spy).toHaveBeenCalledWith({\n        target: this.addTwo,\n        currentTarget: this.addTwo\n      }, this.addTwo);\n    });",
            "file": "dyn-elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should set element contenteditable attribute to true",
            "suites": [
                "Elements TestCase",
                "Initialization"
            ],
            "line": 12,
            "updatePoint": {
                "line": 12,
                "column": 60
            },
            "code": "    it('should set element contenteditable attribute to true', function () {\n      var editor = this.newMediumEditor('.editor');\n      expect(editor.elements.length).toBe(1);\n      expect(this.el.getAttribute('contenteditable')).toEqual('true');\n    });",
            "file": "elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not set element contenteditable when disableEditing is true",
            "suites": [
                "Elements TestCase",
                "Initialization"
            ],
            "line": 17,
            "updatePoint": {
                "line": 17,
                "column": 74
            },
            "code": "    it('should not set element contenteditable when disableEditing is true', function () {\n      var editor = this.newMediumEditor('.editor', {\n        disableEditing: true\n      });\n      expect(editor.elements.length).toBe(1);\n      expect(this.el.getAttribute('contenteditable')).toBeFalsy();\n    });",
            "file": "elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not set element contenteditable when data-disable-editing is true",
            "suites": [
                "Elements TestCase",
                "Initialization"
            ],
            "line": 24,
            "updatePoint": {
                "line": 24,
                "column": 80
            },
            "code": "    it('should not set element contenteditable when data-disable-editing is true', function () {\n      this.el.setAttribute('data-disable-editing', true);\n      var editor = this.newMediumEditor('.editor');\n      expect(editor.elements.length).toBe(1);\n      expect(this.el.getAttribute('contenteditable')).toBeFalsy();\n    });",
            "file": "elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should set element data attr medium-editor-element to true and add medium-editor-element class",
            "suites": [
                "Elements TestCase",
                "Initialization"
            ],
            "line": 30,
            "updatePoint": {
                "line": 30,
                "column": 102
            },
            "code": "    it('should set element data attr medium-editor-element to true and add medium-editor-element class', function () {\n      var editor = this.newMediumEditor('.editor');\n      expect(editor.elements.length).toBe(1);\n      expect(this.el.getAttribute('data-medium-editor-element')).toEqual('true');\n      expect(this.el.className).toBe('editor medium-editor-element');\n    });",
            "file": "elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should set element role attribute to textbox",
            "suites": [
                "Elements TestCase",
                "Initialization"
            ],
            "line": 36,
            "updatePoint": {
                "line": 36,
                "column": 52
            },
            "code": "    it('should set element role attribute to textbox', function () {\n      var editor = this.newMediumEditor('.editor');\n      expect(editor.elements.length).toBe(1);\n      expect(this.el.getAttribute('role')).toEqual('textbox');\n    });",
            "file": "elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should set element aria multiline attribute to true",
            "suites": [
                "Elements TestCase",
                "Initialization"
            ],
            "line": 41,
            "updatePoint": {
                "line": 41,
                "column": 59
            },
            "code": "    it('should set element aria multiline attribute to true', function () {\n      var editor = this.newMediumEditor('.editor');\n      expect(editor.elements.length).toBe(1);\n      expect(this.el.getAttribute('aria-multiline')).toEqual('true');\n    });",
            "file": "elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should set the data-medium-editor-editor-index attribute to be the id of the editor instance",
            "suites": [
                "Elements TestCase",
                "Initialization"
            ],
            "line": 46,
            "updatePoint": {
                "line": 46,
                "column": 100
            },
            "code": "    it('should set the data-medium-editor-editor-index attribute to be the id of the editor instance', function () {\n      var editor = this.newMediumEditor('.editor');\n      expect(editor.elements[0]).toBe(this.el);\n      expect(parseInt(this.el.getAttribute('data-medium-editor-editor-index'))).toBe(editor.id);\n    });",
            "file": "elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove the contenteditable attribute",
            "suites": [
                "Elements TestCase",
                "Destroy"
            ],
            "line": 53,
            "updatePoint": {
                "line": 53,
                "column": 51
            },
            "code": "    it('should remove the contenteditable attribute', function () {\n      var editor = this.newMediumEditor('.editor');\n      expect(this.el.getAttribute('contenteditable')).toEqual('true');\n      editor.destroy();\n      expect(this.el.hasAttribute('contenteditable')).toBe(false);\n    });",
            "file": "elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove the medium-editor-element attribute and class name",
            "suites": [
                "Elements TestCase",
                "Destroy"
            ],
            "line": 59,
            "updatePoint": {
                "line": 59,
                "column": 72
            },
            "code": "    it('should remove the medium-editor-element attribute and class name', function () {\n      this.el.classList.add('temp-class');\n      expect(this.el.className).toBe('editor temp-class');\n      var editor = this.newMediumEditor('.editor');\n      expect(this.el.getAttribute('data-medium-editor-element')).toEqual('true');\n      expect(this.el.className).toBe('editor temp-class medium-editor-element');\n      editor.destroy();\n      expect(this.el.hasAttribute('data-medium-editor-element')).toBe(false);\n      expect(this.el.className).toBe('editor temp-class');\n    });",
            "file": "elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove the role attribute",
            "suites": [
                "Elements TestCase",
                "Destroy"
            ],
            "line": 69,
            "updatePoint": {
                "line": 69,
                "column": 40
            },
            "code": "    it('should remove the role attribute', function () {\n      var editor = this.newMediumEditor('.editor');\n      expect(this.el.getAttribute('role')).toEqual('textbox');\n      editor.destroy();\n      expect(this.el.hasAttribute('role')).toBe(false);\n    });",
            "file": "elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove the aria-multiline attribute",
            "suites": [
                "Elements TestCase",
                "Destroy"
            ],
            "line": 75,
            "updatePoint": {
                "line": 75,
                "column": 50
            },
            "code": "    it('should remove the aria-multiline attribute', function () {\n      var editor = this.newMediumEditor('.editor');\n      expect(this.el.getAttribute('aria-multiline')).toEqual('true');\n      editor.destroy();\n      expect(this.el.hasAttribute('aria-multiline')).toBe(false);\n    });",
            "file": "elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove the data-medium-editor-editor-index attribute",
            "suites": [
                "Elements TestCase",
                "Destroy"
            ],
            "line": 81,
            "updatePoint": {
                "line": 81,
                "column": 67
            },
            "code": "    it('should remove the data-medium-editor-editor-index attribute', function () {\n      var editor = this.newMediumEditor('.editor');\n      expect(parseInt(this.el.getAttribute('data-medium-editor-editor-index'))).toBe(editor.id);\n      editor.destroy();\n      expect(this.el.hasAttribute('data-medium-editor-editor-index')).toBe(false);\n    });",
            "file": "elements.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should bind listener",
            "suites": [
                "MediumEditor.Events TestCase",
                "On"
            ],
            "line": 14,
            "updatePoint": {
                "line": 14,
                "column": 28
            },
            "code": "    it('should bind listener', function () {\n      var el, editor, spy;\n      el = this.createElement('div');\n      spy = jasmine.createSpy('handler');\n      editor = this.newMediumEditor('.editor');\n      editor.on(el, 'click', spy);\n      fireEvent(el, 'click');\n      jasmine.clock().tick(1);\n      expect(spy).toHaveBeenCalled();\n    });",
            "file": "events.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should bind listener even to list of elements",
            "suites": [
                "MediumEditor.Events TestCase",
                "On"
            ],
            "line": 24,
            "updatePoint": {
                "line": 24,
                "column": 53
            },
            "code": "    it('should bind listener even to list of elements', function () {\n      var el1, el2, elements, editor, spy;\n      el1 = this.createElement('div');\n      el1.classList.add('test-element');\n      el2 = this.createElement('div');\n      el2.classList.add('test-element');\n      elements = document.getElementsByClassName('test-element');\n      spy = jasmine.createSpy('handler');\n      editor = this.newMediumEditor('.editor');\n      editor.on(elements, 'click', spy);\n      fireEvent(el1, 'click');\n      jasmine.clock().tick(1);\n      expect(spy).toHaveBeenCalled();\n    });",
            "file": "events.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should unbind listener",
            "suites": [
                "MediumEditor.Events TestCase",
                "Off"
            ],
            "line": 40,
            "updatePoint": {
                "line": 40,
                "column": 30
            },
            "code": "    it('should unbind listener', function () {\n      var el, editor, spy;\n      el = this.createElement('div');\n      spy = jasmine.createSpy('handler');\n      editor = this.newMediumEditor('.editor');\n      editor.on(el, 'click', spy);\n      editor.off(el, 'click', spy);\n      fireEvent(el, 'click');\n      jasmine.clock().tick(1);\n      expect(spy).not.toHaveBeenCalled();\n    });",
            "file": "events.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should unbind listener even from list of elements",
            "suites": [
                "MediumEditor.Events TestCase",
                "Off"
            ],
            "line": 51,
            "updatePoint": {
                "line": 51,
                "column": 57
            },
            "code": "    it('should unbind listener even from list of elements', function () {\n      var el1, el2, elements, editor, spy;\n      el1 = this.createElement('div');\n      el1.classList.add('test-element');\n      el2 = this.createElement('div');\n      el2.classList.add('test-element');\n      elements = document.getElementsByClassName('test-element');\n      spy = jasmine.createSpy('handler');\n      editor = this.newMediumEditor('.editor');\n      editor.on(elements, 'click', spy);\n      editor.off(elements, 'click', spy);\n      fireEvent(el1, 'click');\n      jasmine.clock().tick(1);\n      expect(spy).not.toHaveBeenCalled();\n    });",
            "file": "events.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be attachable and triggerable if they are not built-in events",
            "suites": [
                "MediumEditor.Events TestCase",
                "Custom Events"
            ],
            "line": 68,
            "updatePoint": {
                "line": 68,
                "column": 76
            },
            "code": "    it('should be attachable and triggerable if they are not built-in events', function () {\n      var editor = this.newMediumEditor('.editor'),\n          spy = jasmine.createSpy('handler'),\n          tempData = {\n        temp: 'data'\n      };\n      editor.subscribe('myIncredibleEvent', spy);\n      expect(spy).not.toHaveBeenCalled();\n      editor.trigger('myIncredibleEvent', tempData, editor.elements[0]);\n      expect(spy).toHaveBeenCalledWith(tempData, editor.elements[0]);\n    });",
            "file": "events.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "can be disabled for a temporary period of time on a named basis",
            "suites": [
                "MediumEditor.Events TestCase",
                "Custom Events"
            ],
            "line": 79,
            "updatePoint": {
                "line": 79,
                "column": 71
            },
            "code": "    it('can be disabled for a temporary period of time on a named basis', function () {\n      var editor = this.newMediumEditor('.editor'),\n          spy = jasmine.createSpy('handler'),\n          tempData = {\n        temp: 'data'\n      };\n      editor.subscribe('myIncredibleEvent', spy);\n      expect(spy).not.toHaveBeenCalled();\n      editor.events.disableCustomEvent('myIncredibleEvent');\n      editor.trigger('myIncredibleEvent', tempData, editor.elements[0]);\n      expect(spy).not.toHaveBeenCalled();\n      editor.events.enableCustomEvent('myIncredibleEvent');\n      editor.trigger('myIncredibleEvent', tempData, editor.elements[0]);\n      expect(spy).toHaveBeenCalledWith(tempData, editor.elements[0]);\n    });",
            "file": "events.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be called and passed the editable element when the editable gets focus",
            "suites": [
                "MediumEditor.Events TestCase",
                "Custom Focus/Blur Listener"
            ],
            "line": 96,
            "updatePoint": {
                "line": 96,
                "column": 85
            },
            "code": "    it('should be called and passed the editable element when the editable gets focus', function () {\n      var editor = this.newMediumEditor('.editor'),\n          focusedEditable,\n          blurredEditable,\n          focusListener = function (event, editable) {\n        focusedEditable = editable;\n      },\n          blurListener = function (event, editable) {\n        blurredEditable = editable;\n      };\n\n      editor.subscribe('focus', focusListener);\n      editor.subscribe('blur', blurListener);\n      editor.selectElement(this.el.firstChild);\n      expect(focusedEditable).toBe(this.el);\n      expect(blurredEditable).toBeUndefined();\n      fireEvent(document.body, 'mousedown');\n      fireEvent(document.body, 'mouseup');\n      fireEvent(document.body, 'click');\n      expect(blurredEditable).toBe(this.el);\n    });",
            "file": "events.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not trigger after detaching",
            "suites": [
                "MediumEditor.Events TestCase",
                "Custom Focus/Blur Listener"
            ],
            "line": 117,
            "updatePoint": {
                "line": 117,
                "column": 42
            },
            "code": "    it('should not trigger after detaching', function () {\n      var focusSpy = jasmine.createSpy('handler'),\n          blurSpy = jasmine.createSpy('handler'),\n          editor = this.newMediumEditor('.editor');\n      editor.subscribe('focus', focusSpy);\n      editor.subscribe('blur', blurSpy);\n      editor.selectElement(this.el.firstChild);\n      expect(focusSpy.calls.count()).toBe(1);\n      expect(blurSpy).not.toHaveBeenCalled();\n      fireEvent(document.body, 'click');\n      expect(blurSpy).toHaveBeenCalled();\n      editor.unsubscribe('focus', focusSpy);\n      editor.selectElement(this.el.firstChild);\n      expect(focusSpy.calls.count()).toBe(1);\n      editor.unsubscribe('blur', blurSpy);\n      fireEvent(document.body, 'click');\n      expect(blurSpy.calls.count()).toBe(1);\n    });",
            "file": "events.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not be called after destroying editor",
            "suites": [
                "MediumEditor.Events TestCase",
                "Custom Focus/Blur Listener"
            ],
            "line": 135,
            "updatePoint": {
                "line": 135,
                "column": 52
            },
            "code": "    it('should not be called after destroying editor', function () {\n      var editor = this.newMediumEditor('.editor'),\n          focusSpy = jasmine.createSpy('handler'),\n          blurSpy = jasmine.createSpy('handler');\n      editor.subscribe('focus', focusSpy);\n      editor.subscribe('blur', blurSpy);\n      this.el.focus();\n      fireEvent(this.el, 'focus');\n      expect(focusSpy.calls.count()).toBe(1);\n      expect(blurSpy).not.toHaveBeenCalled();\n      fireEvent(document.body, 'click');\n      expect(blurSpy).toHaveBeenCalled();\n      editor.destroy();\n      this.el.focus();\n      fireEvent(this.el, 'focus');\n      expect(focusSpy.calls.count()).toBe(1);\n      fireEvent(document.body, 'click');\n      expect(blurSpy.calls.count()).toBe(1);\n    });",
            "file": "events.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should only wrap document.execCommand when required",
            "suites": [
                "MediumEditor.Events TestCase",
                "ExecCommand Listener"
            ],
            "line": 156,
            "updatePoint": {
                "line": 156,
                "column": 59
            },
            "code": "    it('should only wrap document.execCommand when required', function () {\n      var origExecCommand = document.execCommand;\n      this.newMediumEditor('.editor', {\n        placeholder: false\n      });\n      expect(document.execCommand).toBe(origExecCommand);\n    });",
            "file": "events.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should wrap document.execCommand with a custom method",
            "suites": [
                "MediumEditor.Events TestCase",
                "ExecCommand Listener"
            ],
            "line": 163,
            "updatePoint": {
                "line": 163,
                "column": 61
            },
            "code": "    it('should wrap document.execCommand with a custom method', function () {\n      spyOn(document, 'execCommand').and.callThrough();\n      var origExecCommand = document.execCommand,\n          mockInstance = {\n        options: {\n          ownerDocument: document\n        }\n      },\n          events = new MediumEditor.Events(mockInstance),\n          handler = spyOn(events, 'handleDocumentExecCommand');\n      events.attachToExecCommand();\n      expect(document.execCommand).not.toBe(origExecCommand);\n      expect(document.execCommand.listeners.length).toBe(1); // Creating a real contenteditable to select to keep firefox happy during tests\n\n      var tempEl = this.createElement('div', '', 'firefox is lame');\n      tempEl.setAttribute('contenteditable', true);\n      selectElementContents(tempEl);\n      document.execCommand('bold', false, null);\n      expect(handler).toHaveBeenCalled();\n      expect(origExecCommand).toHaveBeenCalledWith('bold', false, null);\n    });",
            "file": "events.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should notify all listeners when execCommand is called",
            "suites": [
                "MediumEditor.Events TestCase",
                "ExecCommand Listener"
            ],
            "line": 184,
            "updatePoint": {
                "line": 184,
                "column": 62
            },
            "code": "    it('should notify all listeners when execCommand is called', function () {\n      spyOn(document, 'execCommand').and.callThrough();\n      var origExecCommand = document.execCommand,\n          mockInstance = {\n        options: {\n          ownerDocument: document\n        }\n      },\n          eventsOne = new MediumEditor.Events(mockInstance),\n          eventsTwo = new MediumEditor.Events(mockInstance),\n          handlerOne = spyOn(eventsOne, 'handleDocumentExecCommand'),\n          handlerTwo = spyOn(eventsTwo, 'handleDocumentExecCommand'),\n          args = ['bold', false, 'something'];\n      eventsOne.attachToExecCommand();\n      eventsTwo.attachToExecCommand();\n      expect(document.execCommand).not.toBe(origExecCommand);\n      expect(document.execCommand.listeners.length).toBe(2);\n      expect(handlerOne).not.toHaveBeenCalled();\n      expect(handlerTwo).not.toHaveBeenCalled(); // Creating a real contenteditable to select to keep firefox happy during tests\n\n      var tempEl = this.createElement('div', '', 'firefox is lame');\n      tempEl.setAttribute('contenteditable', true);\n      selectElementContents(tempEl);\n      document.execCommand.apply(document, args);\n      var expectedObj = {\n        command: 'bold',\n        value: 'something',\n        args: args,\n        result: true\n      };\n      expect(handlerOne).toHaveBeenCalledWith(expectedObj);\n      expect(handlerTwo).toHaveBeenCalledWith(expectedObj);\n      expect(origExecCommand).toHaveBeenCalledWith('bold', false, 'something');\n      eventsOne.destroy();\n      eventsTwo.destroy();\n    });",
            "file": "events.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should revert back to original execCommand when all listeners are removed",
            "suites": [
                "MediumEditor.Events TestCase",
                "ExecCommand Listener"
            ],
            "line": 220,
            "updatePoint": {
                "line": 220,
                "column": 81
            },
            "code": "    it('should revert back to original execCommand when all listeners are removed', function () {\n      var origExecCommand = document.execCommand,\n          mockInstance = {\n        options: {\n          ownerDocument: document\n        }\n      },\n          eventsOne = new MediumEditor.Events(mockInstance),\n          eventsTwo = new MediumEditor.Events(mockInstance);\n      expect(document.execCommand).toBe(origExecCommand);\n      eventsOne.attachToExecCommand();\n      eventsTwo.attachToExecCommand();\n      expect(document.execCommand).not.toBe(origExecCommand);\n      eventsOne.detachExecCommand();\n      expect(document.execCommand).not.toBe(origExecCommand);\n      eventsTwo.detachExecCommand();\n      expect(document.execCommand).toBe(origExecCommand);\n      eventsOne.destroy();\n      eventsTwo.destroy();\n    });",
            "file": "events.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should wrap and unwrap execCommand when using MediumEditor methods",
            "suites": [
                "MediumEditor.Events TestCase",
                "ExecCommand Listener"
            ],
            "line": 240,
            "updatePoint": {
                "line": 240,
                "column": 74
            },
            "code": "    it('should wrap and unwrap execCommand when using MediumEditor methods', function () {\n      var originalInputSupport = MediumEditor.Events.prototype.InputEventOnContenteditableSupported;\n      MediumEditor.Events.prototype.InputEventOnContenteditableSupported = false;\n      spyOn(document, 'execCommand').and.callThrough();\n      var origExecCommand = document.execCommand,\n          editor = this.newMediumEditor('.editor');\n      editor.subscribe('editableInput', function () {});\n      expect(document.execCommand).not.toBe(origExecCommand);\n      editor.selectElement(editor.elements[0].firstChild);\n      document.execCommand('bold', null, false);\n      expect(origExecCommand).toHaveBeenCalledWith('bold', null, false);\n      editor.destroy();\n      expect(document.execCommand).toBe(origExecCommand);\n      MediumEditor.Events.prototype.InputEventOnContenteditableSupported = originalInputSupport;\n    });",
            "file": "events.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should expose a method for calling all listeners manually",
            "suites": [
                "MediumEditor.Events TestCase",
                "ExecCommand Listener"
            ],
            "line": 255,
            "updatePoint": {
                "line": 255,
                "column": 65
            },
            "code": "    it('should expose a method for calling all listeners manually', function () {\n      var originalInputSupport = MediumEditor.Events.prototype.InputEventOnContenteditableSupported;\n      MediumEditor.Events.prototype.InputEventOnContenteditableSupported = false;\n      spyOn(document, 'execCommand').and.callThrough();\n      var origExecCommand = document.execCommand,\n          mockInstance = {\n        options: {\n          ownerDocument: document\n        }\n      },\n          eventsOne = new MediumEditor.Events(mockInstance),\n          eventsTwo = new MediumEditor.Events(mockInstance),\n          handlerOne = spyOn(eventsOne, 'handleDocumentExecCommand'),\n          handlerTwo = spyOn(eventsTwo, 'handleDocumentExecCommand'),\n          args = ['bold', false, 'something'];\n      eventsOne.attachToExecCommand();\n      eventsTwo.attachToExecCommand();\n      expect(document.execCommand).not.toBe(origExecCommand);\n      expect(document.execCommand.listeners.length).toBe(2);\n      expect(document.execCommand.callListeners).not.toBeUndefined();\n      expect(handlerOne).not.toHaveBeenCalled();\n      expect(handlerTwo).not.toHaveBeenCalled();\n      document.execCommand.callListeners(args, true);\n      var expectedObj = {\n        command: 'bold',\n        value: 'something',\n        args: args,\n        result: true\n      };\n      expect(handlerOne).toHaveBeenCalledWith(expectedObj);\n      expect(handlerTwo).toHaveBeenCalledWith(expectedObj);\n      expect(origExecCommand).not.toHaveBeenCalled();\n      eventsOne.destroy();\n      eventsTwo.destroy();\n      MediumEditor.Events.prototype.InputEventOnContenteditableSupported = originalInputSupport;\n    });",
            "file": "events.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should trigger when bolding text when input event is NOT supported",
            "suites": [
                "MediumEditor.Events TestCase",
                "Custom EditableInput Listener"
            ],
            "line": 378,
            "updatePoint": {
                "line": 378,
                "column": 74
            },
            "code": "    it('should trigger when bolding text when input event is NOT supported', function () {\n      var originalInputSupport = MediumEditor.Events.prototype.InputEventOnContenteditableSupported;\n      MediumEditor.Events.prototype.InputEventOnContenteditableSupported = false;\n\n      var editableTwo = this.createElement('div', 'editor', 'lore ipsum'),\n          firedTarget,\n          editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button = toolbar.getToolbarElement().querySelector('[data-action=\"bold\"]'),\n          handler = function (event, editable) {\n        firedTarget = editable;\n      };\n\n      expect(editor.elements.length).toBe(2);\n      editor.subscribe('editableInput', handler);\n      selectElementContentsAndFire(editableTwo.firstChild);\n      expect(firedTarget).toBeUndefined();\n      fireEvent(button, 'click');\n      jasmine.clock().tick(1);\n      expect(firedTarget).toBe(editableTwo);\n      MediumEditor.Events.prototype.InputEventOnContenteditableSupported = originalInputSupport;\n    });",
            "file": "events.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "Should not execute javascript with disableReturn false",
            "suites": [
                "Exploits"
            ],
            "line": 12,
            "updatePoint": {
                "line": 12,
                "column": 60
            },
            "code": "  it('Should not execute javascript with disableReturn false', function () {\n    var evt,\n        range,\n        editorEl = this.el,\n        sel = window.getSelection(),\n        editor = this.newMediumEditor('.editor', {\n      delay: 200,\n      disableReturn: false\n    }),\n        pasteHandler = editor.getExtensionByName('paste'),\n        test = {\n      source: 'img onerror handler',\n      paste: '><img src=\"x\" onerror=\"alert(\\'xss\\')\">',\n      output: '<span id=\"editor-inner\">&gt;&lt;img src=\"x\" onerror=\"alert(\\'xss\\')\"&gt;</span>'\n    }; // mock event with clipboardData API\n    // test requires creating a function, so can't loop or jslint balks\n\n    evt = {\n      preventDefault: function () {\n        return;\n      },\n      clipboardData: {\n        getData: function () {\n          // do we need to return different results for the different types? text/plain, text/html\n          return test.paste;\n        }\n      }\n    };\n    editorEl.innerHTML = '<span id=\"editor-inner\">&nbsp</span>';\n    range = document.createRange();\n    range.selectNodeContents(editorEl.firstChild);\n    sel.removeAllRanges();\n    sel.addRange(range);\n    pasteHandler.handlePaste(evt, editorEl);\n    jasmine.clock().tick(100);\n    expect(editorEl.innerHTML).toEqual(test.output);\n  });",
            "file": "exploits.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "Should not execute javascript with disableReturn true",
            "suites": [
                "Exploits"
            ],
            "line": 49,
            "updatePoint": {
                "line": 49,
                "column": 59
            },
            "code": "  it('Should not execute javascript with disableReturn true', function () {\n    var evt,\n        range,\n        editorEl = this.el,\n        sel = window.getSelection(),\n        editor = this.newMediumEditor('.editor', {\n      delay: 200,\n      disableReturn: true\n    }),\n        pasteHandler = editor.getExtensionByName('paste'),\n        test = {\n      source: 'img onerror handler',\n      paste: '><img src=\"x\" onerror=\"alert(\\'xss\\')\">',\n      output: '<span id=\"editor-inner\">&gt;&lt;img src=\"x\" onerror=\"alert(\\'xss\\')\"&gt;</span>'\n    }; // mock event with clipboardData API\n    // test requires creating a function, so can't loop or jslint balks\n\n    evt = {\n      preventDefault: function () {\n        return;\n      },\n      clipboardData: {\n        getData: function () {\n          // do we need to return different results for the different types? text/plain, text/html\n          return test.paste;\n        }\n      }\n    };\n    editorEl.innerHTML = '<span id=\"editor-inner\">&nbsp</span>';\n    range = document.createRange();\n    range.selectNodeContents(document.getElementById('editor-inner'));\n    sel.removeAllRanges();\n    sel.addRange(range);\n    pasteHandler.handlePaste(evt, editorEl);\n    jasmine.clock().tick(100);\n    expect(editorEl.innerHTML).toEqual(test.output);\n  });",
            "file": "exploits.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should accept a number of extensions as parameter",
            "suites": [
                "Extensions TestCase",
                "Editor"
            ],
            "line": 13,
            "updatePoint": {
                "line": 13,
                "column": 57
            },
            "code": "    it('should accept a number of extensions as parameter', function () {\n      var extensions = {\n        'extension1': {},\n        'extension2': {}\n      },\n          editor = this.newMediumEditor('.editor', {\n        extensions: extensions\n      });\n      expect(editor.options.extensions).toBe(extensions);\n    });",
            "file": "extension.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should set the base property to an instance of MediumEditor",
            "suites": [
                "Extensions TestCase",
                "Editor"
            ],
            "line": 23,
            "updatePoint": {
                "line": 23,
                "column": 67
            },
            "code": "    it('should set the base property to an instance of MediumEditor', function () {\n      var extOne = new MediumEditor.Extension(),\n          editor = this.newMediumEditor('.editor', {\n        extensions: {\n          'one': extOne\n        }\n      });\n      expect(editor instanceof MediumEditor).toBeTruthy();\n      expect(extOne.base instanceof MediumEditor).toBeTruthy();\n    });",
            "file": "extension.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not override the base or name properties of an extension if overriden",
            "suites": [
                "Extensions TestCase",
                "Editor"
            ],
            "line": 33,
            "updatePoint": {
                "line": 33,
                "column": 84
            },
            "code": "    it('should not override the base or name properties of an extension if overriden', function () {\n      var TempExtension = MediumEditor.Extension.extend({\n        name: 'tempExtension',\n        base: 'something'\n      }),\n          editor = this.newMediumEditor('.editor', {\n        extensions: {\n          'one': new TempExtension()\n        }\n      });\n      expect(editor.getExtensionByName('one')).toBeUndefined();\n      expect(editor.getExtensionByName('tempExtension').base).toBe('something');\n    });",
            "file": "extension.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should set the name of property of extensions",
            "suites": [
                "Extensions TestCase",
                "Editor"
            ],
            "line": 46,
            "updatePoint": {
                "line": 46,
                "column": 53
            },
            "code": "    it('should set the name of property of extensions', function () {\n      var ExtensionOne = function () {},\n          ExtensionTwo = function () {},\n          extOne = new ExtensionOne(),\n          extTwo = new ExtensionTwo(),\n          editor = this.newMediumEditor('.editor', {\n        extensions: {\n          'one': extOne,\n          'two': extTwo\n        }\n      });\n\n      expect(extOne.name).toBe('one');\n      expect(extTwo.name).toBe('two');\n      expect(editor.getExtensionByName('one')).toBe(extOne);\n      expect(editor.getExtensionByName('two')).toBe(extTwo);\n    });",
            "file": "extension.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should set window and document properties on each extension",
            "suites": [
                "Extensions TestCase",
                "Editor"
            ],
            "line": 63,
            "updatePoint": {
                "line": 63,
                "column": 67
            },
            "code": "    it('should set window and document properties on each extension', function () {\n      var TempExtension = MediumEditor.Extension.extend({}),\n          extInstance = new TempExtension(),\n          fakeDocument = {\n        body: document.body,\n        documentElement: document.documentElement,\n        querySelectorAll: function () {\n          return document.querySelectorAll.apply(document, arguments);\n        },\n        createElement: function () {\n          return document.createElement.apply(document, arguments);\n        },\n        execCommand: function () {\n          return document.execCommand.apply(document, arguments);\n        },\n        getElementById: function () {\n          return document.getElementById.apply(document, arguments);\n        }\n      },\n          fakeWindow = {\n        addEventListener: function () {\n          return window.addEventListener.apply(window, arguments);\n        },\n        removeEventListener: function () {\n          return window.removeEventListener.apply(window, arguments);\n        }\n      };\n      this.newMediumEditor('.editor', {\n        ownerDocument: fakeDocument,\n        contentWindow: fakeWindow,\n        extensions: {\n          'temp-extension': extInstance\n        }\n      });\n      expect(extInstance.window).toBe(fakeWindow);\n      expect(extInstance.document).toBe(fakeDocument);\n    });",
            "file": "extension.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should call destroy on extensions when being destroyed",
            "suites": [
                "Extensions TestCase",
                "Editor"
            ],
            "line": 100,
            "updatePoint": {
                "line": 100,
                "column": 62
            },
            "code": "    it('should call destroy on extensions when being destroyed', function () {\n      var TempExtension = MediumEditor.Extension.extend({\n        destroy: function () {}\n      }),\n          extInstance = new TempExtension();\n      spyOn(extInstance, 'destroy');\n      var editor = this.newMediumEditor('.editor', {\n        extensions: {\n          'temp-extension': extInstance\n        }\n      });\n      editor.destroy();\n      expect(extInstance.destroy).toHaveBeenCalled();\n    });",
            "file": "extension.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "exists",
            "suites": [
                "Extensions TestCase",
                "Core Extension"
            ],
            "line": 116,
            "updatePoint": {
                "line": 116,
                "column": 14
            },
            "code": "    it('exists', function () {\n      expect(MediumEditor.Extension).toBeTruthy();\n    });",
            "file": "extension.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "provides an .extend method",
            "suites": [
                "Extensions TestCase",
                "Core Extension"
            ],
            "line": 119,
            "updatePoint": {
                "line": 119,
                "column": 34
            },
            "code": "    it('provides an .extend method', function () {\n      expect(MediumEditor.Extension.extend).toBeTruthy();\n      var Extended = MediumEditor.Extension.extend({\n        foo: 'bar'\n      });\n      expect(Extended.prototype.foo).toBe('bar');\n      expect(Extended.extend).toBe(MediumEditor.Extension.extend);\n    });",
            "file": "extension.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "can be passed as an extension",
            "suites": [
                "Extensions TestCase",
                "Core Extension"
            ],
            "line": 127,
            "updatePoint": {
                "line": 127,
                "column": 37
            },
            "code": "    it('can be passed as an extension', function () {\n      var Sub, editor, e1, e2;\n      Sub = MediumEditor.Extension.extend({\n        y: 10\n      });\n      e1 = new Sub();\n      e2 = new Sub({\n        y: 20\n      });\n      spyOn(e1, 'init');\n      editor = this.newMediumEditor('.editor', {\n        extensions: {\n          'foo': e1,\n          'bar': e2\n        }\n      });\n      expect(e1.y).toBe(10);\n      expect(e2.y).toBe(20);\n      expect(e1.init).toHaveBeenCalledWith();\n      expect(e1.base).toBe(editor);\n    });",
            "file": "extension.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not add default extensions when overriden",
            "suites": [
                "Extensions TestCase",
                "Core Extension"
            ],
            "line": 148,
            "updatePoint": {
                "line": 148,
                "column": 56
            },
            "code": "    it('should not add default extensions when overriden', function () {\n      var editor, Preview, Placeholder, AutoLink, FileDragging, extPreview, extPlaceholder, extAutoLink, extFileDragging;\n      Preview = MediumEditor.Extension.extend({\n        name: 'anchor-preview'\n      });\n      Placeholder = MediumEditor.Extension.extend({\n        name: 'placeholder'\n      });\n      AutoLink = MediumEditor.Extension.extend({\n        name: 'auto-link'\n      });\n      FileDragging = MediumEditor.Extension.extend({\n        name: 'fileDragging'\n      });\n      extPreview = new Preview();\n      extPlaceholder = new Placeholder();\n      extAutoLink = new AutoLink();\n      extFileDragging = new FileDragging();\n      editor = this.newMediumEditor('.editor', {\n        extensions: {\n          'anchor-preview': extPreview,\n          'placeholder': extPlaceholder,\n          'auto-link': extAutoLink,\n          'fileDragging': extFileDragging\n        }\n      });\n      expect(editor.getExtensionByName('anchor-preview')).toBe(extPreview);\n      expect(editor.getExtensionByName('placeholder')).toBe(extPlaceholder);\n      expect(editor.getExtensionByName('auto-link')).toBe(extAutoLink);\n      expect(editor.getExtensionByName('fileDragging')).toBe(extFileDragging);\n    });",
            "file": "extension.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should call constructor function if it exists",
            "suites": [
                "Extensions TestCase",
                "Core Extension"
            ],
            "line": 179,
            "updatePoint": {
                "line": 179,
                "column": 53
            },
            "code": "    it('should call constructor function if it exists', function () {\n      var editor, Sub, SubExtend, e1;\n      SubExtend = {\n        name: 'Sub',\n        constructor: function () {\n          // dummy constructor\n          return this;\n        }\n      };\n      spyOn(SubExtend, 'constructor');\n      Sub = MediumEditor.Extension.extend(SubExtend);\n      e1 = new Sub();\n      editor = this.newMediumEditor('.editor', {\n        extensions: {\n          'sub': e1\n        }\n      });\n      expect(SubExtend.constructor).toHaveBeenCalled();\n    });",
            "file": "extension.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should get helper methods to call into base instance methods",
            "suites": [
                "Extensions TestCase",
                "All extensions"
            ],
            "line": 200,
            "updatePoint": {
                "line": 200,
                "column": 68
            },
            "code": "    it('should get helper methods to call into base instance methods', function () {\n      var noop = function () {},\n          helpers = {\n        'on': [document, 'click', noop, false],\n        'off': [document, 'click', noop, false],\n        'subscribe': ['editableClick', noop],\n        'execAction': ['bold'],\n        'trigger': ['someEvent', noop, this.el]\n      },\n          tempExtension = new MediumEditor.Extension(),\n          editor = this.newMediumEditor('.editor', {\n        extensions: {\n          'temp-extension': tempExtension\n        }\n      });\n\n      Object.keys(helpers).forEach(function (helper) {\n        spyOn(editor, helper);\n      });\n      Object.keys(helpers).forEach(function (helper) {\n        tempExtension[helper].apply(tempExtension, helpers[helper]);\n        expect(editor[helper].calls.count()).toBe(1);\n      });\n    });",
            "file": "extension.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be able to access the editor id via getEditorId()",
            "suites": [
                "Extensions TestCase",
                "All extensions"
            ],
            "line": 224,
            "updatePoint": {
                "line": 224,
                "column": 64
            },
            "code": "    it('should be able to access the editor id via getEditorId()', function () {\n      var tempExtension = new MediumEditor.Extension(),\n          editor = this.newMediumEditor('.editor', {\n        extensions: {\n          'temp-extension': tempExtension\n        }\n      });\n      expect(tempExtension.getEditorId()).toBe(editor.id);\n    });",
            "file": "extension.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be able to access elements in this editor via getEditorElements()",
            "suites": [
                "Extensions TestCase",
                "All extensions"
            ],
            "line": 233,
            "updatePoint": {
                "line": 233,
                "column": 80
            },
            "code": "    it('should be able to access elements in this editor via getEditorElements()', function () {\n      var tempExtension = new MediumEditor.Extension(),\n          editor = this.newMediumEditor('.editor', {\n        extensions: {\n          'temp-extension': tempExtension\n        }\n      });\n      expect(tempExtension.getEditorElements()).toBe(editor.elements);\n    });",
            "file": "extension.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be able to access editor options via getEditorOption()",
            "suites": [
                "Extensions TestCase",
                "All extensions"
            ],
            "line": 242,
            "updatePoint": {
                "line": 242,
                "column": 69
            },
            "code": "    it('should be able to access editor options via getEditorOption()', function () {\n      var tempExtension = new MediumEditor.Extension(),\n          editor = this.newMediumEditor('.editor', {\n        disableReturn: true,\n        extensions: {\n          'temp-extension': tempExtension\n        }\n      });\n      expect(tempExtension.getEditorOption('disableReturn')).toBe(true);\n      expect(tempExtension.getEditorOption('spellcheck')).toBe(editor.options.spellcheck);\n    });",
            "file": "extension.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be able to prevent blur on the editor when user iteracts with extension elements",
            "suites": [
                "Extensions TestCase",
                "All extensions"
            ],
            "line": 253,
            "updatePoint": {
                "line": 253,
                "column": 95
            },
            "code": "    it('should be able to prevent blur on the editor when user iteracts with extension elements', function () {\n      var sampleElOne = this.createElement('button', null, 'Test Button'),\n          sampleElTwo = this.createElement('textarea', null, 'Test Div'),\n          externalEl = this.createElement('div', 'external-element', 'External Element'),\n          TempExtension = MediumEditor.Extension.extend({\n        getInteractionElements: function () {\n          return [sampleElOne, sampleElTwo];\n        }\n      }),\n          editor = this.newMediumEditor('.editor', {\n        extensions: {\n          'temp-extension': new TempExtension()\n        }\n      }),\n          spy = jasmine.createSpy('handler');\n      selectElementContentsAndFire(editor.elements[0]);\n      jasmine.clock().tick(1);\n      expect(editor.getExtensionByName('toolbar').isDisplayed()).toBe(true);\n      editor.subscribe('blur', spy);\n      fireEvent(sampleElTwo, 'mousedown');\n      fireEvent(sampleElTwo, 'mouseup');\n      fireEvent(sampleElTwo, 'click');\n      jasmine.clock().tick(51);\n      expect(spy).not.toHaveBeenCalled();\n      fireEvent(externalEl, 'mousedown');\n      fireEvent(document.body, 'mouseup');\n      fireEvent(document.body, 'click');\n      expect(spy).toHaveBeenCalled();\n    });",
            "file": "extension.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should include extensions button into toolbar",
            "suites": [
                "Extensions TestCase",
                "Button integration"
            ],
            "line": 302,
            "updatePoint": {
                "line": 302,
                "column": 53
            },
            "code": "    it('should include extensions button into toolbar', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['dummy']\n        },\n        extensions: {\n          'dummy': ExtensionWithElement\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar');\n      expect(toolbar.getToolbarElement().querySelectorAll('.extension-button').length).toBe(1);\n    });",
            "file": "extension.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should call checkState on extensions when toolbar selection updates",
            "suites": [
                "Extensions TestCase",
                "Button integration"
            ],
            "line": 314,
            "updatePoint": {
                "line": 314,
                "column": 75
            },
            "code": "    it('should call checkState on extensions when toolbar selection updates', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['dummy']\n        },\n        extensions: {\n          'dummy': ExtensionWithElement\n        }\n      });\n      selectElementContentsAndFire(editor.elements[0].firstChild, {\n        eventToFire: 'focus'\n      });\n      spyOn(ExtensionWithElement, 'checkState').and.callThrough();\n      editor.checkSelection();\n      jasmine.clock().tick(51);\n      expect(ExtensionWithElement.checkState.calls.count()).toEqual(1);\n      jasmine.clock().uninstall();\n    });",
            "file": "extension.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should include extensions button by string into the toolbar",
            "suites": [
                "Extensions TestCase",
                "Button integration"
            ],
            "line": 332,
            "updatePoint": {
                "line": 332,
                "column": 67
            },
            "code": "    it('should include extensions button by string into the toolbar', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['dummy']\n        },\n        extensions: {\n          'dummy': ExtensionWithString\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar');\n      expect(toolbar.getToolbarElement().querySelectorAll('.extension-button').length).toBe(1);\n    });",
            "file": "extension.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not include extensions button into toolbar that are not in \"buttons\"",
            "suites": [
                "Extensions TestCase",
                "Button integration"
            ],
            "line": 344,
            "updatePoint": {
                "line": 344,
                "column": 83
            },
            "code": "    it('should not include extensions button into toolbar that are not in \"buttons\"', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['bold']\n        },\n        extensions: {\n          'dummy': ExtensionWithElement\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar');\n      expect(toolbar.getToolbarElement().querySelectorAll('.extension-button').length).toBe(0);\n    });",
            "file": "extension.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not include buttons into the toolbar when an overriding extension is present",
            "suites": [
                "Extensions TestCase",
                "Button integration"
            ],
            "line": 356,
            "updatePoint": {
                "line": 356,
                "column": 91
            },
            "code": "    it('should not include buttons into the toolbar when an overriding extension is present', function () {\n      var ext = new ExtensionWithNoButton(),\n          editor;\n      spyOn(ext, 'init');\n      editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['bold', 'italic']\n        },\n        extensions: {\n          'bold': ext\n        }\n      });\n      var toolbar = editor.getExtensionByName('toolbar');\n      expect(toolbar.getToolbarElement().querySelectorAll('button').length).toBe(1);\n      expect(toolbar.getToolbarElement().querySelectorAll('button[data-action=\"italic\"]').length).toBe(1);\n      expect(toolbar.getToolbarElement().querySelectorAll('button[data-action=\"bold\"]').length).toBe(0);\n      expect(ext.init).toHaveBeenCalled();\n    });",
            "file": "extension.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should display the font name form when toolbar is visible",
            "suites": [
                "Font Name Button TestCase",
                "Click"
            ],
            "line": 28,
            "updatePoint": {
                "line": 28,
                "column": 65
            },
            "code": "    it('should display the font name form when toolbar is visible', function () {\n      spyOn(MediumEditor.extensions.fontName.prototype, 'showForm').and.callThrough();\n      var button,\n          editor = this.newMediumEditor('.editor', this.mediumOpts),\n          fontNameExtension = editor.getExtensionByName('fontname'),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"fontName\"]');\n      fireEvent(button, 'click');\n      expect(toolbar.getToolbarActionsElement().style.display).toBe('none');\n      expect(fontNameExtension.isDisplayed()).toBe(true);\n      expect(fontNameExtension.showForm).toHaveBeenCalled();\n    });",
            "file": "fontname.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should change font name when select is changed",
            "suites": [
                "Font Name Button TestCase",
                "Font Name"
            ],
            "line": 43,
            "updatePoint": {
                "line": 43,
                "column": 54
            },
            "code": "    it('should change font name when select is changed', function () {\n      spyOn(document, 'execCommand').and.callThrough();\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['fontname']\n        },\n        buttonLabels: 'fontawesome'\n      }),\n          fontNameExtension = editor.getExtensionByName('fontname'),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button,\n          select;\n      selectElementContentsAndFire(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"fontName\"]');\n      fireEvent(button, 'click');\n      select = fontNameExtension.getSelect();\n      select.value = 'Arial';\n      selectElementContents(this.el);\n      fireEvent(select, 'change');\n      expect(document.execCommand).toHaveBeenCalledWith('fontName', false, 'Arial');\n      fireEvent(fontNameExtension.getForm().querySelector('a.medium-editor-toobar-save'), 'click');\n      testFontNameContents(this.el, 'Arial');\n    });",
            "file": "fontname.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should display current font name when displayed",
            "suites": [
                "Font Name Button TestCase",
                "Font Name"
            ],
            "line": 66,
            "updatePoint": {
                "line": 66,
                "column": 55
            },
            "code": "    it('should display current font name when displayed', function () {\n      spyOn(MediumEditor.extensions.fontName.prototype, 'showForm').and.callThrough();\n      var editor = this.newMediumEditor('.editor', this.mediumOpts),\n          fontNameExtension = editor.getExtensionByName('fontname'),\n          toolbar = editor.getExtensionByName('toolbar');\n      this.el.innerHTML = '<font face=\"Arial\">lorem ipsum dolor</font>';\n      selectElementContentsAndFire(editor.elements[0].firstChild);\n      fireEvent(toolbar.getToolbarElement().querySelector('[data-action=\"fontName\"]'), 'click');\n      expect(fontNameExtension.showForm).toHaveBeenCalledWith('Arial');\n    });",
            "file": "fontname.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should revert font name when select value is set to empty",
            "suites": [
                "Font Name Button TestCase",
                "Font Name"
            ],
            "line": 76,
            "updatePoint": {
                "line": 76,
                "column": 65
            },
            "code": "    it('should revert font name when select value is set to empty', function () {\n      spyOn(document, 'execCommand').and.callThrough();\n      spyOn(MediumEditor.extensions.fontName.prototype, 'clearFontName').and.callThrough();\n      var editor = this.newMediumEditor('.editor', this.mediumOpts),\n          fontNameExtension = editor.getExtensionByName('fontname'),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button,\n          select;\n      selectElementContentsAndFire(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"fontName\"]');\n      fireEvent(button, 'click');\n      select = fontNameExtension.getSelect();\n      select.value = 'Arial';\n      selectElementContents(editor.elements[0]);\n      fireEvent(select, 'change');\n      expect(document.execCommand).toHaveBeenCalledWith('fontName', false, 'Arial');\n      expect(fontNameExtension.clearFontName).not.toHaveBeenCalled();\n      testFontNameContents(this.el, 'Arial');\n      select.value = '';\n      selectElementContents(editor.elements[0]);\n      fireEvent(select, 'change');\n      fireEvent(fontNameExtension.getForm().querySelector('a.medium-editor-toobar-save'), 'click');\n      testFontNameContents(this.el, null); // TODO: remove the <font> element entirely instead of just the `size` attribute\n\n      expect(fontNameExtension.clearFontName).toHaveBeenCalled();\n    });",
            "file": "fontname.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should close the font name form when user clicks on cancel",
            "suites": [
                "Font Name Button TestCase",
                "Cancel"
            ],
            "line": 104,
            "updatePoint": {
                "line": 104,
                "column": 66
            },
            "code": "    it('should close the font name form when user clicks on cancel', function () {\n      spyOn(MediumEditor.extensions.toolbar.prototype, 'showAndUpdateToolbar').and.callThrough();\n      var editor = this.newMediumEditor('.editor', this.mediumOpts),\n          fontNameExtension = editor.getExtensionByName('fontname'),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button,\n          select,\n          cancel;\n      selectElementContentsAndFire(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"fontName\"]');\n      cancel = fontNameExtension.getForm().querySelector('a.medium-editor-toobar-close');\n      fireEvent(button, 'click');\n      expect(fontNameExtension.isDisplayed()).toBe(true);\n      select = editor.getExtensionByName('fontname').getSelect();\n      select.value = 'Arial';\n      fireEvent(select, 'change');\n      fireEvent(cancel, 'click');\n      expect(this.el.innerHTML).toMatch(/^(<font>)?lorem ipsum(<\\/font>)?$/i);\n      expect(select.value).toBe('');\n      expect(toolbar.showAndUpdateToolbar).toHaveBeenCalled();\n      expect(fontNameExtension.isDisplayed()).toBe(false);\n    });",
            "file": "fontname.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should destroy the font name extension and remove the form",
            "suites": [
                "Font Name Button TestCase",
                "Destroying MediumEditor"
            ],
            "line": 128,
            "updatePoint": {
                "line": 128,
                "column": 66
            },
            "code": "    it('should destroy the font name extension and remove the form', function () {\n      spyOn(MediumEditor.extensions.fontName.prototype, 'destroy').and.callThrough();\n      var editor = this.newMediumEditor('.editor', this.mediumOpts),\n          fontNameExtension = editor.getExtensionByName('fontname'),\n          form = fontNameExtension.getForm();\n      expect(MediumEditor.util.isDescendant(document.body, form)).toBe(true);\n      editor.destroy();\n      expect(fontNameExtension.destroy).toHaveBeenCalled();\n      expect(MediumEditor.util.isDescendant(document.body, form)).toBe(false);\n    });",
            "file": "fontname.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should display the font size form when toolbar is visible",
            "suites": [
                "Font Size Button TestCase",
                "Click"
            ],
            "line": 28,
            "updatePoint": {
                "line": 28,
                "column": 65
            },
            "code": "    it('should display the font size form when toolbar is visible', function () {\n      spyOn(MediumEditor.extensions.fontSize.prototype, 'showForm').and.callThrough();\n      var button,\n          editor = this.newMediumEditor('.editor', this.mediumOpts),\n          fontSizeExtension = editor.getExtensionByName('fontsize'),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"fontSize\"]');\n      fireEvent(button, 'click');\n      expect(toolbar.getToolbarActionsElement().style.display).toBe('none');\n      expect(fontSizeExtension.isDisplayed()).toBe(true);\n      expect(fontSizeExtension.showForm).toHaveBeenCalled();\n    });",
            "file": "fontsize.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should change font size when slider is moved",
            "suites": [
                "Font Size Button TestCase",
                "Font Size"
            ],
            "line": 43,
            "updatePoint": {
                "line": 43,
                "column": 52
            },
            "code": "    it('should change font size when slider is moved', function () {\n      spyOn(document, 'execCommand').and.callThrough();\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['fontsize']\n        },\n        buttonLabels: 'fontawesome'\n      }),\n          fontSizeExtension = editor.getExtensionByName('fontsize'),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button,\n          input;\n      selectElementContentsAndFire(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"fontSize\"]');\n      fireEvent(button, 'click');\n      input = fontSizeExtension.getInput();\n      input.value = '7';\n      selectElementContents(this.el);\n      fireEvent(input, 'change');\n      expect(document.execCommand).toHaveBeenCalledWith('fontSize', false, '7');\n      fireEvent(fontSizeExtension.getForm().querySelector('a.medium-editor-toobar-save'), 'click');\n      testFontSizeContents(this.el, '7');\n    });",
            "file": "fontsize.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should display current font size when displayed",
            "suites": [
                "Font Size Button TestCase",
                "Font Size"
            ],
            "line": 66,
            "updatePoint": {
                "line": 66,
                "column": 55
            },
            "code": "    it('should display current font size when displayed', function () {\n      spyOn(MediumEditor.extensions.fontSize.prototype, 'showForm').and.callThrough();\n      var editor = this.newMediumEditor('.editor', this.mediumOpts),\n          fontSizeExtension = editor.getExtensionByName('fontsize'),\n          toolbar = editor.getExtensionByName('toolbar');\n      this.el.innerHTML = '<font size=\"7\">lorem ipsum dolor</font>';\n      selectElementContentsAndFire(editor.elements[0].firstChild);\n      fireEvent(toolbar.getToolbarElement().querySelector('[data-action=\"fontSize\"]'), 'click');\n      expect(fontSizeExtension.showForm).toHaveBeenCalledWith('7');\n    });",
            "file": "fontsize.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should revert font size when slider value is set to 4",
            "suites": [
                "Font Size Button TestCase",
                "Font Size"
            ],
            "line": 76,
            "updatePoint": {
                "line": 76,
                "column": 61
            },
            "code": "    it('should revert font size when slider value is set to 4', function () {\n      spyOn(document, 'execCommand').and.callThrough();\n      spyOn(MediumEditor.extensions.fontSize.prototype, 'clearFontSize').and.callThrough();\n      var editor = this.newMediumEditor('.editor', this.mediumOpts),\n          fontSizeExtension = editor.getExtensionByName('fontsize'),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button,\n          input;\n      selectElementContentsAndFire(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"fontSize\"]');\n      fireEvent(button, 'click');\n      input = fontSizeExtension.getInput();\n      input.value = '1';\n      selectElementContents(editor.elements[0]);\n      fireEvent(input, 'change');\n      expect(document.execCommand).toHaveBeenCalledWith('fontSize', false, '1');\n      expect(fontSizeExtension.clearFontSize).not.toHaveBeenCalled();\n      testFontSizeContents(this.el, '1');\n      input.value = '4';\n      selectElementContents(editor.elements[0]);\n      fireEvent(input, 'change');\n      fireEvent(fontSizeExtension.getForm().querySelector('a.medium-editor-toobar-save'), 'click');\n      testFontSizeContents(this.el, null); // TODO: remove the <font> element entirely instead of just the `size` attribute\n\n      expect(fontSizeExtension.clearFontSize).toHaveBeenCalled();\n    });",
            "file": "fontsize.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should close the font size form when user clicks on cancel",
            "suites": [
                "Font Size Button TestCase",
                "Cancel"
            ],
            "line": 104,
            "updatePoint": {
                "line": 104,
                "column": 66
            },
            "code": "    it('should close the font size form when user clicks on cancel', function () {\n      spyOn(MediumEditor.extensions.toolbar.prototype, 'showAndUpdateToolbar').and.callThrough();\n      var editor = this.newMediumEditor('.editor', this.mediumOpts),\n          fontSizeExtension = editor.getExtensionByName('fontsize'),\n          toolbar = editor.getExtensionByName('toolbar'),\n          button,\n          input,\n          cancel;\n      selectElementContentsAndFire(editor.elements[0]);\n      button = toolbar.getToolbarElement().querySelector('[data-action=\"fontSize\"]');\n      cancel = fontSizeExtension.getForm().querySelector('a.medium-editor-toobar-close');\n      fireEvent(button, 'click');\n      expect(fontSizeExtension.isDisplayed()).toBe(true);\n      input = editor.getExtensionByName('fontsize').getInput();\n      input.value = '7';\n      fireEvent(input, 'change');\n      fireEvent(cancel, 'click');\n      expect(this.el.innerHTML).toMatch(/^(<font>)?lorem ipsum(<\\/font>)?$/i); // IE9 doesn't support sliders\n\n      if (isIE9()) {\n        expect(input.value).toBe('');\n      } else {\n        expect(input.value).toBe('4');\n      }\n\n      expect(toolbar.showAndUpdateToolbar).toHaveBeenCalled();\n      expect(fontSizeExtension.isDisplayed()).toBe(false);\n    });",
            "file": "fontsize.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should destroy the font size extension and remove the form",
            "suites": [
                "Font Size Button TestCase",
                "Destroying MediumEditor"
            ],
            "line": 134,
            "updatePoint": {
                "line": 134,
                "column": 66
            },
            "code": "    it('should destroy the font size extension and remove the form', function () {\n      spyOn(MediumEditor.extensions.fontSize.prototype, 'destroy').and.callThrough();\n      var editor = this.newMediumEditor('.editor', this.mediumOpts),\n          fontSizeExtension = editor.getExtensionByName('fontsize'),\n          form = fontSizeExtension.getForm();\n      expect(MediumEditor.util.isDescendant(document.body, form)).toBe(true);\n      editor.destroy();\n      expect(fontSizeExtension.destroy).toHaveBeenCalled();\n      expect(MediumEditor.util.isDescendant(document.body, form)).toBe(false);\n    });",
            "file": "fontsize.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be bolded and unbolded when using a full-bold command",
            "suites": [
                "Full Content Action TestCase",
                "All editable contents"
            ],
            "line": 13,
            "updatePoint": {
                "line": 13,
                "column": 68
            },
            "code": "    it('should be bolded and unbolded when using a full-bold command', function () {\n      /*jslint regexp: true*/\n      var resultRegEx = /^<(b|strong)>lorem ipsum<\\/(b|strong)>$/gi;\n      /*jslint regexp: false*/\n\n      this.el.innerHTML = '<b>lorem ipsum</b>';\n      var editor = this.newMediumEditor('.editor');\n      selectElementContentsAndFire(editor.elements[0]);\n      editor.execAction('full-bold');\n      expect(this.el.innerHTML).toBe('lorem ipsum');\n      editor.execAction('full-bold');\n      expect(resultRegEx.test(this.el.innerHTML)).toBe(true);\n    });",
            "file": "full-content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should preserve selection after multiple full-content commands",
            "suites": [
                "Full Content Action TestCase",
                "Selection"
            ],
            "line": 28,
            "updatePoint": {
                "line": 28,
                "column": 70
            },
            "code": "    it('should preserve selection after multiple full-content commands', function () {\n      this.el.innerHTML = '<p>lorem <u>ipsum</u> dolor</p>';\n      var editor = this.newMediumEditor('.editor'),\n          // Beacuse not all browsers use <strike> or <s>, check for both\n      sTagO = '<(s|strike)>',\n          sTagC = '</(s|strike)>',\n          regex = new RegExp('^<p><u>lorem ' + sTagO + 'ipsum' + sTagC + ' dolor</u></p>$');\n      selectElementContentsAndFire(editor.elements[0].querySelector('u'));\n      editor.execAction('full-underline');\n      expect(this.el.innerHTML).toBe('<p>lorem ipsum dolor</p>');\n      editor.execAction('full-underline');\n      expect(this.el.innerHTML).toBe('<p><u>lorem ipsum dolor</u></p>'); // Ensure the selection is still maintained\n\n      editor.execAction('strikethrough');\n      expect(this.el.innerHTML).toMatch(regex);\n    });",
            "file": "full-content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should justify all contents including multiple block elements",
            "suites": [
                "Full Content Action TestCase",
                "Selection"
            ],
            "line": 44,
            "updatePoint": {
                "line": 44,
                "column": 69
            },
            "code": "    it('should justify all contents including multiple block elements', function () {\n      this.el.innerHTML = '<p align=\"center\">lorem ipsum dolor</p><p align=\"left\">lorem ipsum dolor</p>';\n      var editor = this.newMediumEditor('.editor');\n      selectElementContentsAndFire(editor.elements[0].firstChild);\n      expect(window.getComputedStyle(editor.elements[0].childNodes[0]).getPropertyValue('text-align').indexOf('center')).not.toBe(-1);\n      expect(window.getComputedStyle(editor.elements[0].childNodes[1]).getPropertyValue('text-align').indexOf('left')).not.toBe(-1);\n      editor.execAction('full-justifyRight');\n      expect(window.getComputedStyle(editor.elements[0].childNodes[0]).getPropertyValue('text-align').indexOf('right')).not.toBe(-1);\n      expect(window.getComputedStyle(editor.elements[0].childNodes[1]).getPropertyValue('text-align').indexOf('right')).not.toBe(-1); // Ensure only original selected <p> is affected\n\n      editor.execAction('justifyFull');\n      expect(window.getComputedStyle(editor.elements[0].childNodes[0]).getPropertyValue('text-align')).toBe('justify');\n      expect(window.getComputedStyle(editor.elements[0].childNodes[1]).getPropertyValue('text-align').indexOf('right')).not.toBe(-1);\n    });",
            "file": "full-content.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "header intact after leading return",
            "suites": [
                "Protect Header Tags TestCase",
                "ProtectHeaderTags"
            ],
            "line": 14,
            "updatePoint": {
                "line": 14,
                "column": 42
            },
            "code": "    it('header intact after leading return', function () {\n      // place cursor at begining of header\n      var editor = this.newMediumEditor('.editor'),\n          el = document.getElementById('header'),\n          range = document.createRange(),\n          sel = window.getSelection();\n      range.setStart(el, 0);\n      range.collapse(true);\n      sel.removeAllRanges();\n      sel.addRange(range); // hit return\n\n      fireEvent(editor.elements[0], 'keypress', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      el = document.getElementById('header');\n      expect(el).toBeDefined();\n      expect(el.nodeName.toLowerCase()).toBe('h2');\n    });",
            "file": "header-tags.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "header leading return inserts paragraph, not additional header",
            "suites": [
                "Protect Header Tags TestCase",
                "ProtectHeaderTags"
            ],
            "line": 32,
            "updatePoint": {
                "line": 32,
                "column": 70
            },
            "code": "    it('header leading return inserts paragraph, not additional header', function () {\n      // place cursor at begining of header\n      var editor = this.newMediumEditor('.editor'),\n          el = document.getElementById('header'),\n          range = document.createRange(),\n          sel = window.getSelection();\n      range.setStart(el, 0);\n      range.collapse(true);\n      sel.removeAllRanges();\n      sel.addRange(range); // hit return\n\n      fireEvent(editor.elements[0], 'keypress', {\n        keyCode: MediumEditor.util.keyCode.ENTER\n      });\n      el = document.getElementById('header');\n      expect(el.previousElementSibling.nodeName.toLowerCase()).toBe('p');\n    });",
            "file": "header-tags.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "header leading backspace into empty p preserves header",
            "suites": [
                "Protect Header Tags TestCase",
                "ProtectHeaderTags"
            ],
            "line": 49,
            "updatePoint": {
                "line": 49,
                "column": 62
            },
            "code": "    it('header leading backspace into empty p preserves header', function () {\n      // place cursor at begining of header\n      var editor = this.newMediumEditor('.editor'),\n          originalHTML = document.getElementById('editor').innerHTML,\n          el = document.getElementById('header'),\n          range = document.createRange(),\n          sel = window.getSelection();\n      range.setStart(el, 0);\n      range.collapse(true);\n      sel.removeAllRanges();\n      sel.addRange(range); // hit backspace\n\n      fireEvent(editor.elements[0].querySelector(el.nodeName.toLowerCase()), 'keydown', {\n        keyCode: MediumEditor.util.keyCode.BACKSPACE\n      });\n      el = document.getElementById('header');\n      expect(el).toBeDefined();\n      expect(el.nodeName.toLowerCase()).toBe('h2');\n      el = document.getElementById('editor');\n      expect(el.innerHTML).not.toBe(originalHTML);\n    });",
            "file": "header-tags.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should call init when instantiated",
            "suites": [
                "Initialization TestCase",
                "Objects"
            ],
            "line": 13,
            "updatePoint": {
                "line": 13,
                "column": 42
            },
            "code": "    it('should call init when instantiated', function () {\n      spyOn(MediumEditor.prototype, 'init');\n      var editor = this.newMediumEditor('.test');\n      expect(editor.init).toHaveBeenCalled();\n    });",
            "file": "init.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should accept multiple instances",
            "suites": [
                "Initialization TestCase",
                "Objects"
            ],
            "line": 18,
            "updatePoint": {
                "line": 18,
                "column": 40
            },
            "code": "    it('should accept multiple instances', function () {\n      spyOn(MediumEditor.prototype, 'init');\n      var editor1 = this.newMediumEditor('.test'),\n          editor2 = this.newMediumEditor('.test');\n      expect(editor1 === editor2).toBe(false);\n      expect(MediumEditor.prototype.init).toHaveBeenCalled();\n      expect(MediumEditor.prototype.init.calls.count()).toBe(2);\n    });",
            "file": "init.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should do nothing when selector does not return any elements",
            "suites": [
                "Initialization TestCase",
                "Objects"
            ],
            "line": 26,
            "updatePoint": {
                "line": 26,
                "column": 68
            },
            "code": "    it('should do nothing when selector does not return any elements', function () {\n      spyOn(MediumEditor.prototype, 'setup');\n      var editor = this.newMediumEditor('.test');\n      expect(editor.isActive).toBeFalsy();\n      expect(editor.events).toBeUndefined();\n      expect(editor.getExtensionByName('toolbar')).toBeUndefined();\n      expect(editor.getExtensionByName('anchor')).toBeUndefined();\n      expect(editor.getExtensionByName('anchor-preview')).toBeUndefined();\n    });",
            "file": "init.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should allow a string as parameter",
            "suites": [
                "Initialization TestCase",
                "Elements"
            ],
            "line": 37,
            "updatePoint": {
                "line": 37,
                "column": 42
            },
            "code": "    it('should allow a string as parameter', function () {\n      spyOn(document, 'querySelectorAll').and.callThrough();\n      this.newMediumEditor('.test');\n      expect(document.querySelectorAll).toHaveBeenCalled();\n    });",
            "file": "init.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should allow a list of html elements as parameters",
            "suites": [
                "Initialization TestCase",
                "Elements"
            ],
            "line": 42,
            "updatePoint": {
                "line": 42,
                "column": 58
            },
            "code": "    it('should allow a list of html elements as parameters', function () {\n      var elements = document.querySelectorAll('span'),\n          editor = this.newMediumEditor(elements);\n      expect(editor.elements.length).toEqual(elements.length);\n    });",
            "file": "init.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should allow a single element as parameter",
            "suites": [
                "Initialization TestCase",
                "Elements"
            ],
            "line": 47,
            "updatePoint": {
                "line": 47,
                "column": 50
            },
            "code": "    it('should allow a single element as parameter', function () {\n      var element = document.querySelector('span'),\n          editor = this.newMediumEditor(element);\n      expect(editor.elements).toEqual([element]);\n    });",
            "file": "init.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should always initalize elements as an Array",
            "suites": [
                "Initialization TestCase",
                "Elements"
            ],
            "line": 52,
            "updatePoint": {
                "line": 52,
                "column": 52
            },
            "code": "    it('should always initalize elements as an Array', function () {\n      var nodeList = document.querySelectorAll('span'),\n          node = document.querySelector('span'),\n          editor = this.newMediumEditor(nodeList); // nodeList is a NodeList, similar to an array but not of the same type\n\n      expect(editor.elements.length).toEqual(nodeList.length);\n      expect(Array.isArray(nodeList)).toBe(false);\n      expect(typeof editor.elements.forEach).toBe('function');\n      editor.destroy();\n      editor = this.newMediumEditor('span');\n      expect(editor.elements.length).toEqual(nodeList.length);\n      editor.destroy();\n      editor = this.newMediumEditor(node);\n      expect(editor.elements.length).toEqual(1);\n      expect(editor.elements[0]).toBe(node);\n      editor.destroy();\n      editor = this.newMediumEditor();\n      expect(editor.elements).not.toBe(null);\n      expect(editor.elements.length).toBe(0);\n      editor.destroy();\n    });",
            "file": "init.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be available after destroying and calling setup again",
            "suites": [
                "Initialization TestCase",
                "Elements"
            ],
            "line": 73,
            "updatePoint": {
                "line": 73,
                "column": 68
            },
            "code": "    it('should be available after destroying and calling setup again', function () {\n      var editor = this.newMediumEditor('.editor');\n      expect(editor.elements.length).toBe(1);\n      editor.destroy();\n      expect(editor.elements.length).toBe(0);\n      editor.setup();\n      expect(editor.elements.length).toBe(1);\n    });",
            "file": "init.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should have a default set of options",
            "suites": [
                "Initialization TestCase",
                "With a valid element"
            ],
            "line": 83,
            "updatePoint": {
                "line": 83,
                "column": 44
            },
            "code": "    it('should have a default set of options', function () {\n      var defaultOptions = {\n        delay: 0,\n        disableReturn: false,\n        disableDoubleReturn: false,\n        disableExtraSpaces: false,\n        disableEditing: false,\n        autoLink: false,\n        elementsContainer: document.body,\n        contentWindow: window,\n        ownerDocument: document,\n        buttonLabels: false,\n        targetBlank: false,\n        extensions: {},\n        activeButtonClass: 'medium-editor-button-active',\n        spellcheck: true\n      },\n          editor = this.newMediumEditor('.editor');\n      expect(Object.keys(editor.options).length).toBe(Object.keys(defaultOptions).length);\n      expect(_.isEqual(editor.options, defaultOptions)).toBe(true);\n    });",
            "file": "init.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should accept custom options values",
            "suites": [
                "Initialization TestCase",
                "With a valid element"
            ],
            "line": 104,
            "updatePoint": {
                "line": 104,
                "column": 43
            },
            "code": "    it('should accept custom options values', function () {\n      var options = {\n        delay: 300,\n        toolbar: {\n          diffLeft: 10,\n          diffTop: 5\n        },\n        anchor: {\n          placeholderText: 'test',\n          targetCheckboxText: 'new window?'\n        },\n        paste: {\n          forcePlainText: false,\n          cleanPastedHTML: true\n        }\n      },\n          editor = this.newMediumEditor('.editor', options);\n      Object.keys(options).forEach(function (customOption) {\n        expect(editor.options[customOption]).toBe(options[customOption]);\n      });\n    });",
            "file": "init.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should call the default initialization methods",
            "suites": [
                "Initialization TestCase",
                "With a valid element"
            ],
            "line": 125,
            "updatePoint": {
                "line": 125,
                "column": 54
            },
            "code": "    it('should call the default initialization methods', function () {\n      spyOn(MediumEditor.prototype, 'setup').and.callThrough();\n      spyOn(MediumEditor.extensions.toolbar.prototype, 'createToolbar').and.callThrough();\n      spyOn(MediumEditor.extensions.anchor.prototype, 'createForm').and.callThrough();\n      spyOn(MediumEditor.extensions.anchorPreview.prototype, 'createPreview').and.callThrough();\n      var editor = this.newMediumEditor('.editor'),\n          anchorExtension = editor.getExtensionByName('anchor'),\n          anchorPreview = editor.getExtensionByName('anchor-preview'),\n          toolbar = editor.getExtensionByName('toolbar');\n      expect(editor.setup).toHaveBeenCalled();\n      expect(toolbar).not.toBeUndefined();\n      expect(toolbar.createToolbar).toHaveBeenCalled();\n      expect(anchorExtension).not.toBeUndefined();\n      expect(anchorExtension.createForm).toHaveBeenCalled();\n      expect(anchorPreview).not.toBeUndefined();\n      expect(anchorPreview.createPreview).toHaveBeenCalled();\n    });",
            "file": "init.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should set the ID according to the numbers of editors instantiated",
            "suites": [
                "Initialization TestCase",
                "With a valid element"
            ],
            "line": 142,
            "updatePoint": {
                "line": 142,
                "column": 74
            },
            "code": "    it('should set the ID according to the numbers of editors instantiated', function () {\n      var editor1 = this.newMediumEditor('.editor'),\n          firstId = editor1.id,\n          editor2 = this.newMediumEditor(this.createElement('div')),\n          editor3 = this.newMediumEditor(this.createElement('div'));\n      expect(editor2.id).toBe(firstId + 1);\n      expect(editor3.id).toBe(firstId + 2);\n    });",
            "file": "init.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not reset id when destroyed and then re-initialized",
            "suites": [
                "Initialization TestCase",
                "With a valid element"
            ],
            "line": 150,
            "updatePoint": {
                "line": 150,
                "column": 66
            },
            "code": "    it('should not reset id when destroyed and then re-initialized', function () {\n      var editor1 = this.newMediumEditor('.editor'),\n          origId = editor1.id,\n          editor2;\n      this.createElement('div', 'editor-two');\n      editor2 = this.newMediumEditor('.editor-two');\n      editor1.destroy();\n      editor1.init('.editor');\n      expect(editor1.id).not.toEqual(editor2.id);\n      expect(editor1.id).toBe(origId);\n    });",
            "file": "init.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should use document.body as element container when no container element is specified",
            "suites": [
                "Initialization TestCase",
                "With a valid element"
            ],
            "line": 161,
            "updatePoint": {
                "line": 161,
                "column": 92
            },
            "code": "    it('should use document.body as element container when no container element is specified', function () {\n      spyOn(document.body, 'appendChild').and.callThrough();\n      this.newMediumEditor('.editor');\n      expect(document.body.appendChild).toHaveBeenCalled();\n    });",
            "file": "init.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should accept a custom element container for MediumEditor elements",
            "suites": [
                "Initialization TestCase",
                "With a valid element"
            ],
            "line": 166,
            "updatePoint": {
                "line": 166,
                "column": 74
            },
            "code": "    it('should accept a custom element container for MediumEditor elements', function () {\n      var div = this.createElement('div');\n      spyOn(div, 'appendChild').and.callThrough();\n      this.newMediumEditor('.editor', {\n        elementsContainer: div\n      });\n      expect(div.appendChild).toHaveBeenCalled();\n    });",
            "file": "init.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be executed when the keys are pressed",
            "suites": [
                "KeyboardCommands TestCase",
                "execAction"
            ],
            "line": 13,
            "updatePoint": {
                "line": 13,
                "column": 52
            },
            "code": "    it('should be executed when the keys are pressed', function () {\n      spyOn(MediumEditor.prototype, 'execAction');\n      var editor = this.newMediumEditor('.editor');\n      selectElementContentsAndFire(editor.elements[0]); // bold\n\n      fireEvent(editor.elements[0], 'keydown', {\n        keyCode: 'B'.charCodeAt(0),\n        ctrlKey: true,\n        metaKey: true\n      });\n      expect(editor.execAction).toHaveBeenCalledWith('bold'); // italics\n\n      fireEvent(editor.elements[0], 'keydown', {\n        keyCode: 'I'.charCodeAt(0),\n        ctrlKey: true,\n        metaKey: true\n      });\n      expect(editor.execAction).toHaveBeenCalledWith('italic'); // underline\n\n      fireEvent(editor.elements[0], 'keydown', {\n        keyCode: 'U'.charCodeAt(0),\n        ctrlKey: true,\n        metaKey: true\n      });\n      expect(editor.execAction).toHaveBeenCalledWith('underline');\n    });",
            "file": "keyboard-commands.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be executed for custom commands",
            "suites": [
                "KeyboardCommands TestCase",
                "execAction"
            ],
            "line": 39,
            "updatePoint": {
                "line": 39,
                "column": 46
            },
            "code": "    it('should be executed for custom commands', function () {\n      spyOn(MediumEditor.prototype, 'execAction');\n      var editor = this.newMediumEditor('.editor', {\n        keyboardCommands: {\n          commands: [{\n            command: 'superscript',\n            key: 'p',\n            meta: true,\n            shift: false,\n            alt: false\n          }, {\n            command: 'subscript',\n            key: 'p',\n            meta: true,\n            shift: true,\n            alt: false\n          }]\n        }\n      });\n      selectElementContentsAndFire(editor.elements[0]);\n      fireEvent(editor.elements[0], 'keydown', {\n        keyCode: 'p'.charCodeAt(0),\n        ctrlKey: true,\n        metaKey: true,\n        shiftKey: true\n      });\n      expect(editor.execAction).toHaveBeenCalledWith('subscript');\n      fireEvent(editor.elements[0], 'keydown', {\n        keyCode: 'p'.charCodeAt(0),\n        ctrlKey: true,\n        metaKey: true\n      });\n      expect(editor.execAction).toHaveBeenCalledWith('superscript');\n    });",
            "file": "keyboard-commands.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should execute custom command functions",
            "suites": [
                "KeyboardCommands TestCase",
                "execAction"
            ],
            "line": 73,
            "updatePoint": {
                "line": 73,
                "column": 47
            },
            "code": "    it('should execute custom command functions', function () {\n      var foo, editor;\n      foo = {\n        bar: function () {\n          return true;\n        }\n      };\n      spyOn(foo, 'bar');\n      editor = this.newMediumEditor('.editor', {\n        keyboardCommands: {\n          commands: [{\n            command: foo.bar,\n            key: 'f',\n            meta: true,\n            shift: false,\n            alt: false\n          }]\n        }\n      });\n      selectElementContentsAndFire(editor.elements[0]);\n      fireEvent(editor.elements[0], 'keydown', {\n        keyCode: 'f'.charCodeAt(0),\n        ctrlKey: true,\n        metaKey: true,\n        shiftKey: false\n      });\n      expect(foo.bar).toHaveBeenCalled();\n    }); // TODO: remove this test when jumping in 6.0.0",
            "file": "keyboard-commands.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be executed for custom command without alt defined",
            "suites": [
                "KeyboardCommands TestCase",
                "execAction"
            ],
            "line": 102,
            "updatePoint": {
                "line": 102,
                "column": 65
            },
            "code": "    it('should be executed for custom command without alt defined', function () {\n      spyOn(MediumEditor.prototype, 'execAction');\n      var editor = this.newMediumEditor('.editor', {\n        keyboardCommands: {\n          commands: [{\n            command: 'superscript',\n            key: 'p',\n            meta: true,\n            shift: false\n          }, {\n            command: 'subscript',\n            key: 'r',\n            meta: true,\n            shift: false\n          }]\n        }\n      });\n      selectElementContentsAndFire(editor.elements[0]); // If alt-key is not pressed, command should still be executed\n\n      fireEvent(editor.elements[0], 'keydown', {\n        keyCode: 'p'.charCodeAt(0),\n        ctrlKey: true,\n        metaKey: true,\n        altKey: false\n      });\n      expect(editor.execAction).toHaveBeenCalledWith('superscript'); // If alt-key is pressed, command should stil be executed\n\n      fireEvent(editor.elements[0], 'keydown', {\n        keyCode: 'r'.charCodeAt(0),\n        ctrlKey: true,\n        metaKey: true,\n        altKey: true\n      });\n      expect(editor.execAction).toHaveBeenCalledWith('subscript');\n    });",
            "file": "keyboard-commands.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should support the use of Alt key",
            "suites": [
                "KeyboardCommands TestCase",
                "execAction"
            ],
            "line": 137,
            "updatePoint": {
                "line": 137,
                "column": 41
            },
            "code": "    it('should support the use of Alt key', function () {\n      spyOn(MediumEditor.prototype, 'execAction');\n      var editor = this.newMediumEditor('.editor', {\n        keyboardCommands: {\n          commands: [{\n            command: 'append-h1',\n            key: '1',\n            meta: true,\n            shift: false,\n            alt: true\n          }, {\n            command: 'append-h2',\n            key: '2',\n            meta: true,\n            shift: false,\n            alt: true\n          }, {\n            command: 'append-h3',\n            key: '3',\n            meta: true,\n            shift: false,\n            alt: true\n          }, {\n            command: 'append-h4',\n            key: '4',\n            meta: true,\n            shift: false,\n            alt: true\n          }, {\n            command: 'append-h5',\n            key: '5',\n            meta: true,\n            shift: false,\n            alt: true\n          }, {\n            command: 'append-h6',\n            key: '6',\n            meta: true,\n            shift: false,\n            alt: true\n          }]\n        }\n      });\n      selectElementContentsAndFire(editor.elements[0]);\n      ['1', '2', '3', '4', '5', '6'].forEach(function (heading) {\n        fireEvent(editor.elements[0], 'keydown', {\n          keyCode: heading.toString().charCodeAt(0),\n          ctrlKey: true,\n          metaKey: true,\n          altKey: true\n        });\n        expect(editor.execAction).toHaveBeenCalledWith('append-h' + heading);\n      });\n    });",
            "file": "keyboard-commands.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not execute the button action when shift key is pressed",
            "suites": [
                "KeyboardCommands TestCase",
                "execAction"
            ],
            "line": 191,
            "updatePoint": {
                "line": 191,
                "column": 70
            },
            "code": "    it('should not execute the button action when shift key is pressed', function () {\n      spyOn(MediumEditor.prototype, 'execAction');\n      var editor = this.newMediumEditor('.editor');\n      selectElementContentsAndFire(editor.elements[0]);\n      fireEvent(editor.elements[0], 'keydown', {\n        keyCode: 'B'.charCodeAt(0),\n        ctrlKey: true,\n        metaKey: true,\n        shiftKey: true\n      });\n      expect(editor.execAction).not.toHaveBeenCalled();\n    });",
            "file": "keyboard-commands.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not execute when keyboard-commands are disabled",
            "suites": [
                "KeyboardCommands TestCase",
                "execAction"
            ],
            "line": 203,
            "updatePoint": {
                "line": 203,
                "column": 62
            },
            "code": "    it('should not execute when keyboard-commands are disabled', function () {\n      spyOn(MediumEditor.prototype, 'execAction');\n      var editor = this.newMediumEditor('.editor', {\n        keyboardCommands: false\n      });\n      selectElementContentsAndFire(editor.elements[0]);\n      fireEvent(editor.elements[0], 'keydown', {\n        keyCode: 'B'.charCodeAt(0),\n        ctrlKey: true,\n        metaKey: true\n      });\n      expect(editor.execAction).not.toHaveBeenCalled();\n    });",
            "file": "keyboard-commands.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not execute when the command key are false",
            "suites": [
                "KeyboardCommands TestCase",
                "execAction"
            ],
            "line": 216,
            "updatePoint": {
                "line": 216,
                "column": 57
            },
            "code": "    it('should not execute when the command key are false', function () {\n      spyOn(MediumEditor.prototype, 'execAction');\n      var result,\n          editor = this.newMediumEditor('.editor', {\n        keyboardCommands: {\n          commands: [{\n            command: false,\n            key: 'J',\n            meta: true,\n            shift: false\n          }]\n        }\n      });\n      selectElementContentsAndFire(editor.elements[0]);\n      fireEvent(editor.elements[0], 'keydown', {\n        keyCode: 'J'.charCodeAt(0),\n        ctrlKey: true,\n        metaKey: true,\n        shiftKey: false\n      });\n      expect(editor.execAction).not.toHaveBeenCalled();\n      result = fireEvent(editor.elements[0], 'keydown', {\n        keyCode: 'J'.charCodeAt(0),\n        ctrlKey: true,\n        metaKey: true,\n        shiftKey: true\n      });\n      expect(result).toBe(false, 'The command was not blocked because shift key was pressed');\n    });",
            "file": "keyboard-commands.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should filter multi-line rich-text pastes",
            "suites": [
                "Pasting content",
                "using cleanPastedHTML option"
            ],
            "line": 92,
            "updatePoint": {
                "line": 92,
                "column": 49
            },
            "code": "    it('should filter multi-line rich-text pastes', function () {\n      var i,\n          editorEl = this.el,\n          editor = this.newMediumEditor('.editor', {\n        delay: 200,\n        paste: {\n          forcePlainText: false,\n          cleanPastedHTML: true\n        }\n      }),\n          pasteHandler = editor.getExtensionByName('paste'),\n          // mock event with clipboardData API\n      // test requires creating a function, so can't loop or jslint balks\n      evt = {\n        pasteText: null,\n        preventDefault: function () {\n          return;\n        },\n        clipboardData: {\n          types: ['text/plain', 'text/html'],\n          getData: function () {\n            // do we need to return different results for the different types? text/plain, text/html\n            return this.pasteText;\n          }\n        }\n      };\n\n      for (i = 0; i < multiLineTests.length; i += 1) {\n        // move caret to editor\n        editorEl.innerHTML = '<span id=\"editor-inner\">&nbsp</span>';\n        selectElementContentsAndFire(editorEl);\n        evt.clipboardData.pasteText = multiLineTests[i].paste;\n        pasteHandler.handlePaste(evt, editorEl);\n        jasmine.clock().tick(100);\n        expect(editorEl.innerHTML).toEqual(multiLineTests[i].output);\n      }\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should add paragraphs to pasted plain-text",
            "suites": [
                "Pasting content",
                "using cleanPastedHTML option"
            ],
            "line": 129,
            "updatePoint": {
                "line": 129,
                "column": 50
            },
            "code": "    it('should add paragraphs to pasted plain-text', function () {\n      var editorEl = this.el,\n          editor = this.newMediumEditor('.editor', {\n        delay: 200,\n        paste: {\n          forcePlainText: false,\n          cleanPastedHTML: true\n        }\n      }),\n          pasteHandler = editor.getExtensionByName('paste'),\n          // mock event with clipboardData API\n      // test requires creating a function, so can't loop or jslint balks\n      evt = {\n        preventDefault: function () {\n          return;\n        },\n        clipboardData: {\n          types: ['text/plain'],\n          getData: function (clipboardType) {\n            if (clipboardType === 'text/plain') {\n              return 'One\\n\\nTwo\\n\\nThree';\n            }\n          }\n        }\n      }; // move caret to editor\n\n      editorEl.innerHTML = '<span id=\"editor-inner\">&nbsp</span>';\n      selectElementContentsAndFire(editorEl);\n      pasteHandler.handlePaste(evt, editorEl);\n      jasmine.clock().tick(100);\n      expect(editorEl.innerHTML).toEqual('<p>One</p><p>Two</p><p>Three</p>');\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should trigger editablePaste",
            "suites": [
                "Pasting content",
                "using cleanPastedHTML option"
            ],
            "line": 161,
            "updatePoint": {
                "line": 161,
                "column": 36
            },
            "code": "    it('should trigger editablePaste', function () {\n      var editorEl = this.el,\n          editor = this.newMediumEditor('.editor', {\n        paste: {\n          forcePlainText: false,\n          cleanPastedHTML: true\n        }\n      }),\n          spy = jasmine.createSpy('handler');\n      editor.subscribe('editablePaste', spy); // move caret to editor\n\n      editorEl.innerHTML = '<span id=\"editor-inner\">&nbsp</span>';\n      selectElementContentsAndFire(editorEl);\n      expect(spy).not.toHaveBeenCalled();\n      var evt = prepareEvent(editorEl, 'paste');\n      firePreparedEvent(evt, editorEl, 'paste');\n      jasmine.clock().tick(1);\n      expect(spy).toHaveBeenCalledWith(evt, this.el);\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should filter multi-line rich-text pastes when \"insertHTML\" command is not supported",
            "suites": [
                "Pasting content",
                "using cleanPastedHTML option"
            ],
            "line": 180,
            "updatePoint": {
                "line": 180,
                "column": 92
            },
            "code": "    it('should filter multi-line rich-text pastes when \"insertHTML\" command is not supported', function () {\n      var editor = this.newMediumEditor('.editor', {\n        paste: {\n          forcePlainText: false,\n          cleanPastedHTML: true\n        }\n      });\n      spyOn(document, 'queryCommandSupported').and.returnValue(false);\n      multiLineTests.forEach(function (test) {\n        this.el.innerHTML = '<span id=\"editor-inner\">lorem ipsum</span>';\n        selectElementContentsAndFire(this.el);\n        editor.cleanPaste(test.paste);\n        expect(this.el.innerHTML).toEqual(test.output);\n      }.bind(this));\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should add target=\"_blank\" on anchor",
            "suites": [
                "Pasting content",
                "using cleanPastedHTML option"
            ],
            "line": 195,
            "updatePoint": {
                "line": 195,
                "column": 44
            },
            "code": "    it('should add target=\"_blank\" on anchor', function () {\n      var editor = this.newMediumEditor('.editor', {\n        targetBlank: true,\n        paste: {\n          forcePlainText: false,\n          cleanPastedHTML: true\n        }\n      });\n      spyOn(document, 'queryCommandSupported').and.returnValue(false);\n      this.el.innerHTML = '<span id=\"editor-inner\">lorem ipsum</span>';\n      selectElementContentsAndFire(this.el);\n      editor.cleanPaste('<a href=\"http://0.0.0.0/bar.html\">foo<a>');\n      expect(this.el.innerHTML).toContain('target=\"_blank\"');\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should insert a custom paste-bin on keydown of CTRL + V",
            "suites": [
                "Pasting content",
                "using keyboard"
            ],
            "line": 211,
            "updatePoint": {
                "line": 211,
                "column": 63
            },
            "code": "    it('should insert a custom paste-bin on keydown of CTRL + V', function () {\n      var editor = this.newMediumEditor('.editor', {\n        paste: {\n          forcePlainText: false,\n          cleanPastedHTML: true\n        }\n      });\n      selectElementContentsAndFire(editor.elements[0].firstChild);\n      var contentEditables = document.body.querySelectorAll('[contentEditable=true]');\n      expect(contentEditables.length).toBe(1);\n      fireEvent(this.el, 'keydown', {\n        keyCode: MediumEditor.util.keyCode.V,\n        ctrlKey: true,\n        metaKey: true\n      });\n      contentEditables = document.body.querySelectorAll('[contentEditable=true]');\n      expect(contentEditables.length).toBe(2);\n      var pasteBin = contentEditables[1];\n      expect(pasteBin.innerHTML).toBe('%ME_PASTEBIN%');\n      expect(pasteBin.parentNode).toBe(document.body);\n      var range = document.getSelection().getRangeAt(0);\n      expect(MediumEditor.util.isDescendant(pasteBin, range.commonAncestorContainer, true)).toBe(true, 'Select is not within the paste bin');\n      expect(range.toString()).toBe('%ME_PASTEBIN%');\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should trigger handlePasteBinPaste when pasting into paste-bin",
            "suites": [
                "Pasting content",
                "using keyboard"
            ],
            "line": 235,
            "updatePoint": {
                "line": 235,
                "column": 70
            },
            "code": "    it('should trigger handlePasteBinPaste when pasting into paste-bin', function () {\n      spyOn(MediumEditor.extensions.paste.prototype, 'handlePasteBinPaste').and.callThrough();\n      var editor = this.newMediumEditor('.editor', {\n        paste: {\n          forcePlainText: false,\n          cleanPastedHTML: true\n        }\n      }),\n          pasteHandler = editor.getExtensionByName('paste');\n      selectElementContentsAndFire(editor.elements[0].firstChild);\n      var contentEditables = document.body.querySelectorAll('[contentEditable=true]');\n      expect(contentEditables.length).toBe(1);\n      fireEvent(this.el, 'keydown', {\n        keyCode: MediumEditor.util.keyCode.V,\n        ctrlKey: true,\n        metaKey: true\n      });\n      contentEditables = document.body.querySelectorAll('[contentEditable=true]');\n      expect(contentEditables.length).toBe(2);\n      var pasteBin = contentEditables[1],\n          evt = prepareEvent(pasteBin, 'paste');\n      firePreparedEvent(evt, pasteBin, 'paste');\n      expect(pasteHandler.handlePasteBinPaste).toHaveBeenCalledWith(evt);\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should fire editablePaste event when pasting",
            "suites": [
                "Pasting content",
                "using keyboard"
            ],
            "line": 259,
            "updatePoint": {
                "line": 259,
                "column": 52
            },
            "code": "    it('should fire editablePaste event when pasting', function () {\n      var editor = this.newMediumEditor('.editor', {\n        paste: {\n          forcePlainText: false,\n          cleanPastedHTML: true\n        }\n      }),\n          spy = jasmine.createSpy('handler');\n      editor.subscribe('editablePaste', spy);\n      selectElementContentsAndFire(editor.elements[0].firstChild);\n      expect(spy).not.toHaveBeenCalled();\n      fireEvent(this.el, 'keydown', {\n        keyCode: MediumEditor.util.keyCode.V,\n        ctrlKey: true,\n        metaKey: true\n      });\n      var contentEditables = document.body.querySelectorAll('[contentEditable=true]');\n      expect(contentEditables.length).toBe(2);\n      var evt = {\n        type: 'paste',\n        defaultPrevented: false,\n        preventDefault: function () {},\n        clipboardData: {\n          types: ['text/plain', 'text/html'],\n          getData: function () {\n            // do we need to return different results for the different types? text/plain, text/html\n            return 'pasted content';\n          }\n        }\n      },\n          pasteExtension = editor.getExtensionByName('paste');\n      pasteExtension.handlePasteBinPaste(evt);\n      jasmine.clock().tick(1);\n      expect(spy).toHaveBeenCalledWith({\n        currentTarget: editor.elements[0],\n        target: editor.elements[0]\n      }, editor.elements[0]);\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should do nothing if default was prevented on paste event of the paste-bin",
            "suites": [
                "Pasting content",
                "using keyboard"
            ],
            "line": 297,
            "updatePoint": {
                "line": 297,
                "column": 82
            },
            "code": "    it('should do nothing if default was prevented on paste event of the paste-bin', function () {\n      var editor = this.newMediumEditor('.editor', {\n        paste: {\n          forcePlainText: false,\n          cleanPastedHTML: true\n        }\n      }),\n          pasteExtension = editor.getExtensionByName('paste');\n      selectElementContentsAndFire(editor.elements[0].firstChild);\n      var contentEditables = document.body.querySelectorAll('[contentEditable=true]');\n      expect(contentEditables.length).toBe(1);\n      fireEvent(this.el, 'keydown', {\n        keyCode: MediumEditor.util.keyCode.V,\n        ctrlKey: true,\n        metaKey: true\n      });\n      contentEditables = document.body.querySelectorAll('[contentEditable=true]');\n      expect(contentEditables.length).toBe(2);\n      var evt = {\n        type: 'paste',\n        defaultPrevented: true,\n        preventDefault: function () {},\n        clipboardData: {\n          types: ['text/plain', 'text/html'],\n          getData: function () {\n            // do we need to return different results for the different types? text/plain, text/html\n            return 'pasted content';\n          }\n        }\n      };\n      spyOn(evt, 'preventDefault'); // Paste should insert data from the clipboard, and prevent paste from happening in the paste-bin\n\n      pasteExtension.handlePasteBinPaste(evt);\n      expect(evt.preventDefault).not.toHaveBeenCalled();\n      expect(this.el.innerHTML).toBe('hhh'); // paste-bin should be gone\n\n      contentEditables = document.body.querySelectorAll('[contentEditable=true]');\n      expect(contentEditables.length).toBe(1);\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should use clipboard data if available and not allow paste to happen",
            "suites": [
                "Pasting content",
                "using keyboard"
            ],
            "line": 336,
            "updatePoint": {
                "line": 336,
                "column": 76
            },
            "code": "    it('should use clipboard data if available and not allow paste to happen', function () {\n      var editor = this.newMediumEditor('.editor', {\n        paste: {\n          forcePlainText: false,\n          cleanPastedHTML: true\n        }\n      }),\n          pasteExtension = editor.getExtensionByName('paste');\n      selectElementContentsAndFire(editor.elements[0].firstChild);\n      var contentEditables = document.body.querySelectorAll('[contentEditable=true]');\n      expect(contentEditables.length).toBe(1);\n      fireEvent(this.el, 'keydown', {\n        keyCode: MediumEditor.util.keyCode.V,\n        ctrlKey: true,\n        metaKey: true\n      });\n      contentEditables = document.body.querySelectorAll('[contentEditable=true]');\n      expect(contentEditables.length).toBe(2);\n      var evt = {\n        type: 'paste',\n        preventDefault: function () {},\n        clipboardData: {\n          types: ['text/plain', 'text/html'],\n          getData: function () {\n            // do we need to return different results for the different types? text/plain, text/html\n            return 'pasted content';\n          }\n        }\n      };\n      spyOn(evt, 'preventDefault'); // Paste should insert data from the clipboard, and prevent paste from happening in the paste-bin\n\n      pasteExtension.handlePasteBinPaste(evt);\n      expect(evt.preventDefault).toHaveBeenCalled();\n      expect(this.el.innerHTML).toBe('pasted content'); // paste-bin should be gone\n\n      contentEditables = document.body.querySelectorAll('[contentEditable=true]');\n      expect(contentEditables.length).toBe(1);\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should use html from the paste bin when clipboard data is not available",
            "suites": [
                "Pasting content",
                "using keyboard"
            ],
            "line": 374,
            "updatePoint": {
                "line": 374,
                "column": 79
            },
            "code": "    it('should use html from the paste bin when clipboard data is not available', function () {\n      var editor = this.newMediumEditor('.editor', {\n        paste: {\n          forcePlainText: false,\n          cleanPastedHTML: true\n        }\n      }),\n          pasteExtension = editor.getExtensionByName('paste');\n      selectElementContentsAndFire(editor.elements[0].firstChild);\n      var contentEditables = document.body.querySelectorAll('[contentEditable=true]');\n      expect(contentEditables.length).toBe(1);\n      fireEvent(this.el, 'keydown', {\n        keyCode: MediumEditor.util.keyCode.V,\n        ctrlKey: true,\n        metaKey: true\n      });\n      contentEditables = document.body.querySelectorAll('[contentEditable=true]');\n      expect(contentEditables.length).toBe(2);\n      var evt = {\n        type: 'paste',\n        preventDefault: function () {},\n        clipboardData: {\n          types: ['text/plain'],\n          getData: function () {\n            // do we need to return different results for the different types? text/plain, text/html\n            return null;\n          }\n        }\n      },\n          testHTML = '<b>HTML from <u>paste bin</u></b>',\n          pasteBin = contentEditables[1];\n      pasteBin.innerHTML = testHTML;\n      spyOn(evt, 'preventDefault'); // Paste should not be prevented on the paste bin\n\n      pasteExtension.handlePasteBinPaste(evt);\n      expect(evt.preventDefault).not.toHaveBeenCalled();\n      jasmine.clock().tick(1); // HTML from paste-bin should now be in the editor\n\n      expect(this.el.innerHTML).toMatch(new RegExp(testHTML + '(<br/?>)?')); // paste-bin should be gone\n\n      contentEditables = document.body.querySelectorAll('[contentEditable=true]');\n      expect(contentEditables.length).toBe(1);\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should use plain text when clipboard data is not available and paste-bin does not have real content",
            "suites": [
                "Pasting content",
                "using keyboard"
            ],
            "line": 417,
            "updatePoint": {
                "line": 417,
                "column": 107
            },
            "code": "    it('should use plain text when clipboard data is not available and paste-bin does not have real content', function () {\n      var editor = this.newMediumEditor('.editor', {\n        paste: {\n          forcePlainText: false,\n          cleanPastedHTML: true\n        }\n      }),\n          pasteExtension = editor.getExtensionByName('paste');\n      selectElementContentsAndFire(editor.elements[0].firstChild);\n      var contentEditables = document.body.querySelectorAll('[contentEditable=true]');\n      expect(contentEditables.length).toBe(1);\n      fireEvent(this.el, 'keydown', {\n        keyCode: MediumEditor.util.keyCode.V,\n        ctrlKey: true,\n        metaKey: true\n      });\n      contentEditables = document.body.querySelectorAll('[contentEditable=true]');\n      expect(contentEditables.length).toBe(2);\n      var evt = {\n        type: 'paste',\n        preventDefault: function () {},\n        clipboardData: {\n          types: ['text/plain'],\n          getData: function () {\n            // do we need to return different results for the different types? text/plain, text/html\n            return 'Plain Text';\n          }\n        }\n      },\n          pasteBin = contentEditables[1];\n      pasteBin.innerHTML = '';\n      spyOn(evt, 'preventDefault'); // Paste should not be prevented on the paste bin\n\n      pasteExtension.handlePasteBinPaste(evt);\n      expect(evt.preventDefault).not.toHaveBeenCalled();\n      jasmine.clock().tick(1); // plaintext from the clipboard should now be in the editor\n\n      expect(this.el.innerHTML).toBe('Plain Text'); // paste-bin should be gone\n\n      contentEditables = document.body.querySelectorAll('[contentEditable=true]');\n      expect(contentEditables.length).toBe(1);\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should filter inline rich-text",
            "suites": [
                "Pasting content",
                "using cleanPaste"
            ],
            "line": 461,
            "updatePoint": {
                "line": 461,
                "column": 38
            },
            "code": "    it('should filter inline rich-text', function () {\n      var i,\n          editorEl = this.el,\n          editor = this.newMediumEditor('.editor', {\n        delay: 200,\n        paste: {\n          forcePlainText: false,\n          cleanPastedHTML: true\n        }\n      });\n\n      for (i = 0; i < inlineTests.length; i += 1) {\n        // move caret to editor\n        editorEl.innerHTML = 'Before&nbsp;<span id=\"editor-inner\">&nbsp;</span>&nbsp;after.';\n        selectElementContents(document.getElementById('editor-inner'));\n        editor.cleanPaste(inlineTests[i].paste);\n        jasmine.clock().tick(100); // Firefox and IE: doing an insertHTML while this <span> is selected results in the html being inserted inside of the span\n        // Firefox replace the &nbsp; other either side of the <span> with a space\n        // Webkit: doing an insertHTML while this <span> is selected results in the span being replaced completely\n\n        expect(editorEl.innerHTML).toMatch(new RegExp('^Before(&nbsp;|\\\\s)(<span id=\"editor-inner\">)?' + inlineTests[i].output + '(</span>)?(&nbsp;|\\\\s)after\\\\.$'));\n      }\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should filter inline rich-text when \"insertHTML\" command is not supported",
            "suites": [
                "Pasting content",
                "using cleanPaste"
            ],
            "line": 484,
            "updatePoint": {
                "line": 484,
                "column": 81
            },
            "code": "    it('should filter inline rich-text when \"insertHTML\" command is not supported', function () {\n      var editor = this.newMediumEditor('.editor', {\n        paste: {\n          forcePlainText: false,\n          cleanPastedHTML: true\n        }\n      });\n      spyOn(document, 'queryCommandSupported').and.returnValue(false);\n      inlineTests.forEach(function (test) {\n        this.el.innerHTML = 'Before&nbsp;<span id=\"editor-inner\">&nbsp;</span>&nbsp;after.';\n        selectElementContents(document.getElementById('editor-inner'));\n        editor.cleanPaste(test.paste); // Firefox and IE: doing an insertHTML while this <span> is selected results in the html being inserted inside of the span\n        // Firefox replace the &nbsp; other either side of the <span> with a space\n        // Webkit: doing an insertHTML while this <span> is selected results in the span being replaced completely\n\n        expect(this.el.innerHTML).toMatch(new RegExp('^Before(&nbsp;|\\\\s)(<span id=\"editor-inner\">)?' + test.output + '(</span>)?(&nbsp;|\\\\s)after\\\\.$'));\n      }.bind(this));\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should respect custom replacments when passed during instantiation",
            "suites": [
                "Pasting content",
                "using cleanPaste"
            ],
            "line": 502,
            "updatePoint": {
                "line": 502,
                "column": 74
            },
            "code": "    it('should respect custom replacments when passed during instantiation', function () {\n      var editor = this.newMediumEditor('.editor', {\n        paste: {\n          forcePlainText: false,\n          cleanPastedHTML: true,\n          cleanReplacements: [[new RegExp(/<label>/gi), '<sub>'], [new RegExp(/<\\/label>/gi), '</sub>']]\n        }\n      });\n      this.el.innerHTML = 'Before&nbsp;<span id=\"editor-inner\">&nbsp;</span>&nbsp;after.';\n      selectElementContents(document.getElementById('editor-inner'));\n      editor.cleanPaste('<label>div one</label><label>div two</label>');\n      expect(this.el.innerHTML).toMatch(new RegExp('^Before(&nbsp;|\\\\s)(<span id=\"editor-inner\">)?<sub>div one</sub><sub>div two</sub>(</span>)?(&nbsp;|\\\\s)after\\\\.$'));\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should respect custom replacements before builtin replacements.",
            "suites": [
                "Pasting content",
                "using cleanPaste"
            ],
            "line": 515,
            "updatePoint": {
                "line": 515,
                "column": 71
            },
            "code": "    it('should respect custom replacements before builtin replacements.', function () {\n      var editor = this.newMediumEditor('.editor', {\n        paste: {\n          forcePlainText: false,\n          cleanPastedHTML: true,\n          preCleanReplacements: [[new RegExp(/<\\/?o:[a-z]*>/gi), 'foo']]\n        }\n      });\n      this.el.innerHTML = 'Before&nbsp;<span id=\"editor-inner\">&nbsp;</span>&nbsp;after.';\n      selectElementContents(document.getElementById('editor-inner')); // Normally, the paste extension's regular expressions would clear the `<o:p></o:p>` tags,\n      // but our `preCleanReplacements` should transform them each to \"foo\" before the default\n      // cleanReplacement has a chance to see it.\n\n      editor.cleanPaste('<div><o:p></o:p></div>');\n      expect(this.el.innerHTML).toMatch(new RegExp('foofoo'));\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should cleanup only pasted element on multi-line when nothing is selected",
            "suites": [
                "Pasting content",
                "using cleanPaste"
            ],
            "line": 531,
            "updatePoint": {
                "line": 531,
                "column": 81
            },
            "code": "    it('should cleanup only pasted element on multi-line when nothing is selected', function () {\n      var editor = this.newMediumEditor('.editor', {\n        paste: {\n          forcePlainText: false,\n          cleanPastedHTML: true\n        }\n      });\n      this.el.innerHTML = '<div><img src=\"http://0.0.0.0/ohyeah.png\" /></div>';\n      selectElementContents(this.el.firstChild, {\n        collapse: true\n      });\n      editor.cleanPaste('<table><tr><td>test</td><td><br/></td></tr></table>');\n      expect(this.el.innerHTML).toContain('<img src=\"http://0.0.0.0/ohyeah.png\"></div>');\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove certain attributes and tags by default",
            "suites": [
                "Pasting content",
                "using pasteHTML"
            ],
            "line": 547,
            "updatePoint": {
                "line": 547,
                "column": 60
            },
            "code": "    it('should remove certain attributes and tags by default', function () {\n      var editor = this.newMediumEditor('.editor');\n      selectElementContents(this.el.firstChild);\n      editor.pasteHTML('<p class=\"some-class\" style=\"font-weight: bold\" dir=\"ltr\"><meta name=\"description\" content=\"test\" />test</p>');\n      expect(editor.elements[0].innerHTML).toBe('<p>test</p>');\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not remove node with \"empty\" content",
            "suites": [
                "Pasting content",
                "using pasteHTML"
            ],
            "line": 553,
            "updatePoint": {
                "line": 553,
                "column": 51
            },
            "code": "    it('should not remove node with \"empty\" content', function () {\n      var editor = this.newMediumEditor('.editor', {\n        paste: {\n          forcePlainText: false,\n          cleanPastedHTML: true\n        }\n      });\n      this.el.innerHTML = '<div>this is a div</div><figure id=\"editor-inner\">and this is a figure</figure>.';\n      selectElementContents(this.el.firstChild);\n      editor.pasteHTML('<table><tr><td>test</td><td><br/></td></tr></table>');\n      expect(this.el.innerHTML).toContain('<table><tbody><tr><td>test</td><td><br></td></tr></tbody></table>');\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should accept a list of attrs to clean up",
            "suites": [
                "Pasting content",
                "using pasteHTML"
            ],
            "line": 565,
            "updatePoint": {
                "line": 565,
                "column": 49
            },
            "code": "    it('should accept a list of attrs to clean up', function () {\n      var editor = this.newMediumEditor('.editor');\n      selectElementContents(this.el.firstChild);\n      editor.pasteHTML('<table class=\"medium-editor-table\" dir=\"ltr\" style=\"border: 1px solid red;\"><tbody><tr><td>test</td></tr></tbody></table>', {\n        cleanAttrs: ['style', 'dir']\n      });\n      expect(editor.elements[0].innerHTML).toBe('<table class=\"medium-editor-table\"><tbody><tr><td>test</td></tr></tbody></table>');\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should accept a list of tags to clean up",
            "suites": [
                "Pasting content",
                "using pasteHTML"
            ],
            "line": 573,
            "updatePoint": {
                "line": 573,
                "column": 48
            },
            "code": "    it('should accept a list of tags to clean up', function () {\n      var editor = this.newMediumEditor('.editor');\n      selectElementContents(this.el.firstChild);\n      editor.pasteHTML('<div><i>test</i><meta name=\"description\" content=\"test\" /><b>test</b></div>', {\n        cleanTags: ['meta', 'b']\n      });\n      expect(editor.elements[0].innerHTML).toBe('<div><i>test</i></div>');\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should accept a list of tags to unwrap",
            "suites": [
                "Pasting content",
                "using pasteHTML"
            ],
            "line": 581,
            "updatePoint": {
                "line": 581,
                "column": 46
            },
            "code": "    it('should accept a list of tags to unwrap', function () {\n      var editor = this.newMediumEditor('.editor');\n      selectElementContents(this.el.firstChild);\n      editor.pasteHTML('<div><i>test</i><sub><b>test</b></sub><sup>test</sup></div>', {\n        unwrapTags: ['sub', 'sup']\n      });\n      expect(editor.elements[0].innerHTML).toBe('<div><i>test</i><b>test</b>test</div>');\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should respect custom clean up options passed during instantiation",
            "suites": [
                "Pasting content",
                "using pasteHTML"
            ],
            "line": 589,
            "updatePoint": {
                "line": 589,
                "column": 74
            },
            "code": "    it('should respect custom clean up options passed during instantiation', function () {\n      var editor = this.newMediumEditor('.editor', {\n        paste: {\n          cleanAttrs: ['style', 'dir'],\n          cleanTags: ['meta', 'b'],\n          unwrapTags: ['sub', 'sup']\n        }\n      });\n      selectElementContents(this.el.firstChild);\n      editor.pasteHTML('<table class=\"medium-editor-table\" dir=\"ltr\" style=\"border: 1px solid red;\"><tbody><tr><td>test</td></tr></tbody></table>' + '<div><i>test</i><meta name=\"description\" content=\"test\" /><b>test</b></div>' + '<div><i>test</i><sub><b>test</b></sub><sup>test</sup></div>');\n      expect(editor.elements[0].innerHTML).toBe('<table class=\"medium-editor-table\"><tbody><tr><td>test</td></tr></tbody></table>' + '<div><i>test</i></div>' + '<div><i>test</i>test</div>');\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be handled consistantly",
            "suites": [
                "Pasting content",
                "text with/without linebreaks"
            ],
            "line": 603,
            "updatePoint": {
                "line": 603,
                "column": 38
            },
            "code": "    it('should be handled consistantly', function () {\n      var range,\n          i,\n          editorEl = this.el,\n          sel = window.getSelection(),\n          editor = this.newMediumEditor('.editor', {\n        delay: 200,\n        disableReturn: false\n      }),\n          pasteHandler = editor.getExtensionByName('paste'),\n          // mock event with clipboardData API\n      // test requires creating a function, so can't loop or jslint balks\n      evt = {\n        pasteText: null,\n        preventDefault: function () {\n          return;\n        },\n        clipboardData: {\n          types: ['text/plain', 'text/html'],\n          getData: function () {\n            // do we need to return different results for the different types? text/plain, text/html\n            return this.pasteText;\n          }\n        }\n      };\n\n      for (i = 0; i < textTests.length; i += 1) {\n        editorEl.innerHTML = '<div id=\"editor-inner\">&nbsp;</div>';\n        range = document.createRange();\n        range.selectNodeContents(editorEl.firstChild);\n        sel.removeAllRanges();\n        sel.addRange(range);\n        evt.clipboardData.pasteText = textTests[i].paste;\n        pasteHandler.handlePaste(evt, editorEl);\n        jasmine.clock().tick(100);\n        expect(editorEl.innerHTML).toEqual(textTests[i].output);\n      }\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be overrideable via paste options",
            "suites": [
                "Pasting content",
                "using custom paste handler"
            ],
            "line": 643,
            "updatePoint": {
                "line": 643,
                "column": 48
            },
            "code": "    it('should be overrideable via paste options', function () {\n      var origInit = spyOn(MediumEditor.extensions.paste.prototype, 'init'),\n          newInit = jasmine.createSpy('spy'),\n          editor = this.newMediumEditor('.editor', {\n        paste: {\n          forcePlainText: false,\n          cleanPastedHTML: true,\n          init: newInit\n        }\n      });\n      expect(origInit).not.toHaveBeenCalled();\n      expect(newInit).toHaveBeenCalled();\n      selectElementContents(this.el.firstChild);\n      editor.cleanPaste('<p>One\\nTwo\\n</p>\\n\\n<p>Three Four</p>');\n      expect(editor.elements[0].innerHTML).toBe('<p>One Two </p><p>Three Four</p>');\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be overrideable via custom extension",
            "suites": [
                "Pasting content",
                "using custom paste handler"
            ],
            "line": 659,
            "updatePoint": {
                "line": 659,
                "column": 51
            },
            "code": "    it('should be overrideable via custom extension', function () {\n      var origInit = spyOn(MediumEditor.extensions.paste.prototype, 'init'),\n          newInit = jasmine.createSpy('spy'),\n          origPasteHTML = spyOn(MediumEditor.extensions.paste.prototype, 'pasteHTML'),\n          newPasteHTML = jasmine.createSpy('spy'),\n          customPasteHandler = {\n        name: 'paste',\n        init: newInit,\n        pasteHTML: newPasteHTML\n      },\n          editor = this.newMediumEditor('.editor', {\n        extensions: {\n          paste: customPasteHandler\n        }\n      }),\n          testString = '<p>test</p>';\n      expect(origInit).not.toHaveBeenCalled();\n      expect(newInit).toHaveBeenCalled();\n      expect(editor.getExtensionByName('paste')).toBe(customPasteHandler);\n      editor.pasteHTML(testString);\n      expect(origPasteHTML).not.toHaveBeenCalled();\n      expect(newPasteHTML).toHaveBeenCalledWith(testString, undefined);\n    });",
            "file": "paste.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should set placeholder for empty elements",
            "suites": [
                "MediumEditor.extensions.placeholder TestCase"
            ],
            "line": 12,
            "updatePoint": {
                "line": 12,
                "column": 47
            },
            "code": "  it('should set placeholder for empty elements', function () {\n    var editor = this.newMediumEditor('.editor');\n    expect(editor.elements[0].className).toContain('medium-editor-placeholder');\n  });",
            "file": "placeholder.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not set a placeholder for elements with text content",
            "suites": [
                "MediumEditor.extensions.placeholder TestCase"
            ],
            "line": 16,
            "updatePoint": {
                "line": 16,
                "column": 65
            },
            "code": "  it('should not set a placeholder for elements with text content', function () {\n    this.el.innerHTML = 'some text';\n    var editor = this.newMediumEditor('.editor');\n    expect(editor.elements[0].className).not.toContain('medium-editor-placeholder');\n  });",
            "file": "placeholder.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not set a placeholder for elements with images only",
            "suites": [
                "MediumEditor.extensions.placeholder TestCase"
            ],
            "line": 21,
            "updatePoint": {
                "line": 21,
                "column": 64
            },
            "code": "  it('should not set a placeholder for elements with images only', function () {\n    this.el.innerHTML = '<img src=\"../demo/img/roman.jpg\">';\n    var editor = this.newMediumEditor('.editor');\n    expect(editor.elements[0].className).not.toContain('medium-editor-placeholder');\n  });",
            "file": "placeholder.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not set a placeholder for elements with unorderedlist",
            "suites": [
                "MediumEditor.extensions.placeholder TestCase"
            ],
            "line": 26,
            "updatePoint": {
                "line": 26,
                "column": 66
            },
            "code": "  it('should not set a placeholder for elements with unorderedlist', function () {\n    this.el.innerHTML = '<ul><li></li></ul>';\n    var editor = this.newMediumEditor('.editor');\n    expect(editor.elements[0].className).not.toContain('medium-editor-placeholder');\n  });",
            "file": "placeholder.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not set a placeholder for elements with orderedlist",
            "suites": [
                "MediumEditor.extensions.placeholder TestCase"
            ],
            "line": 31,
            "updatePoint": {
                "line": 31,
                "column": 64
            },
            "code": "  it('should not set a placeholder for elements with orderedlist', function () {\n    this.el.innerHTML = '<ol><li></li></ol>';\n    var editor = this.newMediumEditor('.editor');\n    expect(editor.elements[0].className).not.toContain('medium-editor-placeholder');\n  });",
            "file": "placeholder.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not set a placeholder for elements with table",
            "suites": [
                "MediumEditor.extensions.placeholder TestCase"
            ],
            "line": 36,
            "updatePoint": {
                "line": 36,
                "column": 58
            },
            "code": "  it('should not set a placeholder for elements with table', function () {\n    this.el.innerHTML = '<table></table>';\n    var editor = this.newMediumEditor('.editor');\n    expect(editor.elements[0].className).not.toContain('medium-editor-placeholder');\n  });",
            "file": "placeholder.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should set placeholder for elements with empty children",
            "suites": [
                "MediumEditor.extensions.placeholder TestCase"
            ],
            "line": 41,
            "updatePoint": {
                "line": 41,
                "column": 61
            },
            "code": "  it('should set placeholder for elements with empty children', function () {\n    this.el.innerHTML = '<p><br></p><div class=\"empty\"></div>';\n    var editor = this.newMediumEditor('.editor');\n    expect(editor.elements[0].className).toContain('medium-editor-placeholder');\n  });",
            "file": "placeholder.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove the placeholder on focus",
            "suites": [
                "MediumEditor.extensions.placeholder TestCase"
            ],
            "line": 46,
            "updatePoint": {
                "line": 46,
                "column": 44
            },
            "code": "  it('should remove the placeholder on focus', function () {\n    var editor = this.newMediumEditor('.editor');\n    expect(editor.elements[0].className).toContain('medium-editor-placeholder');\n    selectElementContentsAndFire(editor.elements[0]);\n    expect(editor.elements[0].className).not.toContain('medium-editor-placeholder');\n  });",
            "file": "placeholder.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove the placeholder on click",
            "suites": [
                "MediumEditor.extensions.placeholder TestCase"
            ],
            "line": 52,
            "updatePoint": {
                "line": 52,
                "column": 44
            },
            "code": "  it('should remove the placeholder on click', function () {\n    var editor = this.newMediumEditor('.editor');\n    expect(editor.elements[0].className).toContain('medium-editor-placeholder');\n    fireEvent(editor.elements[0], 'click');\n    expect(editor.elements[0].className).not.toContain('medium-editor-placeholder');\n    fireEvent(document.body, 'mousedown');\n    fireEvent(document.body, 'mouseup');\n    fireEvent(document.body, 'click');\n    expect(editor.elements[0].className).toContain('medium-editor-placeholder');\n    this.el.innerHTML = '<p>lorem</p><p id=\"target\">ipsum</p><p>dolor</p>';\n    fireEvent(document.getElementById('target'), 'click');\n    expect(editor.elements[0].className).not.toContain('medium-editor-placeholder');\n  });",
            "file": "placeholder.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove the placeholder on input, and NOT on click",
            "suites": [
                "MediumEditor.extensions.placeholder TestCase"
            ],
            "line": 65,
            "updatePoint": {
                "line": 65,
                "column": 62
            },
            "code": "  it('should remove the placeholder on input, and NOT on click', function () {\n    var editor = this.newMediumEditor('.editor', {\n      placeholder: {\n        hideOnClick: false\n      }\n    });\n    expect(editor.elements[0].className).toContain('medium-editor-placeholder');\n    fireEvent(editor.elements[0], 'click');\n    expect(editor.elements[0].className).toContain('medium-editor-placeholder');\n    fireEvent(document.body, 'mousedown');\n    fireEvent(document.body, 'mouseup');\n    fireEvent(document.body, 'click');\n    expect(editor.elements[0].className).toContain('medium-editor-placeholder');\n    this.el.innerHTML = '<p>lorem</p><p id=\"target\">ipsum</p><p>dolor</p>';\n    editor.trigger('editableInput', {}, editor.elements[0]);\n    expect(editor.elements[0].className).not.toContain('medium-editor-placeholder');\n    this.el.innerHTML = '';\n    editor.trigger('editableInput', {}, editor.elements[0]);\n    expect(editor.elements[0].className).toContain('medium-editor-placeholder');\n  });",
            "file": "placeholder.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should add a placeholder to empty elements on blur",
            "suites": [
                "MediumEditor.extensions.placeholder TestCase"
            ],
            "line": 85,
            "updatePoint": {
                "line": 85,
                "column": 56
            },
            "code": "  it('should add a placeholder to empty elements on blur', function () {\n    this.el.innerHTML = 'some text';\n    var editor = this.newMediumEditor('.editor');\n    editor.elements[0].focus();\n    fireEvent(editor.elements[0], 'focus');\n    expect(editor.elements[0].className).not.toContain('medium-editor-placeholder');\n    editor.elements[0].innerHTML = '';\n    fireEvent(document.body, 'mousedown');\n    fireEvent(document.body, 'mouseup');\n    fireEvent(document.body, 'click');\n    expect(editor.elements[0].className).toContain('medium-editor-placeholder');\n  });",
            "file": "placeholder.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not add a placeholder to elements with text on blur",
            "suites": [
                "MediumEditor.extensions.placeholder TestCase"
            ],
            "line": 97,
            "updatePoint": {
                "line": 97,
                "column": 64
            },
            "code": "  it('should not add a placeholder to elements with text on blur', function () {\n    var editor = this.newMediumEditor('.editor');\n    expect(editor.elements[0].className).toContain('medium-editor-placeholder');\n    editor.elements[0].innerHTML = 'some text';\n    editor.selectElement(this.el.firstChild);\n    fireEvent(document.body, 'mousedown');\n    fireEvent(document.body, 'mouseup');\n    fireEvent(document.body, 'click');\n    expect(editor.elements[0].className).not.toContain('medium-editor-placeholder');\n  }); // https://github.com/yabwe/medium-editor/issues/768",
            "file": "placeholder.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove the placeholder when the content is updated manually",
            "suites": [
                "MediumEditor.extensions.placeholder TestCase"
            ],
            "line": 108,
            "updatePoint": {
                "line": 108,
                "column": 72
            },
            "code": "  it('should remove the placeholder when the content is updated manually', function () {\n    var editor = this.newMediumEditor('.editor');\n    expect(editor.elements[0].className).toContain('medium-editor-placeholder');\n    editor.setContent('<p>lorem ipsum</p>');\n    expect(editor.elements[0].className).not.toContain('medium-editor-placeholder');\n  }); // https://github.com/yabwe/medium-editor/issues/783",
            "file": "placeholder.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not show a placeholder when input changes but editor is still empty",
            "suites": [
                "MediumEditor.extensions.placeholder TestCase"
            ],
            "line": 115,
            "updatePoint": {
                "line": 115,
                "column": 80
            },
            "code": "  it('should not show a placeholder when input changes but editor is still empty', function () {\n    var editor = this.newMediumEditor('.editor');\n    expect(editor.elements[0].className).toContain('medium-editor-placeholder');\n    fireEvent(editor.elements[0], 'click');\n    editor.elements[0].focus();\n    expect(editor.elements[0].className).not.toContain('medium-editor-placeholder');\n    var toolbar = editor.getExtensionByName('toolbar');\n    fireEvent(editor.elements[0], 'blur');\n    fireEvent(toolbar.getToolbarElement().querySelector('[data-action=\"append-h2\"]'), 'click');\n    expect(editor.elements[0].className).not.toContain('medium-editor-placeholder');\n  });",
            "file": "placeholder.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should add the default placeholder text when data-placeholder is not present",
            "suites": [
                "MediumEditor.extensions.placeholder TestCase"
            ],
            "line": 146,
            "updatePoint": {
                "line": 146,
                "column": 82
            },
            "code": "  it('should add the default placeholder text when data-placeholder is not present', function () {\n    var editor = this.newMediumEditor('.editor');\n    validatePlaceholderContent(editor.elements[0], MediumEditor.extensions.placeholder.prototype.text);\n  });",
            "file": "placeholder.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should add the default placeholder text when data-placeholder is not present on dynamically added elements",
            "suites": [
                "MediumEditor.extensions.placeholder TestCase"
            ],
            "line": 150,
            "updatePoint": {
                "line": 150,
                "column": 112
            },
            "code": "  it('should add the default placeholder text when data-placeholder is not present on dynamically added elements', function () {\n    var editor = this.newMediumEditor('.editor');\n    expect(editor.elements.length).toBe(1);\n    var newEl = this.createElement('div', 'other-element');\n    editor.addElements(newEl);\n    validatePlaceholderContent(newEl, MediumEditor.extensions.placeholder.prototype.text);\n  });",
            "file": "placeholder.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove the added data-placeholder attribute when destroyed",
            "suites": [
                "MediumEditor.extensions.placeholder TestCase"
            ],
            "line": 157,
            "updatePoint": {
                "line": 157,
                "column": 71
            },
            "code": "  it('should remove the added data-placeholder attribute when destroyed', function () {\n    expect(this.el.hasAttribute('data-placeholder')).toBe(false);\n    var editor = this.newMediumEditor('.editor');\n    expect(this.el.getAttribute('data-placeholder')).toBe(MediumEditor.extensions.placeholder.prototype.text);\n    editor.destroy();\n    expect(this.el.hasAttribute('data-placeholder')).toBe(false);\n  });",
            "file": "placeholder.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove the added data-placeholder attribute when elements are removed dynamically from the editor",
            "suites": [
                "MediumEditor.extensions.placeholder TestCase"
            ],
            "line": 164,
            "updatePoint": {
                "line": 164,
                "column": 110
            },
            "code": "  it('should remove the added data-placeholder attribute when elements are removed dynamically from the editor', function () {\n    var editor = this.newMediumEditor('.editor'),\n        newEl = this.createElement('div', 'other-element');\n    expect(newEl.hasAttribute('other-element')).toBe(false);\n    editor.addElements(newEl);\n    expect(newEl.getAttribute('data-placeholder')).toBe(MediumEditor.extensions.placeholder.prototype.text);\n    editor.removeElements('.other-element');\n    expect(newEl.hasAttribute('data-placeholder')).toBe(false);\n  });",
            "file": "placeholder.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not remove custom data-placeholder attribute when destroyed",
            "suites": [
                "MediumEditor.extensions.placeholder TestCase"
            ],
            "line": 173,
            "updatePoint": {
                "line": 173,
                "column": 72
            },
            "code": "  it('should not remove custom data-placeholder attribute when destroyed', function () {\n    var placeholderText = 'Custom placeholder';\n    this.el.setAttribute('data-placeholder', placeholderText);\n    var editor = this.newMediumEditor('.editor');\n    expect(this.el.getAttribute('data-placeholder')).toBe(placeholderText);\n    editor.destroy();\n    expect(this.el.getAttribute('data-placeholder')).toBe(placeholderText);\n  });",
            "file": "placeholder.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should use the data-placeholder when it is present",
            "suites": [
                "MediumEditor.extensions.placeholder TestCase"
            ],
            "line": 181,
            "updatePoint": {
                "line": 181,
                "column": 56
            },
            "code": "  it('should use the data-placeholder when it is present', function () {\n    var editor,\n        placeholderText = 'Custom placeholder';\n    this.el.setAttribute('data-placeholder', placeholderText);\n    editor = this.newMediumEditor('.editor');\n    validatePlaceholderContent(editor.elements[0], placeholderText);\n  });",
            "file": "placeholder.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should use custom placeholder text when passed as the placeholder.text option",
            "suites": [
                "MediumEditor.extensions.placeholder TestCase"
            ],
            "line": 188,
            "updatePoint": {
                "line": 188,
                "column": 83
            },
            "code": "  it('should use custom placeholder text when passed as the placeholder.text option', function () {\n    var placeholderText = 'Custom placeholder',\n        editor = this.newMediumEditor('.editor', {\n      placeholder: {\n        text: placeholderText\n      }\n    });\n    validatePlaceholderContent(editor.elements[0], placeholderText);\n  });",
            "file": "placeholder.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not set placeholder for empty elements when placeholder is set to false",
            "suites": [
                "MediumEditor.extensions.placeholder TestCase"
            ],
            "line": 197,
            "updatePoint": {
                "line": 197,
                "column": 84
            },
            "code": "  it('should not set placeholder for empty elements when placeholder is set to false', function () {\n    var editor = this.newMediumEditor('.editor', {\n      placeholder: false\n    });\n    expect(editor.elements[0].className).not.toContain('medium-editor-placeholder');\n  });",
            "file": "placeholder.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not add a placeholder to empty elements on blur when placeholder is set to false",
            "suites": [
                "MediumEditor.extensions.placeholder TestCase"
            ],
            "line": 203,
            "updatePoint": {
                "line": 203,
                "column": 93
            },
            "code": "  it('should not add a placeholder to empty elements on blur when placeholder is set to false', function () {\n    this.el.innerHTML = 'some text';\n    var editor = this.newMediumEditor('.editor', {\n      placeholder: false\n    });\n    expect(editor.elements[0].className).not.toContain('medium-editor-placeholder');\n    editor.elements[0].innerHTML = '';\n    fireEvent(document.querySelector('div'), 'click');\n    expect(editor.elements[0].className).not.toContain('medium-editor-placeholder');\n  });",
            "file": "placeholder.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "is exposed on the MediumEditor ctor",
            "suites": [
                "MediumEditor.selection TestCase",
                "Exposure"
            ],
            "line": 13,
            "updatePoint": {
                "line": 13,
                "column": 43
            },
            "code": "    it('is exposed on the MediumEditor ctor', function () {\n      expect(MediumEditor.selection).toBeTruthy();\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not export a position indicating the cursor is before an empty paragraph",
            "suites": [
                "MediumEditor.selection TestCase",
                "exportSelection"
            ],
            "line": 18,
            "updatePoint": {
                "line": 18,
                "column": 87
            },
            "code": "    it('should not export a position indicating the cursor is before an empty paragraph', function () {\n      this.el.innerHTML = '<p><span>www.google.com</span></p><p><br /></p><p>Whatever</p>';\n      placeCursorInsideElement(this.el.querySelector('span'), 1); // end of first span\n\n      var exportedSelection = MediumEditor.selection.exportSelection(this.el, document);\n      expect(exportedSelection.emptyBlocksIndex).toEqual(undefined);\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should export a position indicating the cursor is at the beginning of a paragraph",
            "suites": [
                "MediumEditor.selection TestCase",
                "exportSelection"
            ],
            "line": 25,
            "updatePoint": {
                "line": 25,
                "column": 89
            },
            "code": "    it('should export a position indicating the cursor is at the beginning of a paragraph', function () {\n      this.el.innerHTML = '<p><span>www.google.com</span></p><p><b>Whatever</b></p>';\n      placeCursorInsideElement(this.el.querySelector('b'), 0); // beginning of <b> tag\n\n      var exportedSelection = MediumEditor.selection.exportSelection(this.el, document);\n      expect(exportedSelection.emptyBlocksIndex).toEqual(0);\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not export a position indicating the cursor is after an empty paragraph",
            "suites": [
                "MediumEditor.selection TestCase",
                "exportSelection"
            ],
            "line": 32,
            "updatePoint": {
                "line": 32,
                "column": 86
            },
            "code": "    it('should not export a position indicating the cursor is after an empty paragraph', function () {\n      this.el.innerHTML = '<p><span>www.google.com</span></p><p><br /></p>' + '<p class=\"target\">Whatever</p>'; // After the 'W' in whatever\n\n      placeCursorInsideElement(this.el.querySelector('p.target').firstChild, 1);\n      var exportedSelection = MediumEditor.selection.exportSelection(this.el, document);\n      expect(exportedSelection.emptyBlocksIndex).toEqual(undefined);\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not export a position indicating the cursor is after an empty paragraph (in a complicated markup case)",
            "suites": [
                "MediumEditor.selection TestCase",
                "exportSelection"
            ],
            "line": 39,
            "updatePoint": {
                "line": 39,
                "column": 117
            },
            "code": "    it('should not export a position indicating the cursor is after an empty paragraph (in a complicated markup case)', function () {\n      this.el.innerHTML = '<p><span>www.google.com</span></p><p><br /></p>' + '<p>What<span class=\"target\">ever</span></p>'; // Before the 'e' in whatever\n\n      placeCursorInsideElement(this.el.querySelector('span.target').firstChild, 0);\n      var exportedSelection = MediumEditor.selection.exportSelection(this.el, document);\n      expect(exportedSelection.emptyBlocksIndex).toEqual(undefined);\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should export a position indicating the cursor is in an empty paragraph",
            "suites": [
                "MediumEditor.selection TestCase",
                "exportSelection"
            ],
            "line": 53,
            "updatePoint": {
                "line": 53,
                "column": 79
            },
            "code": "    it('should export a position indicating the cursor is in an empty paragraph', function () {\n      this.el.innerHTML = '<p><span>www.google.com</span></p><p><br /></p><p>Whatever</p>';\n      placeCursorInsideElement(this.el.getElementsByTagName('p')[1], 0);\n      var exportedSelection = MediumEditor.selection.exportSelection(this.el, document);\n      expect(exportedSelection.emptyBlocksIndex).toEqual(1);\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should export a position indicating the cursor is after an empty paragraph",
            "suites": [
                "MediumEditor.selection TestCase",
                "exportSelection"
            ],
            "line": 59,
            "updatePoint": {
                "line": 59,
                "column": 82
            },
            "code": "    it('should export a position indicating the cursor is after an empty paragraph', function () {\n      this.el.innerHTML = '<p><span>www.google.com</span></p><p><br /></p><p>Whatever</p>';\n      placeCursorInsideElement(this.el.getElementsByTagName('p')[2], 0);\n      var exportedSelection = MediumEditor.selection.exportSelection(this.el, document);\n      expect(exportedSelection.emptyBlocksIndex).toEqual(2);\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should export a position indicating the cursor is after an empty block element",
            "suites": [
                "MediumEditor.selection TestCase",
                "exportSelection"
            ],
            "line": 65,
            "updatePoint": {
                "line": 65,
                "column": 86
            },
            "code": "    it('should export a position indicating the cursor is after an empty block element', function () {\n      this.el.innerHTML = '<p><span>www.google.com</span></p><h1><br /></h1><h2><br /></h2><p>Whatever</p>';\n      placeCursorInsideElement(this.el.querySelector('h2'), 0);\n      var exportedSelection = MediumEditor.selection.exportSelection(this.el, document);\n      expect(exportedSelection.emptyBlocksIndex).toEqual(2);\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should export a selection that specifies an image is the selection",
            "suites": [
                "MediumEditor.selection TestCase",
                "exportSelection"
            ],
            "line": 71,
            "updatePoint": {
                "line": 71,
                "column": 74
            },
            "code": "    it('should export a selection that specifies an image is the selection', function () {\n      this.el.innerHTML = '<p>lorem ipsum <a href=\"#\"><img src=\"../demo/img/medium-editor.jpg\" /></a> dolor</p>';\n      selectElementContents(this.el.querySelector('a'));\n      var exportedSelection = MediumEditor.selection.exportSelection(this.el, document);\n      expect(exportedSelection.trailingImageCount).toBe(1);\n      expect(exportedSelection.start).toBe(12);\n      expect(exportedSelection.end).toBe(12);\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should export a selection that can be imported when the selection starts with an image",
            "suites": [
                "MediumEditor.selection TestCase",
                "exportSelection"
            ],
            "line": 79,
            "updatePoint": {
                "line": 79,
                "column": 94
            },
            "code": "    it('should export a selection that can be imported when the selection starts with an image', function () {\n      this.el.innerHTML = '<p>lorem ipsum <a href=\"#\"><img src=\"../demo/img/medium-editor.jpg\" />img</a> dolor</p>';\n      selectElementContents(this.el.querySelector('a'));\n      var exportedSelection = MediumEditor.selection.exportSelection(this.el, document);\n      expect(exportedSelection.trailingImageCount).toBe(undefined);\n      expect(exportedSelection.start).toBe(12);\n      expect(exportedSelection.end).toBe(15);\n      selectElementContents(this.el);\n      MediumEditor.selection.importSelection(exportedSelection, this.el, document);\n      var range = window.getSelection().getRangeAt(0);\n      expect(range.toString()).toBe('img');\n\n      if (range.startContainer.nodeName.toLowerCase() === 'a') {\n        expect(range.startContainer).toBe(this.el.querySelector('a'));\n        expect(range.startOffset).toBe(0);\n      } else {\n        expect(range.startContainer.nextSibling).toBe(this.el.querySelector('a'));\n        expect(range.startOffset).toBe(12);\n      }\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should export a selection that specifies an image is at the end of a selection",
            "suites": [
                "MediumEditor.selection TestCase",
                "exportSelection"
            ],
            "line": 99,
            "updatePoint": {
                "line": 99,
                "column": 86
            },
            "code": "    it('should export a selection that specifies an image is at the end of a selection', function () {\n      this.el.innerHTML = '<p>lorem ipsum <a href=\"#\">img<b><img src=\"../demo/img/medium-editor.jpg\" /><img src=\"../demo/img/roman.jpg\" /></b></a> dolor</p>';\n      selectElementContents(this.el.querySelector('a'));\n      var exportedSelection = MediumEditor.selection.exportSelection(this.el, document);\n      expect(exportedSelection.trailingImageCount).toBe(2);\n      expect(exportedSelection.start).toBe(12);\n      expect(exportedSelection.end).toBe(15);\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be able to import an exported selection",
            "suites": [
                "MediumEditor.selection TestCase",
                "importSelection"
            ],
            "line": 109,
            "updatePoint": {
                "line": 109,
                "column": 54
            },
            "code": "    it('should be able to import an exported selection', function () {\n      this.el.innerHTML = 'lorem <i>ipsum</i> dolor';\n      selectElementContents(this.el.querySelector('i'));\n      var exportedSelection = MediumEditor.selection.exportSelection(this.el, document);\n      expect(Object.keys(exportedSelection).sort()).toEqual(['end', 'start']);\n      selectElementContents(this.el);\n      expect(exportedSelection).not.toEqual(MediumEditor.selection.exportSelection(this.el, document));\n      MediumEditor.selection.importSelection(exportedSelection, this.el, document);\n      expect(exportedSelection).toEqual(MediumEditor.selection.exportSelection(this.el, document));\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be able to import an exported selection that contain nodeTypes > 3",
            "suites": [
                "MediumEditor.selection TestCase",
                "importSelection"
            ],
            "line": 119,
            "updatePoint": {
                "line": 119,
                "column": 81
            },
            "code": "    it('should be able to import an exported selection that contain nodeTypes > 3', function (done) {\n      this.el.innerHTML = '<div><p>stuff here <!-- comment nodeType is 8 --> additional stuff here </p></div>';\n      selectElementContents(this.el.querySelector('p'));\n      var exportedSelection = MediumEditor.selection.exportSelection(this.el, document);\n      expect(Object.keys(exportedSelection).sort()).toEqual(['end', 'start']);\n      selectElementContents(this.el);\n      expect(exportedSelection).toEqual(MediumEditor.selection.exportSelection(this.el, document));\n      MediumEditor.selection.importSelection(exportedSelection, this.el, document);\n      expect(exportedSelection).toEqual(MediumEditor.selection.exportSelection(this.el, document));\n      done();\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should import an exported selection outside any anchor tag",
            "suites": [
                "MediumEditor.selection TestCase",
                "importSelection"
            ],
            "line": 130,
            "updatePoint": {
                "line": 130,
                "column": 66
            },
            "code": "    it('should import an exported selection outside any anchor tag', function () {\n      this.el.innerHTML = '<p id=1>Hello world: <a href=\"#\">http://www.example.com</a></p><p id=2><br></p>';\n      var link = this.el.getElementsByTagName('a')[0];\n      placeCursorInsideElement(link.childNodes[0], link.childNodes[0].nodeValue.length);\n      expect(MediumEditor.util.isDescendant(link, window.getSelection().getRangeAt(0).startContainer, true)).toBe(true);\n      var exportedSelection = MediumEditor.selection.exportSelection(this.el, document);\n      MediumEditor.selection.importSelection(exportedSelection, this.el, document, true);\n      var range = window.getSelection().getRangeAt(0),\n          node = range.startContainer; // For some reason, Safari mucks with the selection range and makes this case not hold\n      // since we only really care about whether this works in IE, and it works as expected\n      // in other browsers, just skip this assertion for Safari\n\n      if (!isSafari()) {\n        expect(MediumEditor.util.isDescendant(link, node, true)).toBe(false);\n      } // Even though we set the range to use the P tag as the start container, Safari normalizes the range\n      // down to the text node. Setting the range to use the P tag for the start is necessary to support\n      // MSIE, where it removes the link when the cursor is placed at the end of the text node in the anchor.\n\n\n      while (node.nodeName.toLowerCase() !== 'p') {\n        node = node.parentNode;\n      }\n\n      expect(node.nodeName.toLowerCase()).toBe('p');\n      expect(node.getAttribute('id')).toBe('1');\n    }); // https://github.com/yabwe/medium-editor/issues/738",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should import an exported non-collapsed selection after an empty paragraph",
            "suites": [
                "MediumEditor.selection TestCase",
                "importSelection"
            ],
            "line": 157,
            "updatePoint": {
                "line": 157,
                "column": 82
            },
            "code": "    it('should import an exported non-collapsed selection after an empty paragraph', function () {\n      this.el.innerHTML = '<p>This is <a href=\"#\">a link</a></p><p><br/></p><p>not a link</p>';\n      var lastTextNode = this.el.childNodes[2].firstChild;\n      MediumEditor.selection.select(document, lastTextNode, 0, lastTextNode, 'not a link'.length);\n      var exportedSelection = MediumEditor.selection.exportSelection(this.el, document);\n      expect(exportedSelection).toEqual({\n        start: 14,\n        end: 24,\n        emptyBlocksIndex: 2\n      });\n      MediumEditor.selection.importSelection(exportedSelection, this.el, document);\n      var range = window.getSelection().getRangeAt(0);\n      expect(range.startContainer === lastTextNode || range.startContainer === lastTextNode.parentNode).toBe(true, 'The selection is starting at the wrong element');\n      expect(range.startOffset).toBe(0, 'The start of the selection is not at the beginning of the text node');\n      expect(range.endContainer === lastTextNode || range.endContainer === lastTextNode.parentNode).toBe(true, 'The selection is ending at the wrong element');\n      expect(range.endOffset).toBe('not a link'.length, 'The end of the selection is not at the end of the text node');\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should import a position with the cursor in an empty paragraph",
            "suites": [
                "MediumEditor.selection TestCase",
                "importSelection"
            ],
            "line": 174,
            "updatePoint": {
                "line": 174,
                "column": 70
            },
            "code": "    it('should import a position with the cursor in an empty paragraph', function () {\n      this.el.innerHTML = '<p><span>www.google.com</span></p><p><br /></p><p>Whatever</p>';\n      MediumEditor.selection.importSelection({\n        'start': 14,\n        'end': 14,\n        'emptyBlocksIndex': 1\n      }, this.el, document);\n      var startParagraph = MediumEditor.util.getClosestTag(window.getSelection().getRangeAt(0).startContainer, 'p');\n      expect(startParagraph).toBe(this.el.getElementsByTagName('p')[1], 'empty paragraph');\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should import a position with the cursor after an empty paragraph",
            "suites": [
                "MediumEditor.selection TestCase",
                "importSelection"
            ],
            "line": 184,
            "updatePoint": {
                "line": 184,
                "column": 73
            },
            "code": "    it('should import a position with the cursor after an empty paragraph', function () {\n      this.el.innerHTML = '<p><span>www.google.com</span></p><p><br /></p><p>Whatever</p>';\n      MediumEditor.selection.importSelection({\n        'start': 14,\n        'end': 14,\n        'emptyBlocksIndex': 2\n      }, this.el, document);\n      var startParagraph = MediumEditor.util.getClosestTag(window.getSelection().getRangeAt(0).startContainer, 'p');\n      expect(startParagraph).toBe(this.el.getElementsByTagName('p')[2], 'paragraph after empty paragraph');\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should import a position with the cursor after an empty paragraph when there are multipled editable elements",
            "suites": [
                "MediumEditor.selection TestCase",
                "importSelection"
            ],
            "line": 194,
            "updatePoint": {
                "line": 194,
                "column": 116
            },
            "code": "    it('should import a position with the cursor after an empty paragraph when there are multipled editable elements', function () {\n      var el = this.createElement('div', 'editor', '<p><span>www.google.com</span></p><p><br /></p><p>Whatever</p>');\n      MediumEditor.selection.importSelection({\n        'start': 14,\n        'end': 14,\n        'editableElementIndex': 1,\n        'emptyBlocksIndex': 2\n      }, el, document);\n      var startParagraph = MediumEditor.util.getClosestTag(window.getSelection().getRangeAt(0).startContainer, 'p');\n      expect(startParagraph).toBe(el.getElementsByTagName('p')[2], 'paragraph after empty paragraph');\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should import a position with the cursor after an empty block element",
            "suites": [
                "MediumEditor.selection TestCase",
                "importSelection"
            ],
            "line": 205,
            "updatePoint": {
                "line": 205,
                "column": 77
            },
            "code": "    it('should import a position with the cursor after an empty block element', function () {\n      this.el.innerHTML = '<p><span>www.google.com</span></p><h1><br /></h1><h2><br /></h2><p>Whatever</p>';\n      MediumEditor.selection.importSelection({\n        'start': 14,\n        'end': 14,\n        'emptyBlocksIndex': 2\n      }, this.el, document);\n      var startParagraph = MediumEditor.util.getClosestTag(window.getSelection().getRangeAt(0).startContainer, 'h2');\n      expect(startParagraph).toBe(this.el.querySelector('h2'), 'block element after empty block element');\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should import a position with the cursor after an empty block element when there are nested block elements",
            "suites": [
                "MediumEditor.selection TestCase",
                "importSelection"
            ],
            "line": 215,
            "updatePoint": {
                "line": 215,
                "column": 114
            },
            "code": "    it('should import a position with the cursor after an empty block element when there are nested block elements', function () {\n      this.el.innerHTML = '<blockquote><p><span>www.google.com</span></p></blockquote><h1><br /></h1><h2><br /></h2><p>Whatever</p>';\n      MediumEditor.selection.importSelection({\n        'start': 14,\n        'end': 14,\n        'emptyBlocksIndex': 2\n      }, this.el, document);\n      var startParagraph = MediumEditor.util.getClosestTag(window.getSelection().getRangeAt(0).startContainer, 'h2');\n      expect(startParagraph).toBe(this.el.querySelector('h2'), 'block element after empty block element');\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should import a position with the cursor after an empty block element inside an element with various children",
            "suites": [
                "MediumEditor.selection TestCase",
                "importSelection"
            ],
            "line": 225,
            "updatePoint": {
                "line": 225,
                "column": 117
            },
            "code": "    it('should import a position with the cursor after an empty block element inside an element with various children', function () {\n      this.el.innerHTML = '<p><span>www.google.com</span></p><h1><br /></h1><h2><br /></h2><p><b><i>Whatever</i></b></p>';\n      MediumEditor.selection.importSelection({\n        'start': 14,\n        'end': 14,\n        'emptyBlocksIndex': 3\n      }, this.el, document);\n      var innerElement = window.getSelection().getRangeAt(0).startContainer;\n      expect(MediumEditor.util.isDescendant(this.el.querySelector('i'), innerElement, true)).toBe(true, 'nested inline elment inside block element after empty block element');\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not import a selection into focusing on an empty element in a table",
            "suites": [
                "MediumEditor.selection TestCase",
                "importSelection"
            ],
            "line": 250,
            "updatePoint": {
                "line": 250,
                "column": 82
            },
            "code": "    it('should not import a selection into focusing on an empty element in a table', function () {\n      this.el.innerHTML = '<p>Hello</p><table><colgroup><col /></colgroup>' + '<thead><tr><th>Head</th></tr></thead>' + '<tbody><tr><td>Body</td></tr></tbody></table><p>World<p>';\n      MediumEditor.selection.importSelection({\n        'start': 5,\n        'end': 5,\n        'emptyBlocksIndex': 1\n      }, this.el, document);\n      var innerElement = window.getSelection().getRangeAt(0).startContainer; // The behavior varies from browser to browser for this case, some select TH, some #textNode\n\n      expect(MediumEditor.util.isDescendant(this.el.querySelector('th'), innerElement, true)).toBe(true, 'expect selection to be of TH or a descendant');\n      expect(innerElement).toBe(window.getSelection().getRangeAt(0).endContainer);\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not import a selection beyond any block elements that have text, even when emptyBlocksIndex indicates it should ",
            "suites": [
                "MediumEditor.selection TestCase",
                "importSelection"
            ],
            "line": 262,
            "updatePoint": {
                "line": 262,
                "column": 127
            },
            "code": "    it('should not import a selection beyond any block elements that have text, even when emptyBlocksIndex indicates it should ', function () {\n      this.el.innerHTML = '<p><span>www.google.com</span></p><h1><br /></h1><h2>Not Empty</h2><p><b><i>Whatever</i></b></p>'; // Import a selection that indicates the text should be at the end of the 'www.google.com' word, but in the 3rd paragraph (at the beginning of 'Whatever')\n\n      MediumEditor.selection.importSelection({\n        'start': 14,\n        'end': 14,\n        'emptyBlocksIndex': 3\n      }, this.el, document);\n      var innerElement = window.getSelection().getRangeAt(0).startContainer;\n      expect(MediumEditor.util.isDescendant(this.el.querySelectorAll('p')[1], innerElement, true)).toBe(false, 'moved selection beyond non-empty block element');\n      expect(MediumEditor.util.isDescendant(this.el.querySelector('h2'), innerElement, true)).toBe(true, 'moved selection to element to incorrect block element');\n    }); // https://github.com/yabwe/medium-editor/issues/732",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should support a selection correctly when space + newlines are separating block elements",
            "suites": [
                "MediumEditor.selection TestCase",
                "importSelection"
            ],
            "line": 275,
            "updatePoint": {
                "line": 275,
                "column": 96
            },
            "code": "    it('should support a selection correctly when space + newlines are separating block elements', function () {\n      this.el.innerHTML = '<ul>\\n' + '    <li><a href=\"#\">a link</a></li>\\n' + '    <li>a list item</li>\\n' + '    <li>target</li>\\n' + '</ul>';\n      var lastLi = this.el.querySelectorAll('ul > li')[2]; // Select the <li> with 'target'\n\n      selectElementContents(lastLi.firstChild);\n      var selectionData = MediumEditor.selection.exportSelection(this.el, document);\n      expect(selectionData.emptyBlocksIndex).toBeUndefined();\n      MediumEditor.selection.importSelection(selectionData, this.el, document);\n      var range = window.getSelection().getRangeAt(0);\n      expect(range.toString()).toBe('target', 'The selection is around the wrong element');\n      expect(MediumEditor.util.isDescendant(lastLi, range.startContainer, true)).toBe(true, 'The start of the selection is invalid');\n      expect(MediumEditor.util.isDescendant(lastLi, range.endContainer, true)).toBe(true, 'The end of the selection is invalid');\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should support a selection that specifies an image is the selection",
            "suites": [
                "MediumEditor.selection TestCase",
                "importSelection"
            ],
            "line": 288,
            "updatePoint": {
                "line": 288,
                "column": 75
            },
            "code": "    it('should support a selection that specifies an image is the selection', function () {\n      this.el.innerHTML = '<p>lorem ipsum <a href=\"#\"><img src=\"../demo/img/medium-editor.jpg\" /></a> dolor</p>';\n      MediumEditor.selection.importSelection({\n        start: 12,\n        end: 12,\n        startsWithImage: true,\n        trailingImageCount: 1\n      }, this.el, document);\n      var range = window.getSelection().getRangeAt(0);\n      expect(range.toString()).toBe('');\n      expect(MediumEditor.util.isDescendant(range.endContainer, this.el.querySelector('img'), true)).toBe(true, 'the image is not within the selection');\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should support a selection that starts with an image",
            "suites": [
                "MediumEditor.selection TestCase",
                "importSelection"
            ],
            "line": 300,
            "updatePoint": {
                "line": 300,
                "column": 60
            },
            "code": "    it('should support a selection that starts with an image', function () {\n      this.el.innerHTML = '<p>lorem ipsum <a href=\"#\"><img src=\"../demo/img/medium-editor.jpg\" />img</a> dolor</p>';\n      MediumEditor.selection.importSelection({\n        start: 12,\n        end: 15,\n        startsWithImage: true\n      }, this.el, document);\n      var range = window.getSelection().getRangeAt(0);\n      expect(range.toString()).toBe('img');\n\n      if (range.startContainer.nodeName.toLowerCase() === 'a') {\n        expect(range.startContainer).toBe(this.el.querySelector('a'));\n        expect(range.startOffset).toBe(0);\n      } else {\n        expect(range.startContainer.nextSibling).toBe(this.el.querySelector('a'));\n        expect(range.startOffset).toBe(12);\n      }\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should support a selection that ends with an image",
            "suites": [
                "MediumEditor.selection TestCase",
                "importSelection"
            ],
            "line": 318,
            "updatePoint": {
                "line": 318,
                "column": 58
            },
            "code": "    it('should support a selection that ends with an image', function () {\n      this.el.innerHTML = '<p>lorem ipsum <a href=\"#\">img<img src=\"../demo/img/medium-editor.jpg\" /><img src=\"../demo/img/roman.jpg\" /></a> dolor</p>';\n      MediumEditor.selection.importSelection({\n        start: 12,\n        end: 15,\n        trailingImageCount: 2\n      }, this.el, document);\n      var range = window.getSelection().getRangeAt(0);\n      expect(range.toString()).toBe('img');\n      expect(MediumEditor.util.isDescendant(range.endContainer, this.el.querySelector('img'), true)).toBe(true, 'the image is not within the selection');\n    }); // https://github.com/yabwe/medium-editor/issues/935",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should support a selection that is after white-space at the beginning of a paragraph",
            "suites": [
                "MediumEditor.selection TestCase",
                "importSelection"
            ],
            "line": 330,
            "updatePoint": {
                "line": 330,
                "column": 92
            },
            "code": "    it('should support a selection that is after white-space at the beginning of a paragraph', function () {\n      this.el.innerHTML = '   <p>one two<br><a href=\"transindex.hu\">three</a><br></p><p><a href=\"amazon.com\">one</a> two three</p>';\n      this.newMediumEditor(this.el);\n      var firstText = this.el.querySelector('p').firstChild;\n      MediumEditor.selection.select(document, firstText, 0, firstText, 'one'.length);\n      var exported = MediumEditor.selection.exportSelection(this.el, document);\n      MediumEditor.selection.importSelection(exported, this.el, document);\n      var range = window.getSelection().getRangeAt(0);\n      expect(range.toString()).toBe('one');\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should support importing a collapsed selection at the end of all content",
            "suites": [
                "MediumEditor.selection TestCase",
                "importSelection"
            ],
            "line": 340,
            "updatePoint": {
                "line": 340,
                "column": 80
            },
            "code": "    it('should support importing a collapsed selection at the end of all content', function () {\n      this.el.innerHTML = '<p>lorem ipsum <b>dolor</b></p>';\n      var boldText = this.el.querySelector('b').firstChild;\n      placeCursorInsideElement(boldText, boldText.length);\n      var range = window.getSelection().getRangeAt(0);\n      expect(range.collapsed).toBe(true);\n      expect(MediumEditor.util.isDescendant(boldText.parentNode, range.startContainer, true)).toBe(true);\n      expect(MediumEditor.util.isDescendant(boldText.parentNode, range.endContainer, true)).toBe(true);\n      var exported = MediumEditor.selection.exportSelection(this.el, document);\n      expect(exported.start).toBe('lorem ipsum dolor'.length);\n      expect(exported.end).toBe('lorem ipsum dolor'.length);\n      MediumEditor.selection.importSelection(exported, this.el, document);\n      range = window.getSelection().getRangeAt(0);\n      expect(range.collapsed).toBe(true);\n      expect(MediumEditor.util.isDescendant(boldText.parentNode, range.startContainer, true)).toBe(true);\n      expect(MediumEditor.util.isDescendant(boldText.parentNode, range.endContainer, true)).toBe(true);\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "no selected elements on empty selection",
            "suites": [
                "MediumEditor.selection TestCase",
                "getSelectedElements"
            ],
            "line": 359,
            "updatePoint": {
                "line": 359,
                "column": 47
            },
            "code": "    it('no selected elements on empty selection', function () {\n      window.getSelection().removeAllRanges();\n      var elements = MediumEditor.selection.getSelectedElements(document);\n      expect(elements.length).toBe(0);\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should select element from selection",
            "suites": [
                "MediumEditor.selection TestCase",
                "getSelectedElements"
            ],
            "line": 364,
            "updatePoint": {
                "line": 364,
                "column": 44
            },
            "code": "    it('should select element from selection', function () {\n      this.el.innerHTML = 'lorem <i>ipsum</i> dolor';\n      selectElementContents(this.el.querySelector('i').firstChild);\n      var elements = MediumEditor.selection.getSelectedElements(document);\n      expect(elements.length).toBe(1);\n      expect(elements[0].nodeName.toLowerCase()).toBe('i');\n      expect(elements[0].innerHTML).toBe('ipsum');\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should select first element when selection is global (ie: all the editor)",
            "suites": [
                "MediumEditor.selection TestCase",
                "getSelectedElements"
            ],
            "line": 372,
            "updatePoint": {
                "line": 372,
                "column": 81
            },
            "code": "    it('should select first element when selection is global (ie: all the editor)', function () {\n      this.el.innerHTML = 'lorem <i>ipsum</i> dolor';\n      selectElementContents(this.el);\n      var elements = MediumEditor.selection.getSelectedElements(document);\n      expect(elements.length).toBe(1);\n      expect(elements[0].nodeName.toLowerCase()).toBe('i');\n      expect(elements[0].innerHTML).toBe('ipsum');\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return null on bad range",
            "suites": [
                "MediumEditor.selection TestCase",
                "getSelectedParentElement"
            ],
            "line": 382,
            "updatePoint": {
                "line": 382,
                "column": 39
            },
            "code": "    it('should return null on bad range', function () {\n      expect(MediumEditor.selection.getSelectedParentElement(null)).toBe(null);\n      expect(MediumEditor.selection.getSelectedParentElement(false)).toBe(null);\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should select the document",
            "suites": [
                "MediumEditor.selection TestCase",
                "getSelectedParentElement"
            ],
            "line": 386,
            "updatePoint": {
                "line": 386,
                "column": 34
            },
            "code": "    it('should select the document', function () {\n      this.el.innerHTML = '<p>lorem <i>ipsum</i> dolor <span>hello</span> <b>you</b> </p>';\n      var range = document.createRange(),\n          sel = window.getSelection(),\n          element;\n      range.setStart(document, 0);\n      range.setEnd(this.el.querySelector('b').firstChild, 2);\n      sel.removeAllRanges();\n      sel.addRange(range);\n      element = MediumEditor.selection.getSelectedParentElement(range);\n      expect(element).toBe(document);\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return true for non-empty text",
            "suites": [
                "MediumEditor.selection TestCase",
                "selectionContainsContent"
            ],
            "line": 400,
            "updatePoint": {
                "line": 400,
                "column": 45
            },
            "code": "    it('should return true for non-empty text', function () {\n      this.el.innerHTML = '<p>this is<span> </span>text</p>';\n      selectElementContents(this.el.querySelector('p'));\n      expect(MediumEditor.selection.selectionContainsContent(document)).toBe(true);\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return false for white-space only selections",
            "suites": [
                "MediumEditor.selection TestCase",
                "selectionContainsContent"
            ],
            "line": 405,
            "updatePoint": {
                "line": 405,
                "column": 59
            },
            "code": "    it('should return false for white-space only selections', function () {\n      this.el.innerHTML = '<p>this is<span> </span>text</p>';\n      selectElementContents(this.el.querySelector('span'));\n      expect(MediumEditor.selection.selectionContainsContent(document)).toBe(false);\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return true for image with link selections",
            "suites": [
                "MediumEditor.selection TestCase",
                "selectionContainsContent"
            ],
            "line": 410,
            "updatePoint": {
                "line": 410,
                "column": 57
            },
            "code": "    it('should return true for image with link selections', function () {\n      this.el.innerHTML = '<p>this is <a href=\"#\"><img src=\"../demo/img/medium-editor.jpg\" /></a> image test</p>';\n      selectElementContents(this.el.querySelector('a'));\n      expect(MediumEditor.selection.selectionContainsContent(document)).toBe(true);\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should clear the selection and set the caret to the start of the prior range when specified",
            "suites": [
                "MediumEditor.selection TestCase",
                "clearSelection"
            ],
            "line": 417,
            "updatePoint": {
                "line": 417,
                "column": 99
            },
            "code": "    it('should clear the selection and set the caret to the start of the prior range when specified', function () {\n      this.el.innerHTML = '<p>this is<span> </span>text</p>';\n      selectElementContents(this.el.querySelector('p'));\n      var selectionStart = document.getSelection().anchorOffset;\n      MediumEditor.selection.clearSelection(document, true);\n      expect(document.getSelection().focusOffset).toBe(selectionStart);\n      var newSelectionEnd = document.getSelection().focusOffset;\n      expect(newSelectionEnd).toBe(selectionStart);\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should clear the selection and set the caret to the end of the prior range by default",
            "suites": [
                "MediumEditor.selection TestCase",
                "clearSelection"
            ],
            "line": 426,
            "updatePoint": {
                "line": 426,
                "column": 93
            },
            "code": "    it('should clear the selection and set the caret to the end of the prior range by default', function () {\n      this.el.innerHTML = '<p>this is<span> </span>text</p>';\n      selectElementContents(this.el.querySelector('p'));\n      var selectionEnd = document.getSelection().focusOffset;\n      MediumEditor.selection.clearSelection(document);\n      expect(document.getSelection().anchorOffset).toBe(selectionEnd);\n      var newSelectionStart = document.getSelection().anchorOffset;\n      expect(newSelectionStart).toBe(selectionEnd);\n    });",
            "file": "selection.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return the editor content as a JSON object",
            "suites": [
                "Anchor Button TestCase"
            ],
            "line": 12,
            "updatePoint": {
                "line": 12,
                "column": 55
            },
            "code": "  it('should return the editor content as a JSON object', function () {\n    var editor = this.newMediumEditor('.editor'),\n        json = editor.serialize();\n    expect(json).toEqual({\n      'medium-editor-test': {\n        value: '<p>lorem <strong>ipsum</strong></p>'\n      }\n    });\n  });",
            "file": "serialize.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should set a custom id when elements have no ids",
            "suites": [
                "Anchor Button TestCase"
            ],
            "line": 21,
            "updatePoint": {
                "line": 21,
                "column": 54
            },
            "code": "  it('should set a custom id when elements have no ids', function () {\n    this.el.removeAttribute('id');\n    var editor = this.newMediumEditor('.editor'),\n        json = editor.serialize();\n    expect(json).toEqual({\n      'element-0': {\n        value: '<p>lorem <strong>ipsum</strong></p>'\n      }\n    });\n  });",
            "file": "serialize.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should toggle the isActive property",
            "suites": [
                "Setup/Destroy TestCase"
            ],
            "line": 12,
            "updatePoint": {
                "line": 12,
                "column": 41
            },
            "code": "  it('should toggle the isActive property', function () {\n    var editor = this.newMediumEditor('.editor');\n    editor.destroy();\n    expect(editor.isActive).toBe(false);\n    editor.setup();\n    expect(editor.isActive).toBe(true);\n    editor.destroy();\n    expect(editor.isActive).toBe(false);\n  });",
            "file": "setup.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should init the toolbar and editor elements",
            "suites": [
                "Setup/Destroy TestCase",
                "Setup"
            ],
            "line": 22,
            "updatePoint": {
                "line": 22,
                "column": 51
            },
            "code": "    it('should init the toolbar and editor elements', function () {\n      var editor = this.newMediumEditor('.editor');\n      editor.destroy();\n      spyOn(MediumEditor.prototype, 'setup').and.callThrough();\n      editor.setup();\n      expect(editor.setup).toHaveBeenCalled();\n      expect(document.querySelector('[data-medium-editor-element]')).toBeTruthy();\n      expect(document.querySelector('[aria-multiline]')).toBeTruthy();\n      expect(document.querySelector('[medium-editor-index]')).toBeTruthy();\n      expect(document.querySelector('[role]')).toBeTruthy();\n      expect(document.querySelector('[spellcheck]')).toBeTruthy();\n      expect(document.querySelector('[contenteditable]')).toBeTruthy();\n    });",
            "file": "setup.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should know about defaults",
            "suites": [
                "Setup/Destroy TestCase",
                "Setup"
            ],
            "line": 35,
            "updatePoint": {
                "line": 35,
                "column": 34
            },
            "code": "    it('should know about defaults', function () {\n      expect(MediumEditor.prototype.defaults).toBeTruthy();\n    });",
            "file": "setup.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove mediumEditor elements from DOM",
            "suites": [
                "Setup/Destroy TestCase",
                "Destroy"
            ],
            "line": 40,
            "updatePoint": {
                "line": 40,
                "column": 52
            },
            "code": "    it('should remove mediumEditor elements from DOM', function () {\n      var editor = this.newMediumEditor('.editor');\n      expect(document.querySelector('.medium-editor-toolbar')).toBeTruthy();\n      editor.destroy();\n      expect(document.querySelector('.medium-editor-toolbar')).toBeFalsy(); // ensure only initial attributes are here: the editor class\n\n      expect(this.el.getAttribute('class')).toBe('editor');\n      expect(this.el.attributes.length).toBe(1);\n    });",
            "file": "setup.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove all the added events",
            "suites": [
                "Setup/Destroy TestCase",
                "Destroy"
            ],
            "line": 49,
            "updatePoint": {
                "line": 49,
                "column": 42
            },
            "code": "    it('should remove all the added events', function () {\n      var editor = this.newMediumEditor('.editor');\n      expect(editor.events.events.length).toBeGreaterThan(0);\n      editor.destroy();\n      expect(editor.events.events.length).toBe(0);\n    });",
            "file": "setup.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should abort any pending throttled event handlers",
            "suites": [
                "Setup/Destroy TestCase",
                "Destroy"
            ],
            "line": 55,
            "updatePoint": {
                "line": 55,
                "column": 57
            },
            "code": "    it('should abort any pending throttled event handlers', function () {\n      var editor, triggerEvents, toolbar;\n      editor = this.newMediumEditor('.editor', {\n        delay: 5\n      });\n\n      triggerEvents = function () {\n        fireEvent(window, 'resize');\n        fireEvent(document.body, 'click', {\n          target: document.body\n        });\n        fireEvent(document.body, 'blur');\n      }; // Store toolbar, since destroy will remove the reference from the editor\n\n\n      toolbar = editor.getExtensionByName('toolbar'); // fire event (handler executed immediately)\n\n      triggerEvents();\n      jasmine.clock().tick(1); // fire event again (handler delayed because of throttle)\n\n      triggerEvents();\n      spyOn(toolbar, 'positionToolbarIfShown').and.callThrough(); // via: handleResize\n\n      spyOn(editor, 'checkSelection').and.callThrough(); // via: handleBlur\n\n      editor.destroy();\n      jasmine.clock().tick(1000); // arbitrary must be longer than THROTTLE_INTERVAL\n\n      expect(toolbar.positionToolbarIfShown).not.toHaveBeenCalled();\n      expect(editor.checkSelection).not.toHaveBeenCalled();\n    }); // regression test for https://github.com/yabwe/medium-editor/issues/197",
            "file": "setup.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not crash when destroy immediately after a mouse click",
            "suites": [
                "Setup/Destroy TestCase",
                "Destroy"
            ],
            "line": 87,
            "updatePoint": {
                "line": 87,
                "column": 69
            },
            "code": "    it('should not crash when destroy immediately after a mouse click', function () {\n      var editor = this.newMediumEditor('.editor'); // selected some content and let the toolbar appear\n\n      selectElementContentsAndFire(editor.elements[0], {\n        testDelay: 501\n      }); // fire a mouse up somewhere else (i.e. a button which click handler could have called destroy() )\n\n      fireEvent(document.documentElement, 'mouseup');\n      editor.destroy();\n      jasmine.clock().tick(501);\n      expect(true).toBe(true);\n    });",
            "file": "setup.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should accept a textarea element and \"convert\" it to a div, preserving all attributes",
            "suites": [
                "Textarea TestCase",
                "MediumEditor constructor"
            ],
            "line": 21,
            "updatePoint": {
                "line": 21,
                "column": 93
            },
            "code": "    it('should accept a textarea element and \"convert\" it to a div, preserving all attributes', function () {\n      var editor = this.newMediumEditor('.editor'),\n          textarea = this.el;\n      expect(editor.elements[0].nodeName.toLowerCase()).toBe('div');\n      var attributes = ['data-disable-editing', 'data-disable-toolbar', 'data-placeholder', 'data-disable-return', 'data-disable-double-return', 'data-disable-preview', 'spellcheck', 'data-imhere'];\n      attributes.forEach(function (attr) {\n        expect(editor.elements[0].getAttribute(attr)).toBe(textarea.getAttribute(attr));\n      });\n    });",
            "file": "textarea.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should sync editor changes with the original textarea element",
            "suites": [
                "Textarea TestCase",
                "MediumEditor constructor"
            ],
            "line": 30,
            "updatePoint": {
                "line": 30,
                "column": 69
            },
            "code": "    it('should sync editor changes with the original textarea element', function () {\n      var editor = this.newMediumEditor('.editor');\n      expect(this.el.value).toEqual('test content');\n      editor.elements[0].innerHTML = 'new content';\n      fireEvent(editor.elements[0], 'input');\n      fireEvent(editor.elements[0], 'keypress');\n      jasmine.clock().tick(1);\n      expect(this.el.value).toEqual('new content');\n    });",
            "file": "textarea.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should preserve textarea className",
            "suites": [
                "Textarea TestCase",
                "MediumEditor constructor"
            ],
            "line": 39,
            "updatePoint": {
                "line": 39,
                "column": 42
            },
            "code": "    it('should preserve textarea className', function () {\n      this.el.className += ' test-class test-class-2';\n      var editor = this.newMediumEditor('.editor');\n      expect(editor.elements[0].className).toBe('editor test-class test-class-2 medium-editor-element');\n    });",
            "file": "textarea.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should create unique div ids for multiple textareas",
            "suites": [
                "Textarea TestCase",
                "MediumEditor constructor"
            ],
            "line": 44,
            "updatePoint": {
                "line": 44,
                "column": 59
            },
            "code": "    it('should create unique div ids for multiple textareas', function () {\n      var origDateNow = Date.now;\n\n      Date.now = function () {\n        return 1464448478887;\n      };\n\n      for (var i = 0; i < 12; i++) {\n        var ta = this.createElement('textarea', 'editor');\n        ta.value = 'test content';\n      }\n\n      var editor = this.newMediumEditor('.editor');\n      editor.elements.forEach(function (el) {\n        expect(document.querySelectorAll('div#' + el.id).length).toEqual(1);\n      });\n      Date.now = origDateNow;\n    });",
            "file": "textarea.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should create unique medium-editor-textarea-ids across all editor instances",
            "suites": [
                "Textarea TestCase",
                "MediumEditor constructor"
            ],
            "line": 62,
            "updatePoint": {
                "line": 62,
                "column": 83
            },
            "code": "    it('should create unique medium-editor-textarea-ids across all editor instances', function () {\n      var origDateNow = Date.now;\n\n      Date.now = function () {\n        return 1464448478887;\n      };\n\n      var tas = [];\n\n      for (var i = 0; i < 12; i++) {\n        var ta = this.createElement('textarea', 'editor');\n        ta.value = 'test content';\n        tas.push(ta);\n      }\n\n      tas.forEach(function (el) {\n        this.newMediumEditor(el);\n      }, this);\n      this.editors.forEach(function (editor) {\n        expect(document.querySelectorAll('textarea[medium-editor-textarea-id=\"' + editor.elements[0].getAttribute('medium-editor-textarea-id') + '\"]').length).toEqual(1);\n      });\n      Date.now = origDateNow;\n    });",
            "file": "textarea.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should cleanup after destroy",
            "suites": [
                "Textarea TestCase",
                "MediumEditor constructor"
            ],
            "line": 85,
            "updatePoint": {
                "line": 85,
                "column": 36
            },
            "code": "    it('should cleanup after destroy', function () {\n      var editor = this.newMediumEditor('.editor');\n      expect(this.el.classList.contains('medium-editor-hidden')).toBe(true);\n      editor.destroy();\n      expect(this.el.classList.contains('medium-editor-hidden')).toBe(false);\n    });",
            "file": "textarea.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should reset the value of created div when form containing textarea is reset",
            "suites": [
                "Textarea TestCase",
                "MediumEditor constructor"
            ],
            "line": 91,
            "updatePoint": {
                "line": 91,
                "column": 84
            },
            "code": "    it('should reset the value of created div when form containing textarea is reset', function () {\n      var form = this.createElement('form', null, null, true),\n          initialContent = this.el.value;\n      form.appendChild(this.el);\n      document.body.appendChild(form);\n      var editor = this.newMediumEditor('.editor');\n      expect(editor.elements[0].innerHTML).toEqual(initialContent);\n      editor.setContent('<p>custom content</p>');\n      expect(editor.elements[0].innerHTML).not.toEqual(initialContent);\n      form.reset();\n      expect(editor.elements[0].innerHTML).toEqual(initialContent);\n    });",
            "file": "textarea.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should \"convert\" it to a div, preserving all attributes",
            "suites": [
                "Textarea TestCase",
                "Dynamically adding textarea elements to the editor"
            ],
            "line": 121,
            "updatePoint": {
                "line": 121,
                "column": 63
            },
            "code": "    it('should \"convert\" it to a div, preserving all attributes', function () {\n      var editor = this.newMediumEditor('.editable-div'),\n          textarea = this.el;\n      expect(editor.elements[0]).toBe(this.div);\n      expect(editor.elements.length).toBe(1);\n      editor.addElements(this.el);\n      expect(editor.elements.length).toBe(2);\n      var attributes = ['data-disable-editing', 'data-disable-toolbar', 'data-placeholder', 'data-disable-return', 'data-disable-double-return', 'data-disable-preview', 'spellcheck', 'data-imhere'],\n          tempDiv = editor.elements[1];\n      attributes.forEach(function (attr) {\n        expect(tempDiv.getAttribute(attr)).toBe(textarea.getAttribute(attr));\n      });\n    });",
            "file": "textarea.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should sync editor changes with the original textarea element",
            "suites": [
                "Textarea TestCase",
                "Dynamically adding textarea elements to the editor"
            ],
            "line": 134,
            "updatePoint": {
                "line": 134,
                "column": 69
            },
            "code": "    it('should sync editor changes with the original textarea element', function () {\n      var editor = this.newMediumEditor('.editable-div');\n      editor.addElements(this.el);\n      expect(this.el.value).toEqual('test content');\n      expect(editor.elements[1].innerHTML).toEqual('test content');\n      editor.elements[1].innerHTML = 'new content';\n      fireEvent(editor.elements[1], 'input');\n      fireEvent(editor.elements[1], 'keypress');\n      jasmine.clock().tick(1);\n      expect(this.el.value).toEqual('new content');\n    });",
            "file": "textarea.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should preserve textarea className",
            "suites": [
                "Textarea TestCase",
                "Dynamically adding textarea elements to the editor"
            ],
            "line": 145,
            "updatePoint": {
                "line": 145,
                "column": 42
            },
            "code": "    it('should preserve textarea className', function () {\n      this.el.className += ' test-class test-class-2';\n      var editor = this.newMediumEditor('.editable-div');\n      editor.addElements(this.el);\n      expect(editor.elements[1].className).toBe('editor test-class test-class-2 medium-editor-element');\n    });",
            "file": "textarea.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should create unique div ids for multiple textareas",
            "suites": [
                "Textarea TestCase",
                "Dynamically adding textarea elements to the editor"
            ],
            "line": 151,
            "updatePoint": {
                "line": 151,
                "column": 59
            },
            "code": "    it('should create unique div ids for multiple textareas', function () {\n      this.div.setAttribute('id', 'medium-editor-12345');\n\n      for (var i = 0; i < 12; i++) {\n        var ta = this.createElement('textarea', 'editor');\n        ta.value = 'test content';\n      }\n\n      var editor = this.newMediumEditor('.editable-div');\n      expect(editor.elements.length).toBe(1);\n      editor.addElements(document.querySelectorAll('.editor'));\n      expect(editor.elements.length).toBe(14);\n      editor.elements.forEach(function (el) {\n        expect(document.querySelectorAll('div#' + el.id).length).toEqual(1);\n      });\n    });",
            "file": "textarea.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should create unique medium-editor-textarea-ids across all editor instances",
            "suites": [
                "Textarea TestCase",
                "Dynamically adding textarea elements to the editor"
            ],
            "line": 167,
            "updatePoint": {
                "line": 167,
                "column": 83
            },
            "code": "    it('should create unique medium-editor-textarea-ids across all editor instances', function () {\n      var tas = [];\n\n      for (var i = 0; i < 12; i++) {\n        var ta = this.createElement('textarea', 'editor');\n        ta.value = 'test content';\n        tas.push(ta);\n        var div = this.createElement('div', 'editable-div');\n        div.innerHTML = 'test div';\n        this.newMediumEditor(div);\n      }\n\n      tas.forEach(function (el, idx) {\n        this.editors[idx].addElements(el);\n      }, this);\n      this.editors.forEach(function (editor) {\n        expect(document.querySelectorAll('textarea[medium-editor-textarea-id=\"' + editor.elements[1].getAttribute('medium-editor-textarea-id') + '\"]').length).toEqual(1);\n      });\n    });",
            "file": "textarea.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should cleanup after destroy",
            "suites": [
                "Textarea TestCase",
                "Dynamically adding textarea elements to the editor"
            ],
            "line": 186,
            "updatePoint": {
                "line": 186,
                "column": 36
            },
            "code": "    it('should cleanup after destroy', function () {\n      var editor = this.newMediumEditor('.editable-div');\n      expect(this.el.classList.contains('medium-editor-hidden')).toBe(false);\n      editor.addElements(this.el);\n      expect(this.el.classList.contains('medium-editor-hidden')).toBe(true);\n      editor.destroy();\n      expect(this.el.classList.contains('medium-editor-hidden')).toBe(false);\n    });",
            "file": "textarea.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should reset the value of created div when form containing textarea is reset",
            "suites": [
                "Textarea TestCase",
                "Dynamically adding textarea elements to the editor"
            ],
            "line": 194,
            "updatePoint": {
                "line": 194,
                "column": 84
            },
            "code": "    it('should reset the value of created div when form containing textarea is reset', function () {\n      var form = this.createElement('form', null, null, true),\n          initialContent = 'initial text',\n          otherTextarea = this.createElement('textarea', 'editor', initialContent, true),\n          editor = this.newMediumEditor('.editor');\n      otherTextarea.value = initialContent;\n      expect(editor.elements.length).toBe(1);\n      form.appendChild(otherTextarea);\n      document.body.appendChild(form);\n      editor.addElements(otherTextarea);\n      var createdDiv = editor.elements[1];\n      expect(createdDiv.innerHTML).toEqual(initialContent);\n      editor.setContent('<p>custom content</p>', 1);\n      expect(createdDiv.innerHTML).not.toEqual(initialContent);\n      form.reset();\n      expect(createdDiv.innerHTML).toEqual(initialContent);\n    });",
            "file": "textarea.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove the created div and show the textarea when passed a div created for a textarea",
            "suites": [
                "Textarea TestCase",
                "Calling removeElements"
            ],
            "line": 223,
            "updatePoint": {
                "line": 223,
                "column": 100
            },
            "code": "    it('should remove the created div and show the textarea when passed a div created for a textarea', function () {\n      var editor = this.newMediumEditor('.editor'),\n          createdDiv = editor.elements[0],\n          divParent = createdDiv.parentNode;\n      expect(editor.elements.length).toBe(1);\n      expect(this.el.classList.contains('medium-editor-hidden')).toBe(true);\n      editor.addElements(this.div);\n      expect(editor.elements.length).toBe(2);\n      editor.removeElements(createdDiv);\n      expect(editor.elements.length).toBe(1);\n      expect(createdDiv.parentNode).not.toBe(divParent, 'The div created for the textarea should have been removed');\n      expect(this.el.hasAttribute('medium-editor-textarea-id')).toBe(false, 'The textarea should not have a medium-editor-textarea-id attribute when its editor div is removed');\n      expect(this.el.classList.contains('medium-editor-hidden')).toBe(false, 'The textarea should be hidden when its editor div is removed');\n    });",
            "file": "textarea.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove the created div and show the textaarea when passed the actual textarea",
            "suites": [
                "Textarea TestCase",
                "Calling removeElements"
            ],
            "line": 237,
            "updatePoint": {
                "line": 237,
                "column": 92
            },
            "code": "    it('should remove the created div and show the textaarea when passed the actual textarea', function () {\n      var editor = this.newMediumEditor('.editor'),\n          createdDiv = editor.elements[0],\n          divParent = createdDiv.parentNode;\n      expect(editor.elements.length).toBe(1);\n      expect(this.el.classList.contains('medium-editor-hidden')).toBe(true);\n      editor.addElements(this.div);\n      expect(editor.elements.length).toBe(2);\n      editor.removeElements(this.el);\n      expect(editor.elements.length).toBe(1);\n      expect(createdDiv.parentNode).not.toBe(divParent, 'The div created for the textarea should have been removed');\n      expect(this.el.hasAttribute('medium-editor-textarea-id')).toBe(false, 'The textarea should not have a medium-editor-textarea-id attribute when its editor div is removed');\n      expect(this.el.classList.contains('medium-editor-hidden')).toBe(false, 'The textarea should be hidden when its editor div is removed');\n    });",
            "file": "textarea.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should call the createToolbar method",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Initialization"
            ],
            "line": 15,
            "updatePoint": {
                "line": 15,
                "column": 44
            },
            "code": "    it('should call the createToolbar method', function () {\n      spyOn(MediumEditor.extensions.toolbar.prototype, 'createToolbar').and.callThrough();\n      var editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      expect(toolbar).not.toBeUndefined();\n      expect(toolbar.createToolbar).toHaveBeenCalled();\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should create a new element for the editor toolbar",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Initialization"
            ],
            "line": 22,
            "updatePoint": {
                "line": 22,
                "column": 58
            },
            "code": "    it('should create a new element for the editor toolbar', function () {\n      expect(document.querySelectorAll('.medium-editor-toolbar').length).toBe(0);\n      var editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar').getToolbarElement();\n      expect(toolbar.className).toMatch(/medium-editor-toolbar/);\n      expect(document.querySelectorAll('.medium-editor-toolbar').length).toBe(1);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not create an anchor form element or anchor extension if anchor is not passed as a button",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Initialization"
            ],
            "line": 29,
            "updatePoint": {
                "line": 29,
                "column": 104
            },
            "code": "    it('should not create an anchor form element or anchor extension if anchor is not passed as a button', function () {\n      expect(document.querySelectorAll('.medium-editor-toolbar-form-anchor').length).toBe(0);\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          buttons: ['bold', 'italic', 'underline']\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar');\n      expect(toolbar.getToolbarElement().querySelectorAll('.medium-editor-toolbar-form-anchor').length).toBe(0);\n      expect(editor.getExtensionByName('anchor')).toBeUndefined();\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should enable bold button in toolbar when bold text is selected",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Toolbars"
            ],
            "line": 42,
            "updatePoint": {
                "line": 42,
                "column": 71
            },
            "code": "    it('should enable bold button in toolbar when bold text is selected', function () {\n      var editor = null,\n          newElement = this.createElement('div', '', 'lorem ipsum <b><div id=\"bold_dolorOne\">dolor</div></b>');\n      newElement.id = 'editor-for-toolbar-test';\n      editor = this.newMediumEditor(document.getElementById('editor-for-toolbar-test'), {\n        delay: 0\n      });\n      var toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(document.getElementById('bold_dolorOne'));\n      expect(toolbar.getToolbarElement().querySelector('button[data-action=\"bold\"]').classList.contains('medium-editor-button-active')).toBe(true);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not activate buttons in toolbar when stopSelectionUpdates has been called, but should activate buttons after startSelectionUpdates is called",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Toolbars"
            ],
            "line": 53,
            "updatePoint": {
                "line": 53,
                "column": 155
            },
            "code": "    it('should not activate buttons in toolbar when stopSelectionUpdates has been called, but should activate buttons after startSelectionUpdates is called', function () {\n      this.el.innerHTML = 'lorem ipsum <b><div id=\"bold_dolorTwo\">dolor</div></b>';\n      var editor = this.newMediumEditor(document.querySelectorAll('.editor'), {\n        delay: 0\n      }),\n          toolbar = editor.getExtensionByName('toolbar');\n      editor.stopSelectionUpdates();\n      selectElementContentsAndFire(document.getElementById('bold_dolorTwo'));\n      expect(toolbar.getToolbarElement().querySelector('button[data-action=\"bold\"]').classList.contains('medium-editor-button-active')).toBe(false);\n      editor.startSelectionUpdates();\n      selectElementContentsAndFire(document.getElementById('bold_dolorTwo'), {\n        eventToFire: 'mouseup'\n      });\n      expect(toolbar.getToolbarElement().querySelector('button[data-action=\"bold\"]').classList.contains('medium-editor-button-active')).toBe(true);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should trigger the showToolbar custom event when toolbar is shown",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Toolbars"
            ],
            "line": 68,
            "updatePoint": {
                "line": 68,
                "column": 73
            },
            "code": "    it('should trigger the showToolbar custom event when toolbar is shown', function () {\n      var editor = this.newMediumEditor('.editor'),\n          callback = jasmine.createSpy();\n      this.el.innerHTML = 'specOnShowToolbarTest';\n      editor.subscribe('showToolbar', callback);\n      selectElementContentsAndFire(this.el);\n      expect(callback).toHaveBeenCalledWith({}, this.el);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should trigger positionToolbar custom event when toolbar is moved",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Toolbars"
            ],
            "line": 76,
            "updatePoint": {
                "line": 76,
                "column": 73
            },
            "code": "    it('should trigger positionToolbar custom event when toolbar is moved', function () {\n      var editor = this.newMediumEditor('.editor'),\n          callback = jasmine.createSpy();\n      this.el.innerHTML = 'specOnUpdateToolbarTest';\n      editor.subscribe('positionToolbar', callback);\n      selectElementContentsAndFire(this.el);\n      expect(callback).toHaveBeenCalledWith({}, this.el);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should trigger positionedToolbar custom event when toolbar is moved",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Toolbars"
            ],
            "line": 84,
            "updatePoint": {
                "line": 84,
                "column": 75
            },
            "code": "    it('should trigger positionedToolbar custom event when toolbar is moved', function () {\n      var editor = this.newMediumEditor('.editor'),\n          callback = jasmine.createSpy();\n      this.el.innerHTML = 'specOnUpdateToolbarTest';\n      editor.subscribe('positionedToolbar', callback);\n      selectElementContentsAndFire(this.el);\n      expect(callback).toHaveBeenCalledWith({}, this.el);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should trigger positionToolbar before setToolbarPosition is called",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Toolbars"
            ],
            "line": 92,
            "updatePoint": {
                "line": 92,
                "column": 74
            },
            "code": "    it('should trigger positionToolbar before setToolbarPosition is called', function () {\n      this.el.innerHTML = 'position sanity check';\n      var editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar'),\n          triggerCount = 0,\n          temp = {\n        update: function () {\n          // selectElementContents will select the contents and trigger 'click'\n          // Since we're manually triggering things, in Edge we have to trigger\n          // 'click' or the toolbar won't detect the change.  However, in some\n          // browsers the selection action itself triggers a 'focus' which the toolbar\n          // picks up.  This means for some browsers (ie Chrome, FF) the 'positionToolbar'\n          // event will trigger twice.  So, let's just make sure the first time the\n          // event triggers, that it was triggered BEFORE the first call to setToolbarPosition\n          if (triggerCount === 0) {\n            expect(toolbar.setToolbarPosition).not.toHaveBeenCalled();\n          }\n\n          triggerCount++;\n        }\n      };\n      selectElementContents(this.el);\n      jasmine.clock().tick(1);\n      spyOn(toolbar, 'setToolbarPosition').and.callThrough();\n      spyOn(temp, 'update').and.callThrough();\n      editor.subscribe('positionToolbar', temp.update);\n      selectElementContentsAndFire(this.el);\n      expect(temp.update).toHaveBeenCalled();\n      expect(toolbar.setToolbarPosition).toHaveBeenCalled();\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should trigger positionedToolbar after setToolbarPosition and showToolbar is called",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Toolbars"
            ],
            "line": 122,
            "updatePoint": {
                "line": 122,
                "column": 91
            },
            "code": "    it('should trigger positionedToolbar after setToolbarPosition and showToolbar is called', function () {\n      this.el.innerHTML = 'position sanity check';\n      var editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar'),\n          temp = {\n        update: function () {\n          expect(toolbar.setToolbarPosition).toHaveBeenCalled();\n          expect(toolbar.showToolbar).toHaveBeenCalled();\n        }\n      };\n      selectElementContents(this.el);\n      jasmine.clock().tick(1);\n      spyOn(toolbar, 'setToolbarPosition').and.callThrough();\n      spyOn(toolbar, 'showToolbar').and.callThrough();\n      spyOn(temp, 'update').and.callThrough();\n      editor.subscribe('positionedToolbar', temp.update);\n      selectElementContentsAndFire(this.el);\n      expect(temp.update).toHaveBeenCalled();\n      expect(toolbar.setToolbarPosition).toHaveBeenCalled();\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should trigger the hideToolbar custom event when toolbar is hidden",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Toolbars"
            ],
            "line": 142,
            "updatePoint": {
                "line": 142,
                "column": 74
            },
            "code": "    it('should trigger the hideToolbar custom event when toolbar is hidden', function () {\n      var editor = this.newMediumEditor('.editor'),\n          callback = jasmine.createSpy();\n      this.el.innerHTML = 'specOnShowToolbarTest';\n      editor.subscribe('hideToolbar', callback);\n      selectElementContentsAndFire(this.el); // Remove selection and call check selection, which should make the toolbar be hidden\n\n      window.getSelection().removeAllRanges();\n      editor.checkSelection();\n      expect(callback).toHaveBeenCalledWith({}, this.el);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be possible to listen to toolbar events from extensions",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Toolbars"
            ],
            "line": 153,
            "updatePoint": {
                "line": 153,
                "column": 70
            },
            "code": "    it('should be possible to listen to toolbar events from extensions', function () {\n      var callbackShow = jasmine.createSpy('show'),\n          callbackHide = jasmine.createSpy('hide'),\n          TestExtension = MediumEditor.Extension.extend({\n        parent: true,\n        init: function () {\n          this.base.subscribe('showToolbar', callbackShow);\n          this.base.subscribe('hideToolbar', callbackHide);\n        }\n      }),\n          editor = this.newMediumEditor('.editor', {\n        extensions: {\n          'testExtension': new TestExtension()\n        }\n      });\n      this.el.innerHTML = 'specOnShowToolbarTest';\n      selectElementContentsAndFire(this.el);\n      expect(callbackShow).toHaveBeenCalledWith({}, this.el); // Remove selection and call check selection, which should make the toolbar be hidden\n\n      window.getSelection().removeAllRanges();\n      editor.checkSelection();\n      expect(callbackHide).toHaveBeenCalledWith({}, this.el);\n    }); // regression test for https://github.com/yabwe/medium-editor/issues/390",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should work with multiple elements of the same class",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Toolbars"
            ],
            "line": 177,
            "updatePoint": {
                "line": 177,
                "column": 60
            },
            "code": "    it('should work with multiple elements of the same class', function () {\n      var editor, el, i;\n      this.el.textContent = '0. Lorem ipsum dolor sit amet';\n\n      for (i = 1; i < 3; i += 1) {\n        el = this.createElement('div', 'editor');\n        el.textContent = i + '. Lorem ipsum dolor sit amet';\n      }\n\n      expect(document.querySelectorAll('.editor').length).toBe(3);\n      editor = this.newMediumEditor('.editor');\n      var toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(editor.elements[0]);\n      expect(toolbar.isDisplayed()).toBe(true);\n      selectElementContentsAndFire(editor.elements[1]);\n      expect(toolbar.isDisplayed()).toBe(true);\n      selectElementContentsAndFire(editor.elements[2]);\n      expect(toolbar.isDisplayed()).toBe(true);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not hide when selecting a link containing only an image",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Toolbars"
            ],
            "line": 196,
            "updatePoint": {
                "line": 196,
                "column": 70
            },
            "code": "    it('should not hide when selecting a link containing only an image', function () {\n      this.el.innerHTML = '<p>Here is an <a href=\"#\"><img src=\"../demo/img/medium-editor.jpg\"></a> image</p>';\n      var editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(editor.elements[0].querySelector('a'));\n      fireEvent(editor.elements[0], 'mousedown');\n      fireEvent(document.body, 'mouseup');\n      fireEvent(document.body, 'click');\n      jasmine.clock().tick(51);\n      expect(toolbar.isDisplayed()).toBe(true);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not hide when selecting text within editor, but release mouse outside of editor",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Toolbars"
            ],
            "line": 207,
            "updatePoint": {
                "line": 207,
                "column": 94
            },
            "code": "    it('should not hide when selecting text within editor, but release mouse outside of editor', function () {\n      this.el.innerHTML = 'lorem ipsum';\n      var editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(editor.elements[0].firstChild);\n      fireEvent(editor.elements[0], 'mousedown');\n      fireEvent(document.body, 'mouseup');\n      fireEvent(document.body, 'click');\n      jasmine.clock().tick(51);\n      expect(toolbar.isDisplayed()).toBe(true);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should hide when clicking outside the toolbar on an element that does not clear selection",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Toolbars"
            ],
            "line": 218,
            "updatePoint": {
                "line": 218,
                "column": 97
            },
            "code": "    it('should hide when clicking outside the toolbar on an element that does not clear selection', function () {\n      this.el.innerHTML = 'lorem ipsum';\n      var outsideElement = this.createElement('div', '', 'Click Me, I don\\'t clear selection'),\n          editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      outsideElement.setAttribute('style', '-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;');\n      selectElementContentsAndFire(editor.elements[0].firstChild);\n      expect(toolbar.isDisplayed()).toBe(true);\n      fireEvent(outsideElement, 'mousedown');\n      fireEvent(outsideElement, 'mouseup');\n      fireEvent(outsideElement, 'click');\n      jasmine.clock().tick(51);\n      expect(document.getSelection().rangeCount).toBe(1);\n      expect(toolbar.isDisplayed()).toBe(false);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should hide when selecting multiple paragraphs and the allowMultiParagraphSelection option is false",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Toolbars"
            ],
            "line": 233,
            "updatePoint": {
                "line": 233,
                "column": 107
            },
            "code": "    it('should hide when selecting multiple paragraphs and the allowMultiParagraphSelection option is false', function () {\n      this.el.innerHTML = '<p id=\"p-one\">lorem ipsum</p><p id=\"p-two\">lorem ipsum</p>';\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          allowMultiParagraphSelection: false\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(document.getElementById('p-one'));\n      expect(toolbar.getToolbarElement().classList.contains('medium-editor-toolbar-active')).toBe(true);\n      selectElementContentsAndFire(this.el, {\n        eventToFire: 'mouseup'\n      });\n      expect(toolbar.getToolbarElement().classList.contains('medium-editor-toolbar-active')).toBe(false);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should check for selection on mouseup event",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Toolbars"
            ],
            "line": 248,
            "updatePoint": {
                "line": 248,
                "column": 51
            },
            "code": "    it('should check for selection on mouseup event', function () {\n      spyOn(MediumEditor.extensions.toolbar.prototype, 'checkState');\n      var editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      fireEvent(editor.elements[0], 'mouseup');\n      expect(toolbar.checkState).toHaveBeenCalled();\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should check for selection on keyup",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Toolbars"
            ],
            "line": 255,
            "updatePoint": {
                "line": 255,
                "column": 43
            },
            "code": "    it('should check for selection on keyup', function () {\n      spyOn(MediumEditor.extensions.toolbar.prototype, 'checkState');\n      var editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      fireEvent(editor.elements[0], 'keyup');\n      expect(toolbar.checkState).toHaveBeenCalled();\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should hide if selection is empty",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Toolbars"
            ],
            "line": 262,
            "updatePoint": {
                "line": 262,
                "column": 41
            },
            "code": "    it('should hide if selection is empty', function () {\n      spyOn(MediumEditor.extensions.toolbar.prototype, 'setToolbarPosition').and.callThrough();\n      spyOn(MediumEditor.extensions.toolbar.prototype, 'setToolbarButtonStates').and.callThrough();\n      spyOn(MediumEditor.extensions.toolbar.prototype, 'showAndUpdateToolbar').and.callThrough();\n      var editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      toolbar.getToolbarElement().style.display = 'block';\n      toolbar.getToolbarElement().classList.add('medium-editor-toolbar-active');\n      expect(toolbar.getToolbarElement().classList.contains('medium-editor-toolbar-active')).toBe(true);\n      editor.checkSelection();\n      expect(toolbar.getToolbarElement().classList.contains('medium-editor-toolbar-active')).toBe(false);\n      expect(toolbar.setToolbarPosition).not.toHaveBeenCalled();\n      expect(toolbar.setToolbarButtonStates).not.toHaveBeenCalled();\n      expect(toolbar.showAndUpdateToolbar).not.toHaveBeenCalled();\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should hide when selecting multiple paragraphs and the deprecated allowMultiParagraphSelection option is false",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Toolbars"
            ],
            "line": 277,
            "updatePoint": {
                "line": 277,
                "column": 118
            },
            "code": "    it('should hide when selecting multiple paragraphs and the deprecated allowMultiParagraphSelection option is false', function () {\n      this.el.innerHTML = '<p id=\"p-one\">lorem ipsum</p><p id=\"p-two\">lorem ipsum</p>';\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          allowMultiParagraphSelection: false\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(document.getElementById('p-one'));\n      expect(toolbar.getToolbarElement().classList.contains('medium-editor-toolbar-active')).toBe(true);\n      selectElementContentsAndFire(this.el, {\n        eventToFire: 'mouseup'\n      });\n      expect(toolbar.getToolbarElement().classList.contains('medium-editor-toolbar-active')).toBe(false);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should show when something is selected",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Toolbars"
            ],
            "line": 292,
            "updatePoint": {
                "line": 292,
                "column": 46
            },
            "code": "    it('should show when something is selected', function () {\n      this.el.innerHTML = 'lorem ipsum';\n      var editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      expect(toolbar.getToolbarElement().classList.contains('medium-editor-toolbar-active')).toBe(false);\n      selectElementContentsAndFire(this.el);\n      expect(toolbar.getToolbarElement().classList.contains('medium-editor-toolbar-active')).toBe(true);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should update position and button states when something is selected",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Toolbars"
            ],
            "line": 300,
            "updatePoint": {
                "line": 300,
                "column": 75
            },
            "code": "    it('should update position and button states when something is selected', function () {\n      this.el.innerHTML = 'lorem ipsum';\n      spyOn(MediumEditor.extensions.toolbar.prototype, 'setToolbarPosition').and.callThrough();\n      spyOn(MediumEditor.extensions.toolbar.prototype, 'setToolbarButtonStates').and.callThrough();\n      spyOn(MediumEditor.extensions.toolbar.prototype, 'showAndUpdateToolbar').and.callThrough();\n      var editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(this.el);\n      expect(toolbar.setToolbarPosition).toHaveBeenCalled();\n      expect(toolbar.setToolbarButtonStates).toHaveBeenCalled();\n      expect(toolbar.showAndUpdateToolbar).toHaveBeenCalled();\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should correctly update position even if elementsContainer is absolute",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Toolbars"
            ],
            "line": 312,
            "updatePoint": {
                "line": 312,
                "column": 78
            },
            "code": "    it('should correctly update position even if elementsContainer is absolute', function () {\n      var container = document.createElement('div'),\n          editor,\n          toolbar;\n      container.style.position = 'absolute';\n      container.style.left = '200px';\n      container.style.top = '200px';\n      document.body.appendChild(container);\n      this.el.innerHTML = 'lorem';\n      editor = this.newMediumEditor('.editor', {\n        elementsContainer: container\n      });\n      toolbar = editor.getExtensionByName('toolbar').getToolbarElement();\n      selectElementContentsAndFire(this.el);\n      expect(toolbar.classList.contains('medium-editor-toolbar-active')).toBe(true);\n      expect(parseInt(toolbar.style.left, 10)).toBeLessThan(200);\n      expect(parseInt(toolbar.style.top, 10)).toBeLessThan(200);\n      document.body.removeChild(container);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should let the user click outside of the selected area to leave",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Static Toolbars"
            ],
            "line": 333,
            "updatePoint": {
                "line": 333,
                "column": 71
            },
            "code": "    it('should let the user click outside of the selected area to leave', function () {\n      this.el.innerHTML = 'This is my text<span>and this is some other text</span>';\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          static: true,\n          updateOnEmptySelection: true,\n          standardizeSelectionStart: true\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar');\n      placeCursorInsideElement(this.el.firstChild, 'This is my text'.length);\n      fireEvent(this.el.parentNode, 'click', {\n        target: this.el.parentNode,\n        currentTarget: this.el\n      });\n      jasmine.clock().tick(1);\n      expect(toolbar.getToolbarElement().classList.contains('medium-editor-toolbar-active')).toBe(false);\n      expect(this.el.getAttribute('medium-editor-focused')).not.toBeTruthy();\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not throw an error when check selection is called when there is an empty selection",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Static Toolbars"
            ],
            "line": 352,
            "updatePoint": {
                "line": 352,
                "column": 97
            },
            "code": "    it('should not throw an error when check selection is called when there is an empty selection', function () {\n      this.el.innerHTML = '<b>lorem ipsum</b>';\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          static: true,\n          sticky: true\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(this.el.querySelector('b'));\n      expect(toolbar.getToolbarElement().classList.contains('medium-editor-toolbar-active')).toBe(true);\n      expect(toolbar.getToolbarElement().querySelector('[data-action=\"bold\"]').classList.contains('medium-editor-button-active')).toBe(true);\n      window.getSelection().removeAllRanges();\n      editor.checkSelection();\n      jasmine.clock().tick(1); // checkSelection delay\n\n      expect(true).toBe(true);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should show and update toolbar buttons when toolbar is static and updateOnEmptySelection option is set to true",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Static Toolbars"
            ],
            "line": 370,
            "updatePoint": {
                "line": 370,
                "column": 118
            },
            "code": "    it('should show and update toolbar buttons when toolbar is static and updateOnEmptySelection option is set to true', function () {\n      this.el.innerHTML = '<b>lorem ipsum</b>';\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          static: true,\n          sticky: true,\n          updateOnEmptySelection: true\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(this.el.querySelector('b'), {\n        eventToFire: 'focus',\n        testDelay: -1\n      });\n      window.getSelection().removeAllRanges();\n      editor.checkSelection();\n      jasmine.clock().tick(1); // checkSelection delay\n\n      expect(toolbar.getToolbarElement().classList.contains('medium-editor-toolbar-active')).toBe(true);\n      expect(toolbar.getToolbarElement().querySelector('[data-action=\"bold\"]').classList.contains('medium-editor-button-active')).toBe(true);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be hidden for one medium-editor instance when another medium-editor instance shows its toolbar",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Static Toolbars"
            ],
            "line": 391,
            "updatePoint": {
                "line": 391,
                "column": 109
            },
            "code": "    it('should be hidden for one medium-editor instance when another medium-editor instance shows its toolbar', function () {\n      var editorOne,\n          editorTwo,\n          elTwo = this.createElement('div', '', '<span id=\"editor-span-2\">lorem ipsum</span>');\n      elTwo.id = 'editor-div-two';\n      this.el.innerHTML = '<span id=\"editor-span-1\">lorem ipsum</span>';\n      editorOne = this.newMediumEditor('.editor', {\n        toolbar: {\n          static: true\n        }\n      });\n      editorTwo = this.newMediumEditor(document.getElementById('editor-div-two'), {\n        toolbar: {\n          static: true\n        }\n      });\n      var toolbarOne = editorOne.getExtensionByName('toolbar'),\n          toolbarTwo = editorTwo.getExtensionByName('toolbar');\n      selectElementContents(document.getElementById('editor-span-1'));\n      fireEvent(this.el, 'click', {\n        target: this.el,\n        relatedTarget: elTwo\n      });\n      jasmine.clock().tick(1); // checkSelection delay\n\n      expect(toolbarOne.getToolbarElement().classList.contains('medium-editor-toolbar-active')).toBe(true);\n      expect(toolbarTwo.getToolbarElement().classList.contains('medium-editor-toolbar-active')).toBe(false);\n      selectElementContents(document.getElementById('editor-span-2'));\n      fireEvent(elTwo, 'click', {\n        target: elTwo,\n        relatedTarget: this.el\n      });\n      jasmine.clock().tick(1); // checkSelection delay\n\n      expect(toolbarOne.getToolbarElement().classList.contains('medium-editor-toolbar-active')).toBe(false);\n      expect(toolbarTwo.getToolbarElement().classList.contains('medium-editor-toolbar-active')).toBe(true);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should update button states when updateOnEmptySelection is true and the selection is empty",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Static Toolbars"
            ],
            "line": 428,
            "updatePoint": {
                "line": 428,
                "column": 98
            },
            "code": "    it('should update button states when updateOnEmptySelection is true and the selection is empty', function () {\n      spyOn(MediumEditor.extensions.toolbar.prototype, 'setToolbarButtonStates').and.callThrough();\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          updateOnEmptySelection: true,\n          static: true\n        }\n      });\n      selectElementContentsAndFire(this.el, {\n        collapse: 'toStart'\n      });\n      expect(editor.getExtensionByName('toolbar').setToolbarButtonStates).toHaveBeenCalled();\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should remove select event from elements",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Deactive"
            ],
            "line": 443,
            "updatePoint": {
                "line": 443,
                "column": 48
            },
            "code": "    it('should remove select event from elements', function () {\n      spyOn(this.el, 'addEventListener');\n      var editor = this.newMediumEditor('.editor');\n      expect(this.el.addEventListener).toHaveBeenCalled();\n      spyOn(this.el, 'removeEventListener');\n      editor.destroy();\n      expect(this.el.removeEventListener).toHaveBeenCalled();\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not show the toolbar on elements when toolbar option is set to false",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Disable"
            ],
            "line": 453,
            "updatePoint": {
                "line": 453,
                "column": 83
            },
            "code": "    it('should not show the toolbar on elements when toolbar option is set to false', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: false\n      });\n      expect(editor.options.toolbar).toBe(false);\n      expect(document.getElementsByClassName('medium-editor-toolbar-actions').length).toBe(0);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not create the toolbar if all elements has data attr of disable-toolbar",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Disable"
            ],
            "line": 460,
            "updatePoint": {
                "line": 460,
                "column": 86
            },
            "code": "    it('should not create the toolbar if all elements has data attr of disable-toolbar', function () {\n      this.el.setAttribute('data-disable-toolbar', 'true');\n      var editor = this.newMediumEditor('.editor');\n      expect(document.getElementsByClassName('medium-editor-toolbar-actions').length).toBe(0);\n      expect(editor.getExtensionByName('toolbar')).toBeUndefined();\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not show the toolbar when one element has a data attr of disable-toolbar set and text is selected",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Disable"
            ],
            "line": 466,
            "updatePoint": {
                "line": 466,
                "column": 112
            },
            "code": "    it('should not show the toolbar when one element has a data attr of disable-toolbar set and text is selected', function () {\n      var element = this.createElement('div', 'editor', 'lorem ipsum'),\n          editor = null;\n      element.setAttribute('data-disable-toolbar', 'true');\n      editor = this.newMediumEditor(document.querySelectorAll('.editor'));\n      var toolbar = editor.getExtensionByName('toolbar');\n      expect(editor.elements.length).toBe(2);\n      expect(toolbar.getToolbarElement().style.display).toBe('');\n      selectElementContentsAndFire(element);\n      expect(toolbar.getToolbarElement().style.display).toBe('');\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not display toolbar when selected text within an element with contenteditable=\"false\"",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Disable"
            ],
            "line": 477,
            "updatePoint": {
                "line": 477,
                "column": 100
            },
            "code": "    it('should not display toolbar when selected text within an element with contenteditable=\"false\"', function () {\n      this.createElement('div', 'editor');\n      this.el.innerHTML = 'lorem ipsum <div id=\"cef_el\" contenteditable=\"false\">dolor</div>';\n      var editor = this.newMediumEditor(document.querySelectorAll('.editor'), {\n        delay: 0\n      }),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(document.getElementById('cef_el'));\n      expect(toolbar.getToolbarElement().classList.contains('medium-editor-toolbar-active')).toBe(false);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should show the toolbar if its text are selected even though one or more elements that has a data attr of disable-toolbar",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Disable"
            ],
            "line": 487,
            "updatePoint": {
                "line": 487,
                "column": 129
            },
            "code": "    it('should show the toolbar if its text are selected even though one or more elements that has a data attr of disable-toolbar', function () {\n      var editor,\n          element = this.createElement('div', 'editor');\n      element.setAttribute('data-disable-toolbar', 'true');\n      this.el.innerHTML = 'lorem ipsum';\n      editor = this.newMediumEditor(document.querySelectorAll('.editor'));\n      var toolbar = editor.getExtensionByName('toolbar');\n      expect(editor.elements.length).toBe(2);\n      expect(toolbar.getToolbarElement().style.display).toBe('');\n      selectElementContentsAndFire(this.el);\n      expect(toolbar.getToolbarElement().classList.contains('medium-editor-toolbar-active')).toBe(true);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not try to toggle toolbar when toolbar option is set to false",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Disable"
            ],
            "line": 499,
            "updatePoint": {
                "line": 499,
                "column": 76
            },
            "code": "    it('should not try to toggle toolbar when toolbar option is set to false', function () {\n      this.createElement('div', 'editor');\n      this.el.innerHTML = 'lorem ipsum';\n      var editor = this.newMediumEditor(document.querySelectorAll('.editor'), {\n        toolbar: false\n      }),\n          toolbar = editor.getExtensionByName('toolbar');\n      expect(toolbar).toBeUndefined();\n      selectElementContents(this.el);\n      editor.checkSelection();\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should position static + sticky toolbar",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Scroll"
            ],
            "line": 512,
            "updatePoint": {
                "line": 512,
                "column": 47
            },
            "code": "    it('should position static + sticky toolbar', function () {\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          static: true,\n          sticky: true\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar');\n      spyOn(MediumEditor.extensions.toolbar.prototype, 'positionToolbarIfShown');\n      fireEvent(window, 'scroll');\n      expect(toolbar.positionToolbarIfShown).toHaveBeenCalled();\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should reset toolbar position",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Resizing"
            ],
            "line": 529,
            "updatePoint": {
                "line": 529,
                "column": 37
            },
            "code": "    it('should reset toolbar position', function () {\n      var editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      selectElementContentsAndFire(editor.elements[0]);\n      expect(toolbar.getToolbarElement().className.indexOf('active')).toBeGreaterThan(-1);\n      spyOn(toolbar, 'setToolbarPosition');\n      fireEvent(window, 'resize');\n      jasmine.clock().tick(1);\n      expect(toolbar.setToolbarPosition).toHaveBeenCalled();\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not call setToolbarPosition when toolbar is not visible",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Resizing"
            ],
            "line": 539,
            "updatePoint": {
                "line": 539,
                "column": 70
            },
            "code": "    it('should not call setToolbarPosition when toolbar is not visible', function () {\n      var editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar');\n      spyOn(toolbar, 'setToolbarPosition').and.callThrough();\n      fireEvent(window, 'resize');\n      jasmine.clock().tick(1);\n      expect(toolbar.getToolbarElement().className.indexOf('active')).toBe(-1);\n      expect(toolbar.setToolbarPosition).not.toHaveBeenCalled();\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should throttle multiple calls to position toolbar",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Resizing"
            ],
            "line": 548,
            "updatePoint": {
                "line": 548,
                "column": 58
            },
            "code": "    it('should throttle multiple calls to position toolbar', function () {\n      var editor = this.newMediumEditor('.editor'),\n          toolbar = editor.getExtensionByName('toolbar'),\n          tickTime = 60,\n          totalTicks;\n      selectElementContentsAndFire(editor.elements[0]);\n      expect(toolbar.getToolbarElement().className.indexOf('active')).toBeGreaterThan(-1);\n      spyOn(toolbar, 'setToolbarPosition').and.callThrough();\n\n      for (totalTicks = 0; totalTicks < tickTime; totalTicks += 10) {\n        fireEvent(window, 'resize');\n        jasmine.clock().tick(10);\n      }\n\n      expect(toolbar.setToolbarPosition.calls.count()).toBeLessThan(3);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should position static + sticky toolbar on the left",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Static & sticky toolbar position"
            ],
            "line": 566,
            "updatePoint": {
                "line": 566,
                "column": 59
            },
            "code": "    it('should position static + sticky toolbar on the left', function () {\n      this.el.innerHTML = '<b>lorem ipsum</b>';\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          static: true,\n          sticky: true,\n          align: 'left'\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar').getToolbarElement();\n      selectElementContentsAndFire(this.el.querySelector('b'));\n      window.getSelection().getRangeAt(0).collapse(false);\n      editor.checkSelection();\n      jasmine.clock().tick(1); // checkSelection delay\n\n      expect(toolbar.style.left).not.toBe('');\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should position static + sticky toolbar on the right",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Static & sticky toolbar position"
            ],
            "line": 583,
            "updatePoint": {
                "line": 583,
                "column": 60
            },
            "code": "    it('should position static + sticky toolbar on the right', function () {\n      this.el.innerHTML = '<b>lorem ipsum</b>';\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          static: true,\n          sticky: true,\n          align: 'right'\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar').getToolbarElement();\n      selectElementContentsAndFire(this.el.querySelector('b'));\n      window.getSelection().getRangeAt(0).collapse(false);\n      editor.checkSelection();\n      jasmine.clock().tick(1); // checkSelection delay\n\n      expect(toolbar.style.left).not.toBe('');\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should position static + sticky toolbar on the center",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Static & sticky toolbar position"
            ],
            "line": 600,
            "updatePoint": {
                "line": 600,
                "column": 61
            },
            "code": "    it('should position static + sticky toolbar on the center', function () {\n      this.el.innerHTML = '<b>lorem ipsum</b>';\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          static: true,\n          sticky: true,\n          align: 'center'\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar').getToolbarElement();\n      selectElementContentsAndFire(this.el.querySelector('b'));\n      window.getSelection().getRangeAt(0).collapse(false);\n      editor.checkSelection();\n      jasmine.clock().tick(1); // checkSelection delay\n\n      expect(toolbar.style.left).not.toBe('');\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should contain relative toolbar class",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Relative Toolbars"
            ],
            "line": 619,
            "updatePoint": {
                "line": 619,
                "column": 45
            },
            "code": "    it('should contain relative toolbar class', function () {\n      var relativeContainer = this.createElement('div');\n      relativeContainer.setAttribute('id', 'someRelativeDiv');\n      window.document.body.appendChild(relativeContainer);\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          relativeContainer: document.getElementById('someRelativeDiv')\n        }\n      }),\n          toolbar = editor.getExtensionByName('toolbar');\n      expect(toolbar.getToolbarElement().classList.contains('medium-editor-relative-toolbar')).toBe(true);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be included in relative node",
            "suites": [
                "MediumEditor.extensions.toolbar TestCase",
                "Relative Toolbars"
            ],
            "line": 631,
            "updatePoint": {
                "line": 631,
                "column": 43
            },
            "code": "    it('should be included in relative node', function () {\n      var relativeContainer = this.createElement('div');\n      relativeContainer.setAttribute('id', 'someRelativeDiv');\n      window.document.body.appendChild(relativeContainer);\n      var editor = this.newMediumEditor('.editor', {\n        toolbar: {\n          relativeContainer: document.getElementById('someRelativeDiv')\n        }\n      }),\n          toolbarHTML = editor.getExtensionByName('toolbar').getToolbarElement().outerHTML;\n      expect(document.getElementById('someRelativeDiv').innerHTML).toBe(toolbarHTML);\n    });",
            "file": "toolbar.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "is exposed on the MediumEditor ctor",
            "suites": [
                "MediumEditor.util",
                "Exposure"
            ],
            "line": 12,
            "updatePoint": {
                "line": 12,
                "column": 43
            },
            "code": "    it('is exposed on the MediumEditor ctor', function () {\n      expect(MediumEditor.util).toBeTruthy();\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should overwrite values from right to left",
            "suites": [
                "MediumEditor.util",
                "Extend"
            ],
            "line": 17,
            "updatePoint": {
                "line": 17,
                "column": 50
            },
            "code": "    it('should overwrite values from right to left', function () {\n      var objOne = {\n        one: 'one'\n      },\n          objTwo = {\n        one: 'two',\n        three: 'three'\n      },\n          objThree = {\n        three: 'four',\n        five: 'six'\n      },\n          objFour,\n          result = MediumEditor.util.extend({}, objOne, objTwo, objThree, objFour);\n      expect(result).toEqual({\n        one: 'two',\n        three: 'four',\n        five: 'six'\n      });\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should overwrite values from left to right",
            "suites": [
                "MediumEditor.util",
                "Defaults"
            ],
            "line": 39,
            "updatePoint": {
                "line": 39,
                "column": 50
            },
            "code": "    it('should overwrite values from left to right', function () {\n      var objOne = {\n        one: 'one'\n      },\n          objTwo = {\n        one: 'two',\n        three: 'three'\n      },\n          objThree = {\n        three: 'four',\n        five: 'six'\n      },\n          objFour,\n          result = MediumEditor.util.defaults({}, objOne, objTwo, objThree, objFour);\n      expect(result).toEqual({\n        one: 'one',\n        three: 'three',\n        five: 'six'\n      });\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should overwrite nothing without args",
            "suites": [
                "MediumEditor.util",
                "Defaults"
            ],
            "line": 59,
            "updatePoint": {
                "line": 59,
                "column": 45
            },
            "code": "    it('should overwrite nothing without args', function () {\n      var result = MediumEditor.util.defaults();\n      expect(result).toEqual({});\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should warn when a method is deprecated",
            "suites": [
                "MediumEditor.util",
                "Deprecated"
            ],
            "line": 65,
            "updatePoint": {
                "line": 65,
                "column": 47
            },
            "code": "    it('should warn when a method is deprecated', function () {\n      var testObj = {\n        newMethod: function () {}\n      };\n      spyOn(testObj, 'newMethod').and.callThrough();\n      spyOn(MediumEditor.util, 'warn').and.callThrough();\n      MediumEditor.util.deprecatedMethod.call(testObj, 'test', 'newMethod', ['arg1', true], 'some version');\n      expect(testObj.newMethod).toHaveBeenCalledWith('arg1', true);\n      expect(MediumEditor.util.warn).toHaveBeenCalledWith('test is deprecated, please use newMethod instead. Will be removed in some version');\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should warn when an option is deprecated",
            "suites": [
                "MediumEditor.util",
                "Deprecated"
            ],
            "line": 75,
            "updatePoint": {
                "line": 75,
                "column": 48
            },
            "code": "    it('should warn when an option is deprecated', function () {\n      spyOn(MediumEditor.util, 'warn').and.callThrough();\n      MediumEditor.util.deprecated('oldOption', 'sub.newOption');\n      expect(MediumEditor.util.warn).toHaveBeenCalledWith('oldOption is deprecated, please use sub.newOption instead.');\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should allow passing a version when the removal will happen",
            "suites": [
                "MediumEditor.util",
                "Deprecated"
            ],
            "line": 80,
            "updatePoint": {
                "line": 80,
                "column": 67
            },
            "code": "    it('should allow passing a version when the removal will happen', function () {\n      spyOn(MediumEditor.util, 'warn').and.callThrough();\n      MediumEditor.util.deprecated('old', 'new', '11tybillion');\n      expect(MediumEditor.util.warn).toHaveBeenCalledWith('old is deprecated, please use new instead. Will be removed in 11tybillion');\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "sets target blank on a A element from a A element",
            "suites": [
                "MediumEditor.util",
                "settargetblank"
            ],
            "line": 87,
            "updatePoint": {
                "line": 87,
                "column": 57
            },
            "code": "    it('sets target blank on a A element from a A element', function () {\n      var el = this.createElement('a', '', 'lorem ipsum');\n      el.attributes.href = 'http://0.0.0.0/bar.html';\n      MediumEditor.util.setTargetBlank(el);\n      expect(el.target).toBe('_blank');\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "sets target blank on a A element from a DIV element",
            "suites": [
                "MediumEditor.util",
                "settargetblank"
            ],
            "line": 93,
            "updatePoint": {
                "line": 93,
                "column": 59
            },
            "code": "    it('sets target blank on a A element from a DIV element', function () {\n      var el = this.createElement('div', '', '<a href=\"http://1.1.1.1/foo.html\">foo</a> <a href=\"http://0.0.0.0/bar.html\">bar</a>');\n      MediumEditor.util.setTargetBlank(el, 'http://0.0.0.0/bar.html');\n      var nodes = el.getElementsByTagName('a');\n      expect(nodes[0].target).not.toBe('_blank');\n      expect(nodes[1].target).toBe('_blank');\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "removes target blank from a A element",
            "suites": [
                "MediumEditor.util",
                "removetargetblank"
            ],
            "line": 102,
            "updatePoint": {
                "line": 102,
                "column": 45
            },
            "code": "    it('removes target blank from a A element', function () {\n      var el = this.createElement('a', '', 'lorem ipsum');\n      el.attributes.href = 'http://0.0.0.0/bar.html';\n      el.attributes.target = '_blank';\n      MediumEditor.util.removeTargetBlank(el, 'http://0.0.0.0/bar.html');\n      expect(el.target).toBe('');\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "removes target blank on a A element from a DIV element",
            "suites": [
                "MediumEditor.util",
                "removetargetblank"
            ],
            "line": 109,
            "updatePoint": {
                "line": 109,
                "column": 62
            },
            "code": "    it('removes target blank on a A element from a DIV element', function () {\n      var el = this.createElement('div', '', '<a href=\"http://1.1.1.1/foo.html\" target=\"_blank\">foo</a> <a href=\"http://0.0.0.0/bar.html\" target=\"_blank\">bar</a>');\n      MediumEditor.util.removeTargetBlank(el, 'http://0.0.0.0/bar.html');\n      var nodes = el.getElementsByTagName('a');\n      expect(nodes[0].target).toBe('_blank');\n      expect(nodes[1].target).toBe('');\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "add class to anchors on a A element from a A element",
            "suites": [
                "MediumEditor.util",
                "addClassToAnchors"
            ],
            "line": 118,
            "updatePoint": {
                "line": 118,
                "column": 60
            },
            "code": "    it('add class to anchors on a A element from a A element', function () {\n      var el = this.createElement('a', '', 'lorem ipsum');\n      el.attributes.href = 'http://0.0.0.0/bar.html';\n      MediumEditor.util.addClassToAnchors(el, 'firstclass');\n      expect(el.classList.length).toBe(1);\n      expect(el.classList.contains('firstclass')).toBe(true);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "add class to anchors on a A element from a DIV element",
            "suites": [
                "MediumEditor.util",
                "addClassToAnchors"
            ],
            "line": 125,
            "updatePoint": {
                "line": 125,
                "column": 62
            },
            "code": "    it('add class to anchors on a A element from a DIV element', function () {\n      var el = this.createElement('div', '', '<a href=\"http://1.1.1.1/foo.html\">foo</a> <a href=\"http://0.0.0.0/bar.html\">bar</a>');\n      MediumEditor.util.addClassToAnchors(el, 'firstclass');\n      var nodes = el.getElementsByTagName('a');\n      expect(nodes[0].classList.length).toBe(1);\n      expect(nodes[1].classList.length).toBe(1);\n      expect(nodes[0].classList.contains('firstclass')).toBe(true);\n      expect(nodes[1].classList.contains('firstclass')).toBe(true);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "exists",
            "suites": [
                "MediumEditor.util",
                "warn"
            ],
            "line": 136,
            "updatePoint": {
                "line": 136,
                "column": 14
            },
            "code": "    it('exists', function () {\n      expect(typeof MediumEditor.util.warn).toBe('function');\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "ends up calling console.warn",
            "suites": [
                "MediumEditor.util",
                "warn"
            ],
            "line": 139,
            "updatePoint": {
                "line": 139,
                "column": 36
            },
            "code": "    it('ends up calling console.warn', function () {\n      // IE9 mock for SauceLabs\n      if (window.console === undefined) {\n        window.console = {\n          warn: function (msg) {\n            return msg;\n          }\n        };\n      } else if (typeof window.console.warn !== 'function') {\n        window.console.warn = function (msg) {\n          return msg;\n        };\n      }\n\n      var spy = spyOn(window.console.warn, 'apply').and.callThrough();\n      MediumEditor.util.warn('message');\n      expect(spy).toHaveBeenCalled();\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should split a complex tree correctly when splitting off right part of tree",
            "suites": [
                "MediumEditor.util",
                "splitOffDOMTree"
            ],
            "line": 175,
            "updatePoint": {
                "line": 175,
                "column": 83
            },
            "code": "    it('should split a complex tree correctly when splitting off right part of tree', function () {\n      var el = this.createElement('div', '', '<span><b>1</b><i>2</i></span><span><b>3</b><u>4</u></span><span><b>5</b><i>6</i></span>'),\n          splitOn = el.querySelector('u').firstChild,\n          result = MediumEditor.util.splitOffDOMTree(el, splitOn);\n      expect(el.outerHTML).toBe('<div><span><b>1</b><i>2</i></span><span><b>3</b></span></div>');\n      expect(result.outerHTML).toBe('<div><span><u>4</u></span><span><b>5</b><i>6</i></span></div>');\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should split a complex tree correctly when splitting off left part of tree",
            "suites": [
                "MediumEditor.util",
                "splitOffDOMTree"
            ],
            "line": 199,
            "updatePoint": {
                "line": 199,
                "column": 82
            },
            "code": "    it('should split a complex tree correctly when splitting off left part of tree', function () {\n      var el = this.createElement('div', '', '<span><b>1</b><i>2</i></span><span><b>3</b><u>4</u></span><span><b>5</b><i>6</i></span>'),\n          splitOn = el.querySelector('u').firstChild,\n          result = MediumEditor.util.splitOffDOMTree(el, splitOn, true);\n      expect(el.outerHTML).toBe('<div><span><b>5</b><i>6</i></span></div>');\n      expect(result.outerHTML).toBe('<div><span><b>1</b><i>2</i></span><span><b>3</b><u>4</u></span></div>');\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return false and bail if no elements are passed",
            "suites": [
                "MediumEditor.util",
                "moveTextRangeIntoElement"
            ],
            "line": 208,
            "updatePoint": {
                "line": 208,
                "column": 62
            },
            "code": "    it('should return false and bail if no elements are passed', function () {\n      expect(MediumEditor.util.moveTextRangeIntoElement(null, null)).toBe(false);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return false and bail if elemenets do not share a root",
            "suites": [
                "MediumEditor.util",
                "moveTextRangeIntoElement"
            ],
            "line": 211,
            "updatePoint": {
                "line": 211,
                "column": 69
            },
            "code": "    it('should return false and bail if elemenets do not share a root', function () {\n      var el = this.createElement('div', '', 'text'),\n          elTwo = this.createElement('div', '', 'more text', true),\n          temp = this.createElement('div', '');\n      expect(MediumEditor.util.moveTextRangeIntoElement(el, elTwo, temp)).toBe(false);\n      expect(temp.innerHTML).toBe('');\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should create a parent element that spans multiple root elements",
            "suites": [
                "MediumEditor.util",
                "moveTextRangeIntoElement"
            ],
            "line": 218,
            "updatePoint": {
                "line": 218,
                "column": 72
            },
            "code": "    it('should create a parent element that spans multiple root elements', function () {\n      var el = this.createElement('div', '', '<span>Link = http</span>' + '<span>://</span>' + '<span>www.exam</span>' + '<span>ple.com</span>' + '<span>:443/</span>' + '<span>path/to</span>' + '<span>somewhere#</span>' + '<span>index notLink</span>'),\n          firstText = el.firstChild.firstChild.splitText('Link = '.length),\n          lastText = el.lastChild.firstChild,\n          para = this.createElement('p', '');\n      lastText.splitText('index'.length);\n      MediumEditor.util.moveTextRangeIntoElement(firstText, lastText, para);\n      expect(el.innerHTML).toBe('<span>Link = </span>' + '<p>' + '<span>http</span>' + '<span>://</span>' + '<span>www.exam</span>' + '<span>ple.com</span>' + '<span>:443/</span>' + '<span>path/to</span>' + '<span>somewhere#</span>' + '<span>index</span>' + '</p>' + '<span> notLink</span>');\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should get closed tag",
            "suites": [
                "MediumEditor.util",
                "getClosestTag"
            ],
            "line": 229,
            "updatePoint": {
                "line": 229,
                "column": 29
            },
            "code": "    it('should get closed tag', function () {\n      var el = this.createElement('div', '', '<span>my <b>text</b></span>'),\n          tag = el.querySelector('b').firstChild,\n          closestTag = MediumEditor.util.getClosestTag(tag, 'span');\n      expect(closestTag.nodeName.toLowerCase()).toBe('span');\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not get closed tag with data-medium-editor-element",
            "suites": [
                "MediumEditor.util",
                "getClosestTag"
            ],
            "line": 235,
            "updatePoint": {
                "line": 235,
                "column": 65
            },
            "code": "    it('should not get closed tag with data-medium-editor-element', function () {\n      var el = this.createElement('div', '', '<p>youpi<span data-medium-editor-element=\"true\">my <b>text</b></span></p>'),\n          tag = el.querySelector('b').firstChild,\n          closestTag = MediumEditor.util.getClosestTag(tag, 'p');\n      expect(closestTag).toBe(false);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not get closed tag from empty element",
            "suites": [
                "MediumEditor.util",
                "getClosestTag"
            ],
            "line": 241,
            "updatePoint": {
                "line": 241,
                "column": 52
            },
            "code": "    it('should not get closed tag from empty element', function () {\n      var closestTag = MediumEditor.util.getClosestTag(false, 'span');\n      expect(closestTag).toBe(false);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be a list item but inside a ul",
            "suites": [
                "MediumEditor.util",
                "isListItem"
            ],
            "line": 247,
            "updatePoint": {
                "line": 247,
                "column": 45
            },
            "code": "    it('should be a list item but inside a ul', function () {\n      var el = this.createElement('ul', '', '<li>test</li>'),\n          result = MediumEditor.util.isListItem(el);\n      expect(result).toBe(false);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should be a list item",
            "suites": [
                "MediumEditor.util",
                "isListItem"
            ],
            "line": 252,
            "updatePoint": {
                "line": 252,
                "column": 29
            },
            "code": "    it('should be a list item', function () {\n      var el = this.createElement('ul', '', '<li>test</li>'),\n          li = el.querySelector('li'),\n          result = MediumEditor.util.isListItem(li);\n      expect(result).toBe(true);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not be a list item",
            "suites": [
                "MediumEditor.util",
                "isListItem"
            ],
            "line": 258,
            "updatePoint": {
                "line": 258,
                "column": 33
            },
            "code": "    it('should not be a list item', function () {\n      var result = MediumEditor.util.isListItem(false);\n      expect(result).toBe(false);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not be a list item",
            "suites": [
                "MediumEditor.util",
                "isListItem"
            ],
            "line": 262,
            "updatePoint": {
                "line": 262,
                "column": 33
            },
            "code": "    it('should not be a list item', function () {\n      var el = this.createElement('p', '', '<b>test</b>'),\n          result = MediumEditor.util.isListItem(el);\n      expect(result).toBe(false);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return true no matter how the key associated to the event is defined",
            "suites": [
                "MediumEditor.util",
                "isKey"
            ],
            "line": 269,
            "updatePoint": {
                "line": 269,
                "column": 83
            },
            "code": "    it('should return true no matter how the key associated to the event is defined', function () {\n      var event;\n      event = {\n        which: 13,\n        keyCode: null,\n        charCode: null\n      };\n      expect(MediumEditor.util.isKey(event, 13)).toBeTruthy();\n      event = {\n        which: null,\n        keyCode: 13,\n        charCode: null\n      };\n      expect(MediumEditor.util.isKey(event, 13)).toBeTruthy();\n      event = {\n        which: null,\n        keyCode: null,\n        charCode: 13\n      };\n      expect(MediumEditor.util.isKey(event, 13)).toBeTruthy();\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return true when a key associated to event is listed to one we are looking for",
            "suites": [
                "MediumEditor.util",
                "isKey"
            ],
            "line": 290,
            "updatePoint": {
                "line": 290,
                "column": 93
            },
            "code": "    it('should return true when a key associated to event is listed to one we are looking for', function () {\n      var event = {\n        which: 13\n      };\n      expect(MediumEditor.util.isKey(event, 13)).toBeTruthy();\n      expect(MediumEditor.util.isKey(event, [13])).toBeTruthy();\n      expect(MediumEditor.util.isKey(event, [13, 12])).toBeTruthy();\n      expect(MediumEditor.util.isKey(event, [12, 13])).toBeTruthy();\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return false when a key associated to event is NOT listed to one we are looking for",
            "suites": [
                "MediumEditor.util",
                "isKey"
            ],
            "line": 299,
            "updatePoint": {
                "line": 299,
                "column": 98
            },
            "code": "    it('should return false when a key associated to event is NOT listed to one we are looking for', function () {\n      var event = {\n        which: 13\n      };\n      expect(MediumEditor.util.isKey(event, 65)).toBeFalsy();\n      expect(MediumEditor.util.isKey(event, [65])).toBeFalsy();\n      expect(MediumEditor.util.isKey(event, [65, 66])).toBeFalsy();\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should execute indent command when called with blockquote when selection is inside a nested block element within a blockquote",
            "suites": [
                "MediumEditor.util",
                "execFormatBlock"
            ],
            "line": 309,
            "updatePoint": {
                "line": 309,
                "column": 133
            },
            "code": "    it('should execute indent command when called with blockquote when selection is inside a nested block element within a blockquote', function () {\n      var el = this.createElement('div', '', '<blockquote><p>Some <b>Text</b></p></blockquote>');\n      el.setAttribute('contenteditable', true);\n      selectElementContents(el.querySelector('b'));\n      spyOn(document, 'execCommand');\n      MediumEditor.util.execFormatBlock(document, 'blockquote');\n      expect(document.execCommand).toHaveBeenCalledWith('outdent', false, null);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should execute indent command when called with blockquote when isIE is true",
            "suites": [
                "MediumEditor.util",
                "execFormatBlock"
            ],
            "line": 317,
            "updatePoint": {
                "line": 317,
                "column": 83
            },
            "code": "    it('should execute indent command when called with blockquote when isIE is true', function () {\n      var origIsIE = MediumEditor.util.isIE,\n          el = this.createElement('div', '', '<p>Some <b>Text</b></p>');\n      MediumEditor.util.isIE = true;\n      el.setAttribute('contenteditable', true);\n      selectElementContents(el.querySelector('b'));\n      spyOn(document, 'execCommand');\n      MediumEditor.util.execFormatBlock(document, 'blockquote');\n      expect(document.execCommand).toHaveBeenCalledWith('indent', false, 'blockquote');\n      MediumEditor.util.isIE = origIsIE;\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not remove the contenteditable element when calling insert into an empty contenteditable element",
            "suites": [
                "MediumEditor.util",
                "insertHTMLCommand"
            ],
            "line": 330,
            "updatePoint": {
                "line": 330,
                "column": 111
            },
            "code": "    it('should not remove the contenteditable element when calling insert into an empty contenteditable element', function () {\n      var el = this.createElement('div', 'editable', ''),\n          origQCS = document.queryCommandSupported; // Force our custom implementation to run\n\n      spyOn(document, 'queryCommandSupported').and.callFake(function (command) {\n        if (command === 'insertHTML') {\n          return false;\n        }\n\n        return origQCS.apply(document, arguments);\n      }); // Mimic an editor element\n\n      el.setAttribute('contenteditable', true);\n      el.setAttribute('data-medium-editor-element', true); // Make sure the element has 0 child nodes\n\n      while (el.firstChild) {\n        el.remove(el.firstChild);\n      }\n\n      selectElementContents(el);\n      MediumEditor.util.insertHTMLCommand(document, '<p>some pasted html</p>', true);\n      expect(el.innerHTML).toBe('<p>some pasted html</p>');\n      expect(document.body.contains(el)).toBe(true, 'The editor element has been removed from the page');\n    }); // https://github.com/yabwe/medium-editor/issues/992",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should trigger editableInput when using custom insertHTML implementation and contenteditable does not support input event",
            "suites": [
                "MediumEditor.util",
                "insertHTMLCommand"
            ],
            "line": 355,
            "updatePoint": {
                "line": 355,
                "column": 129
            },
            "code": "    it('should trigger editableInput when using custom insertHTML implementation and contenteditable does not support input event', function () {\n      // Ensure custom implementation\n      var originalInputSupport = MediumEditor.Events.prototype.InputEventOnContenteditableSupported;\n      MediumEditor.Events.prototype.InputEventOnContenteditableSupported = false;\n      var el = this.createElement('div', 'editable', '<p>orig text</p>'),\n          origQCS = document.queryCommandSupported; // Force our custom implementation to run\n\n      spyOn(document, 'queryCommandSupported').and.callFake(function (command) {\n        if (command === 'insertHTML') {\n          return false;\n        }\n\n        return origQCS.apply(document, arguments);\n      });\n      var editor = this.newMediumEditor('.editable'),\n          spy = jasmine.createSpy('handler');\n      editor.subscribe('editableInput', spy);\n      selectElementContentsAndFire(el.firstChild);\n      MediumEditor.util.insertHTMLCommand(document, '<p>some pasted html</p>', true);\n      var obj = {\n        target: el,\n        currentTarget: el\n      };\n      expect(spy).toHaveBeenCalledWith(obj, el);\n      expect(el.innerHTML).toBe('<p>some pasted html</p>');\n      expect(document.body.contains(el)).toBe(true, 'The editor element has been removed from the page');\n      MediumEditor.Events.prototype.InputEventOnContenteditableSupported = originalInputSupport;\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return true for an element which is a descendant of another",
            "suites": [
                "MediumEditor.util",
                "isDescendant"
            ],
            "line": 385,
            "updatePoint": {
                "line": 385,
                "column": 74
            },
            "code": "    it('should return true for an element which is a descendant of another', function () {\n      var parent = this.createElement('div'),\n          child = parent.appendChild(document.createTextNode('text'));\n      expect(MediumEditor.util.isDescendant(parent, child)).toBe(true);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return false for an element which is not a descendant of another",
            "suites": [
                "MediumEditor.util",
                "isDescendant"
            ],
            "line": 390,
            "updatePoint": {
                "line": 390,
                "column": 79
            },
            "code": "    it('should return false for an element which is not a descendant of another', function () {\n      var parent = this.createElement('div'),\n          child = document.createTextNode('text');\n      expect(MediumEditor.util.isDescendant(parent, child)).toBe(false);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return false when checking the same element",
            "suites": [
                "MediumEditor.util",
                "isDescendant"
            ],
            "line": 395,
            "updatePoint": {
                "line": 395,
                "column": 58
            },
            "code": "    it('should return false when checking the same element', function () {\n      var parent = this.createElement('div');\n      expect(MediumEditor.util.isDescendant(parent, parent)).toBe(false);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return true when checking the same element but using the equality param",
            "suites": [
                "MediumEditor.util",
                "isDescendant"
            ],
            "line": 399,
            "updatePoint": {
                "line": 399,
                "column": 86
            },
            "code": "    it('should return true when checking the same element but using the equality param', function () {\n      var parent = this.createElement('div');\n      expect(MediumEditor.util.isDescendant(parent, parent, true)).toBe(true);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return false when the elements are null",
            "suites": [
                "MediumEditor.util",
                "isDescendant"
            ],
            "line": 403,
            "updatePoint": {
                "line": 403,
                "column": 54
            },
            "code": "    it('should return false when the elements are null', function () {\n      var parent = this.createElement('div');\n      expect(MediumEditor.util.isDescendant(parent, null)).toBe(false);\n      expect(MediumEditor.util.isDescendant(null, parent)).toBe(false);\n      expect(MediumEditor.util.isDescendant(null, null)).toBe(false);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return false when the parent element is a text node",
            "suites": [
                "MediumEditor.util",
                "isDescendant"
            ],
            "line": 409,
            "updatePoint": {
                "line": 409,
                "column": 66
            },
            "code": "    it('should return false when the parent element is a text node', function () {\n      var parent = document.createTextNode('text'),\n          child = this.createElement('div');\n      expect(MediumEditor.util.isDescendant(parent, child)).toBe(false);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return block elements without block elements as children",
            "suites": [
                "MediumEditor.util",
                "splitByBlockElements"
            ],
            "line": 416,
            "updatePoint": {
                "line": 416,
                "column": 71
            },
            "code": "    it('should return block elements without block elements as children', function () {\n      var el = this.createElement('div');\n      el.innerHTML = '' + '<blockquote><ol>' + '<li><div><table><thead><tr><th>Head</th></tr></thead></table></div></li>' + '<li>List Item</li>' + '</ol>' + '<p>paragraph</p>' + '</blockquote>';\n      var parts = MediumEditor.util.splitByBlockElements(el);\n      expect(parts.length).toBe(3); // <th>Head</th>\n\n      expect(parts[0].nodeName.toLowerCase()).toBe('th');\n      expect(parts[0].textContent).toBe('Head'); // <li>List Item</li>\n\n      expect(parts[1].nodeName.toLowerCase()).toBe('li');\n      expect(parts[1].textContent).toBe('List Item'); // <p>paragraph</p>\n\n      expect(parts[2].nodeName.toLowerCase()).toBe('p');\n      expect(parts[2].textContent).toBe('paragraph');\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return inline elements and text nodes if they are siblings of blocks",
            "suites": [
                "MediumEditor.util",
                "splitByBlockElements"
            ],
            "line": 431,
            "updatePoint": {
                "line": 431,
                "column": 83
            },
            "code": "    it('should return inline elements and text nodes if they are siblings of blocks', function () {\n      var el = this.createElement('div');\n      el.innerHTML = '' + '<blockquote>' + '<span>Text <b>bold <i>bold + italics</i></b> <u>underlined</u></span>' + '<ol><li>List Item</li></ol>' + 'Text Node' + '</blockquote>';\n      var parts = MediumEditor.util.splitByBlockElements(el);\n      expect(parts.length).toBe(3); // <span>Text <b>bold <i>bold + italics</i></b> <u>underlined</u></span>\n\n      expect(parts[0].nodeName.toLowerCase()).toBe('span');\n      expect(parts[0].textContent).toBe('Text bold bold + italics underlined'); // <li>List Item</li>\n\n      expect(parts[1].nodeName.toLowerCase()).toBe('li');\n      expect(parts[1].textContent).toBe('List Item'); // Text Node\n\n      expect(parts[2].nodeName.toLowerCase()).toBe('#text');\n      expect(parts[2].textContent).toBe('Text Node');\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should ignore comments",
            "suites": [
                "MediumEditor.util",
                "splitByBlockElements"
            ],
            "line": 446,
            "updatePoint": {
                "line": 446,
                "column": 30
            },
            "code": "    it('should ignore comments', function () {\n      var comment = document.createComment('comment'),\n          parts = MediumEditor.util.splitByBlockElements(comment);\n      expect(parts.length).toBe(0);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should ignore nested comments",
            "suites": [
                "MediumEditor.util",
                "splitByBlockElements"
            ],
            "line": 451,
            "updatePoint": {
                "line": 451,
                "column": 37
            },
            "code": "    it('should ignore nested comments', function () {\n      var el = this.createElement('div');\n      el.innerHTML = '' + '<p>Text</p>' + '<!---->';\n      var parts = MediumEditor.util.splitByBlockElements(el);\n      expect(parts.length).toBe(1);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return the closest block container",
            "suites": [
                "MediumEditor.util",
                "getClosestBlockContainer"
            ],
            "line": 459,
            "updatePoint": {
                "line": 459,
                "column": 49
            },
            "code": "    it('should return the closest block container', function () {\n      var el = this.createElement('div', '', '<blockquote><p>paragraph</p><ul><li><span>list item</span></li></ul></blockquote>'),\n          span = el.querySelector('span'),\n          container = MediumEditor.util.getClosestBlockContainer(span);\n      expect(container).toBe(el.querySelector('li'));\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return the parent editable if element is a text node child of the editor",
            "suites": [
                "MediumEditor.util",
                "getClosestBlockContainer"
            ],
            "line": 465,
            "updatePoint": {
                "line": 465,
                "column": 87
            },
            "code": "    it('should return the parent editable if element is a text node child of the editor', function () {\n      var el = this.createElement('div', 'editable', ' <p>text</p>'),\n          emptyTextNode = el.firstChild;\n      this.newMediumEditor('.editable');\n      var container = MediumEditor.util.getClosestBlockContainer(emptyTextNode);\n      expect(container).toBe(el);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return the highest level block container",
            "suites": [
                "MediumEditor.util",
                "getTopBlockContainer"
            ],
            "line": 474,
            "updatePoint": {
                "line": 474,
                "column": 55
            },
            "code": "    it('should return the highest level block container', function () {\n      var el = this.createElement('div', '', '<blockquote><p>paragraph</p><ul><li><span>list item</span></li></ul></blockquote>'),\n          span = el.querySelector('span'),\n          container = MediumEditor.util.getTopBlockContainer(span);\n      expect(container).toBe(el.querySelector('blockquote'));\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return the parent editable if element is a text node child of the editor",
            "suites": [
                "MediumEditor.util",
                "getTopBlockContainer"
            ],
            "line": 480,
            "updatePoint": {
                "line": 480,
                "column": 87
            },
            "code": "    it('should return the parent editable if element is a text node child of the editor', function () {\n      var el = this.createElement('div', 'editable', ' <p>text</p>'),\n          emptyTextNode = el.firstChild;\n      this.newMediumEditor('.editable');\n      var container = MediumEditor.util.getTopBlockContainer(emptyTextNode);\n      expect(container).toBe(el);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return the previous sibling of an element if it exists",
            "suites": [
                "MediumEditor.util",
                "findPreviousSibling"
            ],
            "line": 489,
            "updatePoint": {
                "line": 489,
                "column": 69
            },
            "code": "    it('should return the previous sibling of an element if it exists', function () {\n      var el = this.createElement('div', '', '<p>first <b>second </b><i>third</i></p><ul><li>fourth</li></ul>'),\n          second = el.querySelector('b'),\n          third = el.querySelector('i'),\n          prevSibling = MediumEditor.util.findPreviousSibling(third);\n      expect(prevSibling).toBe(second);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return the previous sibling on an ancestor if a previous sibling does not exist",
            "suites": [
                "MediumEditor.util",
                "findPreviousSibling"
            ],
            "line": 496,
            "updatePoint": {
                "line": 496,
                "column": 94
            },
            "code": "    it('should return the previous sibling on an ancestor if a previous sibling does not exist', function () {\n      var el = this.createElement('div', '', '<p>first <b>second </b><i>third</i></p><ul><li>fourth</li></ul>'),\n          fourth = el.querySelector('li').firstChild,\n          p = el.querySelector('p'),\n          prevSibling = MediumEditor.util.findPreviousSibling(fourth);\n      expect(prevSibling).toBe(p);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should not find a previous sibling if the element is at the beginning of an editor element",
            "suites": [
                "MediumEditor.util",
                "findPreviousSibling"
            ],
            "line": 503,
            "updatePoint": {
                "line": 503,
                "column": 98
            },
            "code": "    it('should not find a previous sibling if the element is at the beginning of an editor element', function () {\n      var el = this.createElement('div', 'editable', '<p>first <b>second </b><i>third</i></p><ul><li>fourth</li></ul>'),\n          first = el.querySelector('p').firstChild;\n      this.newMediumEditor('.editable');\n      var prevSibling = MediumEditor.util.findPreviousSibling(first);\n      expect(prevSibling).toBeFalsy();\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return text nodes within an element",
            "suites": [
                "MediumEditor.util",
                "findOrCreateMatchingTextNodes"
            ],
            "line": 512,
            "updatePoint": {
                "line": 512,
                "column": 50
            },
            "code": "    it('should return text nodes within an element', function () {\n      var el = this.createElement('div');\n      el.innerHTML = '<p>Plain <b>bold</b> <a href=\"#\">link</a> <i>italic</i> <u>underline</u> <span>span1 <span>span2</span></span></p>';\n      var textNodes = MediumEditor.util.findOrCreateMatchingTextNodes(document, el, {\n        start: 0,\n        end: el.textContent.length\n      });\n      expect(textNodes.length).toBe(11);\n      expect(textNodes[0].nodeValue).toBe('Plain ');\n      expect(textNodes[9].nodeValue).toBe('span1 ');\n      expect(textNodes[10].nodeValue).toBe('span2');\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return text nodes within an element given a start and end range",
            "suites": [
                "MediumEditor.util",
                "findOrCreateMatchingTextNodes"
            ],
            "line": 524,
            "updatePoint": {
                "line": 524,
                "column": 78
            },
            "code": "    it('should return text nodes within an element given a start and end range', function () {\n      var el = this.createElement('div');\n      el.innerHTML = '<p>Plain <b>bold</b> <a href=\"#\">link</a> <i>italic</i> <u>underline</u> <span>span1 <span>span2</span></span></p>';\n      var textNodes = MediumEditor.util.findOrCreateMatchingTextNodes(document, el, {\n        start: 11,\n        end: 22\n      });\n      expect(textNodes.length).toBe(3);\n      expect(textNodes[0].nodeValue).toBe('link');\n      expect(textNodes[1].nodeValue).toBe(' ');\n      expect(textNodes[2].nodeValue).toBe('italic');\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should split text nodes if start and end range are in the middle of a text node",
            "suites": [
                "MediumEditor.util",
                "findOrCreateMatchingTextNodes"
            ],
            "line": 536,
            "updatePoint": {
                "line": 536,
                "column": 87
            },
            "code": "    it('should split text nodes if start and end range are in the middle of a text node', function () {\n      var el = this.createElement('div');\n      el.innerHTML = '<p>Plain <b>bold</b> <a href=\"#\">link</a> <i>italic</i> <u>underline</u> <span>span1 <span>span2</span></span></p>';\n      var textNodes = MediumEditor.util.findOrCreateMatchingTextNodes(document, el, {\n        start: 13,\n        end: 19\n      });\n      expect(el.querySelector('a').childNodes.length).toBe(2);\n      expect(el.querySelector('i').childNodes.length).toBe(2);\n      expect(textNodes.length).toBe(3);\n      expect(textNodes[0].nodeValue).toBe('nk');\n      expect(textNodes[1].nodeValue).toBe(' ');\n      expect(textNodes[2].nodeValue).toBe('ita');\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return an image when it falls within the specified range",
            "suites": [
                "MediumEditor.util",
                "findOrCreateMatchingTextNodes"
            ],
            "line": 550,
            "updatePoint": {
                "line": 550,
                "column": 71
            },
            "code": "    it('should return an image when it falls within the specified range', function () {\n      var el = this.createElement('div');\n      el.innerHTML = '<p>Plain <b>bold</b> <a href=\"#\">li<img src=\"../demo/img/medium-editor.jpg\" />nk</a> <i>italic</i> <u>underline</u> <span>span1 <span>span2</span></span></p>';\n      var textNodes = MediumEditor.util.findOrCreateMatchingTextNodes(document, el, {\n        start: 11,\n        end: 15\n      });\n      expect(textNodes.length).toBe(3);\n      expect(textNodes[0].nodeValue).toBe('li');\n      expect(textNodes[1].nodeName.toLowerCase()).toBe('img');\n      expect(textNodes[2].nodeValue).toBe('nk');\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return an image when it is at the end of the specified range",
            "suites": [
                "MediumEditor.util",
                "findOrCreateMatchingTextNodes"
            ],
            "line": 562,
            "updatePoint": {
                "line": 562,
                "column": 75
            },
            "code": "    it('should return an image when it is at the end of the specified range', function () {\n      var el = this.createElement('div');\n      el.innerHTML = '<p>Plain <b>bold</b> <a href=\"#\">link<img src=\"../demo/img/medium-editor.jpg\" /></a> <i>italic</i> <u>underline</u> <span>span1 <span>span2</span></span></p>';\n      var textNodes = MediumEditor.util.findOrCreateMatchingTextNodes(document, el, {\n        start: 11,\n        end: 15\n      });\n      expect(textNodes.length).toBe(2);\n      expect(textNodes[0].nodeValue).toBe('link');\n      expect(textNodes[1].nodeName.toLowerCase()).toBe('img');\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return an image when it is the only content in the specified range",
            "suites": [
                "MediumEditor.util",
                "findOrCreateMatchingTextNodes"
            ],
            "line": 573,
            "updatePoint": {
                "line": 573,
                "column": 81
            },
            "code": "    it('should return an image when it is the only content in the specified range', function () {\n      var el = this.createElement('div');\n      el.innerHTML = '<p>Plain <b>bold</b> <a href=\"#\"><img src=\"../demo/img/medium-editor.jpg\" /></a> <i>italic</i> <u>underline</u> <span>span1 <span>span2</span></span></p>';\n      var textNodes = MediumEditor.util.findOrCreateMatchingTextNodes(document, el, {\n        start: 11,\n        end: 11\n      });\n      expect(textNodes.length).toBe(1);\n      expect(textNodes[0].nodeName.toLowerCase()).toBe('img');\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return images when they are at the beginning of the specified range",
            "suites": [
                "MediumEditor.util",
                "findOrCreateMatchingTextNodes"
            ],
            "line": 583,
            "updatePoint": {
                "line": 583,
                "column": 82
            },
            "code": "    it('should return images when they are at the beginning of the specified range', function () {\n      var el = this.createElement('div');\n      el.innerHTML = '<p>Plain <b>bold</b> <a href=\"#\"><img src=\"../demo/img/medium-editor.jpg\" /><img src=\"../demo/img/roman.jpg\" />link</a> <i>italic</i> <u>underline</u> <span>span1 <span>span2</span></span></p>';\n      var textNodes = MediumEditor.util.findOrCreateMatchingTextNodes(document, el, {\n        start: 11,\n        end: 15\n      });\n      expect(textNodes.length).toBe(3);\n      expect(textNodes[0].nodeName.toLowerCase()).toBe('img');\n      expect(textNodes[1].nodeName.toLowerCase()).toBe('img');\n      expect(textNodes[2].nodeValue).toBe('link');\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should find the first text node within an element",
            "suites": [
                "MediumEditor.util",
                "getFirstTextNode"
            ],
            "line": 598,
            "updatePoint": {
                "line": 598,
                "column": 57
            },
            "code": "    it('should find the first text node within an element', function () {\n      var el = this.createElement('div', '', '<p><b><i><u><a href=\"#\">First</a> text</u> in</i> editor</b>!</p>'),\n          anchorText = el.querySelector('a').firstChild,\n          firstText = MediumEditor.util.getFirstTextNode(el);\n      expect(firstText).toBe(anchorText);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return the text node if passed a text node",
            "suites": [
                "MediumEditor.util",
                "getFirstTextNode"
            ],
            "line": 604,
            "updatePoint": {
                "line": 604,
                "column": 57
            },
            "code": "    it('should return the text node if passed a text node', function () {\n      var el = this.createElement('div', '', '<p>text</p>'),\n          textNode = el.querySelector('p').firstChild,\n          firstText = MediumEditor.util.getFirstTextNode(textNode);\n      expect(firstText).toBe(textNode);\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "should return null if no text node exists in element",
            "suites": [
                "MediumEditor.util",
                "getFirstTextNode"
            ],
            "line": 610,
            "updatePoint": {
                "line": 610,
                "column": 60
            },
            "code": "    it('should return null if no text node exists in element', function () {\n      var el = this.createElement('div'),\n          firstText = MediumEditor.util.getFirstTextNode(el);\n      expect(firstText).toBeNull();\n    });",
            "file": "util.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "exists",
            "suites": [
                "Core MediumEditor"
            ],
            "line": 2,
            "updatePoint": {
                "line": 2,
                "column": 12
            },
            "code": "  it('exists', function () {\n    expect(MediumEditor).toBeTruthy();\n  });",
            "file": "version.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "exists",
            "suites": [
                "Core MediumEditor",
                "MediumEditor.version"
            ],
            "line": 6,
            "updatePoint": {
                "line": 6,
                "column": 14
            },
            "code": "    it('exists', function () {\n      expect(MediumEditor.version).toBeTruthy();\n    });",
            "file": "version.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "has major/minor/revision ints",
            "suites": [
                "Core MediumEditor",
                "MediumEditor.version"
            ],
            "line": 9,
            "updatePoint": {
                "line": 9,
                "column": 37
            },
            "code": "    it('has major/minor/revision ints', function () {\n      expect(MediumEditor.version.major).toBeDefined();\n      expect(MediumEditor.version.minor).toBeDefined();\n      expect(MediumEditor.version.revision).toBeDefined();\n      expect(MediumEditor.version.preRelease).toBeDefined();\n    });",
            "file": "version.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "exposes the major/minor/revison as a string",
            "suites": [
                "Core MediumEditor",
                "MediumEditor.version"
            ],
            "line": 15,
            "updatePoint": {
                "line": 15,
                "column": 51
            },
            "code": "    it('exposes the major/minor/revison as a string', function () {\n      var v = '' + MediumEditor.version;\n      expect(typeof v).toEqual('string');\n    });",
            "file": "version.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "exists",
            "suites": [
                "Core MediumEditor",
                "MediumEditor.parseVersionString"
            ],
            "line": 21,
            "updatePoint": {
                "line": 21,
                "column": 14
            },
            "code": "    it('exists', function () {\n      expect(MediumEditor.parseVersionString).toBeTruthy();\n    });",
            "file": "version.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "parses a normal version string",
            "suites": [
                "Core MediumEditor",
                "MediumEditor.parseVersionString"
            ],
            "line": 24,
            "updatePoint": {
                "line": 24,
                "column": 38
            },
            "code": "    it('parses a normal version string', function () {\n      var info = MediumEditor.parseVersionString('1.2.3');\n      expect(info.major).toBe(1);\n      expect(info.minor).toBe(2);\n      expect(info.revision).toBe(3);\n      expect(info.preRelease).toBe('');\n      expect(info.toString()).toBe('1.2.3');\n    });",
            "file": "version.spec.js",
            "skipped": false,
            "dir": "spec"
        },
        {
            "name": "parses pre-release versions",
            "suites": [
                "Core MediumEditor",
                "MediumEditor.parseVersionString"
            ],
            "line": 32,
            "updatePoint": {
                "line": 32,
                "column": 35
            },
            "code": "    it('parses pre-release versions', function () {\n      var info = MediumEditor.parseVersionString('5.0.0-alpha.1');\n      expect(info.major).toBe(5);\n      expect(info.minor).toBe(0);\n      expect(info.revision).toBe(0);\n      expect(info.preRelease).toBe('alpha.1');\n      expect(info.toString()).toBe('5.0.0-alpha.1');\n    });",
            "file": "version.spec.js",
            "skipped": false,
            "dir": "spec"
        }
    ],
    "badge": "yabwe__medium-editor.svg"
}