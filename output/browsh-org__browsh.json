{"repo":"browsh-org/browsh","url":"https://github.com/browsh-org/browsh","branch":"master","configs":[{"lang":"js","dir":"webext/test","framework":"mocha","pattern":"**/*[._-]{test,spec,unittest,unit}.{ts,js}"}],"tests":[{"name":"should serialise a scaled frame","suites":["Graphics Builder","Non-offsetted frames"],"updatePoint":{"line":17,"column":39,"index":483},"line":17,"code":"    it(\"should serialise a scaled frame\", () => {\n      const colours = graphics_builder.frame.colours;\n      expect(colours.length).to.equal(48);\n      expect(colours[0]).to.equal(0);\n      expect(colours[2]).to.equal(1);\n      expect(colours[46]).to.equal(0);\n      expect(colours[47]).to.equal(16);\n    });","file":"graphics_builder_spec.js","skipped":false,"dir":"webext/test"},{"name":"should populate the frame's meta","suites":["Graphics Builder","Non-offsetted frames"],"updatePoint":{"line":25,"column":40,"index":794},"line":25,"code":"    it(\"should populate the frame's meta\", () => {\n      const meta = graphics_builder.frame.meta;\n      expect(meta).to.deep.equal({\n        sub_left: 0,\n        sub_top: 0,\n        sub_width: 4,\n        sub_height: 4,\n        total_width: 4,\n        total_height: 4,\n        id: 1\n      });\n    });","file":"graphics_builder_spec.js","skipped":false,"dir":"webext/test"},{"name":"should serialise a scaled frame","suites":["Graphics Builder","Offset frames"],"updatePoint":{"line":50,"column":39,"index":1431},"line":50,"code":"    it(\"should serialise a scaled frame\", () => {\n      const colours = graphics_builder.frame.colours;\n      expect(colours.length).to.equal(24);\n      expect(colours[0]).to.equal(0);\n      expect(colours[2]).to.equal(1);\n      expect(colours[22]).to.equal(0);\n      expect(colours[23]).to.equal(8);\n    });","file":"graphics_builder_spec.js","skipped":false,"dir":"webext/test"},{"name":"should populate the frame's meta","suites":["Graphics Builder","Offset frames"],"updatePoint":{"line":58,"column":40,"index":1741},"line":58,"code":"    it(\"should populate the frame's meta\", () => {\n      const meta = graphics_builder.frame.meta;\n      expect(meta).to.deep.equal({\n        sub_left: 2,\n        sub_top: 1,\n        sub_width: 2,\n        sub_height: 4,\n        total_width: 4,\n        total_height: 8,\n        id: 1\n      });\n    });","file":"graphics_builder_spec.js","skipped":false,"dir":"webext/test"},{"name":"should convert text nodes to a grid of cell objects","suites":["Text Builder"],"updatePoint":{"line":27,"column":57,"index":1220},"line":27,"code":"  it(\"should convert text nodes to a grid of cell objects\", () => {\n    expect(grid.length).to.equal(37);\n    expect(grid[0]).to.deep.equal({\n      index: 0,\n      rune: \"T\",\n      fg_colour: [6, 0, 0],\n      bg_colour: [0, 0, 6],\n      parent_element: {\n        style: {\n          textAlign: \"left\"\n        }\n      },\n      tty_coords: {\n        x: 0,\n        y: 0\n      },\n      dom_coords: {\n        x: 0,\n        y: 0\n      }\n    });\n    expect(grid[5]).to.equal(undefined);\n    expect(grid[16]).to.deep.equal({\n      index: 16,\n      rune: \"M\",\n      fg_colour: [16, 0, 0],\n      bg_colour: [0, 0, 16],\n      parent_element: {\n        style: {\n          textAlign: \"left\"\n        }\n      },\n      tty_coords: {\n        x: 0,\n        y: 1\n      },\n      dom_coords: {\n        x: 0,\n        y: 2\n      }\n    });\n    expect(grid[36]).to.deep.equal({\n      index: 36,\n      rune: \".\",\n      fg_colour: [30, 0, 0],\n      bg_colour: [0, 0, 30],\n      parent_element: {\n        style: {\n          textAlign: \"left\"\n        }\n      },\n      tty_coords: {\n        x: 4,\n        y: 2\n      },\n      dom_coords: {\n        x: 4,\n        y: 4\n      }\n    });\n    expect(grid[37]).to.equal(undefined);\n  });","file":"text_builder_spec.js","skipped":false,"dir":"webext/test"},{"name":"should not detect the colour of whitespace characters","suites":["Text Builder"],"updatePoint":{"line":89,"column":59,"index":2421},"line":89,"code":"  it(\"should not detect the colour of whitespace characters\", () => {\n    expect(grid[19].rune).to.equal(\" \");\n    expect(grid[19].fg_colour).to.deep.equal([0, 19, 0]);\n  });","file":"text_builder_spec.js","skipped":false,"dir":"webext/test"},{"name":"should serialise a frame","suites":["Text Builder"],"updatePoint":{"line":93,"column":30,"index":2567},"line":93,"code":"  it(\"should serialise a frame\", () => {\n    text_builder._serialiseFrame();\n\n    expect(text_builder.frame.meta).to.deep.equal({\n      sub_left: 0,\n      sub_top: 0,\n      sub_width: 5,\n      sub_height: 6,\n      total_width: 16,\n      total_height: 14,\n      id: 1\n    });\n    expect(text_builder.frame.text).to.deep.equal([\"T\", \"e\", \"s\", \"t\", \"i\", \"M\", \"a\", \"x\", \" \", \"1\", \"w\", \"i\", \"d\", \"e\", \".\"]);\n    expect(text_builder.frame.colours).to.deep.equal([6, 0, 0, 7, 0, 0, 8, 0, 0, 9, 0, 0, 10, 0, 0, 16, 0, 0, 17, 0, 0, 18, 0, 0, 0, 19, 0, 20, 0, 0, 26, 0, 0, 27, 0, 0, 28, 0, 0, 29, 0, 0, 30, 0, 0]);\n  });","file":"text_builder_spec.js","skipped":false,"dir":"webext/test"}]}