{"repo":"SBoudrias/Inquirer.js","url":"https://github.com/SBoudrias/Inquirer.js","branch":"master","configs":[{"package":"inquirer","lang":"js","dir":"packages/inquirer/test","framework":"mocha","pattern":"**/*.{js,ts}"}],"tests":[{"name":"should filter the user input","suites":["filter API"],"updatePoint":{"line":39,"column":38,"index":1011},"line":39,"code":"      it('should filter the user input', function (done) {\n        this.fixture.filter = function () {\n          return 'pass';\n        };\n        const prompt = new this.Prompt(this.fixture, this.rl);\n        prompt.run().then(answer => {\n          expect(answer).to.equal('pass');\n          done();\n        });\n        this.rl.emit('line', '');\n      });","file":"specs/api.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow filter function to be asynchronous","suites":["filter API"],"updatePoint":{"line":50,"column":57,"index":1387},"line":50,"code":"      it('should allow filter function to be asynchronous', function (done) {\n        this.fixture.filter = function () {\n          const done = this.async();\n          setTimeout(() => {\n            done(null, 'pass');\n          }, 0);\n        };\n        const prompt = new this.Prompt(this.fixture, this.rl);\n        prompt.run().then(answer => {\n          expect(answer).to.equal('pass');\n          done();\n        });\n        this.rl.emit('line', '');\n      });","file":"specs/api.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should handle errors produced in async filters","suites":["filter API"],"updatePoint":{"line":64,"column":56,"index":1852},"line":64,"code":"      it('should handle errors produced in async filters', function () {\n        let called = 0;\n        const {\n          rl\n        } = this;\n        this.fixture.filter = function () {\n          called++;\n          const cb = this.async();\n          if (called === 2) {\n            return cb(null, 'pass');\n          }\n          rl.emit('line');\n          return cb(new Error('fail'));\n        };\n        const prompt = new this.Prompt(this.fixture, this.rl);\n        const promise = prompt.run();\n        this.rl.emit('line');\n        return promise;\n      });","file":"specs/api.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should pass previous answers to the prompt filter function","suites":["filter API"],"updatePoint":{"line":83,"column":68,"index":2429},"line":83,"code":"      it('should pass previous answers to the prompt filter function', () => {\n        const prompt = inquirer.createPromptModule();\n        const questions = [{\n          type: 'confirm',\n          name: 'q1',\n          message: 'message'\n        }, {\n          type: 'confirm',\n          name: 'q2',\n          message: 'message',\n          filter(input, answers) {\n            expect(answers.q1).to.equal(true);\n            return input;\n          },\n          default: false\n        }];\n        const promise = prompt(questions);\n        autosubmit(promise.ui);\n        return promise.then(answers => {\n          expect(answers.q1).to.equal(true);\n          expect(answers.q2).to.equal(false);\n        });\n      });","file":"specs/api.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should reject input if boolean false is returned","suites":["validate API"],"updatePoint":{"line":110,"column":58,"index":3203},"line":110,"code":"      it('should reject input if boolean false is returned', function () {\n        let called = 0;\n        this.fixture.validate = () => {\n          called++;\n          // Make sure returning false won't continue\n          if (called === 2) {\n            return true;\n          }\n          this.rl.emit('line');\n          return false;\n        };\n        const prompt = new this.Prompt(this.fixture, this.rl);\n        const promise = prompt.run();\n        this.rl.emit('line');\n        return promise;\n      });","file":"specs/api.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should reject input if a string is returned","suites":["validate API"],"updatePoint":{"line":126,"column":53,"index":3710},"line":126,"code":"      it('should reject input if a string is returned', function (done) {\n        const self = this;\n        let called = 0;\n        const errorMessage = 'uh oh, error!';\n        this.fixture.validate = function () {\n          called++;\n          // Make sure returning false won't continue\n          if (called === 2) {\n            done();\n            return;\n          }\n          self.rl.emit('line');\n          return errorMessage;\n        };\n        const prompt = new this.Prompt(this.fixture, this.rl);\n        prompt.run();\n        this.rl.emit('line');\n      });","file":"specs/api.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should reject input if a Promise is returned which rejects","suites":["validate API"],"updatePoint":{"line":144,"column":68,"index":4297},"line":144,"code":"      it('should reject input if a Promise is returned which rejects', function (done) {\n        const self = this;\n        let called = 0;\n        const errorMessage = 'uh oh, error!';\n        this.fixture.validate = function () {\n          called++;\n          // Make sure returning false won't continue\n          if (called === 2) {\n            done();\n            return;\n          }\n          self.rl.emit('line');\n          return Promise.reject(errorMessage);\n        };\n        const prompt = new this.Prompt(this.fixture, this.rl);\n        prompt.run();\n        this.rl.emit('line');\n      });","file":"specs/api.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should accept input if boolean true is returned","suites":["validate API"],"updatePoint":{"line":162,"column":57,"index":4889},"line":162,"code":"      it('should accept input if boolean true is returned', function () {\n        let called = 0;\n        this.fixture.validate = function () {\n          called++;\n          return true;\n        };\n        const prompt = new this.Prompt(this.fixture, this.rl);\n        const promise = prompt.run().then(() => {\n          expect(called).to.equal(1);\n        });\n        this.rl.emit('line');\n        return promise;\n      });","file":"specs/api.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow validate function to be asynchronous","suites":["validate API"],"updatePoint":{"line":175,"column":59,"index":5316},"line":175,"code":"      it('should allow validate function to be asynchronous', function () {\n        const self = this;\n        let called = 0;\n        this.fixture.validate = function () {\n          const done = this.async();\n          setTimeout(() => {\n            called++;\n            // Make sure returning false won't continue\n            if (called === 2) {\n              done(null, true);\n            } else {\n              self.rl.emit('line');\n            }\n            done(false);\n          }, 0);\n        };\n        const prompt = new this.Prompt(this.fixture, this.rl);\n        const promise = prompt.run();\n        this.rl.emit('line');\n        return promise;\n      });","file":"specs/api.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow validate function to return a Promise","suites":["validate API"],"updatePoint":{"line":196,"column":60,"index":5987},"line":196,"code":"      it('should allow validate function to return a Promise', function () {\n        this.fixture.validate = function () {\n          return Promise.resolve(true);\n        };\n        const prompt = new this.Prompt(this.fixture, this.rl);\n        const promise = prompt.run();\n        this.rl.emit('line');\n        return promise;\n      });","file":"specs/api.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should pass previous answers to the prompt validation function","suites":["validate API"],"updatePoint":{"line":205,"column":72,"index":6338},"line":205,"code":"      it('should pass previous answers to the prompt validation function', () => {\n        const prompt = inquirer.createPromptModule();\n        const questions = [{\n          type: 'confirm',\n          name: 'q1',\n          message: 'message'\n        }, {\n          type: 'confirm',\n          name: 'q2',\n          message: 'message',\n          validate(input, answers) {\n            expect(answers.q1).to.equal(true);\n            return true;\n          },\n          default: false\n        }];\n        const promise = prompt(questions);\n        autosubmit(promise.ui);\n        return promise.then(answers => {\n          expect(answers.q1).to.equal(true);\n          expect(answers.q2).to.equal(false);\n        });\n      });","file":"specs/api.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow a default value","suites":["default API"],"updatePoint":{"line":232,"column":38,"index":7091},"line":232,"code":"      it('should allow a default value', function (done) {\n        this.fixture.default = 'pass';\n        const prompt = new this.Prompt(this.fixture, this.rl);\n        prompt.run().then(answer => {\n          expect(this.rl.output.__raw__).to.contain('(pass)');\n          expect(answer).to.equal('pass');\n          done();\n        });\n        this.rl.emit('line', '');\n      });","file":"specs/api.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow a falsy default value","suites":["default API"],"updatePoint":{"line":242,"column":44,"index":7476},"line":242,"code":"      it('should allow a falsy default value', function (done) {\n        this.fixture.default = 0;\n        const prompt = new this.Prompt(this.fixture, this.rl);\n        prompt.run().then(answer => {\n          expect(this.rl.output.__raw__).to.contain('(0)');\n          expect(answer).to.equal(0);\n          done();\n        });\n        this.rl.emit('line', '');\n      });","file":"specs/api.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should print message on screen","suites":["message API"],"updatePoint":{"line":256,"column":40,"index":7907},"line":256,"code":"      it('should print message on screen', function () {\n        this.fixture.message = 'Foo bar bar foo bar';\n        const prompt = new this.Prompt(this.fixture, this.rl);\n        prompt.run();\n        expect(this.rl.output.__raw__).to.contain(this.fixture.message);\n      });","file":"specs/api.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should default to name for message","suites":["message API"],"updatePoint":{"line":262,"column":44,"index":8190},"line":262,"code":"      it('should default to name for message', function () {\n        this.fixture.name = 'testfoobarbarfoobar';\n        delete this.fixture.message;\n        const prompt = new this.Prompt(this.fixture, this.rl);\n        prompt.run();\n        expect(this.rl.output.__raw__).to.contain(this.fixture.name + ':');\n      });","file":"specs/api.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should print choices to screen","suites":["choices API"],"updatePoint":{"line":273,"column":40,"index":8569},"line":273,"code":"      it('should print choices to screen', function () {\n        const prompt = new this.Prompt(this.fixture, this.rl);\n        const {\n          choices\n        } = prompt.opt;\n        prompt.run();\n        choices.filter(inquirer.Separator.exclude).forEach(choice => {\n          expect(this.rl.output.__raw__).to.contain(choice.name);\n        });\n      });","file":"specs/api.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"`name` should throw","suites":["Missing value"],"updatePoint":{"line":287,"column":29,"index":8989},"line":287,"code":"      it('`name` should throw', function () {\n        expect(() => {\n          delete this.fixture.name;\n          return new this.Prompt(this.fixture, this.rl);\n        }).to.throw(/name/);\n      });","file":"specs/api.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should close and create a new readline instances each time it's called","suites":["inquirer.prompt"],"updatePoint":{"line":27,"column":76,"index":712},"line":27,"code":"  it(\"should close and create a new readline instances each time it's called\", function () {\n    const ctx = this;\n    const promise = this.prompt({\n      type: 'confirm',\n      name: 'q1',\n      message: 'message'\n    });\n    const rl1 = promise.ui.rl;\n    sandbox.spy(rl1, 'close');\n    sandbox.spy(rl1.output, 'end');\n    rl1.emit('line');\n    return promise.then(() => {\n      expect(rl1.close.calledOnce).to.equal(true);\n      expect(rl1.output.end.calledOnce).to.equal(true);\n      const promise2 = ctx.prompt({\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      });\n      const rl2 = promise2.ui.rl;\n      sandbox.spy(rl2, 'close');\n      sandbox.spy(rl2.output, 'end');\n      rl2.emit('line');\n      return promise2.then(() => {\n        expect(rl2.close.calledOnce).to.equal(true);\n        expect(rl2.output.end.calledOnce).to.equal(true);\n        expect(rl1).to.not.equal(rl2);\n      });\n    });\n  });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should close readline instance on rejected promise","suites":["inquirer.prompt"],"updatePoint":{"line":57,"column":56,"index":1630},"line":57,"code":"  it('should close readline instance on rejected promise', function (done) {\n    this.prompt.registerPrompt('stub', function () {\n      this.run = () => Promise.reject(new Error('test error'));\n    });\n    const promise = this.prompt({\n      type: 'stub',\n      name: 'q1'\n    });\n    const rl1 = promise.ui.rl;\n    sandbox.spy(rl1, 'close');\n    sandbox.spy(rl1.output, 'end');\n    promise.catch(() => {\n      expect(rl1.close.calledOnce).to.equal(true);\n      expect(rl1.output.end.calledOnce).to.equal(true);\n      done();\n    });\n  });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should take a prompts array and return answers","suites":["inquirer.prompt"],"updatePoint":{"line":74,"column":52,"index":2166},"line":74,"code":"  it('should take a prompts array and return answers', function () {\n    const prompts = [{\n      type: 'confirm',\n      name: 'q1',\n      message: 'message'\n    }, {\n      type: 'confirm',\n      name: 'q2',\n      message: 'message',\n      default: false\n    }];\n    const promise = this.prompt(prompts);\n    autosubmit(promise.ui);\n    return promise.then(answers => {\n      expect(answers.q1).to.equal(true);\n      expect(answers.q2).to.equal(false);\n    });\n  });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should take a prompts nested object and return answers","suites":["inquirer.prompt"],"updatePoint":{"line":92,"column":60,"index":2641},"line":92,"code":"  it('should take a prompts nested object and return answers', async function () {\n    const prompts = {\n      q1: {\n        type: 'confirm',\n        message: 'message'\n      },\n      q2: {\n        type: 'input',\n        message: 'message',\n        default: 'Foo'\n      }\n    };\n    const promise = this.prompt(prompts);\n    autosubmit(promise.ui);\n    const {\n      q1,\n      q2\n    } = await promise;\n    expect(q1).to.equal(true);\n    expect(q2).to.equal('Foo');\n  });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should take a prompts array with nested names","suites":["inquirer.prompt"],"updatePoint":{"line":113,"column":51,"index":3104},"line":113,"code":"  it('should take a prompts array with nested names', function () {\n    const prompts = [{\n      type: 'confirm',\n      name: 'foo.bar.q1',\n      message: 'message'\n    }, {\n      type: 'confirm',\n      name: 'foo.q2',\n      message: 'message',\n      default: false\n    }];\n    const promise = this.prompt(prompts);\n    autosubmit(promise.ui);\n    return promise.then(answers => {\n      expect(answers).to.deep.equal({\n        foo: {\n          bar: {\n            q1: true\n          },\n          q2: false\n        }\n      });\n    });\n  });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should take a single prompt and return answer","suites":["inquirer.prompt"],"updatePoint":{"line":137,"column":51,"index":3643},"line":137,"code":"  it('should take a single prompt and return answer', function () {\n    const prompt = {\n      type: 'input',\n      name: 'q1',\n      message: 'message',\n      default: 'bar'\n    };\n    const promise = this.prompt(prompt);\n    promise.ui.rl.emit('line');\n    return promise.then(answers => {\n      expect(answers.q1).to.equal('bar');\n    });\n  });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse `message` if passed as a function","suites":["inquirer.prompt"],"updatePoint":{"line":150,"column":52,"index":3992},"line":150,"code":"  it('should parse `message` if passed as a function', function () {\n    const stubMessage = 'foo';\n    this.prompt.registerPrompt('stub', function (params) {\n      this.opt = {\n        when() {\n          return true;\n        }\n      };\n      this.run = sinon.stub().returns(Promise.resolve());\n      expect(params.message).to.equal(stubMessage);\n    });\n    const msgFunc = function (answers) {\n      expect(answers.name1).to.equal('bar');\n      return stubMessage;\n    };\n    const prompts = [{\n      type: 'input',\n      name: 'name1',\n      message: 'message',\n      default: 'bar'\n    }, {\n      type: 'stub',\n      name: 'name',\n      message: msgFunc\n    }];\n    const promise = this.prompt(prompts);\n    promise.ui.rl.emit('line');\n    promise.ui.rl.emit('line');\n    return promise.then(() => {\n      // Ensure we're not overwriting original prompt values.\n      expect(prompts[1].message).to.equal(msgFunc);\n    });\n  });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should run asynchronous `message`","suites":["inquirer.prompt"],"updatePoint":{"line":183,"column":39,"index":4911},"line":183,"code":"  it('should run asynchronous `message`', function (done) {\n    const stubMessage = 'foo';\n    this.prompt.registerPrompt('stub', function (params) {\n      this.opt = {\n        when() {\n          return true;\n        }\n      };\n      this.run = sinon.stub().returns(Promise.resolve());\n      expect(params.message).to.equal(stubMessage);\n      done();\n    });\n    const prompts = [{\n      type: 'input',\n      name: 'name1',\n      message: 'message',\n      default: 'bar'\n    }, {\n      type: 'stub',\n      name: 'name',\n      message(answers) {\n        expect(answers.name1).to.equal('bar');\n        const goOn = this.async();\n        setTimeout(() => {\n          goOn(null, stubMessage);\n        }, 0);\n      }\n    }];\n    const promise = this.prompt(prompts);\n    promise.ui.rl.emit('line');\n  });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse `default` if passed as a function","suites":["inquirer.prompt"],"updatePoint":{"line":214,"column":52,"index":5725},"line":214,"code":"  it('should parse `default` if passed as a function', function (done) {\n    const stubDefault = 'foo';\n    this.prompt.registerPrompt('stub', function (params) {\n      this.opt = {\n        when() {\n          return true;\n        }\n      };\n      this.run = sinon.stub().returns(Promise.resolve());\n      expect(params.default).to.equal(stubDefault);\n      done();\n    });\n    const prompts = [{\n      type: 'input',\n      name: 'name1',\n      message: 'message',\n      default: 'bar'\n    }, {\n      type: 'stub',\n      name: 'name',\n      message: 'message',\n      default(answers) {\n        expect(answers.name1).to.equal('bar');\n        return stubDefault;\n      }\n    }];\n    const promise = this.prompt(prompts);\n    promise.ui.rl.emit('line');\n  });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should run asynchronous `default`","suites":["inquirer.prompt"],"updatePoint":{"line":243,"column":39,"index":6468},"line":243,"code":"  it('should run asynchronous `default`', function () {\n    let goesInDefault = false;\n    const input2Default = 'foo';\n    const prompts = [{\n      type: 'input',\n      name: 'name1',\n      message: 'message',\n      default: 'bar'\n    }, {\n      type: 'input2',\n      name: 'q2',\n      message: 'message',\n      default(answers) {\n        goesInDefault = true;\n        expect(answers.name1).to.equal('bar');\n        const goOn = this.async();\n        setTimeout(() => {\n          goOn(null, input2Default);\n        }, 0);\n        setTimeout(() => {\n          promise.ui.rl.emit('line');\n        }, 10);\n      }\n    }];\n    const promise = this.prompt(prompts);\n    promise.ui.rl.emit('line');\n    return promise.then(answers => {\n      expect(goesInDefault).to.equal(true);\n      expect(answers.q2).to.equal(input2Default);\n    });\n  });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should pass previous answers to the prompt constructor","suites":["inquirer.prompt"],"updatePoint":{"line":274,"column":60,"index":7328},"line":274,"code":"  it('should pass previous answers to the prompt constructor', function (done) {\n    this.prompt.registerPrompt('stub', function (params, rl, answers) {\n      this.run = sinon.stub().returns(Promise.resolve());\n      expect(answers.name1).to.equal('bar');\n      done();\n    });\n    const prompts = [{\n      type: 'input',\n      name: 'name1',\n      message: 'message',\n      default: 'bar'\n    }, {\n      type: 'stub',\n      name: 'name',\n      message: 'message'\n    }];\n    const promise = this.prompt(prompts);\n    promise.ui.rl.emit('line');\n  });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse `choices` if passed as a function","suites":["inquirer.prompt"],"updatePoint":{"line":293,"column":52,"index":7872},"line":293,"code":"  it('should parse `choices` if passed as a function', function (done) {\n    const stubChoices = ['foo', 'bar'];\n    this.prompt.registerPrompt('stub', function (params) {\n      this.run = sinon.stub().returns(Promise.resolve());\n      this.opt = {\n        when() {\n          return true;\n        }\n      };\n      expect(params.choices).to.equal(stubChoices);\n      done();\n    });\n    const prompts = [{\n      type: 'input',\n      name: 'name1',\n      message: 'message',\n      default: 'bar'\n    }, {\n      type: 'stub',\n      name: 'name',\n      message: 'message',\n      choices(answers) {\n        expect(answers.name1).to.equal('bar');\n        return stubChoices;\n      }\n    }];\n    const promise = this.prompt(prompts);\n    promise.ui.rl.emit('line');\n  });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should returns a promise","suites":["inquirer.prompt"],"updatePoint":{"line":322,"column":30,"index":8615},"line":322,"code":"  it('should returns a promise', function (done) {\n    const prompt = {\n      type: 'input',\n      name: 'q1',\n      message: 'message',\n      default: 'bar'\n    };\n    const promise = this.prompt(prompt);\n    promise.then(answers => {\n      expect(answers.q1).to.equal('bar');\n      done();\n    });\n    promise.ui.rl.emit('line');\n  });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should expose the Reactive interface","suites":["inquirer.prompt"],"updatePoint":{"line":336,"column":42,"index":8965},"line":336,"code":"  it('should expose the Reactive interface', function (done) {\n    const prompts = [{\n      type: 'input',\n      name: 'name1',\n      message: 'message',\n      default: 'bar'\n    }, {\n      type: 'input',\n      name: 'name',\n      message: 'message',\n      default: 'doe'\n    }];\n    const promise = this.prompt(prompts);\n    const spy = sinon.spy();\n    promise.ui.process.subscribe(spy, () => {}, () => {\n      sinon.assert.calledWith(spy, {\n        name: 'name1',\n        answer: 'bar'\n      });\n      sinon.assert.calledWith(spy, {\n        name: 'name',\n        answer: 'doe'\n      });\n      done();\n    });\n    autosubmit(promise.ui);\n  });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should expose the UI","suites":["inquirer.prompt"],"updatePoint":{"line":363,"column":26,"index":9595},"line":363,"code":"  it('should expose the UI', function (done) {\n    const promise = this.prompt([]);\n    expect(promise.ui.answers).to.be.an('object');\n    done();\n  });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"takes an Observable as question","suites":["inquirer.prompt"],"updatePoint":{"line":368,"column":37,"index":9759},"line":368,"code":"  it('takes an Observable as question', function () {\n    const prompts = Observable.create(obs => {\n      obs.next({\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      });\n      setTimeout(() => {\n        obs.next({\n          type: 'confirm',\n          name: 'q2',\n          message: 'message',\n          default: false\n        });\n        obs.complete();\n        promise.ui.rl.emit('line');\n      }, 30);\n    });\n    const promise = this.prompt(prompts);\n    promise.ui.rl.emit('line');\n    return promise.then(answers => {\n      expect(answers.q1).to.equal(true);\n      expect(answers.q2).to.equal(false);\n    });\n  });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should take a prompts array and answers and return answers","suites":["inquirer.prompt"],"updatePoint":{"line":393,"column":64,"index":10436},"line":393,"code":"  it('should take a prompts array and answers and return answers', function () {\n    const prompts = [{\n      type: 'confirm',\n      name: 'q1',\n      message: 'message'\n    }];\n    const answers = {\n      prefiled: true\n    };\n    const promise = this.prompt(prompts, answers);\n    autosubmit(promise.ui);\n    return promise.then(answers => {\n      expect(answers.prefiled).to.equal(true);\n      expect(answers.q1).to.equal(true);\n    });\n  });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should provide answers in filter callback for lists","suites":["inquirer.prompt"],"updatePoint":{"line":409,"column":57,"index":10875},"line":409,"code":"  it('should provide answers in filter callback for lists', function (done) {\n    const filter = sinon.stub();\n    filter.returns('foo');\n    const prompts = [{\n      type: 'list',\n      name: 'q1',\n      default: 'foo',\n      choices: ['foo', 'bar'],\n      message: 'message',\n      filter\n    }];\n    const promise = this.prompt(prompts);\n    promise.ui.rl.emit('line');\n    promise.then(() => {\n      const spyCall = filter.getCall(0);\n      expect(spyCall.args[0]).to.equal('foo');\n      expect(spyCall.args[1]).to.be.an('object');\n      done();\n    });\n  });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should pass current answers to `when`","suites":["inquirer.prompt","hierarchical mode (`when`)"],"updatePoint":{"line":430,"column":45,"index":11476},"line":430,"code":"    it('should pass current answers to `when`', function () {\n      const prompts = [{\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      }, {\n        name: 'q2',\n        message: 'message',\n        when(answers) {\n          expect(answers).to.be.an('object');\n          expect(answers.q1).to.equal(true);\n        }\n      }];\n      const promise = this.prompt(prompts);\n      autosubmit(promise.ui);\n      return promise;\n    });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should run prompt if `when` returns true","suites":["inquirer.prompt","hierarchical mode (`when`)"],"updatePoint":{"line":447,"column":48,"index":11936},"line":447,"code":"    it('should run prompt if `when` returns true', function () {\n      let goesInWhen = false;\n      const prompts = [{\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      }, {\n        type: 'input',\n        name: 'q2',\n        message: 'message',\n        default: 'bar-var',\n        when() {\n          goesInWhen = true;\n          return true;\n        }\n      }];\n      const promise = this.prompt(prompts);\n      autosubmit(promise.ui);\n      return promise.then(answers => {\n        expect(goesInWhen).to.equal(true);\n        expect(answers.q2).to.equal('bar-var');\n      });\n    });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should run prompt if `when` is true","suites":["inquirer.prompt","hierarchical mode (`when`)"],"updatePoint":{"line":470,"column":43,"index":12544},"line":470,"code":"    it('should run prompt if `when` is true', function () {\n      const prompts = [{\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      }, {\n        type: 'input',\n        name: 'q2',\n        message: 'message',\n        default: 'bar-var',\n        when: true\n      }];\n      const promise = this.prompt(prompts);\n      autosubmit(promise.ui);\n      return promise.then(answers => {\n        expect(answers.q2).to.equal('bar-var');\n      });\n    });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should not run prompt if `when` returns false","suites":["inquirer.prompt","hierarchical mode (`when`)"],"updatePoint":{"line":488,"column":53,"index":13029},"line":488,"code":"    it('should not run prompt if `when` returns false', function () {\n      let goesInWhen = false;\n      const prompts = [{\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      }, {\n        type: 'confirm',\n        name: 'q2',\n        message: 'message',\n        when() {\n          goesInWhen = true;\n          return false;\n        }\n      }, {\n        type: 'input',\n        name: 'q3',\n        message: 'message',\n        default: 'foo'\n      }];\n      const promise = this.prompt(prompts);\n      autosubmit(promise.ui);\n      return promise.then(answers => {\n        expect(goesInWhen).to.equal(true);\n        expect(answers.q2).to.equal(undefined);\n        expect(answers.q3).to.equal('foo');\n        expect(answers.q1).to.equal(true);\n      });\n    });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should not run prompt if `when` is false","suites":["inquirer.prompt","hierarchical mode (`when`)"],"updatePoint":{"line":517,"column":48,"index":13809},"line":517,"code":"    it('should not run prompt if `when` is false', function () {\n      const prompts = [{\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      }, {\n        type: 'confirm',\n        name: 'q2',\n        message: 'message',\n        when: false\n      }, {\n        type: 'input',\n        name: 'q3',\n        message: 'message',\n        default: 'foo'\n      }];\n      const promise = this.prompt(prompts);\n      autosubmit(promise.ui);\n      return promise.then(answers => {\n        expect(answers.q2).to.equal(undefined);\n        expect(answers.q3).to.equal('foo');\n        expect(answers.q1).to.equal(true);\n      });\n    });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should run asynchronous `when`","suites":["inquirer.prompt","hierarchical mode (`when`)"],"updatePoint":{"line":541,"column":38,"index":14446},"line":541,"code":"    it('should run asynchronous `when`', function () {\n      let goesInWhen = false;\n      const prompts = [{\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      }, {\n        type: 'input',\n        name: 'q2',\n        message: 'message',\n        default: 'foo-bar',\n        when() {\n          goesInWhen = true;\n          const goOn = this.async();\n          setTimeout(() => {\n            goOn(null, true);\n          }, 0);\n          setTimeout(() => {\n            promise.ui.rl.emit('line');\n          }, 10);\n        }\n      }];\n      const promise = this.prompt(prompts);\n      autosubmit(promise.ui);\n      return promise.then(answers => {\n        expect(goesInWhen).to.equal(true);\n        expect(answers.q2).to.equal('foo-bar');\n      });\n    });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should get the value which set in `when` on returns false","suites":["inquirer.prompt","hierarchical mode (`when`)"],"updatePoint":{"line":570,"column":65,"index":15253},"line":570,"code":"    it('should get the value which set in `when` on returns false', function () {\n      const prompts = [{\n        name: 'q',\n        message: 'message',\n        when(answers) {\n          answers.q = 'foo';\n          return false;\n        }\n      }];\n      const promise = this.prompt(prompts);\n      autosubmit(promise.ui);\n      return promise.then(answers => {\n        expect(answers.q).to.equal('foo');\n      });\n    });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should not run prompt if answer exists for question","suites":["inquirer.prompt","hierarchical mode (`when`)"],"updatePoint":{"line":585,"column":59,"index":15672},"line":585,"code":"    it('should not run prompt if answer exists for question', function () {\n      const throwFunc = function (step) {\n        throw new Error(`askAnswered Error ${step}`);\n      };\n      const prompts = [{\n        type: 'input',\n        name: 'prefiled',\n        when: throwFunc.bind(undefined, 'when'),\n        validate: throwFunc.bind(undefined, 'validate'),\n        transformer: throwFunc.bind(undefined, 'transformer'),\n        filter: throwFunc.bind(undefined, 'filter'),\n        message: 'message',\n        default: 'newValue'\n      }];\n      const answers = {\n        prefiled: 'prefiled'\n      };\n      const promise = this.prompt(prompts, answers);\n      autosubmit(promise.ui);\n      return promise.then(answers => {\n        expect(answers.prefiled).to.equal('prefiled');\n      });\n    });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should not run prompt if nested answer exists for question","suites":["inquirer.prompt","hierarchical mode (`when`)"],"updatePoint":{"line":608,"column":66,"index":16479},"line":608,"code":"    it('should not run prompt if nested answer exists for question', function () {\n      const throwFunc = function (step) {\n        throw new Error(`askAnswered Error ${step}`);\n      };\n      const prompts = [{\n        type: 'input',\n        name: 'prefiled.nested',\n        when: throwFunc.bind(undefined, 'when'),\n        validate: throwFunc.bind(undefined, 'validate'),\n        transformer: throwFunc.bind(undefined, 'transformer'),\n        filter: throwFunc.bind(undefined, 'filter'),\n        message: 'message',\n        default: 'newValue'\n      }];\n      const answers = {\n        prefiled: {\n          nested: 'prefiled'\n        }\n      };\n      const promise = this.prompt(prompts, answers);\n      autosubmit(promise.ui);\n      return promise.then(answers => {\n        expect(answers.prefiled.nested).to.equal('prefiled');\n      });\n    });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should run prompt if answer exists for question and askAnswered is set","suites":["inquirer.prompt","hierarchical mode (`when`)"],"updatePoint":{"line":633,"column":78,"index":17342},"line":633,"code":"    it('should run prompt if answer exists for question and askAnswered is set', function () {\n      const prompts = [{\n        askAnswered: true,\n        type: 'input',\n        name: 'prefiled',\n        message: 'message',\n        default: 'newValue'\n      }];\n      const answers = {\n        prefiled: 'prefiled'\n      };\n      const promise = this.prompt(prompts, answers);\n      autosubmit(promise.ui);\n      return promise.then(answers => {\n        expect(answers.prefiled).to.equal('newValue');\n      });\n    });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should run prompt if nested answer exists for question and askAnswered is set","suites":["inquirer.prompt","hierarchical mode (`when`)"],"updatePoint":{"line":650,"column":85,"index":17868},"line":650,"code":"    it('should run prompt if nested answer exists for question and askAnswered is set', function () {\n      const prompts = [{\n        askAnswered: true,\n        type: 'input',\n        name: 'prefiled.nested',\n        message: 'message',\n        default: 'newValue'\n      }];\n      const answers = {\n        prefiled: {\n          nested: 'prefiled'\n        }\n      };\n      const promise = this.prompt(prompts, answers);\n      autosubmit(promise.ui);\n      return promise.then(answers => {\n        expect(answers.prefiled.nested).to.equal('newValue');\n      });\n    });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"register new prompt types","suites":["inquirer.prompt","#registerPrompt()"],"updatePoint":{"line":671,"column":33,"index":18432},"line":671,"code":"    it('register new prompt types', done => {\n      const questions = [{\n        type: 'foo',\n        message: 'something'\n      }];\n      inquirer.registerPrompt('foo', function (question, rl, answers) {\n        expect(question).to.eql(questions[0]);\n        expect(answers).to.eql({});\n        this.run = sinon.stub().returns(Promise.resolve());\n        done();\n      });\n      inquirer.prompt(questions);\n    });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"overwrite default prompt types","suites":["inquirer.prompt","#registerPrompt()"],"updatePoint":{"line":684,"column":38,"index":18853},"line":684,"code":"    it('overwrite default prompt types', done => {\n      const questions = [{\n        type: 'confirm',\n        message: 'something'\n      }];\n      inquirer.registerPrompt('confirm', function () {\n        this.run = sinon.stub().returns(Promise.resolve());\n        done();\n      });\n      inquirer.prompt(questions);\n      inquirer.restoreDefaultPrompts();\n    });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"restore default prompts","suites":["inquirer.prompt","#restoreDefaultPrompts()"],"updatePoint":{"line":698,"column":31,"index":19264},"line":698,"code":"    it('restore default prompts', () => {\n      const ConfirmPrompt = inquirer.prompt.prompts.confirm;\n      inquirer.registerPrompt('confirm', () => {});\n      inquirer.restoreDefaultPrompts();\n      expect(ConfirmPrompt).to.equal(inquirer.prompt.prompts.confirm);\n    });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"does not throw exception if cli-width reports width of 0","suites":["inquirer.prompt","#restoreDefaultPrompts()"],"updatePoint":{"line":707,"column":62,"index":19636},"line":707,"code":"  it('does not throw exception if cli-width reports width of 0', () => {\n    const original = process.stdout.getWindowSize;\n    process.stdout.getWindowSize = function () {\n      return [0];\n    };\n    const prompt = inquirer.createPromptModule();\n    const prompts = [{\n      type: 'confirm',\n      name: 'q1',\n      message: 'message'\n    }];\n    const promise = prompt(prompts);\n    promise.ui.rl.emit('line');\n    return promise.then(answers => {\n      process.stdout.getWindowSize = original;\n      expect(answers.q1).to.equal(true);\n    });\n  });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"Throw an exception when run in non-tty","suites":["inquirer.prompt","Non-TTY checks"],"updatePoint":{"line":734,"column":46,"index":20391},"line":734,"code":"    it('Throw an exception when run in non-tty', () => {\n      const prompt = inquirer.createPromptModule({\n        skipTTYChecks: false\n      });\n      const prompts = [{\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      }];\n      const promise = prompt(prompts);\n      return promise.then(() => {\n        // Failure\n        expect(true).to.equal(false);\n      }).catch(error => {\n        expect(error.isTtyError).to.equal(true);\n      });\n    });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"Don't throw an exception when run in non-tty by default","suites":["inquirer.prompt","Non-TTY checks"],"updatePoint":{"line":751,"column":63,"index":20885},"line":751,"code":"    it(\"Don't throw an exception when run in non-tty by default\", done => {\n      const prompt = inquirer.createPromptModule();\n      const prompts = [{\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      }, {\n        type: 'confirm',\n        name: 'q2',\n        message: 'message'\n      }];\n      const promise = prompt(prompts);\n      autosubmit(promise.ui);\n      promise.then(() => {\n        done();\n      }).catch(error => {\n        console.log(error);\n        expect(error.isTtyError).to.equal(false);\n      });\n    });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"Don't throw an exception when run in non-tty and skipTTYChecks is true","suites":["inquirer.prompt","Non-TTY checks"],"updatePoint":{"line":771,"column":78,"index":21452},"line":771,"code":"    it(\"Don't throw an exception when run in non-tty and skipTTYChecks is true\", done => {\n      const prompt = inquirer.createPromptModule({\n        skipTTYChecks: true\n      });\n      const prompts = [{\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      }, {\n        type: 'confirm',\n        name: 'q2',\n        message: 'message'\n      }];\n      const promise = prompt(prompts);\n      autosubmit(promise.ui);\n      promise.then(() => {\n        done();\n      }).catch(error => {\n        console.log(error);\n        expect(error.isTtyError).to.equal(false);\n      });\n    });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"Don't throw an exception when run in non-tty and custom input is provided","suites":["inquirer.prompt","Non-TTY checks"],"updatePoint":{"line":793,"column":81,"index":22059},"line":793,"code":"    it(\"Don't throw an exception when run in non-tty and custom input is provided\", done => {\n      const prompt = inquirer.createPromptModule({\n        input: new stream.Readable({\n          // We must have a default read implementation\n          // for this to work, if not it will error out\n          // with the following error message during testing\n          // Uncaught Error [ERR_METHOD_NOT_IMPLEMENTED]: The _read() method is not implemented\n          read() {}\n        })\n      });\n      const prompts = [{\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      }, {\n        type: 'confirm',\n        name: 'q2',\n        message: 'message'\n      }];\n      const promise = prompt(prompts);\n      autosubmit(promise.ui);\n      promise.then(() => {\n        done();\n      }).catch(error => {\n        console.log(error);\n        expect(error.isTtyError).to.equal(false);\n      });\n    });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"Throw an exception when run in non-tty and custom input is provided with skipTTYChecks: false","suites":["inquirer.prompt","Non-TTY checks"],"updatePoint":{"line":821,"column":101,"index":22995},"line":821,"code":"    it('Throw an exception when run in non-tty and custom input is provided with skipTTYChecks: false', () => {\n      const prompt = inquirer.createPromptModule({\n        input: new stream.Readable(),\n        skipTTYChecks: false\n      });\n      const prompts = [{\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      }];\n      const promise = prompt(prompts);\n      return promise.then(() => {\n        // Failure\n        expect(true).to.equal(false);\n      }).catch(error => {\n        expect(error.isTtyError).to.equal(true);\n      });\n    });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"No exception when using tty other than process.stdin","suites":["inquirer.prompt","Non-TTY checks"],"updatePoint":{"line":839,"column":60,"index":23524},"line":839,"code":"    it('No exception when using tty other than process.stdin', () => {\n      // Manually opens a new tty\n      if (ostype === 'Windows_NT' || process.env.GITHUB_ACTIONS) {\n        mocha.skip();\n      } else {\n        const input = new tty.ReadStream(fs.openSync('/dev/tty', 'r+'));\n\n        // Uses manually opened tty as input instead of process.stdin\n        const prompt = inquirer.createPromptModule({\n          input,\n          skipTTYChecks: false\n        });\n        const prompts = [{\n          type: 'input',\n          name: 'q1',\n          default: 'foo',\n          message: 'message'\n        }];\n        const promise = prompt(prompts);\n        promise.ui.rl.emit('line');\n\n        // Release the input tty socket\n        input.unref();\n        return promise.then(answers => {\n          expect(answers).to.deep.equal({\n            q1: 'foo'\n          });\n        });\n      }\n    });","file":"specs/inquirer.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should normalize accept String as value","suites":["Choice object"],"updatePoint":{"line":5,"column":45,"index":223},"line":5,"code":"  it('should normalize accept String as value', () => {\n    const choice = new Choice('foo');\n    expect(choice.name).to.equal('foo');\n    expect(choice.value).to.equal('foo');\n  });","file":"specs/objects/choice.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should use value|name as default if default property is missing","suites":["Choice object"],"updatePoint":{"line":10,"column":69,"index":430},"line":10,"code":"  it('should use value|name as default if default property is missing', () => {\n    const onlyName = new Choice({\n      name: 'foo'\n    });\n    const onlyVal = new Choice({\n      value: 'bar'\n    });\n    expect(onlyName.name).to.equal('foo');\n    expect(onlyName.value).to.equal('foo');\n    expect(onlyName.short).to.equal('foo');\n    expect(onlyVal.name).to.equal('bar');\n    expect(onlyVal.value).to.equal('bar');\n    expect(onlyVal.short).to.equal('bar');\n  });","file":"specs/objects/choice.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should keep extra keys","suites":["Choice object"],"updatePoint":{"line":24,"column":28,"index":854},"line":24,"code":"  it('should keep extra keys', () => {\n    const choice = new Choice({\n      name: 'foo',\n      extra: '1'\n    });\n    expect(choice.extra).to.equal('1');\n    expect(choice.name).to.equal('foo');\n    expect(choice.value).to.equal('foo');\n  });","file":"specs/objects/choice.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"shouldn't process Separator object","suites":["Choice object"],"updatePoint":{"line":33,"column":40,"index":1110},"line":33,"code":"  it(\"shouldn't process Separator object\", () => {\n    const sep = new Choice(new Separator());\n    expect(sep).to.be.instanceOf(Separator);\n  });","file":"specs/objects/choice.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"shouldn't process object with property type=separator","suites":["Choice object"],"updatePoint":{"line":37,"column":59,"index":1276},"line":37,"code":"  it(\"shouldn't process object with property type=separator\", () => {\n    const obj = {\n      type: 'separator'\n    };\n    const sep = new Choice(obj);\n    expect(sep).to.equal(obj);\n  });","file":"specs/objects/choice.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should create Choice object from array member","suites":["Choices collection"],"updatePoint":{"line":6,"column":51,"index":279},"line":6,"code":"  it('should create Choice object from array member', () => {\n    const choices = new Choices(['bar', {\n      name: 'foo'\n    }]);\n    expect(choices.getChoice(0)).to.be.instanceOf(Choice);\n    expect(choices.getChoice(1)).to.be.instanceOf(Choice);\n  });","file":"specs/objects/choices.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should support for number","suites":["Choices collection"],"updatePoint":{"line":13,"column":31,"index":514},"line":13,"code":"  it('should support for number', () => {\n    const choices = new Choices([1, 2, 3, 4]);\n    expect(choices.getChoice(0).value).to.equal(1);\n  });","file":"specs/objects/choices.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should not process Separator object","suites":["Choices collection"],"updatePoint":{"line":17,"column":41,"index":671},"line":17,"code":"  it('should not process Separator object', () => {\n    const sep = new inquirer.Separator();\n    const choices = new Choices(['Bar', sep]);\n    expect(choices.get(0).name).to.equal('Bar');\n    expect(choices.get(1)).to.equal(sep);\n  });","file":"specs/objects/choices.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should provide access to length information","suites":["Choices collection"],"updatePoint":{"line":23,"column":49,"index":917},"line":23,"code":"  it('should provide access to length information', () => {\n    const choices = new Choices(['Bar', new inquirer.Separator(), 'foo']);\n    expect(choices.length).to.equal(3);\n    expect(choices.realLength).to.equal(2);\n    choices.length = 1;\n    expect(choices.length).to.equal(1);\n    expect(choices.get(1)).to.equal(undefined);\n    expect(() => {\n      choices.realLength = 0;\n    }).to.throw();\n  });","file":"specs/objects/choices.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow plucking choice content","suites":["Choices collection"],"updatePoint":{"line":34,"column":42,"index":1315},"line":34,"code":"  it('should allow plucking choice content', () => {\n    const choices = new Choices([{\n      name: 'n',\n      key: 'foo'\n    }, {\n      name: 'a',\n      key: 'lab'\n    }]);\n    expect(choices.pluck('key')).to.eql(['foo', 'lab']);\n  });","file":"specs/objects/choices.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow filtering value with where","suites":["Choices collection"],"updatePoint":{"line":44,"column":45,"index":1555},"line":44,"code":"  it('should allow filtering value with where', () => {\n    const choices = new Choices([{\n      name: 'n',\n      key: 'foo'\n    }, {\n      name: 'a',\n      key: 'lab'\n    }]);\n    expect(choices.where({\n      key: 'lab'\n    })).to.eql([{\n      name: 'a',\n      value: 'a',\n      short: 'a',\n      key: 'lab',\n      disabled: undefined\n    }]);\n  });","file":"specs/objects/choices.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should façade forEach","suites":["Choices collection"],"updatePoint":{"line":62,"column":27,"index":1888},"line":62,"code":"  it('should façade forEach', () => {\n    const raw = ['a', 'b', 'c'];\n    const choices = new Choices(raw);\n    choices.forEach((val, i) => {\n      expect(val.name).to.equal(raw[i]);\n    });\n  });","file":"specs/objects/choices.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should façade filter","suites":["Choices collection"],"updatePoint":{"line":69,"column":26,"index":2085},"line":69,"code":"  it('should façade filter', () => {\n    const choices = new Choices(['a', 'b', 'c']);\n    const filtered = choices.filter(val => val.name === 'a');\n    expect(filtered.length).to.equal(1);\n    expect(filtered[0].name).to.equal('a');\n  });","file":"specs/objects/choices.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should façade push and update the realChoices internally","suites":["Choices collection"],"updatePoint":{"line":75,"column":62,"index":2361},"line":75,"code":"  it('should façade push and update the realChoices internally', () => {\n    const choices = new Choices(['a', {\n      name: 'b',\n      disabled: true\n    }]);\n    choices.push('b', new inquirer.Separator());\n    expect(choices.length).to.equal(4);\n    expect(choices.realLength).to.equal(2);\n    expect(choices.getChoice(0)).to.be.instanceOf(Choice).and.have.property('name', 'a');\n    expect(choices.getChoice(1)).to.be.instanceOf(Choice).and.have.property('name', 'b');\n    expect(choices.get(1)).to.be.instanceOf(Choice).and.have.property('disabled', true);\n    expect(choices.get(3)).to.be.instanceOf(inquirer.Separator);\n  });","file":"specs/objects/choices.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should set a default","suites":["Separator constructor"],"updatePoint":{"line":6,"column":26,"index":244},"line":6,"code":"  it('should set a default', () => {\n    const sep = new Separator();\n    expect(stripAnsi(sep.toString())).to.equal('──────────────');\n  });","file":"specs/objects/separator.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should set user input as separator","suites":["Separator constructor"],"updatePoint":{"line":10,"column":40,"index":400},"line":10,"code":"  it('should set user input as separator', () => {\n    const sep = new Separator('foo bar');\n    expect(stripAnsi(sep.toString())).to.equal('foo bar');\n  });","file":"specs/objects/separator.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"instances should be stringified when appended to a string","suites":["Separator constructor"],"updatePoint":{"line":14,"column":63,"index":581},"line":14,"code":"  it('instances should be stringified when appended to a string', () => {\n    const sep = new Separator('foo bar');\n    expect(stripAnsi(String(sep))).to.equal('foo bar');\n  });","file":"specs/objects/separator.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should be exposed on Inquirer object","suites":["Separator constructor"],"updatePoint":{"line":18,"column":42,"index":738},"line":18,"code":"  it('should be exposed on Inquirer object', () => {\n    expect(inquirer.Separator).to.equal(Separator);\n  });","file":"specs/objects/separator.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should expose a helper function to check for separator","suites":["Separator constructor"],"updatePoint":{"line":21,"column":60,"index":867},"line":21,"code":"  it('should expose a helper function to check for separator', () => {\n    expect(Separator.exclude({})).to.equal(true);\n    expect(Separator.exclude(new Separator())).to.equal(false);\n  });","file":"specs/objects/separator.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"give the type 'separator' to its object","suites":["Separator constructor"],"updatePoint":{"line":25,"column":45,"index":1043},"line":25,"code":"  it(\"give the type 'separator' to its object\", () => {\n    const sep = new Separator();\n    expect(sep.type).to.equal('separator');\n  });","file":"specs/objects/separator.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should not point by reference to the entry `question` object","suites":["`base` prompt (e.g. prompt helpers)"],"updatePoint":{"line":12,"column":66,"index":413},"line":12,"code":"  it('should not point by reference to the entry `question` object', function () {\n    const question = {\n      message: 'foo bar',\n      name: 'name'\n    };\n    const base = new Base(question, this.rl);\n    expect(question).to.not.equal(base.opt);\n    expect(question.name).to.equal(base.opt.name);\n    expect(question.message).to.equal(base.opt.message);\n  });","file":"specs/prompts/base.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should return a single selected choice in an array","suites":["`checkbox` prompt"],"updatePoint":{"line":14,"column":56,"index":493},"line":14,"code":"  it('should return a single selected choice in an array', function (done) {\n    this.checkbox.run().then(answer => {\n      expect(answer).to.be.an('array');\n      expect(answer.length).to.equal(1);\n      expect(answer[0]).to.equal('choice 1');\n      done();\n    });\n    this.rl.input.emit('keypress', ' ', {\n      name: 'space'\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/checkbox.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should return multiples selected choices in an array","suites":["`checkbox` prompt"],"updatePoint":{"line":26,"column":58,"index":864},"line":26,"code":"  it('should return multiples selected choices in an array', function (done) {\n    this.checkbox.run().then(answer => {\n      expect(answer).to.be.an('array');\n      expect(answer.length).to.equal(2);\n      expect(answer[0]).to.equal('choice 1');\n      expect(answer[1]).to.equal('choice 2');\n      done();\n    });\n    this.rl.input.emit('keypress', ' ', {\n      name: 'space'\n    });\n    this.rl.input.emit('keypress', null, {\n      name: 'down'\n    });\n    this.rl.input.emit('keypress', ' ', {\n      name: 'space'\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/checkbox.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should check defaults choices","suites":["`checkbox` prompt"],"updatePoint":{"line":45,"column":35,"index":1398},"line":45,"code":"  it('should check defaults choices', function (done) {\n    this.fixture.choices = [{\n      name: '1',\n      checked: true\n    }, {\n      name: '2',\n      checked: false\n    }, {\n      name: '3',\n      checked: false\n    }];\n    this.checkbox = new Checkbox(this.fixture, this.rl);\n    this.checkbox.run().then(answer => {\n      expect(answer.length).to.equal(1);\n      expect(answer[0]).to.equal('1');\n      done();\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/checkbox.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"provide an array of checked choice to validate","suites":["`checkbox` prompt"],"updatePoint":{"line":64,"column":52,"index":1872},"line":64,"code":"  it('provide an array of checked choice to validate', function () {\n    this.fixture.choices = [{\n      name: '1',\n      checked: true\n    }, {\n      name: '2',\n      checked: 1\n    }, {\n      name: '3',\n      checked: false\n    }];\n    this.fixture.validate = function (answer) {\n      expect(answer).to.eql(['1', '2']);\n      return true;\n    };\n    this.checkbox = new Checkbox(this.fixture, this.rl);\n    const promise = this.checkbox.run();\n    this.rl.emit('line');\n    return promise;\n  });","file":"specs/prompts/checkbox.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should check defaults choices if given as array of values","suites":["`checkbox` prompt"],"updatePoint":{"line":84,"column":63,"index":2382},"line":84,"code":"  it('should check defaults choices if given as array of values', function (done) {\n    this.fixture.choices = [{\n      name: '1'\n    }, {\n      name: '2'\n    }, {\n      name: '3'\n    }];\n    this.fixture.default = ['1', '3'];\n    this.checkbox = new Checkbox(this.fixture, this.rl);\n    this.checkbox.run().then(answer => {\n      expect(answer.length).to.equal(2);\n      expect(answer[0]).to.equal('1');\n      expect(answer[1]).to.equal('3');\n      done();\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/checkbox.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should toggle choice when hitting space","suites":["`checkbox` prompt"],"updatePoint":{"line":102,"column":45,"index":2862},"line":102,"code":"  it('should toggle choice when hitting space', function (done) {\n    this.checkbox.run().then(answer => {\n      expect(answer.length).to.equal(1);\n      expect(answer[0]).to.equal('choice 1');\n      done();\n    });\n    this.rl.input.emit('keypress', ' ', {\n      name: 'space'\n    });\n    this.rl.input.emit('keypress', null, {\n      name: 'down'\n    });\n    this.rl.input.emit('keypress', ' ', {\n      name: 'space'\n    });\n    this.rl.input.emit('keypress', ' ', {\n      name: 'space'\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/checkbox.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow for arrow navigation","suites":["`checkbox` prompt"],"updatePoint":{"line":122,"column":39,"index":3384},"line":122,"code":"  it('should allow for arrow navigation', function (done) {\n    this.checkbox.run().then(answer => {\n      expect(answer.length).to.equal(1);\n      expect(answer[0]).to.equal('choice 2');\n      done();\n    });\n    this.rl.input.emit('keypress', null, {\n      name: 'down'\n    });\n    this.rl.input.emit('keypress', null, {\n      name: 'down'\n    });\n    this.rl.input.emit('keypress', null, {\n      name: 'up'\n    });\n    this.rl.input.emit('keypress', ' ', {\n      name: 'space'\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/checkbox.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow for vi-style navigation","suites":["`checkbox` prompt"],"updatePoint":{"line":142,"column":42,"index":3907},"line":142,"code":"  it('should allow for vi-style navigation', function (done) {\n    this.checkbox.run().then(answer => {\n      expect(answer.length).to.equal(1);\n      expect(answer[0]).to.equal('choice 2');\n      done();\n    });\n    this.rl.input.emit('keypress', 'j', {\n      name: 'j'\n    });\n    this.rl.input.emit('keypress', 'j', {\n      name: 'j'\n    });\n    this.rl.input.emit('keypress', 'k', {\n      name: 'k'\n    });\n    this.rl.input.emit('keypress', ' ', {\n      name: 'space'\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/checkbox.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow for emacs-style navigation","suites":["`checkbox` prompt"],"updatePoint":{"line":162,"column":45,"index":4423},"line":162,"code":"  it('should allow for emacs-style navigation', function (done) {\n    this.checkbox.run().then(answer => {\n      expect(answer.length).to.equal(1);\n      expect(answer[0]).to.equal('choice 2');\n      done();\n    });\n    this.rl.input.emit('keypress', 'n', {\n      name: 'n',\n      ctrl: true\n    });\n    this.rl.input.emit('keypress', 'n', {\n      name: 'n',\n      ctrl: true\n    });\n    this.rl.input.emit('keypress', 'p', {\n      name: 'p',\n      ctrl: true\n    });\n    this.rl.input.emit('keypress', ' ', {\n      name: 'space'\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/checkbox.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow 1-9 shortcut key","suites":["`checkbox` prompt"],"updatePoint":{"line":185,"column":35,"index":4983},"line":185,"code":"  it('should allow 1-9 shortcut key', function (done) {\n    this.checkbox.run().then(answer => {\n      expect(answer.length).to.equal(1);\n      expect(answer[0]).to.equal('choice 2');\n      done();\n    });\n    this.rl.input.emit('keypress', '2');\n    this.rl.emit('line');\n  });","file":"specs/prompts/checkbox.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should select all answers if <a> is pressed","suites":["`checkbox` prompt"],"updatePoint":{"line":194,"column":49,"index":5276},"line":194,"code":"  it('should select all answers if <a> is pressed', function () {\n    const promise = this.checkbox.run();\n    this.rl.input.emit('keypress', 'a', {\n      name: 'a'\n    });\n    this.rl.emit('line');\n    return promise.then(answer => {\n      expect(answer.length).to.equal(3);\n    });\n  });","file":"specs/prompts/checkbox.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should select no answers if <a> is pressed a second time","suites":["`checkbox` prompt"],"updatePoint":{"line":204,"column":62,"index":5579},"line":204,"code":"  it('should select no answers if <a> is pressed a second time', function () {\n    const promise = this.checkbox.run();\n    this.rl.input.emit('keypress', 'a', {\n      name: 'a'\n    });\n    this.rl.input.emit('keypress', 'a', {\n      name: 'a'\n    });\n    this.rl.emit('line');\n    return promise.then(answer => {\n      expect(answer.length).to.equal(0);\n    });\n  });","file":"specs/prompts/checkbox.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should select the inverse of the current selection when <i> is pressed","suites":["`checkbox` prompt"],"updatePoint":{"line":217,"column":76,"index":5962},"line":217,"code":"  it('should select the inverse of the current selection when <i> is pressed', function () {\n    const promise = this.checkbox.run();\n    this.rl.input.emit('keypress', 'i', {\n      name: 'i'\n    });\n    this.rl.emit('line');\n    return promise.then(answer => {\n      expect(answer.length).to.equal(3);\n    });\n  });","file":"specs/prompts/checkbox.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"pagination works with multiline choices","suites":["`checkbox` prompt"],"updatePoint":{"line":227,"column":45,"index":6248},"line":227,"code":"  it('pagination works with multiline choices', function (done) {\n    const multilineFixture = {\n      message: 'message',\n      name: 'name',\n      choices: ['a\\n\\n', 'b\\n\\n']\n    };\n    const list = new Checkbox(multilineFixture, this.rl);\n    const spy = sinon.spy(list.paginator, 'paginate');\n    list.run().then(answer => {\n      const realIndexPosition1 = spy.firstCall.args[1];\n      const realIndexPosition2 = spy.secondCall.args[1];\n\n      // 'a\\n\\n': 0th index, but pagination at 2nd index position due to 2 extra newlines\n      expect(realIndexPosition1).to.equal(2);\n      // 'b\\n\\n': 1st index, but pagination at 5th index position due to 4 extra newlines\n      expect(realIndexPosition2).to.equal(5);\n      expect(answer[0]).to.equal('b\\n\\n');\n      done();\n    });\n    this.rl.input.emit('keypress', '', {\n      name: 'down'\n    });\n    this.rl.input.emit('keypress', ' ', {\n      name: 'space'\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/checkbox.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"output disabled choices and custom messages","suites":["`checkbox` prompt","with disabled choices"],"updatePoint":{"line":266,"column":51,"index":7525},"line":266,"code":"    it('output disabled choices and custom messages', function () {\n      const promise = this.checkbox.run();\n      this.rl.emit('line');\n      return promise.then(() => {\n        expect(this.rl.output.__raw__).to.contain('- dis1 (Disabled)');\n        expect(this.rl.output.__raw__).to.contain('- dis2 (uh oh)');\n      });\n    });","file":"specs/prompts/checkbox.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"skip disabled choices","suites":["`checkbox` prompt","with disabled choices"],"updatePoint":{"line":274,"column":29,"index":7835},"line":274,"code":"    it('skip disabled choices', function (done) {\n      this.checkbox.run().then(answer => {\n        expect(answer[0]).to.equal('choice 1');\n        done();\n      });\n      this.rl.input.emit('keypress', null, {\n        name: 'down'\n      });\n      this.rl.input.emit('keypress', null, {\n        name: 'down'\n      });\n      this.rl.input.emit('keypress', null, {\n        name: 'down'\n      });\n      this.rl.input.emit('keypress', ' ', {\n        name: 'space'\n      });\n      this.rl.emit('line');\n    });","file":"specs/prompts/checkbox.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"uncheck defaults choices who're disabled","suites":["`checkbox` prompt","with disabled choices"],"updatePoint":{"line":293,"column":48,"index":8361},"line":293,"code":"    it(\"uncheck defaults choices who're disabled\", function (done) {\n      this.fixture.choices = [{\n        name: '1',\n        checked: true,\n        disabled: true\n      }, {\n        name: '2'\n      }];\n      this.checkbox = new Checkbox(this.fixture, this.rl);\n      this.checkbox.run().then(answer => {\n        expect(answer.length).to.equal(0);\n        done();\n      });\n      this.rl.emit('line');\n    });","file":"specs/prompts/checkbox.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"disabled can be a function","suites":["`checkbox` prompt","with disabled choices"],"updatePoint":{"line":308,"column":34,"index":8759},"line":308,"code":"    it('disabled can be a function', function () {\n      this.fixture.choices = [{\n        name: 'dis1',\n        disabled(answers) {\n          expect(answers.foo).to.equal('foo');\n          return true;\n        }\n      }];\n      this.checkbox = new Checkbox(this.fixture, this.rl, {\n        foo: 'foo'\n      });\n      const promise = this.checkbox.run();\n      this.rl.emit('line');\n      promise.then(() => {\n        expect(this.rl.output.__raw__).to.contain('- dis1 (Disabled)');\n      });\n    });","file":"specs/prompts/checkbox.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"loops to bottom when too far up","suites":["`checkbox` prompt","going out of boundaries","when loop undefined / true"],"updatePoint":{"line":328,"column":41,"index":9369},"line":328,"code":"      it('loops to bottom when too far up', async function () {\n        const promise = this.checkbox.run();\n        this.rl.input.emit('keypress', null, {\n          name: 'up'\n        });\n        this.rl.input.emit('keypress', null, {\n          name: 'up'\n        });\n        this.rl.input.emit('keypress', ' ', {\n          name: 'space'\n        });\n        this.rl.emit('line');\n        const answer = await promise;\n        expect(answer.length).to.equal(1);\n        expect(answer[0]).to.equal('choice 2');\n      });","file":"specs/prompts/checkbox.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"loops to top when too far down","suites":["`checkbox` prompt","going out of boundaries","when loop undefined / true"],"updatePoint":{"line":344,"column":40,"index":9888},"line":344,"code":"      it('loops to top when too far down', async function () {\n        const promise = this.checkbox.run();\n        this.rl.input.emit('keypress', null, {\n          name: 'down'\n        });\n        this.rl.input.emit('keypress', null, {\n          name: 'down'\n        });\n        this.rl.input.emit('keypress', null, {\n          name: 'down'\n        });\n        this.rl.input.emit('keypress', ' ', {\n          name: 'space'\n        });\n        this.rl.emit('line');\n        const answer = await promise;\n        expect(answer.length).to.equal(1);\n        expect(answer[0]).to.equal('choice 1');\n      });","file":"specs/prompts/checkbox.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"stays at top when too far up","suites":["`checkbox` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":370,"column":38,"index":10692},"line":370,"code":"      it('stays at top when too far up', async function () {\n        const promise = this.checkbox.run();\n        this.rl.input.emit('keypress', null, {\n          name: 'up'\n        });\n        this.rl.input.emit('keypress', null, {\n          name: 'up'\n        });\n        this.rl.input.emit('keypress', ' ', {\n          name: 'space'\n        });\n        this.rl.emit('line');\n        const answer = await promise;\n        expect(answer.length).to.equal(1);\n        expect(answer[0]).to.equal('choice 1');\n      });","file":"specs/prompts/checkbox.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"stays at bottom when too far down","suites":["`checkbox` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":386,"column":43,"index":11214},"line":386,"code":"      it('stays at bottom when too far down', async function () {\n        const promise = this.checkbox.run();\n        this.rl.input.emit('keypress', null, {\n          name: 'down'\n        });\n        this.rl.input.emit('keypress', null, {\n          name: 'down'\n        });\n        this.rl.input.emit('keypress', null, {\n          name: 'down'\n        });\n        this.rl.input.emit('keypress', ' ', {\n          name: 'space'\n        });\n        this.rl.emit('line');\n        const answer = await promise;\n        expect(answer.length).to.equal(1);\n        expect(answer[0]).to.equal('choice 3');\n      });","file":"specs/prompts/checkbox.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should default to true","suites":["`confirm` prompt"],"updatePoint":{"line":16,"column":28,"index":507},"line":16,"code":"  it('should default to true', function (done) {\n    this.confirm.run().then(answer => {\n      expect(this.rl.output.__raw__).to.contain('Y/n');\n      expect(answer).to.equal(true);\n      done();\n    });\n    this.rl.emit('line', '');\n  });","file":"specs/prompts/confirm.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow a default `false` value","suites":["`confirm` prompt"],"updatePoint":{"line":24,"column":42,"index":761},"line":24,"code":"  it('should allow a default `false` value', function (done) {\n    this.fixture.default = false;\n    const falseConfirm = new Confirm(this.fixture, this.rl);\n    falseConfirm.run().then(answer => {\n      expect(this.rl.output.__raw__).to.contain('y/N');\n      expect(answer).to.equal(false);\n      done();\n    });\n    this.rl.emit('line', '');\n  });","file":"specs/prompts/confirm.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow a default `true` value","suites":["`confirm` prompt"],"updatePoint":{"line":34,"column":41,"index":1110},"line":34,"code":"  it('should allow a default `true` value', function (done) {\n    this.fixture.default = true;\n    const falseConfirm = new Confirm(this.fixture, this.rl);\n    falseConfirm.run().then(answer => {\n      expect(this.rl.output.__raw__).to.contain('Y/n');\n      expect(answer).to.equal(true);\n      done();\n    });\n    this.rl.emit('line', '');\n  });","file":"specs/prompts/confirm.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse 'Y' value to boolean true","suites":["`confirm` prompt"],"updatePoint":{"line":44,"column":44,"index":1460},"line":44,"code":"  it(\"should parse 'Y' value to boolean true\", function (done) {\n    this.confirm.run().then(answer => {\n      expect(answer).to.equal(true);\n      done();\n    });\n    this.rl.emit('line', 'Y');\n  });","file":"specs/prompts/confirm.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse 'Yes' value to boolean true","suites":["`confirm` prompt"],"updatePoint":{"line":51,"column":46,"index":1663},"line":51,"code":"  it(\"should parse 'Yes' value to boolean true\", function (done) {\n    this.confirm.run().then(answer => {\n      expect(answer).to.equal(true);\n      done();\n    });\n    this.rl.emit('line', 'Yes');\n  });","file":"specs/prompts/confirm.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse 'No' value to boolean false","suites":["`confirm` prompt"],"updatePoint":{"line":58,"column":46,"index":1868},"line":58,"code":"  it(\"should parse 'No' value to boolean false\", function (done) {\n    this.confirm.run().then(answer => {\n      expect(answer).to.equal(false);\n      done();\n    });\n    this.rl.emit('line', 'No');\n  });","file":"specs/prompts/confirm.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse every other string value to boolean false","suites":["`confirm` prompt"],"updatePoint":{"line":65,"column":60,"index":2087},"line":65,"code":"  it('should parse every other string value to boolean false', function (done) {\n    this.confirm.run().then(answer => {\n      expect(answer).to.equal(false);\n      done();\n    });\n    this.rl.emit('line', 'bla bla foo');\n  });","file":"specs/prompts/confirm.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should retrieve temporary files contents","suites":["`editor` prompt"],"updatePoint":{"line":18,"column":46,"index":621},"line":18,"code":"  it('should retrieve temporary files contents', function () {\n    const prompt = new Editor(this.fixture, this.rl);\n    const promise = prompt.run();\n    this.rl.emit('line', '');\n    return promise.then(answer => expect(answer).to.equal('testing'));\n  });","file":"specs/prompts/editor.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should open editor without waiting for the user to press enter","suites":["`editor` prompt"],"updatePoint":{"line":24,"column":68,"index":901},"line":24,"code":"  it('should open editor without waiting for the user to press enter', function () {\n    this.fixture.waitUserInput = false;\n    const prompt = new Editor(this.fixture, this.rl);\n    const promise = prompt.run();\n    return promise.then(answer => expect(answer).to.equal('testing'));\n  });","file":"specs/prompts/editor.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should throw if `key` is missing","suites":["`expand` prompt"],"updatePoint":{"line":13,"column":38,"index":436},"line":13,"code":"  it('should throw if `key` is missing', function () {\n    expect(() => {\n      this.fixture.choices = ['a', 'a'];\n      return new Expand(this.fixture, this.rl);\n    }).to.throw(/Format error/);\n  });","file":"specs/prompts/expand.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should throw if `key` is duplicate","suites":["`expand` prompt"],"updatePoint":{"line":19,"column":40,"index":640},"line":19,"code":"  it('should throw if `key` is duplicate', function () {\n    expect(() => {\n      this.fixture.choices = [{\n        key: 'a',\n        name: 'foo'\n      }, {\n        key: 'a',\n        name: 'foo'\n      }];\n      return new Expand(this.fixture, this.rl);\n    }).to.throw(/Duplicate key error/);\n  });","file":"specs/prompts/expand.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should throw if `key` is duplicate case insensitive","suites":["`expand` prompt"],"updatePoint":{"line":31,"column":57,"index":956},"line":31,"code":"  it('should throw if `key` is duplicate case insensitive', function () {\n    expect(() => {\n      this.fixture.choices = [{\n        key: 'a',\n        name: 'foo'\n      }, {\n        key: 'A',\n        name: 'foo'\n      }];\n      return new Expand(this.fixture, this.rl);\n    }).to.throw(/Duplicate key error/);\n  });","file":"specs/prompts/expand.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should throw if `key` is `h`","suites":["`expand` prompt"],"updatePoint":{"line":43,"column":34,"index":1249},"line":43,"code":"  it('should throw if `key` is `h`', function () {\n    expect(() => {\n      this.fixture.choices = [{\n        key: 'h',\n        name: 'foo'\n      }];\n      return new Expand(this.fixture, this.rl);\n    }).to.throw(/Reserved key error/);\n  });","file":"specs/prompts/expand.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow false as a value","suites":["`expand` prompt"],"updatePoint":{"line":52,"column":35,"index":1493},"line":52,"code":"  it('should allow false as a value', function () {\n    const promise = this.expand.run();\n    this.rl.emit('line', 'd');\n    return promise.then(answer => {\n      expect(answer).to.equal(false);\n    });\n  });","file":"specs/prompts/expand.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"pass the value as answer, and display short on the prompt","suites":["`expand` prompt"],"updatePoint":{"line":59,"column":63,"index":1731},"line":59,"code":"  it('pass the value as answer, and display short on the prompt', function () {\n    this.fixture.choices = [{\n      key: 'a',\n      name: 'A Name',\n      value: 'a value',\n      short: 'ShortA'\n    }, {\n      key: 'b',\n      name: 'B Name',\n      value: 'b value',\n      short: 'ShortB'\n    }];\n    const prompt = new Expand(this.fixture, this.rl);\n    const promise = prompt.run();\n    this.rl.emit('line', 'b');\n    return promise.then(answer => {\n      expect(answer).to.equal('b value');\n      expect(this.rl.output.__raw__).to.match(/ShortB/);\n    });\n  });","file":"specs/prompts/expand.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should use a string the `default` value","suites":["`expand` prompt"],"updatePoint":{"line":79,"column":45,"index":2276},"line":79,"code":"  it('should use a string the `default` value', function (done) {\n    this.fixture.default = 'chile';\n    this.expand = new Expand(this.fixture, this.rl);\n    this.expand.run().then(answer => {\n      expect(answer).to.equal('chile');\n      done();\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/expand.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should use the `default` argument value","suites":["`expand` prompt"],"updatePoint":{"line":88,"column":45,"index":2564},"line":88,"code":"  it('should use the `default` argument value', function (done) {\n    this.fixture.default = 1;\n    this.expand = new Expand(this.fixture, this.rl);\n    this.expand.run().then(answer => {\n      expect(answer).to.equal('bar');\n      done();\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/expand.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should return the user input","suites":["`expand` prompt"],"updatePoint":{"line":97,"column":34,"index":2833},"line":97,"code":"  it('should return the user input', function (done) {\n    this.expand.run().then(answer => {\n      expect(answer).to.equal('bar');\n      done();\n    });\n    this.rl.emit('line', 'b');\n  });","file":"specs/prompts/expand.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should strip the user input","suites":["`expand` prompt"],"updatePoint":{"line":104,"column":33,"index":3023},"line":104,"code":"  it('should strip the user input', function (done) {\n    this.expand.run().then(answer => {\n      expect(answer).to.equal('bar');\n      done();\n    });\n    this.rl.emit('line', ' b ');\n  });","file":"specs/prompts/expand.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should have help option","suites":["`expand` prompt"],"updatePoint":{"line":111,"column":29,"index":3211},"line":111,"code":"  it('should have help option', function (done) {\n    this.expand.run().then(answer => {\n      expect(this.rl.output.__raw__).to.match(/a\\) acab/);\n      expect(this.rl.output.__raw__).to.match(/b\\) bar/);\n      expect(answer).to.equal('chile');\n      done();\n    });\n    this.rl.emit('line', 'h');\n    this.rl.emit('line', 'c');\n  });","file":"specs/prompts/expand.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should not allow invalid command","suites":["`expand` prompt"],"updatePoint":{"line":121,"column":38,"index":3556},"line":121,"code":"  it('should not allow invalid command', function () {\n    const self = this;\n    const promise = this.expand.run();\n    this.rl.emit('line', 'blah');\n    setTimeout(() => {\n      self.rl.emit('line', 'a');\n    }, 10);\n    return promise;\n  });","file":"specs/prompts/expand.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should display and capitalize the default choice `key`","suites":["`expand` prompt"],"updatePoint":{"line":130,"column":60,"index":3823},"line":130,"code":"  it('should display and capitalize the default choice `key`', function () {\n    this.fixture.default = 1;\n    this.expand = new Expand(this.fixture, this.rl);\n    this.expand.run();\n    expect(this.rl.output.__raw__).to.contain('(aBcdh)');\n  });","file":"specs/prompts/expand.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should display and capitalize the default choice by name value","suites":["`expand` prompt"],"updatePoint":{"line":136,"column":68,"index":4078},"line":136,"code":"  it('should display and capitalize the default choice by name value', function () {\n    this.fixture.default = 'chile';\n    this.expand = new Expand(this.fixture, this.rl);\n    this.expand.run();\n    expect(this.rl.output.__raw__).to.contain('(abCdh)');\n  });","file":"specs/prompts/expand.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should display and capitalize the default choice H (Help) `key` if no string default matched","suites":["`expand` prompt"],"updatePoint":{"line":142,"column":98,"index":4369},"line":142,"code":"  it('should display and capitalize the default choice H (Help) `key` if no string default matched', function () {\n    this.fixture.default = 'chile!';\n    this.expand = new Expand(this.fixture, this.rl);\n    this.expand.run();\n    expect(this.rl.output.__raw__).to.contain('(abcdH)');\n  });","file":"specs/prompts/expand.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should display and capitalize the default choice H (Help) `key` if none provided","suites":["`expand` prompt"],"updatePoint":{"line":148,"column":86,"index":4649},"line":148,"code":"  it('should display and capitalize the default choice H (Help) `key` if none provided', function () {\n    delete this.fixture.default;\n    this.expand = new Expand(this.fixture, this.rl);\n    this.expand.run();\n    expect(this.rl.output.__raw__).to.contain('(abcdH)');\n  });","file":"specs/prompts/expand.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should 'autocomplete' the user input","suites":["`expand` prompt"],"updatePoint":{"line":154,"column":42,"index":4881},"line":154,"code":"  it(\"should 'autocomplete' the user input\", function (done) {\n    this.expand = new Expand(this.fixture, this.rl);\n    this.expand.run();\n    this.rl.line = 'a';\n    this.rl.emit('keypress');\n    setTimeout(() => {\n      expect(this.rl.output.__raw__).to.contain('acab');\n      done();\n    }, 10);\n  });","file":"specs/prompts/expand.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should use raw value from the user","suites":["`input` prompt"],"updatePoint":{"line":14,"column":40,"index":447},"line":14,"code":"  it('should use raw value from the user', function (done) {\n    const input = new Input(this.fixture, this.rl);\n    input.run().then(answer => {\n      expect(answer).to.equal('Inquirer');\n      done();\n    });\n    this.rl.emit('line', 'Inquirer');\n  });","file":"specs/prompts/input.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should output filtered value","suites":["`input` prompt"],"updatePoint":{"line":22,"column":34,"index":696},"line":22,"code":"  it('should output filtered value', function () {\n    this.fixture.filter = function () {\n      return 'pass';\n    };\n    const prompt = new Input(this.fixture, this.rl);\n    const promise = prompt.run();\n    this.rl.emit('line', '');\n    return promise.then(() => {\n      expect(this.rl.output.__raw__).to.contain('pass');\n    });\n  });","file":"specs/prompts/input.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should apply the provided transform to the value","suites":["`input` prompt"],"updatePoint":{"line":33,"column":54,"index":1055},"line":33,"code":"  it('should apply the provided transform to the value', function (done) {\n    this.fixture.transformer = function (value) {\n      return value.split('').reverse().join('');\n    };\n    const prompt = new Input(this.fixture, this.rl);\n    prompt.run();\n    this.rl.line = 'Inquirer';\n    this.rl.input.emit('keypress');\n    setTimeout(() => {\n      expect(this.rl.output.__raw__).to.contain('reriuqnI');\n      done();\n    }, 10);\n  });","file":"specs/prompts/input.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should use the answers object in the provided transformer","suites":["`input` prompt"],"updatePoint":{"line":46,"column":63,"index":1499},"line":46,"code":"  it('should use the answers object in the provided transformer', function (done) {\n    this.fixture.transformer = function (value, answers) {\n      return answers.capitalize ? value.toUpperCase() : value;\n    };\n    const answers = {\n      capitalize: true\n    };\n    const prompt = new Input(this.fixture, this.rl, answers);\n    prompt.run();\n    this.rl.line = 'inquirer';\n    this.rl.input.emit('keypress');\n    setTimeout(() => {\n      expect(this.rl.output.__raw__).to.contain('INQUIRER');\n      done();\n    }, 200);\n  });","file":"specs/prompts/input.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should use the flags object in the provided transformer","suites":["`input` prompt"],"updatePoint":{"line":62,"column":61,"index":2026},"line":62,"code":"  it('should use the flags object in the provided transformer', function (done) {\n    this.fixture.transformer = function (value, answers, flags) {\n      const text = answers.capitalize ? value.toUpperCase() : value;\n      if (flags.isFinal) return text + '!';\n      return text;\n    };\n    const answers = {\n      capitalize: true\n    };\n    const prompt = new Input(this.fixture, this.rl, answers);\n    prompt.run();\n    this.rl.line = 'inquirer';\n    this.rl.input.emit('keypress');\n    setTimeout(() => {\n      expect(this.rl.output.__raw__).to.contain('INQUIRER');\n      done();\n    }, 200);\n  });","file":"specs/prompts/input.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should clear default on input","suites":["`input` prompt"],"updatePoint":{"line":80,"column":35,"index":2603},"line":80,"code":"  it('should clear default on input', function (done) {\n    const defaultValue = 'default-string';\n    const input = new Input({\n      ...this.fixture,\n      default: defaultValue\n    }, this.rl);\n    input.run();\n    this.rl.line = 'inquirer';\n    this.rl.input.emit('keypress');\n    setTimeout(() => {\n      expect(this.rl.output.__raw__).to.have.entriesCount(defaultValue, 1);\n      done();\n    }, 200);\n  });","file":"specs/prompts/input.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should default to first choice","suites":["`list` prompt"],"updatePoint":{"line":14,"column":36,"index":449},"line":14,"code":"  it('should default to first choice', function (done) {\n    this.list.run().then(answer => {\n      expect(answer).to.equal('foo');\n      done();\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/list.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should move selected cursor on keypress","suites":["`list` prompt"],"updatePoint":{"line":21,"column":45,"index":644},"line":21,"code":"  it('should move selected cursor on keypress', function (done) {\n    this.list.run().then(answer => {\n      expect(answer).to.equal('bar');\n      done();\n    });\n    this.rl.input.emit('keypress', '', {\n      name: 'down'\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/list.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow for arrow navigation","suites":["`list` prompt"],"updatePoint":{"line":31,"column":39,"index":901},"line":31,"code":"  it('should allow for arrow navigation', function (done) {\n    this.list.run().then(answer => {\n      expect(answer).to.equal('bar');\n      done();\n    });\n    this.rl.input.emit('keypress', '', {\n      name: 'down'\n    });\n    this.rl.input.emit('keypress', '', {\n      name: 'down'\n    });\n    this.rl.input.emit('keypress', '', {\n      name: 'up'\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/list.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow for vi-style navigation","suites":["`list` prompt"],"updatePoint":{"line":47,"column":42,"index":1295},"line":47,"code":"  it('should allow for vi-style navigation', function (done) {\n    this.list.run().then(answer => {\n      expect(answer).to.equal('bar');\n      done();\n    });\n    this.rl.input.emit('keypress', 'j', {\n      name: 'j'\n    });\n    this.rl.input.emit('keypress', 'j', {\n      name: 'j'\n    });\n    this.rl.input.emit('keypress', 'k', {\n      name: 'k'\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/list.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow for emacs-style navigation","suites":["`list` prompt"],"updatePoint":{"line":63,"column":45,"index":1688},"line":63,"code":"  it('should allow for emacs-style navigation', function (done) {\n    this.list.run().then(answer => {\n      expect(answer).to.equal('bar');\n      done();\n    });\n    this.rl.input.emit('keypress', 'n', {\n      name: 'n',\n      ctrl: true\n    });\n    this.rl.input.emit('keypress', 'n', {\n      name: 'n',\n      ctrl: true\n    });\n    this.rl.input.emit('keypress', 'p', {\n      name: 'p',\n      ctrl: true\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/list.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"loops to bottom when too far up","suites":["`list` prompt","going out of boundaries","when loop undefined / true"],"updatePoint":{"line":94,"column":41,"index":2485},"line":94,"code":"      it('loops to bottom when too far up', async function () {\n        const promise = this.list.run();\n        this.pressKey('up', 2);\n        const answer = await promise;\n        expect(answer).to.equal('bar');\n      });","file":"specs/prompts/list.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"loops to top when too far down","suites":["`list` prompt","going out of boundaries","when loop undefined / true"],"updatePoint":{"line":100,"column":40,"index":2709},"line":100,"code":"      it('loops to top when too far down', async function () {\n        const promise = this.list.run();\n        this.pressKey('down', 3);\n        const answer = await promise;\n        expect(answer).to.equal('foo');\n      });","file":"specs/prompts/list.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"stays at top when too far up","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":113,"column":38,"index":3126},"line":113,"code":"      it('stays at top when too far up', async function () {\n        const promise = this.list.run();\n        this.pressKey('up', 2);\n        const answer = await promise;\n        expect(answer).to.equal('foo');\n      });","file":"specs/prompts/list.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"stays at bottom when too far down","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":119,"column":43,"index":3353},"line":119,"code":"      it('stays at bottom when too far down', async function () {\n        const promise = this.list.run();\n        this.pressKey('down', 3);\n        const answer = await promise;\n        expect(answer).to.equal('bum');\n      });","file":"specs/prompts/list.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should require a choices array","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":127,"column":36,"index":3589},"line":127,"code":"  it('should require a choices array', () => {\n    expect(() => new List({\n      name: 'foo',\n      message: 'bar'\n    })).to.throw(/choices/);\n  });","file":"specs/prompts/list.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow a numeric default","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":133,"column":36,"index":3739},"line":133,"code":"  it('should allow a numeric default', function (done) {\n    this.fixture.default = 1;\n    const list = new List(this.fixture, this.rl);\n    list.run().then(answer => {\n      expect(answer).to.equal('bar');\n      done();\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/list.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should work from a numeric default being the index","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":142,"column":56,"index":4020},"line":142,"code":"  it('should work from a numeric default being the index', function (done) {\n    this.fixture.default = 1;\n    const list = new List(this.fixture, this.rl);\n    list.run().then(answer => {\n      expect(answer).to.equal('bum');\n      done();\n    });\n    this.rl.input.emit('keypress', '', {\n      name: 'down'\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/list.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow a string default being the value","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":154,"column":51,"index":4364},"line":154,"code":"  it('should allow a string default being the value', function (done) {\n    this.fixture.default = 'bar';\n    const list = new List(this.fixture, this.rl);\n    list.run().then(answer => {\n      expect(answer).to.equal('bar');\n      done();\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/list.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should work from a string default","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":163,"column":39,"index":4632},"line":163,"code":"  it('should work from a string default', function (done) {\n    this.fixture.default = 'bar';\n    const list = new List(this.fixture, this.rl);\n    list.run().then(answer => {\n      expect(answer).to.equal('bum');\n      done();\n    });\n    this.rl.input.emit('keypress', '', {\n      name: 'down'\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/list.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"shouldn't allow an invalid string default to change position","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":175,"column":66,"index":4995},"line":175,"code":"  it(\"shouldn't allow an invalid string default to change position\", function (done) {\n    this.fixture.default = 'babar';\n    const list = new List(this.fixture, this.rl);\n    list.run().then(answer => {\n      expect(answer).to.equal('foo');\n      done();\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/list.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"shouldn't allow an invalid index as default","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":184,"column":49,"index":5275},"line":184,"code":"  it(\"shouldn't allow an invalid index as default\", function (done) {\n    this.fixture.default = 4;\n    const list = new List(this.fixture, this.rl);\n    list.run().then(answer => {\n      expect(answer).to.equal('foo');\n      done();\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/list.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow 1-9 shortcut key","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":193,"column":35,"index":5535},"line":193,"code":"  it('should allow 1-9 shortcut key', function (done) {\n    this.list.run().then(answer => {\n      expect(answer).to.equal('bar');\n      done();\n    });\n    this.rl.input.emit('keypress', '2');\n    this.rl.emit('line');\n  });","file":"specs/prompts/list.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"pagination works with multiline choices","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":201,"column":45,"index":5771},"line":201,"code":"  it('pagination works with multiline choices', function (done) {\n    const multilineFixture = {\n      message: 'message',\n      name: 'name',\n      choices: ['a\\n\\n', 'b\\n\\n']\n    };\n    const list = new List(multilineFixture, this.rl);\n    const spy = sinon.spy(list.paginator, 'paginate');\n    list.run().then(answer => {\n      const realIndexPosition1 = spy.firstCall.args[1];\n      const realIndexPosition2 = spy.secondCall.args[1];\n\n      // 'a\\n\\n': 0th index, but pagination at 2nd index position due to 2 extra newlines\n      expect(realIndexPosition1).to.equal(2);\n      // 'b\\n\\n': 1st index, but pagination at 5th index position due to 4 extra newlines\n      expect(realIndexPosition2).to.equal(5);\n      expect(answer).to.equal('b\\n\\n');\n      done();\n    });\n    this.rl.input.emit('keypress', '', {\n      name: 'down'\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/list.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"paginator uses non infinite version with loop:false","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":225,"column":57,"index":6656},"line":225,"code":"  it('paginator uses non infinite version with loop:false', function () {\n    const list = new List({\n      name: 'numbers',\n      choices: [1, 2, 3],\n      loop: false\n    }, this.rl);\n    expect(list.paginator.isInfinite).equal(false);\n  });","file":"specs/prompts/list.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should provide answers in the \"filter\" callback option","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":233,"column":60,"index":6903},"line":233,"code":"  it('should provide answers in the \"filter\" callback option', function (done) {\n    const answers = {};\n    this.fixture.filter = function () {\n      return true;\n    };\n    sinon.spy(this.fixture, 'filter');\n    const list = new List(this.fixture, this.rl, answers);\n    list.run().then(() => {\n      const spyCall = this.fixture.filter.getCall(0);\n      expect(spyCall.args[1]).to.equal(answers);\n      done();\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/list.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse the largest number","suites":["`number` prompt"],"updatePoint":{"line":14,"column":37,"index":479},"line":14,"code":"  it('should parse the largest number', function (done) {\n    this.number.run().then(answer => {\n      expect(answer).to.equal(Number.MAX_SAFE_INTEGER);\n      done();\n    });\n    this.rl.emit('line', String(Number.MAX_SAFE_INTEGER));\n  });","file":"specs/prompts/number.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse the smallest number","suites":["`number` prompt"],"updatePoint":{"line":21,"column":38,"index":720},"line":21,"code":"  it('should parse the smallest number', function (done) {\n    this.number.run().then(answer => {\n      expect(answer).to.equal(Number.MIN_SAFE_INTEGER);\n      done();\n    });\n    this.rl.emit('line', String(Number.MIN_SAFE_INTEGER));\n  });","file":"specs/prompts/number.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse an integer","suites":["`number` prompt"],"updatePoint":{"line":28,"column":29,"index":952},"line":28,"code":"  it('should parse an integer', function (done) {\n    this.number.run().then(answer => {\n      expect(answer).to.equal(42);\n      done();\n    });\n    this.rl.emit('line', '42');\n  });","file":"specs/prompts/number.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse a negative integer","suites":["`number` prompt"],"updatePoint":{"line":35,"column":37,"index":1144},"line":35,"code":"  it('should parse a negative integer', function (done) {\n    this.number.run().then(answer => {\n      expect(answer).to.equal(-363);\n      done();\n    });\n    this.rl.emit('line', '-363');\n  });","file":"specs/prompts/number.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse a positive float","suites":["`number` prompt"],"updatePoint":{"line":42,"column":35,"index":1338},"line":42,"code":"  it('should parse a positive float', function (done) {\n    this.number.run().then(answer => {\n      expect(answer).to.be.closeTo(4353.43, ACCEPTABLE_ERROR);\n      done();\n    });\n    this.rl.emit('line', '4353.43');\n  });","file":"specs/prompts/number.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse a negative float","suites":["`number` prompt"],"updatePoint":{"line":49,"column":35,"index":1561},"line":49,"code":"  it('should parse a negative float', function (done) {\n    this.number.run().then(answer => {\n      expect(answer).to.be.closeTo(-4353.43, ACCEPTABLE_ERROR);\n      done();\n    });\n    this.rl.emit('line', '-4353.43');\n  });","file":"specs/prompts/number.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse a float with no digits before the decimal","suites":["`number` prompt"],"updatePoint":{"line":56,"column":60,"index":1811},"line":56,"code":"  it('should parse a float with no digits before the decimal', function (done) {\n    this.number.run().then(answer => {\n      expect(answer).to.be.closeTo(0.01264, ACCEPTABLE_ERROR);\n      done();\n    });\n    this.rl.emit('line', '.01264');\n  });","file":"specs/prompts/number.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse a float with no digits after the decimal","suites":["`number` prompt"],"updatePoint":{"line":63,"column":59,"index":2057},"line":63,"code":"  it('should parse a float with no digits after the decimal', function (done) {\n    this.number.run().then(answer => {\n      expect(answer).to.be.closeTo(1234.0, ACCEPTABLE_ERROR);\n      done();\n    });\n    this.rl.emit('line', '1234.');\n  });","file":"specs/prompts/number.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse a float with exponents","suites":["`number` prompt"],"updatePoint":{"line":70,"column":41,"index":2283},"line":70,"code":"  it('should parse a float with exponents', function (done) {\n    this.number.run().then(answer => {\n      expect(answer).to.be.closeTo(534e12, ACCEPTABLE_ERROR);\n      done();\n    });\n    this.rl.emit('line', '534e12');\n  });","file":"specs/prompts/number.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse any other string as NaN","suites":["`number` prompt"],"updatePoint":{"line":77,"column":42,"index":2511},"line":77,"code":"  it('should parse any other string as NaN', function (done) {\n    this.number.run().then(answer => {\n      expect(answer).to.be.NaN; // eslint-disable-line no-unused-expressions\n      done();\n    });\n    this.rl.emit('line', 'The cat');\n  });","file":"specs/prompts/number.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse the empty string as NaN","suites":["`number` prompt"],"updatePoint":{"line":84,"column":42,"index":2755},"line":84,"code":"  it('should parse the empty string as NaN', function (done) {\n    this.number.run().then(answer => {\n      expect(answer).to.be.NaN; // eslint-disable-line no-unused-expressions\n      done();\n    });\n    this.rl.emit('line', '');\n  });","file":"specs/prompts/number.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should return default value if it is set on a bad input","suites":["`number` prompt"],"updatePoint":{"line":91,"column":61,"index":3011},"line":91,"code":"  it('should return default value if it is set on a bad input', function (done) {\n    this.number.opt.default = 11;\n    this.number.run().then(answer => {\n      expect(answer).to.equal(11);\n      done();\n    });\n    this.rl.input.emit('keypress', 'a', {\n      name: 'a'\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/number.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should use raw value from the user without masking","suites":["`password` prompt"],"updatePoint":{"line":24,"column":56,"index":737},"line":24,"code":"  it('should use raw value from the user without masking', function () {\n    const password = new Password(this.fixture, this.rl);\n    const promise = password.run().then(testMasking(this.rl, false));\n    this.rl.emit('line', 'Inquirer');\n    return promise;\n  });","file":"specs/prompts/password.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should mask the input with \"*\" if the `mask` option was provided by the user was `true`","suites":["`password` prompt"],"updatePoint":{"line":30,"column":93,"index":1039},"line":30,"code":"  it('should mask the input with \"*\" if the `mask` option was provided by the user was `true`', function () {\n    this.fixture.mask = true;\n    const password = new Password(this.fixture, this.rl);\n    const promise = password.run().then(testMasking(this.rl, '********'));\n    this.rl.emit('line', 'Inquirer');\n    return promise;\n  });","file":"specs/prompts/password.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should mask the input if a `mask` string was provided by the user","suites":["`password` prompt"],"updatePoint":{"line":37,"column":71,"index":1354},"line":37,"code":"  it('should mask the input if a `mask` string was provided by the user', function () {\n    this.fixture.mask = '#';\n    const password = new Password(this.fixture, this.rl);\n    const promise = password.run().then(testMasking(this.rl, '########'));\n    this.rl.emit('line', 'Inquirer');\n    return promise;\n  });","file":"specs/prompts/password.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"Preserves default","suites":["`password` prompt"],"updatePoint":{"line":44,"column":23,"index":1620},"line":44,"code":"  it('Preserves default', function () {\n    this.fixture.default = 'Inquirer';\n    const password = new Password(this.fixture, this.rl);\n    const promise = password.run().then(answer => expect(answer).to.equal('Inquirer'));\n    this.rl.emit('line', '');\n    return promise;\n  });","file":"specs/prompts/password.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"Clears default on keypress","suites":["`password` prompt"],"updatePoint":{"line":51,"column":32,"index":1910},"line":51,"code":"  it('Clears default on keypress', function () {\n    this.fixture.default = 'Inquirer';\n    const password = new Password(this.fixture, this.rl);\n    const promise = password.run().then(answer => expect(answer).to.equal(''));\n    password.onKeypress({\n      name: 'backspace'\n    });\n    this.rl.emit('line', '');\n    return promise;\n  });","file":"specs/prompts/password.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should not display input during async validation","suites":["`password` prompt"],"updatePoint":{"line":63,"column":54,"index":2336},"line":63,"code":"  it('should not display input during async validation', function () {\n    let output = '';\n    let renderCount = 0;\n    this.fixture.validate = () => new Promise(resolve => {\n      const id = setInterval(() => {\n        // Make sure we render at least once.\n        if (renderCount > 1) {\n          clearInterval(id);\n          resolve(true);\n        }\n      }, 10);\n    });\n    const password = new Password(this.fixture, this.rl);\n    const input = 'wvAq82yVujm5S9pf';\n\n    // Override screen.render to capture all output\n    const {\n      screen\n    } = password;\n    const {\n      render\n    } = screen;\n    screen.render = (...args) => {\n      output += stripAnsi(args.join(''));\n      renderCount += 1;\n      return render.call(screen, ...args);\n    };\n\n    /* This test should fail if you uncomment this line: */\n    // password.getSpinningValue = (value) => value;\n\n    const promise = password.run().then(answer => {\n      expect(output).to.not.contain(input);\n      expect(answer).to.equal(input);\n    });\n    this.rl.emit('line', input);\n    return promise;\n  });","file":"specs/prompts/password.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should default to first choice","suites":["`rawlist` prompt"],"updatePoint":{"line":13,"column":36,"index":440},"line":13,"code":"  it('should default to first choice', function (done) {\n    this.rawlist.run().then(answer => {\n      expect(answer).to.equal('foo');\n      done();\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/rawlist.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should select given index","suites":["`rawlist` prompt"],"updatePoint":{"line":20,"column":31,"index":624},"line":20,"code":"  it('should select given index', function (done) {\n    this.rawlist.run().then(answer => {\n      expect(answer).to.equal('bar');\n      done();\n    });\n    this.rl.emit('line', '2');\n  });","file":"specs/prompts/rawlist.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should not allow invalid index","suites":["`rawlist` prompt"],"updatePoint":{"line":27,"column":36,"index":818},"line":27,"code":"  it('should not allow invalid index', function () {\n    const self = this;\n    const promise = this.rawlist.run();\n    this.rl.emit('line', 'blah');\n    setTimeout(() => {\n      self.rl.emit('line', '1');\n    }, 10);\n    return promise;\n  });","file":"specs/prompts/rawlist.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should require a choices array","suites":["`rawlist` prompt"],"updatePoint":{"line":36,"column":36,"index":1062},"line":36,"code":"  it('should require a choices array', () => {\n    const mkPrompt = function () {\n      return new Rawlist({\n        name: 'foo',\n        message: 'bar'\n      });\n    };\n    expect(mkPrompt).to.throw(/choices/);\n  });","file":"specs/prompts/rawlist.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow a default index","suites":["`rawlist` prompt"],"updatePoint":{"line":45,"column":34,"index":1278},"line":45,"code":"  it('should allow a default index', function (done) {\n    this.fixture.default = 1;\n    const list = new Rawlist(this.fixture, this.rl);\n    list.run().then(answer => {\n      expect(answer).to.equal('bar');\n      done();\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/rawlist.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"shouldn't allow an invalid index as default","suites":["`rawlist` prompt"],"updatePoint":{"line":54,"column":49,"index":1555},"line":54,"code":"  it(\"shouldn't allow an invalid index as default\", function (done) {\n    this.fixture.default = 4;\n    const list = new Rawlist(this.fixture, this.rl);\n    list.run().then(answer => {\n      expect(answer).to.equal('foo');\n      done();\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/rawlist.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow string default being the value","suites":["`rawlist` prompt"],"updatePoint":{"line":63,"column":49,"index":1832},"line":63,"code":"  it('should allow string default being the value', function (done) {\n    this.fixture.default = 'bum';\n    const list = new Rawlist(this.fixture, this.rl);\n    list.run().then(answer => {\n      expect(answer).to.equal('bum');\n      done();\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/rawlist.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"shouldn't allow an invalid string default to change position","suites":["`rawlist` prompt"],"updatePoint":{"line":72,"column":66,"index":2130},"line":72,"code":"  it(\"shouldn't allow an invalid string default to change position\", function (done) {\n    this.fixture.default = 'bumby';\n    const list = new Rawlist(this.fixture, this.rl);\n    list.run().then(answer => {\n      expect(answer).to.equal('foo');\n      done();\n    });\n    this.rl.emit('line');\n  });","file":"specs/prompts/rawlist.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow for arrow navigation","suites":["`rawlist` prompt"],"updatePoint":{"line":81,"column":39,"index":2403},"line":81,"code":"  it('should allow for arrow navigation', function (done) {\n    this.rawlist.run().then(answer => {\n      expect(answer).to.equal('bar');\n      done();\n    });\n    this.rl.input.emit('keypress', '', {\n      name: 'down'\n    });\n    this.rl.input.emit('keypress', '', {\n      name: 'down'\n    });\n    this.rl.input.emit('keypress', '', {\n      name: 'up'\n    });\n    this.rl.emit('line', this.rl.line);\n  });","file":"specs/prompts/rawlist.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow for arrow navigation after invalid input","suites":["`rawlist` prompt"],"updatePoint":{"line":97,"column":59,"index":2831},"line":97,"code":"  it('should allow for arrow navigation after invalid input', function (done) {\n    this.rawlist.run().then(answer => {\n      expect(answer).to.equal('bar');\n      done();\n    }).catch(done);\n    this.rl.emit('line', 'blah');\n    this.rl.input.emit('keypress', '', {\n      name: 'down'\n    });\n    this.rl.input.emit('keypress', '', {\n      name: 'down'\n    });\n    this.rl.input.emit('keypress', '', {\n      name: 'up'\n    });\n    this.rl.emit('line', this.rl.line);\n  });","file":"specs/prompts/rawlist.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"loops to bottom when too far up","suites":["`rawlist` prompt","going out of boundaries","when loop undefined / true"],"updatePoint":{"line":126,"column":41,"index":3655},"line":126,"code":"      it('loops to bottom when too far up', async function () {\n        const promise = this.rawlist.run();\n        this.pressKey('up', 2);\n        const answer = await promise;\n        expect(answer).to.equal('bar');\n      });","file":"specs/prompts/rawlist.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"loops to top when too far down","suites":["`rawlist` prompt","going out of boundaries","when loop undefined / true"],"updatePoint":{"line":132,"column":40,"index":3882},"line":132,"code":"      it('loops to top when too far down', async function () {\n        const promise = this.rawlist.run();\n        this.pressKey('down', 3);\n        const answer = await promise;\n        expect(answer).to.equal('foo');\n      });","file":"specs/prompts/rawlist.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"stays at top when too far up","suites":["`rawlist` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":145,"column":38,"index":4308},"line":145,"code":"      it('stays at top when too far up', async function () {\n        const promise = this.rawlist.run();\n        this.pressKey('up', 2);\n        const answer = await promise;\n        expect(answer).to.equal('foo');\n      });","file":"specs/prompts/rawlist.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"stays at bottom when too far down","suites":["`rawlist` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":151,"column":43,"index":4538},"line":151,"code":"      it('stays at bottom when too far down', async function () {\n        const promise = this.rawlist.run();\n        this.pressKey('down', 3);\n        const answer = await promise;\n        expect(answer).to.equal('bum');\n      });","file":"specs/prompts/rawlist.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"does nothing if output is smaller than page size","suites":["paginator"],"updatePoint":{"line":46,"column":54,"index":722},"line":46,"code":"  it('does nothing if output is smaller than page size', function () {\n    expect(this.paginator.paginate(output, 0, endIndex + 1)).equal(output);\n  });","file":"specs/utils/paginator.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"paginate returns slice of lines","suites":["paginator"],"updatePoint":{"line":49,"column":37,"index":858},"line":49,"code":"  it('paginate returns slice of lines', function () {\n    expect(getPage(this.paginator, 0)).equal(`\\\na\nb\nc`);\n  });","file":"specs/utils/paginator.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"slice has offset after later pages are rendered","suites":["paginator"],"updatePoint":{"line":55,"column":53,"index":991},"line":55,"code":"  it('slice has offset after later pages are rendered', function () {\n    expect(getPage(this.paginator, 0)).equal(`\\\na\nb\nc`);\n    expect(getPage(this.paginator, 1)).equal(`\\\na\nb\nc`);\n    expect(getPage(this.paginator, 2)).equal(`\\\nb\nc\nd`);\n  });","file":"specs/utils/paginator.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"slice offset does not reset","suites":["paginator"],"updatePoint":{"line":69,"column":33,"index":1218},"line":69,"code":"  it('slice offset does not reset', function () {\n    expect(getPage(this.paginator, 2));\n    expect(getPage(this.paginator, 0)).equal(`\\\nz\na\nb`);\n  });","file":"specs/utils/paginator.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"shows start for as long as possible","suites":["paginator","non infinite mode"],"updatePoint":{"line":82,"column":43,"index":1544},"line":82,"code":"    it('shows start for as long as possible', function () {\n      expect(getPage(this.paginator, 0)).equal(`\\\na\nb\nc`);\n      expect(getPage(this.paginator, 1)).equal(`\\\na\nb\nc`);\n      expect(getPage(this.paginator, 2)).equal(`\\\na\nb\nc`);\n      expect(getPage(this.paginator, 3)).equal(`\\\nb\nc\nd`);\n    });","file":"specs/utils/paginator.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"slice offset does reset","suites":["paginator","non infinite mode"],"updatePoint":{"line":100,"column":31,"index":1836},"line":100,"code":"    it('slice offset does reset', function () {\n      getPage(this.paginator, 3);\n      expect(getPage(this.paginator, 0)).equal(`\\\na\nb\nc`);\n    });","file":"specs/utils/paginator.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"aligns end to bottom","suites":["paginator","non infinite mode"],"updatePoint":{"line":107,"column":28,"index":1982},"line":107,"code":"    it('aligns end to bottom', function () {\n      expect(getPage(this.paginator, endIndex - 3)).equal(`\\\nu\nv\nw`);\n      expect(getPage(this.paginator, endIndex - 2)).equal(`\\\nv\nw\nx`);\n      expect(getPage(this.paginator, endIndex - 1)).equal(`\\\nw\nx\ny`);\n      expect(getPage(this.paginator, endIndex)).equal(`\\\nx\ny\nz`);\n    });","file":"specs/utils/paginator.js","skipped":false,"dir":"packages/inquirer/test"}]}