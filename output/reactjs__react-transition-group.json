{"repo":"reactjs/react-transition-group","url":"https://github.com/reactjs/react-transition-group","branch":"master","configs":[{"package":"react-transition-group","lang":"js","dir":"test","framework":"jest","pattern":"**/*[._-]{test,spec,unittest,unit}.{ts,js}"}],"tests":[{"name":"should support getChildMapping","suites":["ChildMapping"],"updatePoint":{"line":8,"column":36,"index":213},"line":8,"code":"  it('should support getChildMapping', () => {\n    let oneone = /*#__PURE__*/React.createElement(\"div\", {\n      key: \"oneone\"\n    });\n    let onetwo = /*#__PURE__*/React.createElement(\"div\", {\n      key: \"onetwo\"\n    });\n    let one = /*#__PURE__*/React.createElement(\"div\", {\n      key: \"one\"\n    }, oneone, onetwo);\n    let two = /*#__PURE__*/React.createElement(\"div\", {\n      key: \"two\"\n    }, \"foo\");\n    let component = /*#__PURE__*/React.createElement(\"div\", null, one, two);\n    let mapping = ChildMapping.getChildMapping(component.props.children);\n    expect(mapping['.$one'].props).toEqual(one.props);\n    expect(mapping['.$two'].props).toEqual(two.props);\n  });","file":"ChildMapping-test.js","skipped":false,"dir":"test"},{"name":"should support mergeChildMappings for adding keys","suites":["ChildMapping"],"updatePoint":{"line":26,"column":55,"index":905},"line":26,"code":"  it('should support mergeChildMappings for adding keys', () => {\n    let prev = {\n      one: true,\n      two: true\n    };\n    let next = {\n      one: true,\n      two: true,\n      three: true\n    };\n    expect(ChildMapping.mergeChildMappings(prev, next)).toEqual({\n      one: true,\n      two: true,\n      three: true\n    });\n  });","file":"ChildMapping-test.js","skipped":false,"dir":"test"},{"name":"should support mergeChildMappings for removing keys","suites":["ChildMapping"],"updatePoint":{"line":42,"column":57,"index":1238},"line":42,"code":"  it('should support mergeChildMappings for removing keys', () => {\n    let prev = {\n      one: true,\n      two: true,\n      three: true\n    };\n    let next = {\n      one: true,\n      two: true\n    };\n    expect(ChildMapping.mergeChildMappings(prev, next)).toEqual({\n      one: true,\n      two: true,\n      three: true\n    });\n  });","file":"ChildMapping-test.js","skipped":false,"dir":"test"},{"name":"should support mergeChildMappings for adding and removing","suites":["ChildMapping"],"updatePoint":{"line":58,"column":63,"index":1577},"line":58,"code":"  it('should support mergeChildMappings for adding and removing', () => {\n    let prev = {\n      one: true,\n      two: true,\n      three: true\n    };\n    let next = {\n      one: true,\n      two: true,\n      four: true\n    };\n    expect(ChildMapping.mergeChildMappings(prev, next)).toEqual({\n      one: true,\n      two: true,\n      three: true,\n      four: true\n    });\n  });","file":"ChildMapping-test.js","skipped":false,"dir":"test"},{"name":"should reconcile overlapping insertions and deletions","suites":["ChildMapping"],"updatePoint":{"line":76,"column":59,"index":1948},"line":76,"code":"  it('should reconcile overlapping insertions and deletions', () => {\n    let prev = {\n      one: true,\n      two: true,\n      four: true,\n      five: true\n    };\n    let next = {\n      one: true,\n      two: true,\n      three: true,\n      five: true\n    };\n    expect(ChildMapping.mergeChildMappings(prev, next)).toEqual({\n      one: true,\n      two: true,\n      three: true,\n      four: true,\n      five: true\n    });\n  });","file":"ChildMapping-test.js","skipped":false,"dir":"test"},{"name":"should support mergeChildMappings with undefined input","suites":["ChildMapping"],"updatePoint":{"line":97,"column":60,"index":2374},"line":97,"code":"  it('should support mergeChildMappings with undefined input', () => {\n    let prev = {\n      one: true,\n      two: true\n    };\n    let next;\n    expect(ChildMapping.mergeChildMappings(prev, next)).toEqual({\n      one: true,\n      two: true\n    });\n    prev = undefined;\n    next = {\n      three: true,\n      four: true\n    };\n    expect(ChildMapping.mergeChildMappings(prev, next)).toEqual({\n      three: true,\n      four: true\n    });\n  });","file":"ChildMapping-test.js","skipped":false,"dir":"test"},{"name":"should flush new props to the DOM before initiating a transition","suites":["CSSTransition"],"updatePoint":{"line":7,"column":70,"index":619},"line":7,"code":"  it('should flush new props to the DOM before initiating a transition', done => {\n    const nodeRef = /*#__PURE__*/React.createRef();\n    const {\n      setProps\n    } = render( /*#__PURE__*/React.createElement(CSSTransition, {\n      in: false,\n      nodeRef: nodeRef,\n      timeout: 0,\n      classNames: \"test\",\n      onEnter: () => {\n        expect(nodeRef.current.classList.contains('test-class')).toEqual(true);\n        expect(nodeRef.current.classList.contains('test-entering')).toEqual(false);\n        done();\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: nodeRef\n    })));\n    expect(nodeRef.current.classList.contains('test-class')).toEqual(false);\n    setProps({\n      in: true,\n      className: 'test-class'\n    });\n  });","file":"CSSTransition-test.js","skipped":false,"dir":"test"},{"name":"should apply classes at each transition state","suites":["CSSTransition","entering"],"updatePoint":{"line":31,"column":53,"index":1387},"line":31,"code":"    it('should apply classes at each transition state', async () => {\n      let count = 0;\n      let done = false;\n      const nodeRef = /*#__PURE__*/React.createRef();\n      const {\n        setProps\n      } = render( /*#__PURE__*/React.createElement(CSSTransition, {\n        nodeRef: nodeRef,\n        timeout: 10,\n        classNames: \"test\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: nodeRef\n      })));\n      setProps({\n        in: true,\n        onEnter() {\n          count++;\n          expect(nodeRef.current.className).toEqual('test-enter');\n        },\n        onEntering() {\n          count++;\n          expect(nodeRef.current.className).toEqual('test-enter test-enter-active');\n        },\n        onEntered() {\n          expect(nodeRef.current.className).toEqual('test-enter-done');\n          expect(count).toEqual(2);\n          done = true;\n        }\n      });\n      await waitFor(() => {\n        expect(done).toBe(true);\n      });\n    });","file":"CSSTransition-test.js","skipped":false,"dir":"test"},{"name":"should apply custom classNames names","suites":["CSSTransition","entering"],"updatePoint":{"line":64,"column":44,"index":2346},"line":64,"code":"    it('should apply custom classNames names', async () => {\n      let count = 0;\n      const nodeRef = /*#__PURE__*/React.createRef();\n      const {\n        setProps\n      } = render( /*#__PURE__*/React.createElement(CSSTransition, {\n        timeout: 10,\n        nodeRef: nodeRef,\n        classNames: {\n          enter: 'custom',\n          enterActive: 'custom-super-active',\n          enterDone: 'custom-super-done'\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: nodeRef\n      })));\n      setProps({\n        in: true,\n        onEnter() {\n          count++;\n          expect(nodeRef.current.className).toEqual('custom');\n        },\n        onEntering() {\n          count++;\n          expect(nodeRef.current.className).toEqual('custom custom-super-active');\n        },\n        onEntered() {\n          expect(nodeRef.current.className).toEqual('custom-super-done');\n        }\n      });\n      await waitFor(() => {\n        expect(count).toEqual(2);\n      });\n    });","file":"CSSTransition-test.js","skipped":false,"dir":"test"},{"name":"should apply appear classes at each transition state","suites":["CSSTransition","appearing"],"updatePoint":{"line":100,"column":60,"index":3392},"line":100,"code":"    it('should apply appear classes at each transition state', async () => {\n      let count = 0;\n      const nodeRef = /*#__PURE__*/React.createRef();\n      render( /*#__PURE__*/React.createElement(CSSTransition, {\n        timeout: 10,\n        nodeRef: nodeRef,\n        classNames: \"appear-test\",\n        in: true,\n        appear: true,\n        onEnter: isAppearing => {\n          count++;\n          expect(isAppearing).toEqual(true);\n          expect(nodeRef.current.className).toEqual('appear-test-appear');\n        },\n        onEntering: isAppearing => {\n          count++;\n          expect(isAppearing).toEqual(true);\n          expect(nodeRef.current.className).toEqual('appear-test-appear appear-test-appear-active');\n        },\n        onEntered: isAppearing => {\n          expect(isAppearing).toEqual(true);\n          expect(nodeRef.current.className).toEqual('appear-test-appear-done appear-test-enter-done');\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: nodeRef\n      })));\n      await waitFor(() => {\n        expect(count).toEqual(2);\n      });\n    });","file":"CSSTransition-test.js","skipped":false,"dir":"test"},{"name":"should lose the \"*-appear-done\" class after leaving and entering again","suites":["CSSTransition","appearing"],"updatePoint":{"line":130,"column":78,"index":4503},"line":130,"code":"    it('should lose the \"*-appear-done\" class after leaving and entering again', async () => {\n      const nodeRef = /*#__PURE__*/React.createRef();\n      let entered = false;\n      let exited = false;\n      const {\n        setProps\n      } = render( /*#__PURE__*/React.createElement(CSSTransition, {\n        timeout: 10,\n        nodeRef: nodeRef,\n        classNames: \"appear-test\",\n        in: true,\n        appear: true,\n        onEntered: () => {\n          entered = true;\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: nodeRef\n      })));\n      await waitFor(() => {\n        expect(entered).toEqual(true);\n      });\n      setProps({\n        in: false,\n        onEntered: () => {},\n        onExited: () => {\n          exited = true;\n        }\n      });\n      await waitFor(() => {\n        expect(exited).toEqual(true);\n      });\n      expect(nodeRef.current.className).toBe('appear-test-exit-done');\n      entered = false;\n      setProps({\n        in: true,\n        onEntered: () => {\n          entered = true;\n        }\n      });\n      await waitFor(() => {\n        expect(entered).toEqual(true);\n      });\n      expect(nodeRef.current.className).toBe('appear-test-enter-done');\n    });","file":"CSSTransition-test.js","skipped":false,"dir":"test"},{"name":"should not add undefined when appearDone is not defined","suites":["CSSTransition","appearing"],"updatePoint":{"line":174,"column":63,"index":5706},"line":174,"code":"    it('should not add undefined when appearDone is not defined', async () => {\n      const nodeRef = /*#__PURE__*/React.createRef();\n      let done = false;\n      render( /*#__PURE__*/React.createElement(CSSTransition, {\n        timeout: 10,\n        nodeRef: nodeRef,\n        classNames: {\n          appear: 'appear-test'\n        },\n        in: true,\n        appear: true,\n        onEnter: isAppearing => {\n          expect(isAppearing).toEqual(true);\n          expect(nodeRef.current.className).toEqual('appear-test');\n        },\n        onEntered: isAppearing => {\n          expect(isAppearing).toEqual(true);\n          expect(nodeRef.current.className).toEqual('');\n          done = true;\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: nodeRef\n      })));\n      await waitFor(() => {\n        expect(done).toEqual(true);\n      });\n    });","file":"CSSTransition-test.js","skipped":false,"dir":"test"},{"name":"should not be appearing in normal enter mode","suites":["CSSTransition","appearing"],"updatePoint":{"line":201,"column":52,"index":6564},"line":201,"code":"    it('should not be appearing in normal enter mode', async () => {\n      let count = 0;\n      const nodeRef = /*#__PURE__*/React.createRef();\n      render( /*#__PURE__*/React.createElement(CSSTransition, {\n        timeout: 10,\n        nodeRef: nodeRef,\n        classNames: \"not-appear-test\",\n        appear: true\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: nodeRef\n      }))).setProps({\n        in: true,\n        onEnter(isAppearing) {\n          count++;\n          expect(isAppearing).toEqual(false);\n          expect(nodeRef.current.className).toEqual('not-appear-test-enter');\n        },\n        onEntering(isAppearing) {\n          count++;\n          expect(isAppearing).toEqual(false);\n          expect(nodeRef.current.className).toEqual('not-appear-test-enter not-appear-test-enter-active');\n        },\n        onEntered(isAppearing) {\n          expect(isAppearing).toEqual(false);\n          expect(nodeRef.current.className).toEqual('not-appear-test-enter-done');\n        }\n      });\n      await waitFor(() => {\n        expect(count).toEqual(2);\n      });\n    });","file":"CSSTransition-test.js","skipped":false,"dir":"test"},{"name":"should not enter the transition states when appear=false","suites":["CSSTransition","appearing"],"updatePoint":{"line":232,"column":64,"index":7667},"line":232,"code":"    it('should not enter the transition states when appear=false', () => {\n      const nodeRef = /*#__PURE__*/React.createRef();\n      render( /*#__PURE__*/React.createElement(CSSTransition, {\n        timeout: 10,\n        nodeRef: nodeRef,\n        classNames: \"appear-fail-test\",\n        in: true,\n        appear: false,\n        onEnter: () => {\n          throw Error('Enter called!');\n        },\n        onEntering: () => {\n          throw Error('Entring called!');\n        },\n        onEntered: () => {\n          throw Error('Entred called!');\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: nodeRef\n      })));\n    });","file":"CSSTransition-test.js","skipped":false,"dir":"test"},{"name":"should apply classes at each transition state","suites":["CSSTransition","exiting"],"updatePoint":{"line":255,"column":53,"index":8340},"line":255,"code":"    it('should apply classes at each transition state', async () => {\n      let count = 0;\n      const nodeRef = /*#__PURE__*/React.createRef();\n      const {\n        setProps\n      } = render( /*#__PURE__*/React.createElement(CSSTransition, {\n        in: true,\n        nodeRef: nodeRef,\n        timeout: 10,\n        classNames: \"test\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: nodeRef\n      })));\n      setProps({\n        in: false,\n        onExit() {\n          count++;\n          expect(nodeRef.current.className).toEqual('test-exit');\n        },\n        onExiting() {\n          count++;\n          expect(nodeRef.current.className).toEqual('test-exit test-exit-active');\n        },\n        onExited() {\n          expect(nodeRef.current.className).toEqual('test-exit-done');\n        }\n      });\n      await waitFor(() => {\n        expect(count).toEqual(2);\n      });\n    });","file":"CSSTransition-test.js","skipped":false,"dir":"test"},{"name":"should apply custom classNames names","suites":["CSSTransition","exiting"],"updatePoint":{"line":286,"column":44,"index":9229},"line":286,"code":"    it('should apply custom classNames names', async () => {\n      let count = 0;\n      const nodeRef = /*#__PURE__*/React.createRef();\n      const {\n        setProps\n      } = render( /*#__PURE__*/React.createElement(CSSTransition, {\n        in: true,\n        nodeRef: nodeRef,\n        timeout: 10,\n        classNames: {\n          exit: 'custom',\n          exitActive: 'custom-super-active',\n          exitDone: 'custom-super-done'\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: nodeRef\n      })));\n      setProps({\n        in: false,\n        onExit() {\n          count++;\n          expect(nodeRef.current.className).toEqual('custom');\n        },\n        onExiting() {\n          count++;\n          expect(nodeRef.current.className).toEqual('custom custom-super-active');\n        },\n        onExited() {\n          expect(nodeRef.current.className).toEqual('custom-super-done');\n        }\n      });\n      await waitFor(() => {\n        expect(count).toEqual(2);\n      });\n    });","file":"CSSTransition-test.js","skipped":false,"dir":"test"},{"name":"should support empty prefix","suites":["CSSTransition","exiting"],"updatePoint":{"line":321,"column":35,"index":10225},"line":321,"code":"    it('should support empty prefix', async () => {\n      let count = 0;\n      const nodeRef = /*#__PURE__*/React.createRef();\n      const {\n        setProps\n      } = render( /*#__PURE__*/React.createElement(CSSTransition, {\n        in: true,\n        nodeRef: nodeRef,\n        timeout: 10\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: nodeRef\n      })));\n      setProps({\n        in: false,\n        onExit() {\n          count++;\n          expect(nodeRef.current.className).toEqual('exit');\n        },\n        onExiting() {\n          count++;\n          expect(nodeRef.current.className).toEqual('exit exit-active');\n        },\n        onExited() {\n          expect(nodeRef.current.className).toEqual('exit-done');\n        }\n      });\n      await waitFor(() => {\n        expect(count).toEqual(2);\n      });\n    });","file":"CSSTransition-test.js","skipped":false,"dir":"test"},{"name":"should remove dynamically applied classes","suites":["CSSTransition","reentering"],"updatePoint":{"line":353,"column":49,"index":11110},"line":353,"code":"    it('should remove dynamically applied classes', async () => {\n      let count = 0;\n      class Test extends React.Component {\n        render() {\n          const {\n            direction,\n            text,\n            nodeRef,\n            ...props\n          } = this.props;\n          return /*#__PURE__*/React.createElement(TransitionGroup, {\n            component: null,\n            childFactory: child => /*#__PURE__*/React.cloneElement(child, {\n              classNames: direction\n            })\n          }, /*#__PURE__*/React.createElement(CSSTransition, _extends({\n            key: text,\n            timeout: 100,\n            nodeRef: nodeRef\n          }, props), /*#__PURE__*/React.createElement(\"span\", {\n            ref: nodeRef\n          }, text)));\n        }\n      }\n      const nodeRef = {\n        foo: /*#__PURE__*/React.createRef(),\n        bar: /*#__PURE__*/React.createRef()\n      };\n      const {\n        setProps\n      } = render( /*#__PURE__*/React.createElement(Test, {\n        direction: \"down\",\n        text: \"foo\",\n        nodeRef: nodeRef.foo\n      }));\n      setProps({\n        direction: 'up',\n        text: 'bar',\n        nodeRef: nodeRef.bar,\n        onEnter() {\n          count++;\n          expect(nodeRef.bar.current.className).toEqual('up-enter');\n        },\n        onEntering() {\n          count++;\n          expect(nodeRef.bar.current.className).toEqual('up-enter up-enter-active');\n        }\n      });\n      await waitFor(() => {\n        expect(count).toEqual(2);\n      });\n      setProps({\n        direction: 'down',\n        text: 'foo',\n        nodeRef: nodeRef.foo,\n        onEntering() {\n          count++;\n          expect(nodeRef.foo.current.className).toEqual('down-enter down-enter-active');\n        },\n        onEntered() {\n          count++;\n          expect(nodeRef.foo.current.className).toEqual('down-enter-done');\n        }\n      });\n      await waitFor(() => {\n        expect(count).toEqual(4);\n      });\n    });","file":"CSSTransition-test.js","skipped":false,"dir":"test"},{"name":"should clean-up silently after the timeout elapses","suites":["CSSTransitionGroup"],"updatePoint":{"line":48,"column":56,"index":1762},"line":48,"code":"  it('should clean-up silently after the timeout elapses', () => {\n    render( /*#__PURE__*/React.createElement(TransitionGroup, {\n      enter: false\n    }, /*#__PURE__*/React.createElement(YoloTransition, {\n      key: \"one\",\n      id: \"one\"\n    })), container);\n    const transitionGroupDiv = container.childNodes[0];\n    expect(transitionGroupDiv.childNodes.length).toBe(1);\n    render( /*#__PURE__*/React.createElement(TransitionGroup, {\n      enter: false\n    }, /*#__PURE__*/React.createElement(YoloTransition, {\n      key: \"two\",\n      id: \"two\"\n    })), container);\n    expect(transitionGroupDiv.childNodes.length).toBe(2);\n    expect(transitionGroupDiv.childNodes[0].id).toBe('two');\n    expect(transitionGroupDiv.childNodes[1].id).toBe('one');\n    act(() => {\n      jest.runAllTimers();\n    });\n\n    // No warnings\n    expect(consoleErrorSpy).not.toHaveBeenCalled();\n\n    // The leaving child has been removed\n    expect(transitionGroupDiv.childNodes.length).toBe(1);\n    expect(transitionGroupDiv.childNodes[0].id).toBe('two');\n  });","file":"CSSTransitionGroup-test.js","skipped":false,"dir":"test"},{"name":"should keep both sets of DOM nodes around","suites":["CSSTransitionGroup"],"updatePoint":{"line":77,"column":47,"index":2797},"line":77,"code":"  it('should keep both sets of DOM nodes around', () => {\n    render( /*#__PURE__*/React.createElement(TransitionGroup, null, /*#__PURE__*/React.createElement(YoloTransition, {\n      key: \"one\",\n      id: \"one\"\n    })), container);\n    const transitionGroupDiv = container.childNodes[0];\n    expect(transitionGroupDiv.childNodes.length).toBe(1);\n    render( /*#__PURE__*/React.createElement(TransitionGroup, null, /*#__PURE__*/React.createElement(YoloTransition, {\n      key: \"two\",\n      id: \"two\"\n    })), container);\n    expect(transitionGroupDiv.childNodes.length).toBe(2);\n    expect(transitionGroupDiv.childNodes[0].id).toBe('two');\n    expect(transitionGroupDiv.childNodes[1].id).toBe('one');\n  });","file":"CSSTransitionGroup-test.js","skipped":false,"dir":"test"},{"name":"should switch transitionLeave from false to true","suites":["CSSTransitionGroup"],"updatePoint":{"line":92,"column":54,"index":3510},"line":92,"code":"  it('should switch transitionLeave from false to true', () => {\n    render( /*#__PURE__*/React.createElement(TransitionGroup, {\n      enter: false,\n      leave: false\n    }, /*#__PURE__*/React.createElement(YoloTransition, {\n      key: \"one\",\n      id: \"one\"\n    })), container);\n    const transitionGroupDiv = container.childNodes[0];\n    expect(transitionGroupDiv.childNodes.length).toBe(1);\n    render( /*#__PURE__*/React.createElement(TransitionGroup, {\n      enter: false,\n      leave: false\n    }, /*#__PURE__*/React.createElement(YoloTransition, {\n      key: \"two\",\n      id: \"two\"\n    })), container);\n    act(() => {\n      jest.runAllTimers();\n    });\n    expect(transitionGroupDiv.childNodes.length).toBe(1);\n    render( /*#__PURE__*/React.createElement(TransitionGroup, {\n      enter: false,\n      leave: true\n    }, /*#__PURE__*/React.createElement(YoloTransition, {\n      key: \"three\",\n      id: \"three\"\n    })), container);\n    expect(transitionGroupDiv.childNodes.length).toBe(2);\n    expect(transitionGroupDiv.childNodes[0].id).toBe('three');\n    expect(transitionGroupDiv.childNodes[1].id).toBe('two');\n  });","file":"CSSTransitionGroup-test.js","skipped":false,"dir":"test"},{"name":"should work with a null child","suites":["CSSTransitionGroup"],"updatePoint":{"line":124,"column":35,"index":4618},"line":124,"code":"  it('should work with a null child', () => {\n    render( /*#__PURE__*/React.createElement(TransitionGroup, null, [null]), container);\n  });","file":"CSSTransitionGroup-test.js","skipped":false,"dir":"test"},{"name":"should work with a child which renders as null","suites":["CSSTransitionGroup"],"updatePoint":{"line":127,"column":52,"index":4776},"line":127,"code":"  it('should work with a child which renders as null', () => {\n    const NullComponent = () => null;\n    // Testing the whole lifecycle of entering and exiting,\n    // because those lifecycle methods used to fail when the DOM node was null.\n    render( /*#__PURE__*/React.createElement(TransitionGroup, null), container);\n    render( /*#__PURE__*/React.createElement(TransitionGroup, null, /*#__PURE__*/React.createElement(CSSTransition, {\n      classNames: \"yolo\",\n      timeout: 0\n    }, /*#__PURE__*/React.createElement(NullComponent, null))), container);\n    render( /*#__PURE__*/React.createElement(TransitionGroup, null), container);\n  });","file":"CSSTransitionGroup-test.js","skipped":false,"dir":"test"},{"name":"should transition from one to null","suites":["CSSTransitionGroup"],"updatePoint":{"line":138,"column":40,"index":5410},"line":138,"code":"  it('should transition from one to null', () => {\n    render( /*#__PURE__*/React.createElement(TransitionGroup, null, /*#__PURE__*/React.createElement(YoloTransition, {\n      key: \"one\",\n      id: \"one\"\n    })), container);\n    const transitionGroupDiv = container.childNodes[0];\n    expect(transitionGroupDiv.childNodes.length).toBe(1);\n    render( /*#__PURE__*/React.createElement(TransitionGroup, null, null), container);\n\n    // (Here, we expect the original child to stick around but test that no\n    // exception is thrown)\n    expect(transitionGroupDiv.childNodes.length).toBe(1);\n    expect(transitionGroupDiv.childNodes[0].id).toBe('one');\n  });","file":"CSSTransitionGroup-test.js","skipped":false,"dir":"test"},{"name":"should transition from false to one","suites":["CSSTransitionGroup"],"updatePoint":{"line":152,"column":41,"index":6067},"line":152,"code":"  it('should transition from false to one', () => {\n    render( /*#__PURE__*/React.createElement(TransitionGroup, null, false), container);\n    const transitionGroupDiv = container.childNodes[0];\n    expect(transitionGroupDiv.childNodes.length).toBe(0);\n    render( /*#__PURE__*/React.createElement(TransitionGroup, null, /*#__PURE__*/React.createElement(YoloTransition, {\n      key: \"one\",\n      id: \"one\"\n    })), container);\n    expect(transitionGroupDiv.childNodes.length).toBe(1);\n    expect(transitionGroupDiv.childNodes[0].id).toBe('one');\n  });","file":"CSSTransitionGroup-test.js","skipped":false,"dir":"test"},{"name":"should clear transition timeouts when unmounted","suites":["CSSTransitionGroup"],"updatePoint":{"line":163,"column":53,"index":6632},"line":163,"code":"  it('should clear transition timeouts when unmounted', () => {\n    class Component extends React.Component {\n      render() {\n        return /*#__PURE__*/React.createElement(TransitionGroup, null, this.props.children);\n      }\n    }\n    render( /*#__PURE__*/React.createElement(Component, null), container);\n    render( /*#__PURE__*/React.createElement(Component, null, /*#__PURE__*/React.createElement(YoloTransition, {\n      key: \"yolo\",\n      id: \"yolo\"\n    })), container);\n    ReactDOM.unmountComponentAtNode(container);\n\n    // Testing that no exception is thrown here, as the timeout has been cleared.\n    act(() => {\n      jest.runAllTimers();\n    });\n  });","file":"CSSTransitionGroup-test.js","skipped":false,"dir":"test"},{"name":"should handle unmounted elements properly","suites":["CSSTransitionGroup"],"updatePoint":{"line":181,"column":47,"index":7293},"line":181,"code":"  it('should handle unmounted elements properly', () => {\n    class Child extends React.Component {\n      render() {\n        if (!this.props.show) return null;\n        return /*#__PURE__*/React.createElement(\"div\", null);\n      }\n    }\n    class Component extends React.Component {\n      state = {\n        showChild: true\n      };\n      componentDidMount() {\n        this.setState({\n          showChild: false\n        });\n      }\n      render() {\n        return /*#__PURE__*/React.createElement(TransitionGroup, {\n          appear: true\n        }, /*#__PURE__*/React.createElement(Child, {\n          show: this.state.showChild\n        }));\n      }\n    }\n    render( /*#__PURE__*/React.createElement(Component, null), container);\n\n    // Testing that no exception is thrown here, as the timeout has been cleared.\n    act(() => {\n      jest.runAllTimers();\n    });\n  });","file":"CSSTransitionGroup-test.js","skipped":false,"dir":"test"},{"name":"should work with custom component wrapper cloning children","suites":["CSSTransitionGroup"],"updatePoint":{"line":212,"column":64,"index":8179},"line":212,"code":"  it('should work with custom component wrapper cloning children', () => {\n    const extraClassNameProp = 'wrapper-item';\n    class Wrapper extends React.Component {\n      render() {\n        return /*#__PURE__*/React.createElement(\"div\", null, React.Children.map(this.props.children, child => React.cloneElement(child, {\n          className: extraClassNameProp\n        })));\n      }\n    }\n    class Child extends React.Component {\n      render() {\n        return /*#__PURE__*/React.createElement(\"div\", this.props);\n      }\n    }\n    class Component extends React.Component {\n      render() {\n        return /*#__PURE__*/React.createElement(TransitionGroup, {\n          component: Wrapper\n        }, /*#__PURE__*/React.createElement(Child, null));\n      }\n    }\n    render( /*#__PURE__*/React.createElement(Component, null), container);\n    const transitionGroupDiv = container.childNodes[0];\n    transitionGroupDiv.childNodes.forEach(child => {\n      expect(hasClass(child, extraClassNameProp)).toBe(true);\n    });\n\n    // Testing that no exception is thrown here, as the timeout has been cleared.\n    act(() => {\n      jest.runAllTimers();\n    });\n  });","file":"CSSTransitionGroup-test.js","skipped":false,"dir":"test"},{"name":"should import react-transition-group in node env","suites":["SSR"],"updatePoint":{"line":9,"column":54,"index":236},"line":9,"code":"  it('should import react-transition-group in node env', () => {});","file":"SSR-test.js","skipped":false,"dir":"test"},{"name":"should have default status ENTERED","suites":["SwitchTransition"],"updatePoint":{"line":36,"column":40,"index":1538},"line":36,"code":"  it('should have default status ENTERED', () => {\n    const nodeRef = /*#__PURE__*/React.createRef();\n    render( /*#__PURE__*/React.createElement(SwitchTransition, null, /*#__PURE__*/React.createElement(Transition, {\n      nodeRef: nodeRef,\n      timeout: 0,\n      key: \"first\"\n    }, status => {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        ref: nodeRef\n      }, \"status: \", status);\n    })));\n    expect(nodeRef.current.textContent).toBe(`status: ${ENTERED}`);\n  });","file":"SwitchTransition-test.js","skipped":false,"dir":"test"},{"name":"should have default mode: out-in","suites":["SwitchTransition"],"updatePoint":{"line":49,"column":38,"index":2026},"line":49,"code":"  it('should have default mode: out-in', () => {\n    const firstNodeRef = /*#__PURE__*/React.createRef();\n    const secondNodeRef = /*#__PURE__*/React.createRef();\n    const {\n      rerender\n    } = render( /*#__PURE__*/React.createElement(SwitchTransition, null, /*#__PURE__*/React.createElement(Transition, {\n      nodeRef: firstNodeRef,\n      timeout: 0,\n      key: \"first\"\n    }, status => {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        ref: firstNodeRef\n      }, \"first status: \", status);\n    })));\n    rerender( /*#__PURE__*/React.createElement(SwitchTransition, null, /*#__PURE__*/React.createElement(Transition, {\n      nodeRef: secondNodeRef,\n      timeout: 0,\n      key: \"second\"\n    }, status => {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        ref: secondNodeRef\n      }, \"second status: \", status);\n    })));\n    expect(firstNodeRef.current.textContent).toBe('first status: exiting');\n    expect(secondNodeRef.current).toBe(null);\n  });","file":"SwitchTransition-test.js","skipped":false,"dir":"test"},{"name":"should work without childs","suites":["SwitchTransition"],"updatePoint":{"line":75,"column":32,"index":3007},"line":75,"code":"  it('should work without childs', () => {\n    const nodeRef = /*#__PURE__*/React.createRef();\n    expect(() => {\n      render( /*#__PURE__*/React.createElement(SwitchTransition, null, /*#__PURE__*/React.createElement(Transition, {\n        nodeRef: nodeRef,\n        timeout: 0,\n        key: \"first\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        ref: nodeRef\n      }))));\n    }).not.toThrow();\n  });","file":"SwitchTransition-test.js","skipped":false,"dir":"test"},{"name":"should switch between components on change state","suites":["SwitchTransition"],"updatePoint":{"line":87,"column":54,"index":3442},"line":87,"code":"  it('should switch between components on change state', () => {\n    const {\n      container,\n      setProps\n    } = render( /*#__PURE__*/React.createElement(Parent, {\n      on: true\n    }));\n    expect(container.textContent).toBe('first');\n    setProps({\n      on: false\n    });\n    expect(log).toEqual(['exit', 'exiting']);\n    act(() => {\n      jest.runAllTimers();\n    });\n    act(() => {\n      jest.runAllTimers();\n    });\n    expect(log).toEqual(['exit', 'exiting', 'exited', 'enter', 'entering', 'entered']);\n    expect(container.textContent).toBe('second');\n  });","file":"SwitchTransition-test.js","skipped":false,"dir":"test"},{"name":"should switch between null and component","suites":["SwitchTransition"],"updatePoint":{"line":108,"column":46,"index":4006},"line":108,"code":"  it('should switch between null and component', () => {\n    const {\n      container,\n      setProps\n    } = render( /*#__PURE__*/React.createElement(Parent, {\n      on: true,\n      rendered: false\n    }));\n    expect(container.textContent).toBe('');\n    jest.useFakeTimers();\n    setProps({\n      rendered: true\n    });\n    act(() => {\n      jest.runAllTimers();\n    });\n    expect(log).toEqual(['enter', 'entering', 'entered']);\n    expect(container.textContent).toBe('first');\n    setProps({\n      on: false,\n      rendered: true\n    });\n    act(() => {\n      jest.runAllTimers();\n    });\n    act(() => {\n      jest.runAllTimers();\n    });\n    expect(log).toEqual(['enter', 'entering', 'entered', 'exit', 'exiting', 'exited', 'enter', 'entering', 'entered']);\n    expect(container.textContent).toBe('second');\n  });","file":"SwitchTransition-test.js","skipped":false,"dir":"test"},{"name":"should not transition on mount","suites":["Transition"],"updatePoint":{"line":19,"column":36,"index":902},"line":19,"code":"  it('should not transition on mount', () => {\n    const nodeRef = /*#__PURE__*/React.createRef();\n    render( /*#__PURE__*/React.createElement(Transition, {\n      in: true,\n      nodeRef: nodeRef,\n      timeout: 0,\n      onEnter: () => {\n        throw new Error('should not Enter');\n      }\n    }, status => /*#__PURE__*/React.createElement(\"div\", {\n      ref: nodeRef\n    }, \"status: \", status)));\n    expect(nodeRef.current.textContent).toEqual(`status: ${ENTERED}`);\n  });","file":"Transition-test.js","skipped":false,"dir":"test"},{"name":"should transition on mount with `appear`","suites":["Transition"],"updatePoint":{"line":33,"column":46,"index":1389},"line":33,"code":"  it('should transition on mount with `appear`', done => {\n    const nodeRef = /*#__PURE__*/React.createRef();\n    render( /*#__PURE__*/React.createElement(Transition, {\n      in: true,\n      nodeRef: nodeRef,\n      timeout: 0,\n      onEnter: () => {\n        throw Error('Animated!');\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: nodeRef\n    })));\n    render( /*#__PURE__*/React.createElement(Transition, {\n      nodeRef: nodeRef,\n      in: true,\n      appear: true,\n      timeout: 0,\n      onEnter: () => done()\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: nodeRef\n    })));\n  });","file":"Transition-test.js","skipped":false,"dir":"test"},{"name":"should pass filtered props to children","suites":["Transition"],"updatePoint":{"line":55,"column":44,"index":2007},"line":55,"code":"  it('should pass filtered props to children', () => {\n    class Child extends React.Component {\n      render() {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          ref: this.props.nodeRef\n        }, \"foo: \", this.props.foo, \", bar: \", this.props.bar);\n      }\n    }\n    const nodeRef = /*#__PURE__*/React.createRef();\n    render( /*#__PURE__*/React.createElement(Transition, {\n      foo: \"foo\",\n      bar: \"bar\",\n      in: true,\n      nodeRef: nodeRef,\n      mountOnEnter: true,\n      unmountOnExit: true,\n      appear: true,\n      enter: true,\n      exit: true,\n      timeout: 0,\n      addEndListener: () => {},\n      onEnter: () => {},\n      onEntering: () => {},\n      onEntered: () => {},\n      onExit: () => {},\n      onExiting: () => {},\n      onExited: () => {}\n    }, /*#__PURE__*/React.createElement(Child, {\n      nodeRef: nodeRef\n    })));\n    expect(nodeRef.current.textContent).toBe('foo: foo, bar: bar');\n  });","file":"Transition-test.js","skipped":false,"dir":"test"},{"name":"should allow addEndListener instead of timeouts","suites":["Transition"],"updatePoint":{"line":87,"column":53,"index":2958},"line":87,"code":"  it('should allow addEndListener instead of timeouts', async () => {\n    let listener = jest.fn(end => setTimeout(end, 0));\n    let done = false;\n    const nodeRef = /*#__PURE__*/React.createRef();\n    const {\n      setProps\n    } = render( /*#__PURE__*/React.createElement(Transition, {\n      nodeRef: nodeRef,\n      addEndListener: listener,\n      onEntered: () => {\n        expect(listener).toHaveBeenCalledTimes(1);\n        done = true;\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: nodeRef\n    })));\n    setProps({\n      in: true\n    });\n    await waitFor(() => {\n      expect(done).toEqual(true);\n    });\n  });","file":"Transition-test.js","skipped":false,"dir":"test"},{"name":"should fallback to timeouts with addEndListener","suites":["Transition"],"updatePoint":{"line":110,"column":53,"index":3598},"line":110,"code":"  it('should fallback to timeouts with addEndListener', async () => {\n    let calledEnd = false;\n    let done = false;\n    let listener = end => setTimeout(() => {\n      calledEnd = true;\n      end();\n    }, 100);\n    const nodeRef = /*#__PURE__*/React.createRef();\n    const {\n      setProps\n    } = render( /*#__PURE__*/React.createElement(Transition, {\n      timeout: 0,\n      nodeRef: nodeRef,\n      addEndListener: listener,\n      onEntered: () => {\n        expect(calledEnd).toEqual(false);\n        done = true;\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: nodeRef\n    })));\n    setProps({\n      in: true\n    });\n    await waitFor(() => {\n      expect(done).toEqual(true);\n    });\n  });","file":"Transition-test.js","skipped":false,"dir":"test"},{"name":"should mount/unmount immediately if not have enter/exit timeout","suites":["Transition"],"updatePoint":{"line":138,"column":69,"index":4330},"line":138,"code":"  it('should mount/unmount immediately if not have enter/exit timeout', async () => {\n    const nodeRef = /*#__PURE__*/React.createRef();\n    let done = false;\n    const {\n      setProps\n    } = render( /*#__PURE__*/React.createElement(Transition, {\n      nodeRef: nodeRef,\n      in: true,\n      timeout: {}\n    }, status => /*#__PURE__*/React.createElement(\"div\", {\n      ref: nodeRef\n    }, \"status: \", status)));\n    expect(nodeRef.current.textContent).toEqual(`status: ${ENTERED}`);\n    let calledAfterTimeout = false;\n    setTimeout(() => {\n      calledAfterTimeout = true;\n    }, 10);\n    setProps({\n      in: false,\n      onExited() {\n        expect(nodeRef.current.textContent).toEqual(`status: ${EXITED}`);\n        if (calledAfterTimeout) {\n          throw new Error('wrong timeout');\n        }\n        done = true;\n      }\n    });\n    await waitFor(() => {\n      expect(done).toEqual(true);\n    });\n  });","file":"Transition-test.js","skipped":false,"dir":"test"},{"name":"should use `React.findDOMNode` when `nodeRef` is not provided","suites":["Transition"],"updatePoint":{"line":169,"column":67,"index":5243},"line":169,"code":"  it('should use `React.findDOMNode` when `nodeRef` is not provided', () => {\n    const consoleSpy = jest.spyOn(console, 'error').mockImplementation();\n    const findDOMNodeSpy = jest.spyOn(ReactDOM, 'findDOMNode');\n    render( /*#__PURE__*/React.createElement(Transition, {\n      in: true,\n      appear: true,\n      timeout: 0\n    }, /*#__PURE__*/React.createElement(\"div\", null)));\n    expect(findDOMNodeSpy).toHaveBeenCalled();\n    findDOMNodeSpy.mockRestore();\n    consoleSpy.mockRestore();\n  });","file":"Transition-test.js","skipped":false,"dir":"test"},{"name":"should not use `React.findDOMNode` when `nodeRef` is provided","suites":["Transition"],"updatePoint":{"line":181,"column":67,"index":5744},"line":181,"code":"  it('should not use `React.findDOMNode` when `nodeRef` is provided', () => {\n    const findDOMNodeSpy = jest.spyOn(ReactDOM, 'findDOMNode');\n    const nodeRef = /*#__PURE__*/React.createRef();\n    render( /*#__PURE__*/React.createElement(Transition, {\n      nodeRef: nodeRef,\n      in: true,\n      appear: true,\n      timeout: 0\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: nodeRef\n    })));\n    expect(findDOMNodeSpy).not.toHaveBeenCalled();\n    findDOMNodeSpy.mockRestore();\n  });","file":"Transition-test.js","skipped":false,"dir":"test"},{"name":"should use enter timeout if appear not set","suites":["Transition","appearing timeout"],"updatePoint":{"line":196,"column":50,"index":6266},"line":196,"code":"    it('should use enter timeout if appear not set', async () => {\n      let calledBeforeEntered = false;\n      let done = false;\n      setTimeout(() => {\n        calledBeforeEntered = true;\n      }, 10);\n      const nodeRef = /*#__PURE__*/React.createRef();\n      const {\n        setProps\n      } = render( /*#__PURE__*/React.createElement(Transition, {\n        nodeRef: nodeRef,\n        in: true,\n        timeout: {\n          enter: 20,\n          exit: 10\n        },\n        appear: true\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: nodeRef\n      })));\n      setProps({\n        onEntered() {\n          if (calledBeforeEntered) {\n            done = true;\n          } else {\n            throw new Error('wrong timeout');\n          }\n        }\n      });\n      await waitFor(() => {\n        expect(done).toEqual(true);\n      });\n    });","file":"Transition-test.js","skipped":false,"dir":"test"},{"name":"should use appear timeout if appear is set","suites":["Transition","appearing timeout"],"updatePoint":{"line":229,"column":50,"index":7120},"line":229,"code":"    it('should use appear timeout if appear is set', async () => {\n      let done = false;\n      const nodeRef = /*#__PURE__*/React.createRef();\n      const {\n        setProps\n      } = render( /*#__PURE__*/React.createElement(Transition, {\n        nodeRef: nodeRef,\n        in: true,\n        timeout: {\n          enter: 20,\n          exit: 10,\n          appear: 5\n        },\n        appear: true\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: nodeRef\n      })));\n      let isCausedLate = false;\n      setTimeout(() => {\n        isCausedLate = true;\n      }, 15);\n      setProps({\n        onEntered() {\n          if (isCausedLate) {\n            throw new Error('wrong timeout');\n          } else {\n            done = true;\n          }\n        }\n      });\n      await waitFor(() => {\n        expect(done).toEqual(true);\n      });\n    });","file":"Transition-test.js","skipped":false,"dir":"test"},{"name":"should fire callbacks","suites":["Transition","entering"],"updatePoint":{"line":265,"column":29,"index":7990},"line":265,"code":"    it('should fire callbacks', async () => {\n      let callOrder = [];\n      let done = false;\n      let onEnter = jest.fn(() => callOrder.push('onEnter'));\n      let onEntering = jest.fn(() => callOrder.push('onEntering'));\n      const nodeRef = /*#__PURE__*/React.createRef();\n      const {\n        setProps\n      } = render( /*#__PURE__*/React.createElement(Transition, {\n        nodeRef: nodeRef,\n        timeout: 10\n      }, status => /*#__PURE__*/React.createElement(\"div\", {\n        ref: nodeRef\n      }, \"status: \", status)));\n      expect(nodeRef.current.textContent).toEqual(`status: ${EXITED}`);\n      setProps({\n        in: true,\n        onEnter,\n        onEntering,\n        onEntered() {\n          expect(onEnter).toHaveBeenCalledTimes(1);\n          expect(onEntering).toHaveBeenCalledTimes(1);\n          expect(callOrder).toEqual(['onEnter', 'onEntering']);\n          done = true;\n        }\n      });\n      await waitFor(() => {\n        expect(done).toEqual(true);\n      });\n    });","file":"Transition-test.js","skipped":false,"dir":"test"},{"name":"should move to each transition state","suites":["Transition","entering"],"updatePoint":{"line":295,"column":44,"index":9003},"line":295,"code":"    it('should move to each transition state', async () => {\n      let count = 0;\n      const nodeRef = /*#__PURE__*/React.createRef();\n      const {\n        setProps\n      } = render( /*#__PURE__*/React.createElement(Transition, {\n        nodeRef: nodeRef,\n        timeout: 10\n      }, status => /*#__PURE__*/React.createElement(\"div\", {\n        ref: nodeRef\n      }, \"status: \", status)));\n      expect(nodeRef.current.textContent).toEqual(`status: ${EXITED}`);\n      setProps({\n        in: true,\n        onEnter() {\n          count++;\n          expect(nodeRef.current.textContent).toEqual(`status: ${EXITED}`);\n        },\n        onEntering() {\n          count++;\n          expect(nodeRef.current.textContent).toEqual(`status: ${ENTERING}`);\n        },\n        onEntered() {\n          expect(nodeRef.current.textContent).toEqual(`status: ${ENTERED}`);\n        }\n      });\n      await waitFor(() => {\n        expect(count).toEqual(2);\n      });\n    });","file":"Transition-test.js","skipped":false,"dir":"test"},{"name":"should fire callbacks","suites":["Transition","exiting"],"updatePoint":{"line":327,"column":29,"index":9979},"line":327,"code":"    it('should fire callbacks', async () => {\n      let callOrder = [];\n      let done = false;\n      let onExit = jest.fn(() => callOrder.push('onExit'));\n      let onExiting = jest.fn(() => callOrder.push('onExiting'));\n      const nodeRef = /*#__PURE__*/React.createRef();\n      const {\n        setProps\n      } = render( /*#__PURE__*/React.createElement(Transition, {\n        nodeRef: nodeRef,\n        in: true,\n        timeout: 10\n      }, status => /*#__PURE__*/React.createElement(\"div\", {\n        ref: nodeRef\n      }, \"status: \", status)));\n      expect(nodeRef.current.textContent).toEqual(`status: ${ENTERED}`);\n      setProps({\n        in: false,\n        onExit,\n        onExiting,\n        onExited() {\n          expect(onExit).toHaveBeenCalledTimes(1);\n          expect(onExiting).toHaveBeenCalledTimes(1);\n          expect(callOrder).toEqual(['onExit', 'onExiting']);\n          done = true;\n        }\n      });\n      await waitFor(() => {\n        expect(done).toEqual(true);\n      });\n    });","file":"Transition-test.js","skipped":false,"dir":"test"},{"name":"should move to each transition state","suites":["Transition","exiting"],"updatePoint":{"line":358,"column":44,"index":11001},"line":358,"code":"    it('should move to each transition state', async () => {\n      let count = 0;\n      let done = false;\n      const nodeRef = /*#__PURE__*/React.createRef();\n      const {\n        setProps\n      } = render( /*#__PURE__*/React.createElement(Transition, {\n        nodeRef: nodeRef,\n        in: true,\n        timeout: 10\n      }, status => /*#__PURE__*/React.createElement(\"div\", {\n        ref: nodeRef\n      }, \"status: \", status)));\n      expect(nodeRef.current.textContent).toEqual(`status: ${ENTERED}`);\n      setProps({\n        in: false,\n        onExit() {\n          count++;\n          expect(nodeRef.current.textContent).toEqual(`status: ${ENTERED}`);\n        },\n        onExiting() {\n          count++;\n          expect(nodeRef.current.textContent).toEqual(`status: ${EXITING}`);\n        },\n        onExited() {\n          expect(nodeRef.current.textContent).toEqual(`status: ${EXITED}`);\n          expect(count).toEqual(2);\n          done = true;\n        }\n      });\n      await waitFor(() => {\n        expect(done).toEqual(true);\n      });\n    });","file":"Transition-test.js","skipped":false,"dir":"test"},{"name":"should mount when entering","suites":["Transition","mountOnEnter"],"updatePoint":{"line":415,"column":34,"index":12785},"line":415,"code":"    it('should mount when entering', done => {\n      const {\n        container,\n        setProps\n      } = render( /*#__PURE__*/React.createElement(MountTransition, {\n        in: false,\n        onEnter: () => {\n          expect(container.textContent).toEqual(`status: ${EXITED}`);\n          done();\n        }\n      }));\n      expect(container.textContent).toEqual('');\n      setProps({\n        in: true\n      });\n    });","file":"Transition-test.js","skipped":false,"dir":"test"},{"name":"should stay mounted after exiting","suites":["Transition","mountOnEnter"],"updatePoint":{"line":431,"column":41,"index":13213},"line":431,"code":"    it('should stay mounted after exiting', async () => {\n      let entered = false;\n      let exited = false;\n      const {\n        container,\n        setProps\n      } = render( /*#__PURE__*/React.createElement(MountTransition, {\n        in: false,\n        onEntered: () => {\n          entered = true;\n        },\n        onExited: () => {\n          exited = true;\n        }\n      }));\n      expect(container.textContent).toEqual('');\n      setProps({\n        in: true\n      });\n      await waitFor(() => {\n        expect(entered).toEqual(true);\n      });\n      expect(container.textContent).toEqual(`status: ${ENTERED}`);\n      setProps({\n        in: false\n      });\n      await waitFor(() => {\n        expect(exited).toEqual(true);\n      });\n      expect(container.textContent).toEqual(`status: ${EXITED}`);\n    });","file":"Transition-test.js","skipped":false,"dir":"test"},{"name":"should mount when entering","suites":["Transition","unmountOnExit"],"updatePoint":{"line":485,"column":34,"index":14736},"line":485,"code":"    it('should mount when entering', async () => {\n      let done = false;\n      const instanceRef = /*#__PURE__*/React.createRef();\n      const {\n        setProps\n      } = render( /*#__PURE__*/React.createElement(UnmountTransition, {\n        ref: instanceRef,\n        in: false,\n        onEnter: () => {\n          expect(instanceRef.current.getStatus()).toEqual(EXITED);\n          expect(instanceRef.current.nodeRef.current).toExist();\n          done = true;\n        }\n      }));\n      expect(instanceRef.current.getStatus()).toEqual(UNMOUNTED);\n      expect(instanceRef.current.nodeRef.current).toBeNull();\n      setProps({\n        in: true\n      });\n      await waitFor(() => {\n        expect(done).toEqual(true);\n      });\n    });","file":"Transition-test.js","skipped":false,"dir":"test"},{"name":"should unmount after exiting","suites":["Transition","unmountOnExit"],"updatePoint":{"line":508,"column":36,"index":15474},"line":508,"code":"    it('should unmount after exiting', async () => {\n      let exited = false;\n      const instanceRef = /*#__PURE__*/React.createRef();\n      const {\n        setProps\n      } = render( /*#__PURE__*/React.createElement(UnmountTransition, {\n        ref: instanceRef,\n        in: true,\n        onExited: () => {\n          setTimeout(() => {\n            exited = true;\n          });\n        }\n      }));\n      expect(instanceRef.current.getStatus()).toEqual(ENTERED);\n      expect(instanceRef.current.nodeRef.current).toExist();\n      setProps({\n        in: false\n      });\n      await waitFor(() => {\n        expect(exited).toEqual(true);\n      });\n      expect(instanceRef.current.getStatus()).toEqual(UNMOUNTED);\n      expect(instanceRef.current.nodeRef.current).not.toExist();\n    });","file":"Transition-test.js","skipped":false,"dir":"test"},{"name":"should allow null components","suites":["TransitionGroup"],"updatePoint":{"line":40,"column":34,"index":1726},"line":40,"code":"  it('should allow null components', () => {\n    function FirstChild(props) {\n      const childrenArray = React.Children.toArray(props.children);\n      return childrenArray[0] || null;\n    }\n    render( /*#__PURE__*/React.createElement(TransitionGroup, {\n      component: FirstChild\n    }, /*#__PURE__*/React.createElement(Child, null)));\n  });","file":"TransitionGroup-test.js","skipped":false,"dir":"test"},{"name":"should allow callback refs","suites":["TransitionGroup"],"updatePoint":{"line":49,"column":32,"index":2069},"line":49,"code":"  it('should allow callback refs', () => {\n    const ref = jest.fn();\n    class Child extends React.Component {\n      render() {\n        return /*#__PURE__*/React.createElement(\"span\", null);\n      }\n    }\n    render( /*#__PURE__*/React.createElement(TransitionGroup, null, /*#__PURE__*/React.createElement(Child, {\n      ref: ref\n    })));\n    expect(ref).toHaveBeenCalled();\n  });","file":"TransitionGroup-test.js","skipped":false,"dir":"test"},{"name":"should work with no children","suites":["TransitionGroup"],"updatePoint":{"line":61,"column":34,"index":2454},"line":61,"code":"  it('should work with no children', () => {\n    renderStrict( /*#__PURE__*/React.createElement(TransitionGroup, null), container);\n  });","file":"TransitionGroup-test.js","skipped":false,"dir":"test"},{"name":"should handle transitioning correctly","suites":["TransitionGroup"],"updatePoint":{"line":64,"column":43,"index":2601},"line":64,"code":"  it('should handle transitioning correctly', () => {\n    function Parent({\n      count = 1\n    }) {\n      let children = [];\n      for (let i = 0; i < count; i++) children.push( /*#__PURE__*/React.createElement(Child, {\n        key: i\n      }));\n      return /*#__PURE__*/React.createElement(TransitionGroup, {\n        appear: true,\n        enter: true,\n        exit: true\n      }, children);\n    }\n    jest.useFakeTimers();\n    renderStrict( /*#__PURE__*/React.createElement(Parent, null), container);\n    act(() => {\n      jest.runAllTimers();\n    });\n    expect(log).toEqual(\n    // React 18 StrictEffects will call `componentDidMount` twice causing two `onEnter` calls.\n    React.useTransition !== undefined ? ['appear', 'appear', 'appearing', 'appeared'] : ['appear', 'appearing', 'appeared']);\n    log = [];\n    renderStrict( /*#__PURE__*/React.createElement(Parent, {\n      count: 2\n    }), container);\n    act(() => {\n      jest.runAllTimers();\n    });\n    expect(log).toEqual(\n    // React 18 StrictEffects will call `componentDidMount` twice causing two `onEnter` calls.\n    React.useTransition !== undefined ? ['enter', 'enter', 'entering', 'entered'] : ['enter', 'entering', 'entered']);\n    log = [];\n    renderStrict( /*#__PURE__*/React.createElement(Parent, {\n      count: 1\n    }), container);\n    act(() => {\n      jest.runAllTimers();\n    });\n    expect(log).toEqual(['exit', 'exiting', 'exited']);\n  });","file":"TransitionGroup-test.js","skipped":false,"dir":"test"}]}