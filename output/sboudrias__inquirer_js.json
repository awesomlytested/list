{"repo":"SBoudrias/Inquirer.js","url":"https://github.com/SBoudrias/Inquirer.js","branch":"master","configs":[{"package":"inquirer","lang":"js","dir":"packages/inquirer/test","framework":"mocha","pattern":"**/*.{js,ts}"}],"tests":[{"name":"should filter the user input","suites":["filter API"],"updatePoint":{"line":40,"column":38,"index":1067},"line":40,"code":"      it('should filter the user input', () => new Promise(done => {\n        ctx.fixture.filter = function () {\n          return 'pass';\n        };\n        const prompt = new ctx.Prompt(ctx.fixture, ctx.rl);\n        prompt.run().then(answer => {\n          expect(answer).toEqual('pass');\n          done();\n        });\n        ctx.rl.emit('line', '');\n      }));","file":"specs/api.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow filter function to be asynchronous","suites":["filter API"],"updatePoint":{"line":51,"column":57,"index":1448},"line":51,"code":"      it('should allow filter function to be asynchronous', () => new Promise(done => {\n        ctx.fixture.filter = function () {\n          const done = this.async();\n          setTimeout(() => {\n            done(null, 'pass');\n          }, 0);\n        };\n        const prompt = new ctx.Prompt(ctx.fixture, ctx.rl);\n        prompt.run().then(answer => {\n          expect(answer).toEqual('pass');\n          done();\n        });\n        ctx.rl.emit('line', '');\n      }));","file":"specs/api.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should handle errors produced in async filters","suites":["filter API"],"updatePoint":{"line":65,"column":56,"index":1918},"line":65,"code":"      it('should handle errors produced in async filters', () => {\n        let called = 0;\n        const {\n          rl\n        } = ctx;\n        ctx.fixture.filter = function () {\n          called++;\n          const cb = this.async();\n          if (called === 2) {\n            return cb(null, 'pass');\n          }\n          rl.emit('line');\n          return cb(new Error('fail'));\n        };\n        const prompt = new ctx.Prompt(ctx.fixture, ctx.rl);\n        const promise = prompt.run();\n        ctx.rl.emit('line');\n        return promise;\n      });","file":"specs/api.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should pass previous answers to the prompt filter function","suites":["filter API"],"updatePoint":{"line":84,"column":68,"index":2483},"line":84,"code":"      it('should pass previous answers to the prompt filter function', () => {\n        const prompt = inquirer.createPromptModule();\n        const questions = [{\n          type: 'confirm',\n          name: 'q1',\n          message: 'message'\n        }, {\n          type: 'confirm',\n          name: 'q2',\n          message: 'message',\n          filter(input, answers) {\n            expect(answers.q1).toEqual(true);\n            return input;\n          },\n          default: false\n        }];\n        const promise = prompt(questions);\n        autosubmit(promise.ui);\n        return promise.then(answers => {\n          expect(answers.q1).toEqual(true);\n          expect(answers.q2).toEqual(false);\n        });\n      });","file":"specs/api.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should reject input if boolean false is returned","suites":["validate API"],"updatePoint":{"line":111,"column":58,"index":3257},"line":111,"code":"      it('should reject input if boolean false is returned', () => {\n        let called = 0;\n        ctx.fixture.validate = () => {\n          called++;\n          // Make sure returning false won't continue\n          if (called === 2) {\n            return true;\n          }\n          ctx.rl.emit('line');\n          return false;\n        };\n        const prompt = new ctx.Prompt(ctx.fixture, ctx.rl);\n        const promise = prompt.run();\n        ctx.rl.emit('line');\n        return promise;\n      });","file":"specs/api.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should reject input if a string is returned","suites":["validate API"],"updatePoint":{"line":127,"column":53,"index":3752},"line":127,"code":"      it('should reject input if a string is returned', done => {\n        let called = 0;\n        const errorMessage = 'uh oh, error!';\n        ctx.fixture.validate = function () {\n          called++;\n          // Make sure returning false won't continue\n          if (called === 2) {\n            done();\n            return;\n          }\n          ctx.rl.emit('line');\n          return errorMessage;\n        };\n        const prompt = new ctx.Prompt(ctx.fixture, ctx.rl);\n        prompt.run();\n        ctx.rl.emit('line');\n      });","file":"specs/api.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should reject input if a Promise is returned which rejects","suites":["validate API"],"updatePoint":{"line":144,"column":68,"index":4298},"line":144,"code":"      it('should reject input if a Promise is returned which rejects', done => {\n        let called = 0;\n        const errorMessage = 'uh oh, error!';\n        ctx.fixture.validate = function () {\n          called++;\n          // Make sure returning false won't continue\n          if (called === 2) {\n            done();\n            return;\n          }\n          ctx.rl.emit('line');\n          return Promise.reject(errorMessage);\n        };\n        const prompt = new ctx.Prompt(ctx.fixture, ctx.rl);\n        prompt.run();\n        ctx.rl.emit('line');\n      });","file":"specs/api.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should accept input if boolean true is returned","suites":["validate API"],"updatePoint":{"line":161,"column":57,"index":4849},"line":161,"code":"      it('should accept input if boolean true is returned', () => {\n        let called = 0;\n        ctx.fixture.validate = function () {\n          called++;\n          return true;\n        };\n        const prompt = new ctx.Prompt(ctx.fixture, ctx.rl);\n        const promise = prompt.run().then(() => {\n          expect(called).toEqual(1);\n        });\n        ctx.rl.emit('line');\n        return promise;\n      });","file":"specs/api.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow validate function to be asynchronous","suites":["validate API"],"updatePoint":{"line":174,"column":59,"index":5264},"line":174,"code":"      it('should allow validate function to be asynchronous', () => {\n        let called = 0;\n        ctx.fixture.validate = function () {\n          const done = this.async();\n          setTimeout(() => {\n            called++;\n            // Make sure returning false won't continue\n            if (called === 2) {\n              done(null, true);\n            } else {\n              ctx.rl.emit('line');\n            }\n            done(false);\n          }, 0);\n        };\n        const prompt = new ctx.Prompt(ctx.fixture, ctx.rl);\n        const promise = prompt.run();\n        ctx.rl.emit('line');\n        return promise;\n      });","file":"specs/api.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow validate function to return a Promise","suites":["validate API"],"updatePoint":{"line":194,"column":60,"index":5896},"line":194,"code":"      it('should allow validate function to return a Promise', () => {\n        ctx.fixture.validate = function () {\n          return Promise.resolve(true);\n        };\n        const prompt = new ctx.Prompt(ctx.fixture, ctx.rl);\n        const promise = prompt.run();\n        ctx.rl.emit('line');\n        return promise;\n      });","file":"specs/api.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should pass previous answers to the prompt validation function","suites":["validate API"],"updatePoint":{"line":203,"column":72,"index":6236},"line":203,"code":"      it('should pass previous answers to the prompt validation function', () => {\n        const prompt = inquirer.createPromptModule();\n        const questions = [{\n          type: 'confirm',\n          name: 'q1',\n          message: 'message'\n        }, {\n          type: 'confirm',\n          name: 'q2',\n          message: 'message',\n          validate(input, answers) {\n            expect(answers.q1).toEqual(true);\n            return true;\n          },\n          default: false\n        }];\n        const promise = prompt(questions);\n        autosubmit(promise.ui);\n        return promise.then(answers => {\n          expect(answers.q1).toEqual(true);\n          expect(answers.q2).toEqual(false);\n        });\n      });","file":"specs/api.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow a default value","suites":["default API"],"updatePoint":{"line":230,"column":38,"index":6989},"line":230,"code":"      it('should allow a default value', () => new Promise(done => {\n        ctx.fixture.default = 'pass';\n        const prompt = new ctx.Prompt(ctx.fixture, ctx.rl);\n        prompt.run().then(answer => {\n          expect(ctx.rl.output.__raw__).toContain('(pass)');\n          expect(answer).toEqual('pass');\n          done();\n        });\n        ctx.rl.emit('line', '');\n      }));","file":"specs/api.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow a falsy default value","suites":["default API"],"updatePoint":{"line":240,"column":44,"index":7377},"line":240,"code":"      it('should allow a falsy default value', () => new Promise(done => {\n        ctx.fixture.default = 0;\n        const prompt = new ctx.Prompt(ctx.fixture, ctx.rl);\n        prompt.run().then(answer => {\n          expect(ctx.rl.output.__raw__).toContain('(0)');\n          expect(answer).toEqual(0);\n          done();\n        });\n        ctx.rl.emit('line', '');\n      }));","file":"specs/api.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should print message on screen","suites":["message API"],"updatePoint":{"line":254,"column":40,"index":7814},"line":254,"code":"      it('should print message on screen', () => {\n        ctx.fixture.message = 'Foo bar bar foo bar';\n        const prompt = new ctx.Prompt(ctx.fixture, ctx.rl);\n        prompt.run();\n        expect(ctx.rl.output.__raw__).toContain(ctx.fixture.message);\n      });","file":"specs/api.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should default to name for message","suites":["message API"],"updatePoint":{"line":260,"column":44,"index":8084},"line":260,"code":"      it('should default to name for message', () => {\n        ctx.fixture.name = 'testfoobarbarfoobar';\n        delete ctx.fixture.message;\n        const prompt = new ctx.Prompt(ctx.fixture, ctx.rl);\n        prompt.run();\n        expect(ctx.rl.output.__raw__).toContain(ctx.fixture.name + ':');\n      });","file":"specs/api.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should print choices to screen","suites":["choices API"],"updatePoint":{"line":271,"column":40,"index":8452},"line":271,"code":"      it('should print choices to screen', () => {\n        const prompt = new ctx.Prompt(ctx.fixture, ctx.rl);\n        const {\n          choices\n        } = prompt.opt;\n        prompt.run();\n        choices.filter(inquirer.Separator.exclude).forEach(choice => {\n          expect(ctx.rl.output.__raw__).toContain(choice.name);\n        });\n      });","file":"specs/api.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"`name` should throw","suites":["Missing value"],"updatePoint":{"line":285,"column":29,"index":8864},"line":285,"code":"      it('`name` should throw', () => {\n        expect(() => {\n          delete ctx.fixture.name;\n          return new ctx.Prompt(ctx.fixture, ctx.rl);\n        }).toThrow(/name/);\n      });","file":"specs/api.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should close and create a new readline instances each time it's called","suites":["inquirer.prompt"],"updatePoint":{"line":19,"column":76,"index":581},"line":19,"code":"  it(\"should close and create a new readline instances each time it's called\", async () => {\n    const promise = prompt({\n      type: 'confirm',\n      name: 'q1',\n      message: 'message'\n    });\n    const rl1 = promise.ui.rl;\n    vi.spyOn(rl1, 'close');\n    vi.spyOn(rl1.output, 'end');\n    rl1.emit('line');\n    return promise.then(() => {\n      expect(rl1.close).toHaveBeenCalledTimes(1);\n      expect(rl1.output.end).toHaveBeenCalledTimes(1);\n      const promise2 = prompt({\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      });\n      const rl2 = promise2.ui.rl;\n      vi.spyOn(rl2, 'close');\n      vi.spyOn(rl2.output, 'end');\n      rl2.emit('line');\n      return promise2.then(() => {\n        expect(rl2.close).toHaveBeenCalledTimes(1);\n        expect(rl2.output.end).toHaveBeenCalledTimes(1);\n        expect(rl1).not.toEqual(rl2);\n      });\n    });\n  });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should close readline instance on rejected promise","suites":["inquirer.prompt"],"updatePoint":{"line":48,"column":56,"index":1451},"line":48,"code":"  it('should close readline instance on rejected promise', async () => new Promise(done => {\n    prompt.registerPrompt('stub', () => {});\n    const promise = prompt({\n      type: 'stub',\n      name: 'q1'\n    });\n    const rl1 = promise.ui.rl;\n    vi.spyOn(rl1, 'close');\n    vi.spyOn(rl1.output, 'end');\n    promise.catch(() => {\n      expect(rl1.close).toHaveBeenCalledTimes(1);\n      expect(rl1.output.end).toHaveBeenCalledTimes(1);\n      done();\n    });\n  }));","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should take a prompts array and return answers","suites":["inquirer.prompt"],"updatePoint":{"line":63,"column":52,"index":1911},"line":63,"code":"  it('should take a prompts array and return answers', async () => {\n    const prompts = [{\n      type: 'confirm',\n      name: 'q1',\n      message: 'message'\n    }, {\n      type: 'confirm',\n      name: 'q2',\n      message: 'message',\n      default: false\n    }];\n    const promise = prompt(prompts);\n    autosubmit(promise.ui);\n    return promise.then(answers => {\n      expect(answers.q1).toEqual(true);\n      expect(answers.q2).toEqual(false);\n    });\n  });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should take a prompts nested object and return answers","suites":["inquirer.prompt"],"updatePoint":{"line":81,"column":60,"index":2379},"line":81,"code":"  it('should take a prompts nested object and return answers', async () => {\n    const prompts = {\n      q1: {\n        type: 'confirm',\n        message: 'message'\n      },\n      q2: {\n        type: 'input',\n        message: 'message',\n        default: 'Foo'\n      }\n    };\n    const promise = prompt(prompts);\n    autosubmit(promise.ui);\n    const {\n      q1,\n      q2\n    } = await promise;\n    expect(q1).toEqual(true);\n    expect(q2).toEqual('Foo');\n  });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should take a prompts array with nested names","suites":["inquirer.prompt"],"updatePoint":{"line":102,"column":51,"index":2829},"line":102,"code":"  it('should take a prompts array with nested names', async () => {\n    const prompts = [{\n      type: 'confirm',\n      name: 'foo.bar.q1',\n      message: 'message'\n    }, {\n      type: 'confirm',\n      name: 'foo.q2',\n      message: 'message',\n      default: false\n    }];\n    const promise = prompt(prompts);\n    autosubmit(promise.ui);\n    return promise.then(answers => {\n      expect(answers).toEqual({\n        foo: {\n          bar: {\n            q1: true\n          },\n          q2: false\n        }\n      });\n    });\n  });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should take a single prompt and return answer","suites":["inquirer.prompt"],"updatePoint":{"line":126,"column":51,"index":3357},"line":126,"code":"  it('should take a single prompt and return answer', async () => {\n    const config = {\n      type: 'input',\n      name: 'q1',\n      message: 'message',\n      default: 'bar'\n    };\n    const promise = prompt(config);\n    promise.ui.rl.emit('line');\n    const answers = await promise;\n    expect(answers.q1).toEqual('bar');\n  });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse `message` if passed as a function","suites":["inquirer.prompt"],"updatePoint":{"line":138,"column":52,"index":3688},"line":138,"code":"  it('should parse `message` if passed as a function', async () => {\n    const stubMessage = 'foo';\n    prompt.registerPrompt('stub', function (params) {\n      this.run = vi.fn(() => Promise.resolve());\n      expect(params.message).toEqual(stubMessage);\n    });\n    const msgFunc = function (answers) {\n      expect(answers.name1).toEqual('bar');\n      return stubMessage;\n    };\n    const prompts = [{\n      type: 'input',\n      name: 'name1',\n      message: 'message',\n      default: 'bar'\n    }, {\n      type: 'stub',\n      name: 'name',\n      message: msgFunc\n    }];\n    const promise = prompt(prompts);\n    promise.ui.rl.emit('line');\n    promise.ui.rl.emit('line');\n    await promise;\n    // Ensure we're not overwriting original prompt values.\n    expect(prompts[1].message).toEqual(msgFunc);\n  });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should run asynchronous `messageasync `","suites":["inquirer.prompt"],"updatePoint":{"line":165,"column":45,"index":4488},"line":165,"code":"  it('should run asynchronous `messageasync `', () => new Promise(done => {\n    const stubMessage = 'foo';\n    prompt.registerPrompt('stub', function (params) {\n      this.run = vi.fn(() => Promise.resolve());\n      expect(params.message).toEqual(stubMessage);\n      done();\n    });\n    const prompts = [{\n      type: 'input',\n      name: 'name1',\n      message: 'message',\n      default: 'bar'\n    }, {\n      type: 'stub',\n      name: 'name',\n      message(answers) {\n        expect(answers.name1).toEqual('bar');\n        const goOn = this.async();\n        setTimeout(() => {\n          goOn(null, stubMessage);\n        }, 0);\n      }\n    }];\n    const promise = prompt(prompts);\n    promise.ui.rl.emit('line');\n  }));","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse `default` if passed as a function","suites":["inquirer.prompt"],"updatePoint":{"line":191,"column":52,"index":5214},"line":191,"code":"  it('should parse `default` if passed as a function', async () => new Promise(done => {\n    const stubDefault = 'foo';\n    prompt.registerPrompt('stub', function (params) {\n      this.run = vi.fn(() => Promise.resolve());\n      expect(params.default).toEqual(stubDefault);\n      done();\n    });\n    const prompts = [{\n      type: 'input',\n      name: 'name1',\n      message: 'message',\n      default: 'bar'\n    }, {\n      type: 'stub',\n      name: 'name',\n      message: 'message',\n      default(answers) {\n        expect(answers.name1).toEqual('bar');\n        return stubDefault;\n      }\n    }];\n    const promise = prompt(prompts);\n    promise.ui.rl.emit('line');\n  }));","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should run asynchronous `default`","suites":["inquirer.prompt"],"updatePoint":{"line":215,"column":39,"index":5875},"line":215,"code":"  it('should run asynchronous `default`', async () => {\n    let goesInDefault = false;\n    const input2Default = 'foo';\n    const prompts = [{\n      type: 'input',\n      name: 'name1',\n      message: 'message',\n      default: 'bar'\n    }, {\n      type: 'input2',\n      name: 'q2',\n      message: 'message',\n      default(answers) {\n        goesInDefault = true;\n        expect(answers.name1).toEqual('bar');\n        const goOn = this.async();\n        setTimeout(() => {\n          goOn(null, input2Default);\n        }, 0);\n        setTimeout(() => {\n          promise.ui.rl.emit('line');\n        }, 10);\n      }\n    }];\n    const promise = prompt(prompts);\n    promise.ui.rl.emit('line');\n    const answers = await promise;\n    expect(goesInDefault).toEqual(true);\n    expect(answers.q2).toEqual(input2Default);\n  });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should pass previous answers to the prompt constructor","suites":["inquirer.prompt"],"updatePoint":{"line":245,"column":60,"index":6713},"line":245,"code":"  it('should pass previous answers to the prompt constructor', async () => new Promise(done => {\n    prompt.registerPrompt('stub', function (params, rl, answers) {\n      this.run = vi.fn(() => Promise.resolve());\n      expect(answers.name1).toEqual('bar');\n      done();\n    });\n    const prompts = [{\n      type: 'input',\n      name: 'name1',\n      message: 'message',\n      default: 'bar'\n    }, {\n      type: 'stub',\n      name: 'name',\n      message: 'message'\n    }];\n    const promise = prompt(prompts);\n    promise.ui.rl.emit('line');\n  }));","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse `choices` if passed as a function","suites":["inquirer.prompt"],"updatePoint":{"line":264,"column":52,"index":7254},"line":264,"code":"  it('should parse `choices` if passed as a function', async () => new Promise(done => {\n    const stubChoices = ['foo', 'bar'];\n    prompt.registerPrompt('stub', function (params) {\n      this.run = vi.fn(() => Promise.resolve());\n      expect(params.choices).toEqual(stubChoices);\n      done();\n    });\n    const prompts = [{\n      type: 'input',\n      name: 'name1',\n      message: 'message',\n      default: 'bar'\n    }, {\n      type: 'stub',\n      name: 'name',\n      message: 'message',\n      choices(answers) {\n        expect(answers.name1).toEqual('bar');\n        return stubChoices;\n      }\n    }];\n    const promise = prompt(prompts);\n    promise.ui.rl.emit('line');\n  }));","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should returns a promise","suites":["inquirer.prompt"],"updatePoint":{"line":288,"column":30,"index":7915},"line":288,"code":"  it('should returns a promise', async () => new Promise(done => {\n    const config = {\n      type: 'input',\n      name: 'q1',\n      message: 'message',\n      default: 'bar'\n    };\n    const promise = prompt(config);\n    promise.then(answers => {\n      expect(answers.q1).toEqual('bar');\n      done();\n    });\n    promise.ui.rl.emit('line');\n  }));","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should expose the Reactive interface","suites":["inquirer.prompt"],"updatePoint":{"line":302,"column":42,"index":8276},"line":302,"code":"  it('should expose the Reactive interface', async () => new Promise(done => {\n    const prompts = [{\n      type: 'input',\n      name: 'name1',\n      message: 'message',\n      default: 'bar'\n    }, {\n      type: 'input',\n      name: 'name',\n      message: 'message',\n      default: 'doe'\n    }];\n    const promise = prompt(prompts);\n    const spy = vi.fn();\n    promise.ui.process.subscribe(spy, () => {}, () => {\n      expect(spy).toHaveBeenCalledWith({\n        name: 'name1',\n        answer: 'bar'\n      });\n      expect(spy).toHaveBeenCalledWith({\n        name: 'name',\n        answer: 'doe'\n      });\n      done();\n    });\n    autosubmit(promise.ui);\n  }));","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should expose the UI","suites":["inquirer.prompt"],"updatePoint":{"line":329,"column":26,"index":8922},"line":329,"code":"  it('should expose the UI', async () => new Promise(done => {\n    const promise = prompt([]);\n    expect(promise.ui.answers).toBeTypeOf('object');\n    done();\n  }));","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"takes an Observable as question","suites":["inquirer.prompt"],"updatePoint":{"line":334,"column":37,"index":9100},"line":334,"code":"  it('takes an Observable as question', async () => {\n    const prompts = Observable.create(obs => {\n      obs.next({\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      });\n      setTimeout(() => {\n        obs.next({\n          type: 'confirm',\n          name: 'q2',\n          message: 'message',\n          default: false\n        });\n        obs.complete();\n        promise.ui.rl.emit('line');\n      }, 30);\n    });\n    const promise = prompt(prompts);\n    promise.ui.rl.emit('line');\n    return promise.then(answers => {\n      expect(answers.q1).toEqual(true);\n      expect(answers.q2).toEqual(false);\n    });\n  });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should take a prompts array and answers and return answers","suites":["inquirer.prompt"],"updatePoint":{"line":359,"column":64,"index":9770},"line":359,"code":"  it('should take a prompts array and answers and return answers', async () => {\n    const prompts = [{\n      type: 'confirm',\n      name: 'q1',\n      message: 'message'\n    }];\n    const answers = {\n      prefiled: true\n    };\n    const promise = prompt(prompts, answers);\n    autosubmit(promise.ui);\n    return promise.then(answers => {\n      expect(answers.prefiled).toEqual(true);\n      expect(answers.q1).toEqual(true);\n    });\n  });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should provide answers in filter callback for lists","suites":["inquirer.prompt"],"updatePoint":{"line":375,"column":57,"index":10202},"line":375,"code":"  it('should provide answers in filter callback for lists', async () => new Promise(done => {\n    const filter = vi.fn(() => 'foo');\n    const prompts = [{\n      type: 'list',\n      name: 'q1',\n      default: 'foo',\n      choices: ['foo', 'bar'],\n      message: 'message',\n      filter\n    }];\n    const promise = prompt(prompts);\n    promise.ui.rl.emit('line');\n    promise.then(() => {\n      const spyCalls = filter.mock.calls[0];\n      expect(spyCalls[0]).toEqual('foo');\n      expect(spyCalls[1]).toBeTypeOf('object');\n      done();\n    });\n  }));","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should pass current answers to `when`","suites":["inquirer.prompt","hierarchical mode (`when`)"],"updatePoint":{"line":395,"column":45,"index":10791},"line":395,"code":"    it('should pass current answers to `when`', async () => {\n      const prompts = [{\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      }, {\n        name: 'q2',\n        message: 'message',\n        when(answers) {\n          expect(answers).toBeTypeOf('object');\n          expect(answers.q1).toEqual(true);\n        }\n      }];\n      const promise = prompt(prompts);\n      autosubmit(promise.ui);\n      return promise;\n    });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should run prompt if `when` returns true","suites":["inquirer.prompt","hierarchical mode (`when`)"],"updatePoint":{"line":412,"column":48,"index":11247},"line":412,"code":"    it('should run prompt if `when` returns true', async () => {\n      let goesInWhen = false;\n      const prompts = [{\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      }, {\n        type: 'input',\n        name: 'q2',\n        message: 'message',\n        default: 'bar-var',\n        when() {\n          goesInWhen = true;\n          return true;\n        }\n      }];\n      const promise = prompt(prompts);\n      autosubmit(promise.ui);\n      return promise.then(answers => {\n        expect(goesInWhen).toEqual(true);\n        expect(answers.q2).toEqual('bar-var');\n      });\n    });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should run prompt if `when` is true","suites":["inquirer.prompt","hierarchical mode (`when`)"],"updatePoint":{"line":435,"column":43,"index":11848},"line":435,"code":"    it('should run prompt if `when` is true', async () => {\n      const prompts = [{\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      }, {\n        type: 'input',\n        name: 'q2',\n        message: 'message',\n        default: 'bar-var',\n        when: true\n      }];\n      const promise = prompt(prompts);\n      autosubmit(promise.ui);\n      return promise.then(answers => {\n        expect(answers.q2).toEqual('bar-var');\n      });\n    });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should not run prompt if `when` returns false","suites":["inquirer.prompt","hierarchical mode (`when`)"],"updatePoint":{"line":453,"column":53,"index":12327},"line":453,"code":"    it('should not run prompt if `when` returns false', async () => {\n      let goesInWhen = false;\n      const prompts = [{\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      }, {\n        type: 'confirm',\n        name: 'q2',\n        message: 'message',\n        when() {\n          goesInWhen = true;\n          return false;\n        }\n      }, {\n        type: 'input',\n        name: 'q3',\n        message: 'message',\n        default: 'foo'\n      }];\n      const promise = prompt(prompts);\n      autosubmit(promise.ui);\n      return promise.then(answers => {\n        expect(goesInWhen).toEqual(true);\n        expect(answers.q2).toEqual(undefined);\n        expect(answers.q3).toEqual('foo');\n        expect(answers.q1).toEqual(true);\n      });\n    });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should not run prompt if `when` is false","suites":["inquirer.prompt","hierarchical mode (`when`)"],"updatePoint":{"line":482,"column":48,"index":13098},"line":482,"code":"    it('should not run prompt if `when` is false', async () => {\n      const prompts = [{\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      }, {\n        type: 'confirm',\n        name: 'q2',\n        message: 'message',\n        when: false\n      }, {\n        type: 'input',\n        name: 'q3',\n        message: 'message',\n        default: 'foo'\n      }];\n      const promise = prompt(prompts);\n      autosubmit(promise.ui);\n      return promise.then(answers => {\n        expect(answers.q2).toEqual(undefined);\n        expect(answers.q3).toEqual('foo');\n        expect(answers.q1).toEqual(true);\n      });\n    });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should run asynchronous `when`","suites":["inquirer.prompt","hierarchical mode (`when`)"],"updatePoint":{"line":506,"column":38,"index":13727},"line":506,"code":"    it('should run asynchronous `when`', async () => {\n      let goesInWhen = false;\n      const prompts = [{\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      }, {\n        type: 'input',\n        name: 'q2',\n        message: 'message',\n        default: 'foo-bar',\n        when() {\n          goesInWhen = true;\n          const goOn = this.async();\n          setTimeout(() => {\n            goOn(null, true);\n          }, 0);\n          setTimeout(() => {\n            promise.ui.rl.emit('line');\n          }, 10);\n        }\n      }];\n      const promise = prompt(prompts);\n      autosubmit(promise.ui);\n      return promise.then(answers => {\n        expect(goesInWhen).toEqual(true);\n        expect(answers.q2).toEqual('foo-bar');\n      });\n    });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should get the value which set in `when` on returns false","suites":["inquirer.prompt","hierarchical mode (`when`)"],"updatePoint":{"line":535,"column":65,"index":14527},"line":535,"code":"    it('should get the value which set in `when` on returns false', async () => {\n      const prompts = [{\n        name: 'q',\n        message: 'message',\n        when(answers) {\n          answers.q = 'foo';\n          return false;\n        }\n      }];\n      const promise = prompt(prompts);\n      autosubmit(promise.ui);\n      return promise.then(answers => {\n        expect(answers.q).toEqual('foo');\n      });\n    });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should not run prompt if answer exists for question","suites":["inquirer.prompt","hierarchical mode (`when`)"],"updatePoint":{"line":550,"column":59,"index":14940},"line":550,"code":"    it('should not run prompt if answer exists for question', async () => {\n      const throwFunc = function (step) {\n        throw new Error(`askAnswered Error ${step}`);\n      };\n      const prompts = [{\n        type: 'input',\n        name: 'prefiled',\n        when: throwFunc.bind(undefined, 'when'),\n        validate: throwFunc.bind(undefined, 'validate'),\n        transformer: throwFunc.bind(undefined, 'transformer'),\n        filter: throwFunc.bind(undefined, 'filter'),\n        message: 'message',\n        default: 'newValue'\n      }];\n      const answers = {\n        prefiled: 'prefiled'\n      };\n      const promise = prompt(prompts, answers);\n      autosubmit(promise.ui);\n      return promise.then(answers => {\n        expect(answers.prefiled).toEqual('prefiled');\n      });\n    });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should not run prompt if nested answer exists for question","suites":["inquirer.prompt","hierarchical mode (`when`)"],"updatePoint":{"line":573,"column":66,"index":15741},"line":573,"code":"    it('should not run prompt if nested answer exists for question', async () => {\n      const throwFunc = function (step) {\n        throw new Error(`askAnswered Error ${step}`);\n      };\n      const prompts = [{\n        type: 'input',\n        name: 'prefiled.nested',\n        when: throwFunc.bind(undefined, 'when'),\n        validate: throwFunc.bind(undefined, 'validate'),\n        transformer: throwFunc.bind(undefined, 'transformer'),\n        filter: throwFunc.bind(undefined, 'filter'),\n        message: 'message',\n        default: 'newValue'\n      }];\n      const answers = {\n        prefiled: {\n          nested: 'prefiled'\n        }\n      };\n      const promise = prompt(prompts, answers);\n      autosubmit(promise.ui);\n      return promise.then(answers => {\n        expect(answers.prefiled.nested).toEqual('prefiled');\n      });\n    });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should run prompt if answer exists for question and askAnswered is set","suites":["inquirer.prompt","hierarchical mode (`when`)"],"updatePoint":{"line":598,"column":78,"index":16598},"line":598,"code":"    it('should run prompt if answer exists for question and askAnswered is set', async () => {\n      const prompts = [{\n        askAnswered: true,\n        type: 'input',\n        name: 'prefiled',\n        message: 'message',\n        default: 'newValue'\n      }];\n      const answers = {\n        prefiled: 'prefiled'\n      };\n      const promise = prompt(prompts, answers);\n      autosubmit(promise.ui);\n      return promise.then(answers => {\n        expect(answers.prefiled).toEqual('newValue');\n      });\n    });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should run prompt if nested answer exists for question and askAnswered is set","suites":["inquirer.prompt","hierarchical mode (`when`)"],"updatePoint":{"line":615,"column":85,"index":17118},"line":615,"code":"    it('should run prompt if nested answer exists for question and askAnswered is set', async () => {\n      const prompts = [{\n        askAnswered: true,\n        type: 'input',\n        name: 'prefiled.nested',\n        message: 'message',\n        default: 'newValue'\n      }];\n      const answers = {\n        prefiled: {\n          nested: 'prefiled'\n        }\n      };\n      const promise = prompt(prompts, answers);\n      autosubmit(promise.ui);\n      return promise.then(answers => {\n        expect(answers.prefiled.nested).toEqual('newValue');\n      });\n    });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"register new prompt types","suites":["inquirer.prompt","#registerPrompt()"],"updatePoint":{"line":636,"column":33,"index":17676},"line":636,"code":"    it('register new prompt types', () => new Promise(done => {\n      const questions = [{\n        type: 'foo',\n        message: 'something'\n      }];\n      inquirer.registerPrompt('foo', function (question, rl, answers) {\n        expect(question).toEqual(questions[0]);\n        expect(answers).toEqual({});\n        this.run = vi.fn(() => Promise.resolve());\n        done();\n      });\n      inquirer.prompt(questions);\n    }));","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"overwrite default prompt types","suites":["inquirer.prompt","#registerPrompt()"],"updatePoint":{"line":649,"column":38,"index":18109},"line":649,"code":"    it('overwrite default prompt types', () => new Promise(done => {\n      const questions = [{\n        type: 'confirm',\n        message: 'something'\n      }];\n      inquirer.registerPrompt('confirm', function () {\n        this.run = vi.fn(() => Promise.resolve());\n        done();\n      });\n      inquirer.prompt(questions);\n      inquirer.restoreDefaultPrompts();\n    }));","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"restore default prompts","suites":["inquirer.prompt","#restoreDefaultPrompts()"],"updatePoint":{"line":663,"column":31,"index":18530},"line":663,"code":"    it('restore default prompts', async () => {\n      const ConfirmPrompt = inquirer.prompt.prompts.confirm;\n      inquirer.registerPrompt('confirm', () => {});\n      inquirer.restoreDefaultPrompts();\n      expect(ConfirmPrompt).toEqual(inquirer.prompt.prompts.confirm);\n    });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"does not throw exception if cli-width reports width of 0","suites":["inquirer.prompt","#restoreDefaultPrompts()"],"updatePoint":{"line":672,"column":62,"index":18907},"line":672,"code":"  it('does not throw exception if cli-width reports width of 0', async () => {\n    const original = process.stdout.getWindowSize;\n    process.stdout.getWindowSize = function () {\n      return [0];\n    };\n    const localPrompt = inquirer.createPromptModule();\n    const prompts = [{\n      type: 'confirm',\n      name: 'q1',\n      message: 'message'\n    }];\n    const promise = localPrompt(prompts);\n    promise.ui.rl.emit('line');\n    return promise.then(answers => {\n      process.stdout.getWindowSize = original;\n      expect(answers.q1).toEqual(true);\n    });\n  });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"Throw an exception when run in non-tty","suites":["inquirer.prompt","Non-TTY checks"],"updatePoint":{"line":699,"column":46,"index":19685},"line":699,"code":"    it('Throw an exception when run in non-tty', async () => {\n      const localPrompt = inquirer.createPromptModule({\n        skipTTYChecks: false\n      });\n      const prompts = [{\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      }];\n      const promise = localPrompt(prompts);\n      return promise.then(() => {\n        // Failure\n        expect(true).toEqual(false);\n      }).catch(error => {\n        expect(error.isTtyError).toEqual(true);\n      });\n    });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"Don't throw an exception when run in non-tty by defaultasync ","suites":["inquirer.prompt","Non-TTY checks"],"updatePoint":{"line":716,"column":69,"index":20199},"line":716,"code":"    it(\"Don't throw an exception when run in non-tty by defaultasync \", () => new Promise(done => {\n      const localPrompt = inquirer.createPromptModule();\n      const prompts = [{\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      }, {\n        type: 'confirm',\n        name: 'q2',\n        message: 'message'\n      }];\n      const promise = localPrompt(prompts);\n      autosubmit(promise.ui);\n      promise.then(() => {\n        done();\n      }).catch(error => {\n        console.log(error);\n        expect(error.isTtyError).toEqual(false);\n      });\n    }));","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"Don't throw an exception when run in non-tty and skipTTYChecks is trueasync ","suites":["inquirer.prompt","Non-TTY checks"],"updatePoint":{"line":736,"column":84,"index":20800},"line":736,"code":"    it(\"Don't throw an exception when run in non-tty and skipTTYChecks is trueasync \", () => new Promise(done => {\n      const prompt = inquirer.createPromptModule({\n        skipTTYChecks: true\n      });\n      const prompts = [{\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      }, {\n        type: 'confirm',\n        name: 'q2',\n        message: 'message'\n      }];\n      const promise = prompt(prompts);\n      autosubmit(promise.ui);\n      promise.then(() => {\n        done();\n      }).catch(error => {\n        console.log(error);\n        expect(error.isTtyError).toEqual(false);\n      });\n    }));","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"Don't throw an exception when run in non-tty and custom input is providedasync ","suites":["inquirer.prompt","Non-TTY checks"],"updatePoint":{"line":758,"column":87,"index":21431},"line":758,"code":"    it(\"Don't throw an exception when run in non-tty and custom input is providedasync \", () => new Promise(done => {\n      const localPrompt = inquirer.createPromptModule({\n        input: new stream.Readable({\n          // We must have a default read implementation\n          // for this to work, if not it will error out\n          // with the following error message during testing\n          // Uncaught Error [ERR_METHOD_NOT_IMPLEMENTED]: The _read() method is not implemented\n          read() {}\n        })\n      });\n      const prompts = [{\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      }, {\n        type: 'confirm',\n        name: 'q2',\n        message: 'message'\n      }];\n      const promise = localPrompt(prompts);\n      autosubmit(promise.ui);\n      promise.then(() => {\n        done();\n      }).catch(error => {\n        console.log(error);\n        expect(error.isTtyError).toEqual(false);\n      });\n    }));","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"Throw an exception when run in non-tty and custom input is provided with skipTTYChecks: false","suites":["inquirer.prompt","Non-TTY checks"],"updatePoint":{"line":786,"column":101,"index":22395},"line":786,"code":"    it('Throw an exception when run in non-tty and custom input is provided with skipTTYChecks: false', async () => {\n      const localPrompt = inquirer.createPromptModule({\n        input: new stream.Readable(),\n        skipTTYChecks: false\n      });\n      const prompts = [{\n        type: 'confirm',\n        name: 'q1',\n        message: 'message'\n      }];\n      const promise = localPrompt(prompts);\n      return promise.then(() => {\n        // Failure\n        expect(true).toEqual(false);\n      }).catch(error => {\n        expect(error.isTtyError).toEqual(true);\n      });\n    });","file":"specs/inquirer.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should normalize accept String as value","suites":["Choice object"],"updatePoint":{"line":6,"column":45,"index":264},"line":6,"code":"  it('should normalize accept String as value', () => {\n    const choice = new Choice('foo');\n    expect(choice.name).toEqual('foo');\n    expect(choice.value).toEqual('foo');\n  });","file":"specs/objects/choice.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should use value|name as default if default property is missing","suites":["Choice object"],"updatePoint":{"line":11,"column":69,"index":469},"line":11,"code":"  it('should use value|name as default if default property is missing', () => {\n    const onlyName = new Choice({\n      name: 'foo'\n    });\n    const onlyVal = new Choice({\n      value: 'bar'\n    });\n    expect(onlyName.name).toEqual('foo');\n    expect(onlyName.value).toEqual('foo');\n    expect(onlyName.short).toEqual('foo');\n    expect(onlyVal.name).toEqual('bar');\n    expect(onlyVal.value).toEqual('bar');\n    expect(onlyVal.short).toEqual('bar');\n  });","file":"specs/objects/choice.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should keep extra keys","suites":["Choice object"],"updatePoint":{"line":25,"column":28,"index":887},"line":25,"code":"  it('should keep extra keys', () => {\n    const choice = new Choice({\n      name: 'foo',\n      extra: '1'\n    });\n    expect(choice.extra).toEqual('1');\n    expect(choice.name).toEqual('foo');\n    expect(choice.value).toEqual('foo');\n  });","file":"specs/objects/choice.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"shouldn't process Separator object","suites":["Choice object"],"updatePoint":{"line":34,"column":40,"index":1140},"line":34,"code":"  it(\"shouldn't process Separator object\", () => {\n    const sep = new Choice(new Separator());\n    expect(sep).toBeInstanceOf(Separator);\n  });","file":"specs/objects/choice.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"shouldn't process object with property type=separator","suites":["Choice object"],"updatePoint":{"line":38,"column":59,"index":1304},"line":38,"code":"  it(\"shouldn't process object with property type=separator\", () => {\n    const obj = {\n      type: 'separator'\n    };\n    const sep = new Choice(obj);\n    expect(sep).toEqual(obj);\n  });","file":"specs/objects/choice.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should create Choice object from array member","suites":["Choices collection"],"updatePoint":{"line":7,"column":51,"index":320},"line":7,"code":"  it('should create Choice object from array member', () => {\n    const choices = new Choices(['bar', {\n      name: 'foo'\n    }]);\n    expect(choices.getChoice(0)).toBeInstanceOf(Choice);\n    expect(choices.getChoice(1)).toBeInstanceOf(Choice);\n  });","file":"specs/objects/choices.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should support for number","suites":["Choices collection"],"updatePoint":{"line":14,"column":31,"index":551},"line":14,"code":"  it('should support for number', () => {\n    const choices = new Choices([1, 2, 3, 4]);\n    expect(choices.getChoice(0).value).toEqual(1);\n  });","file":"specs/objects/choices.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should not process Separator object","suites":["Choices collection"],"updatePoint":{"line":18,"column":41,"index":707},"line":18,"code":"  it('should not process Separator object', () => {\n    const sep = new inquirer.Separator();\n    const choices = new Choices(['Bar', sep]);\n    expect(choices.get(0).name).toEqual('Bar');\n    expect(choices.get(1)).toEqual(sep);\n  });","file":"specs/objects/choices.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should provide access to length information","suites":["Choices collection"],"updatePoint":{"line":24,"column":49,"index":951},"line":24,"code":"  it('should provide access to length information', () => {\n    const choices = new Choices(['Bar', new inquirer.Separator(), 'foo']);\n    expect(choices.length).toEqual(3);\n    expect(choices.realLength).toEqual(2);\n    choices.length = 1;\n    expect(choices.length).toEqual(1);\n    expect(choices.get(1)).toEqual(undefined);\n    expect(() => {\n      choices.realLength = 0;\n    }).toThrow();\n  });","file":"specs/objects/choices.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow plucking choice content","suites":["Choices collection"],"updatePoint":{"line":35,"column":42,"index":1344},"line":35,"code":"  it('should allow plucking choice content', () => {\n    const choices = new Choices([{\n      name: 'n',\n      key: 'foo'\n    }, {\n      name: 'a',\n      key: 'lab'\n    }]);\n    expect(choices.pluck('key')).toEqual(['foo', 'lab']);\n  });","file":"specs/objects/choices.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow filtering value with where","suites":["Choices collection"],"updatePoint":{"line":45,"column":45,"index":1585},"line":45,"code":"  it('should allow filtering value with where', () => {\n    const choices = new Choices([{\n      name: 'n',\n      key: 'foo'\n    }, {\n      name: 'a',\n      key: 'lab'\n    }]);\n    expect(choices.where({\n      key: 'lab'\n    })).toEqual([{\n      name: 'a',\n      value: 'a',\n      short: 'a',\n      key: 'lab',\n      disabled: undefined\n    }]);\n  });","file":"specs/objects/choices.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should façade forEach","suites":["Choices collection"],"updatePoint":{"line":63,"column":27,"index":1919},"line":63,"code":"  it('should façade forEach', () => {\n    const raw = ['a', 'b', 'c'];\n    const choices = new Choices(raw);\n    choices.forEach((val, i) => {\n      expect(val.name).toEqual(raw[i]);\n    });\n  });","file":"specs/objects/choices.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should façade filter","suites":["Choices collection"],"updatePoint":{"line":70,"column":26,"index":2115},"line":70,"code":"  it('should façade filter', () => {\n    const choices = new Choices(['a', 'b', 'c']);\n    const filtered = choices.filter(val => val.name === 'a');\n    expect(filtered.length).toEqual(1);\n    expect(filtered[0].name).toEqual('a');\n  });","file":"specs/objects/choices.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should façade push and update the realChoices internally","suites":["Choices collection"],"updatePoint":{"line":76,"column":62,"index":2389},"line":76,"code":"  it('should façade push and update the realChoices internally', () => {\n    const choices = new Choices(['a', {\n      name: 'b',\n      disabled: true\n    }]);\n    choices.push('b', new inquirer.Separator());\n    expect(choices.length).toEqual(4);\n    expect(choices.realLength).toEqual(2);\n    expect(choices.getChoice(0)).toBeInstanceOf(Choice).and.have.property('name', 'a');\n    expect(choices.getChoice(1)).toBeInstanceOf(Choice).and.have.property('name', 'b');\n    expect(choices.get(1)).toBeInstanceOf(Choice).and.have.property('disabled', true);\n    expect(choices.get(3)).toBeInstanceOf(inquirer.Separator);\n  });","file":"specs/objects/choices.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should set a default","suites":["Separator constructor"],"updatePoint":{"line":7,"column":26,"index":285},"line":7,"code":"  it('should set a default', () => {\n    const sep = new Separator();\n    expect(stripAnsi(sep.toString())).toEqual('──────────────');\n  });","file":"specs/objects/separator.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should set user input as separator","suites":["Separator constructor"],"updatePoint":{"line":11,"column":40,"index":440},"line":11,"code":"  it('should set user input as separator', () => {\n    const sep = new Separator('foo bar');\n    expect(stripAnsi(sep.toString())).toEqual('foo bar');\n  });","file":"specs/objects/separator.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"instances should be stringified when appended to a string","suites":["Separator constructor"],"updatePoint":{"line":15,"column":63,"index":620},"line":15,"code":"  it('instances should be stringified when appended to a string', () => {\n    const sep = new Separator('foo bar');\n    expect(stripAnsi(String(sep))).toEqual('foo bar');\n  });","file":"specs/objects/separator.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should be exposed on Inquirer object","suites":["Separator constructor"],"updatePoint":{"line":19,"column":42,"index":776},"line":19,"code":"  it('should be exposed on Inquirer object', () => {\n    expect(inquirer.Separator).toEqual(Separator);\n  });","file":"specs/objects/separator.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should expose a helper function to check for separator","suites":["Separator constructor"],"updatePoint":{"line":22,"column":60,"index":904},"line":22,"code":"  it('should expose a helper function to check for separator', () => {\n    expect(Separator.exclude({})).toEqual(true);\n    expect(Separator.exclude(new Separator())).toEqual(false);\n  });","file":"specs/objects/separator.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"give the type 'separator' to its object","suites":["Separator constructor"],"updatePoint":{"line":26,"column":45,"index":1078},"line":26,"code":"  it(\"give the type 'separator' to its object\", () => {\n    const sep = new Separator();\n    expect(sep.type).toEqual('separator');\n  });","file":"specs/objects/separator.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should not point by reference to the entry `question` object","suites":["`base` prompt (e.g. prompt helpers)"],"updatePoint":{"line":10,"column":66,"index":376},"line":10,"code":"  it('should not point by reference to the entry `question` object', () => {\n    const question = {\n      message: 'foo bar',\n      name: 'name'\n    };\n    const base = new Base(question, rl);\n    expect(question).not.toEqual(base.opt);\n    expect(question.name).toEqual(base.opt.name);\n    expect(question.message).toEqual(base.opt.message);\n  });","file":"specs/prompts/base.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should return a single selected choice in an array","suites":["`checkbox` prompt"],"updatePoint":{"line":16,"column":56,"index":508},"line":16,"code":"  it('should return a single selected choice in an array', () => new Promise(done => {\n    checkbox.run().then(answer => {\n      expect(answer.length).toEqual(1);\n      expect(answer[0]).toEqual('choice 1');\n      done();\n    });\n    rl.input.emit('keypress', ' ', {\n      name: 'space'\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/checkbox.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should return multiples selected choices in an array","suites":["`checkbox` prompt"],"updatePoint":{"line":27,"column":58,"index":833},"line":27,"code":"  it('should return multiples selected choices in an array', () => new Promise(done => {\n    checkbox.run().then(answer => {\n      expect(answer.length).toEqual(2);\n      expect(answer[0]).toEqual('choice 1');\n      expect(answer[1]).toEqual('choice 2');\n      done();\n    });\n    rl.input.emit('keypress', ' ', {\n      name: 'space'\n    });\n    rl.input.emit('keypress', null, {\n      name: 'down'\n    });\n    rl.input.emit('keypress', ' ', {\n      name: 'space'\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/checkbox.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should check defaults choices","suites":["`checkbox` prompt"],"updatePoint":{"line":45,"column":35,"index":1310},"line":45,"code":"  it('should check defaults choices', () => new Promise(done => {\n    fixture.choices = [{\n      name: '1',\n      checked: true\n    }, {\n      name: '2',\n      checked: false\n    }, {\n      name: '3',\n      checked: false\n    }];\n    checkbox = new Checkbox(fixture, rl);\n    checkbox.run().then(answer => {\n      expect(answer.length).toEqual(1);\n      expect(answer[0]).toEqual('1');\n      done();\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/checkbox.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"provide an array of checked choice to validate","suites":["`checkbox` prompt"],"updatePoint":{"line":64,"column":52,"index":1763},"line":64,"code":"  it('provide an array of checked choice to validate', () => {\n    fixture.choices = [{\n      name: '1',\n      checked: true\n    }, {\n      name: '2',\n      checked: 1\n    }, {\n      name: '3',\n      checked: false\n    }];\n    fixture.validate = function (answer) {\n      expect(answer).toEqual(['1', '2']);\n      return true;\n    };\n    checkbox = new Checkbox(fixture, rl);\n    const promise = checkbox.run();\n    rl.emit('line');\n    return promise;\n  });","file":"specs/prompts/checkbox.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should check defaults choices if given as array of values","suites":["`checkbox` prompt"],"updatePoint":{"line":84,"column":63,"index":2233},"line":84,"code":"  it('should check defaults choices if given as array of values', () => new Promise(done => {\n    fixture.choices = [{\n      name: '1'\n    }, {\n      name: '2'\n    }, {\n      name: '3'\n    }];\n    fixture.default = ['1', '3'];\n    checkbox = new Checkbox(fixture, rl);\n    checkbox.run().then(answer => {\n      expect(answer.length).toEqual(2);\n      expect(answer[0]).toEqual('1');\n      expect(answer[1]).toEqual('3');\n      done();\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/checkbox.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should toggle choice when hitting space","suites":["`checkbox` prompt"],"updatePoint":{"line":102,"column":45,"index":2686},"line":102,"code":"  it('should toggle choice when hitting space', () => new Promise(done => {\n    checkbox.run().then(answer => {\n      expect(answer.length).toEqual(1);\n      expect(answer[0]).toEqual('choice 1');\n      done();\n    });\n    rl.input.emit('keypress', ' ', {\n      name: 'space'\n    });\n    rl.input.emit('keypress', null, {\n      name: 'down'\n    });\n    rl.input.emit('keypress', ' ', {\n      name: 'space'\n    });\n    rl.input.emit('keypress', ' ', {\n      name: 'space'\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/checkbox.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow for arrow navigation","suites":["`checkbox` prompt"],"updatePoint":{"line":122,"column":39,"index":3187},"line":122,"code":"  it('should allow for arrow navigation', () => new Promise(done => {\n    checkbox.run().then(answer => {\n      expect(answer.length).toEqual(1);\n      expect(answer[0]).toEqual('choice 2');\n      done();\n    });\n    rl.input.emit('keypress', null, {\n      name: 'down'\n    });\n    rl.input.emit('keypress', null, {\n      name: 'down'\n    });\n    rl.input.emit('keypress', null, {\n      name: 'up'\n    });\n    rl.input.emit('keypress', ' ', {\n      name: 'space'\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/checkbox.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow for vi-style navigation","suites":["`checkbox` prompt"],"updatePoint":{"line":142,"column":42,"index":3689},"line":142,"code":"  it('should allow for vi-style navigation', () => new Promise(done => {\n    checkbox.run().then(answer => {\n      expect(answer.length).toEqual(1);\n      expect(answer[0]).toEqual('choice 2');\n      done();\n    });\n    rl.input.emit('keypress', 'j', {\n      name: 'j'\n    });\n    rl.input.emit('keypress', 'j', {\n      name: 'j'\n    });\n    rl.input.emit('keypress', 'k', {\n      name: 'k'\n    });\n    rl.input.emit('keypress', ' ', {\n      name: 'space'\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/checkbox.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow for emacs-style navigation","suites":["`checkbox` prompt"],"updatePoint":{"line":162,"column":45,"index":4184},"line":162,"code":"  it('should allow for emacs-style navigation', () => new Promise(done => {\n    checkbox.run().then(answer => {\n      expect(answer.length).toEqual(1);\n      expect(answer[0]).toEqual('choice 2');\n      done();\n    });\n    rl.input.emit('keypress', 'n', {\n      name: 'n',\n      ctrl: true\n    });\n    rl.input.emit('keypress', 'n', {\n      name: 'n',\n      ctrl: true\n    });\n    rl.input.emit('keypress', 'p', {\n      name: 'p',\n      ctrl: true\n    });\n    rl.input.emit('keypress', ' ', {\n      name: 'space'\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/checkbox.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow 1-9 shortcut key","suites":["`checkbox` prompt"],"updatePoint":{"line":185,"column":35,"index":4723},"line":185,"code":"  it('should allow 1-9 shortcut key', () => new Promise(done => {\n    checkbox.run().then(answer => {\n      expect(answer.length).toEqual(1);\n      expect(answer[0]).toEqual('choice 2');\n      done();\n    });\n    rl.input.emit('keypress', '2');\n    rl.emit('line');\n  }));","file":"specs/prompts/checkbox.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should select all answers if <a> is pressed","suites":["`checkbox` prompt"],"updatePoint":{"line":194,"column":49,"index":5010},"line":194,"code":"  it('should select all answers if <a> is pressed', () => {\n    const promise = checkbox.run();\n    rl.input.emit('keypress', 'a', {\n      name: 'a'\n    });\n    rl.emit('line');\n    return promise.then(answer => {\n      expect(answer.length).toEqual(3);\n    });\n  });","file":"specs/prompts/checkbox.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should select no answers if <a> is pressed a second time","suites":["`checkbox` prompt"],"updatePoint":{"line":204,"column":62,"index":5291},"line":204,"code":"  it('should select no answers if <a> is pressed a second time', () => {\n    const promise = checkbox.run();\n    rl.input.emit('keypress', 'a', {\n      name: 'a'\n    });\n    rl.input.emit('keypress', 'a', {\n      name: 'a'\n    });\n    rl.emit('line');\n    return promise.then(answer => {\n      expect(answer.length).toEqual(0);\n    });\n  });","file":"specs/prompts/checkbox.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should select the inverse of the current selection when <i> is pressed","suites":["`checkbox` prompt"],"updatePoint":{"line":217,"column":76,"index":5647},"line":217,"code":"  it('should select the inverse of the current selection when <i> is pressed', () => {\n    const promise = checkbox.run();\n    rl.input.emit('keypress', 'i', {\n      name: 'i'\n    });\n    rl.emit('line');\n    return promise.then(answer => {\n      expect(answer.length).toEqual(3);\n    });\n  });","file":"specs/prompts/checkbox.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"pagination works with multiline choices","suites":["`checkbox` prompt"],"updatePoint":{"line":227,"column":45,"index":5911},"line":227,"code":"  it('pagination works with multiline choices', () => new Promise(done => {\n    const multilineFixture = {\n      message: 'message',\n      name: 'name',\n      choices: ['a\\n\\n', 'b\\n\\n']\n    };\n    const list = new Checkbox(multilineFixture, rl);\n    const spy = vi.spyOn(list.paginator, 'paginate');\n    list.run().then(answer => {\n      const realIndexPosition1 = spy.mock.calls[0][1];\n      const realIndexPosition2 = spy.mock.calls[1][1];\n\n      // 'a\\n\\n': 0th index, but pagination at 2nd index position due to 2 extra newlines\n      expect(realIndexPosition1).toEqual(2);\n      // 'b\\n\\n': 1st index, but pagination at 5th index position due to 4 extra newlines\n      expect(realIndexPosition2).toEqual(5);\n      expect(answer[0]).toEqual('b\\n\\n');\n      done();\n    });\n    rl.input.emit('keypress', '', {\n      name: 'down'\n    });\n    rl.input.emit('keypress', ' ', {\n      name: 'space'\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/checkbox.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"output disabled choices and custom messages","suites":["`checkbox` prompt","with disabled choices"],"updatePoint":{"line":266,"column":51,"index":7141},"line":266,"code":"    it('output disabled choices and custom messages', () => {\n      const promise = checkbox.run();\n      rl.emit('line');\n      return promise.then(() => {\n        expect(rl.output.__raw__).toContain('- dis1 (Disabled)');\n        expect(rl.output.__raw__).toContain('- dis2 (uh oh)');\n      });\n    });","file":"specs/prompts/checkbox.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"skip disabled choices","suites":["`checkbox` prompt","with disabled choices"],"updatePoint":{"line":274,"column":29,"index":7423},"line":274,"code":"    it('skip disabled choices', () => new Promise(done => {\n      checkbox.run().then(answer => {\n        expect(answer[0]).toEqual('choice 1');\n        done();\n      });\n      rl.input.emit('keypress', null, {\n        name: 'down'\n      });\n      rl.input.emit('keypress', null, {\n        name: 'down'\n      });\n      rl.input.emit('keypress', null, {\n        name: 'down'\n      });\n      rl.input.emit('keypress', ' ', {\n        name: 'space'\n      });\n      rl.emit('line');\n    }));","file":"specs/prompts/checkbox.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"uncheck defaults choices who're disabled","suites":["`checkbox` prompt","with disabled choices"],"updatePoint":{"line":293,"column":48,"index":7929},"line":293,"code":"    it(\"uncheck defaults choices who're disabled\", () => new Promise(done => {\n      fixture.choices = [{\n        name: '1',\n        checked: true,\n        disabled: true\n      }, {\n        name: '2'\n      }];\n      checkbox = new Checkbox(fixture, rl);\n      checkbox.run().then(answer => {\n        expect(answer.length).toEqual(0);\n        done();\n      });\n      rl.emit('line');\n    }));","file":"specs/prompts/checkbox.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"disabled can be a function","suites":["`checkbox` prompt","with disabled choices"],"updatePoint":{"line":308,"column":34,"index":8307},"line":308,"code":"    it('disabled can be a function', () => {\n      fixture.choices = [{\n        name: 'dis1',\n        disabled(answers) {\n          expect(answers.foo).toEqual('foo');\n          return true;\n        }\n      }];\n      checkbox = new Checkbox(fixture, rl, {\n        foo: 'foo'\n      });\n      const promise = checkbox.run();\n      rl.emit('line');\n      promise.then(() => {\n        expect(rl.output.__raw__).toContain('- dis1 (Disabled)');\n      });\n    });","file":"specs/prompts/checkbox.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"loops to bottom when too far up","suites":["`checkbox` prompt","going out of boundaries","when loop undefined / true"],"updatePoint":{"line":328,"column":41,"index":8874},"line":328,"code":"      it('loops to bottom when too far up', async () => {\n        const promise = checkbox.run();\n        rl.input.emit('keypress', null, {\n          name: 'up'\n        });\n        rl.input.emit('keypress', null, {\n          name: 'up'\n        });\n        rl.input.emit('keypress', ' ', {\n          name: 'space'\n        });\n        rl.emit('line');\n        const answer = await promise;\n        expect(answer.length).toEqual(1);\n        expect(answer[0]).toEqual('choice 2');\n      });","file":"specs/prompts/checkbox.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"loops to top when too far down","suites":["`checkbox` prompt","going out of boundaries","when loop undefined / true"],"updatePoint":{"line":344,"column":40,"index":9360},"line":344,"code":"      it('loops to top when too far down', async () => {\n        const promise = checkbox.run();\n        rl.input.emit('keypress', null, {\n          name: 'down'\n        });\n        rl.input.emit('keypress', null, {\n          name: 'down'\n        });\n        rl.input.emit('keypress', null, {\n          name: 'down'\n        });\n        rl.input.emit('keypress', ' ', {\n          name: 'space'\n        });\n        rl.emit('line');\n        const answer = await promise;\n        expect(answer.length).toEqual(1);\n        expect(answer[0]).toEqual('choice 1');\n      });","file":"specs/prompts/checkbox.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"stays at top when too far up","suites":["`checkbox` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":370,"column":38,"index":10105},"line":370,"code":"      it('stays at top when too far up', async () => {\n        const promise = checkbox.run();\n        rl.input.emit('keypress', null, {\n          name: 'up'\n        });\n        rl.input.emit('keypress', null, {\n          name: 'up'\n        });\n        rl.input.emit('keypress', ' ', {\n          name: 'space'\n        });\n        rl.emit('line');\n        const answer = await promise;\n        expect(answer.length).toEqual(1);\n        expect(answer[0]).toEqual('choice 1');\n      });","file":"specs/prompts/checkbox.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"stays at bottom when too far down","suites":["`checkbox` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":386,"column":43,"index":10594},"line":386,"code":"      it('stays at bottom when too far down', async () => {\n        const promise = checkbox.run();\n        rl.input.emit('keypress', null, {\n          name: 'down'\n        });\n        rl.input.emit('keypress', null, {\n          name: 'down'\n        });\n        rl.input.emit('keypress', null, {\n          name: 'down'\n        });\n        rl.input.emit('keypress', ' ', {\n          name: 'space'\n        });\n        rl.emit('line');\n        const answer = await promise;\n        expect(answer.length).toEqual(1);\n        expect(answer[0]).toEqual('choice 3');\n      });","file":"specs/prompts/checkbox.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should default to true","suites":["`confirm` prompt"],"updatePoint":{"line":17,"column":28,"index":494},"line":17,"code":"  it('should default to true', () => new Promise(done => {\n    confirm.run().then(answer => {\n      expect(rl.output.__raw__).toContain('Y/n');\n      expect(answer).toEqual(true);\n      done();\n    });\n    rl.emit('line', '');\n  }));","file":"specs/prompts/confirm.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow a default `false` value","suites":["`confirm` prompt"],"updatePoint":{"line":25,"column":42,"index":742},"line":25,"code":"  it('should allow a default `false` value', () => new Promise(done => {\n    fixture.default = false;\n    const falseConfirm = new Confirm(fixture, rl);\n    falseConfirm.run().then(answer => {\n      expect(rl.output.__raw__).toContain('y/N');\n      expect(answer).toEqual(false);\n      done();\n    });\n    rl.emit('line', '');\n  }));","file":"specs/prompts/confirm.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow a default `true` value","suites":["`confirm` prompt"],"updatePoint":{"line":35,"column":41,"index":1075},"line":35,"code":"  it('should allow a default `true` value', () => new Promise(done => {\n    fixture.default = true;\n    const falseConfirm = new Confirm(fixture, rl);\n    falseConfirm.run().then(answer => {\n      expect(rl.output.__raw__).toContain('Y/n');\n      expect(answer).toEqual(true);\n      done();\n    });\n    rl.emit('line', '');\n  }));","file":"specs/prompts/confirm.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse 'Y' value to boolean true","suites":["`confirm` prompt"],"updatePoint":{"line":45,"column":44,"index":1409},"line":45,"code":"  it(\"should parse 'Y' value to boolean true\", () => new Promise(done => {\n    confirm.run().then(answer => {\n      expect(answer).toEqual(true);\n      done();\n    });\n    rl.emit('line', 'Y');\n  }));","file":"specs/prompts/confirm.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse 'Yes' value to boolean true","suites":["`confirm` prompt"],"updatePoint":{"line":52,"column":46,"index":1612},"line":52,"code":"  it(\"should parse 'Yes' value to boolean true\", () => new Promise(done => {\n    confirm.run().then(answer => {\n      expect(answer).toEqual(true);\n      done();\n    });\n    rl.emit('line', 'Yes');\n  }));","file":"specs/prompts/confirm.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse 'N' value to boolean false","suites":["`confirm` prompt"],"updatePoint":{"line":59,"column":45,"index":1816},"line":59,"code":"  it(\"should parse 'N' value to boolean false\", () => new Promise(done => {\n    confirm.run().then(answer => {\n      expect(answer).toEqual(false);\n      done();\n    });\n    rl.emit('line', 'N');\n  }));","file":"specs/prompts/confirm.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse 'No' value to boolean false","suites":["`confirm` prompt"],"updatePoint":{"line":66,"column":46,"index":2020},"line":66,"code":"  it(\"should parse 'No' value to boolean false\", () => new Promise(done => {\n    confirm.run().then(answer => {\n      expect(answer).toEqual(false);\n      done();\n    });\n    rl.emit('line', 'No');\n  }));","file":"specs/prompts/confirm.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse every other string value to default (unset)","suites":["`confirm` prompt"],"updatePoint":{"line":73,"column":62,"index":2241},"line":73,"code":"  it('should parse every other string value to default (unset)', () => new Promise(done => {\n    confirm.run().then(answer => {\n      expect(answer).toEqual(true);\n      done();\n    });\n    rl.emit('line', 'bla bla foo');\n  }));","file":"specs/prompts/confirm.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse every other string value to default (true)","suites":["`confirm` prompt"],"updatePoint":{"line":80,"column":61,"index":2469},"line":80,"code":"  it('should parse every other string value to default (true)', () => new Promise(done => {\n    fixture.default = true;\n    const trueConfirm = new Confirm(fixture, rl);\n    trueConfirm.run().then(answer => {\n      expect(answer).toEqual(true);\n      done();\n    });\n    rl.emit('line', 'bla bla foo');\n  }));","file":"specs/prompts/confirm.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse every other string value to default (false)","suites":["`confirm` prompt"],"updatePoint":{"line":89,"column":62,"index":2780},"line":89,"code":"  it('should parse every other string value to default (false)', () => new Promise(done => {\n    fixture.default = false;\n    const falseConfirm = new Confirm(fixture, rl);\n    falseConfirm.run().then(answer => {\n      expect(answer).toEqual(false);\n      done();\n    });\n    rl.emit('line', 'bla bla foo');\n  }));","file":"specs/prompts/confirm.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should tranform the output based on the boolean value","suites":["`confirm` prompt"],"updatePoint":{"line":98,"column":59,"index":3092},"line":98,"code":"  it('should tranform the output based on the boolean value', () => new Promise(done => {\n    fixture.transformer = value => value ? '👍' : '👎';\n    const confirmOutput = new Confirm(fixture, rl);\n    confirmOutput.run().then(answer => {\n      expect(answer).toEqual('👍');\n      done();\n    }).catch(err => console.log(err));\n    rl.emit('line', 'y');\n  }));","file":"specs/prompts/confirm.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should retrieve temporary files contents","suites":["`editor` prompt"],"updatePoint":{"line":25,"column":46,"index":847},"line":25,"code":"  it('should retrieve temporary files contents', async () => {\n    const prompt = new Editor(fixture, rl);\n    const promise = prompt.run();\n    rl.emit('line', '');\n    const answer = await promise;\n    expect(answer).toEqual(answer);\n  });","file":"specs/prompts/editor.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should open editor without waiting for the user to press enter","suites":["`editor` prompt"],"updatePoint":{"line":32,"column":68,"index":1111},"line":32,"code":"  it('should open editor without waiting for the user to press enter', async () => {\n    const prompt = new Editor({\n      ...fixture,\n      waitUserInput: false\n    }, rl);\n    const answer = await prompt.run();\n    expect(answer).toEqual(answer);\n  });","file":"specs/prompts/editor.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should throw if `key` is missing","suites":["`expand` prompt"],"updatePoint":{"line":17,"column":38,"index":497},"line":17,"code":"  it('should throw if `key` is missing', () => {\n    expect(() => {\n      fixture.choices = ['a', 'a'];\n      return new Expand(fixture, rl);\n    }).toThrow(/Format error/);\n  });","file":"specs/prompts/expand.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should throw if `key` is duplicate","suites":["`expand` prompt"],"updatePoint":{"line":23,"column":40,"index":679},"line":23,"code":"  it('should throw if `key` is duplicate', () => {\n    expect(() => {\n      fixture.choices = [{\n        key: 'a',\n        name: 'foo'\n      }, {\n        key: 'a',\n        name: 'foo'\n      }];\n      return new Expand(fixture, rl);\n    }).toThrow(/Duplicate key error/);\n  });","file":"specs/prompts/expand.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should throw if `key` is duplicate case insensitive","suites":["`expand` prompt"],"updatePoint":{"line":35,"column":57,"index":973},"line":35,"code":"  it('should throw if `key` is duplicate case insensitive', () => {\n    expect(() => {\n      fixture.choices = [{\n        key: 'a',\n        name: 'foo'\n      }, {\n        key: 'A',\n        name: 'foo'\n      }];\n      return new Expand(fixture, rl);\n    }).toThrow(/Duplicate key error/);\n  });","file":"specs/prompts/expand.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should throw if `key` is `h`","suites":["`expand` prompt"],"updatePoint":{"line":47,"column":34,"index":1244},"line":47,"code":"  it('should throw if `key` is `h`', () => {\n    expect(() => {\n      fixture.choices = [{\n        key: 'h',\n        name: 'foo'\n      }];\n      return new Expand(fixture, rl);\n    }).toThrow(/Reserved key error/);\n  });","file":"specs/prompts/expand.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow false as a value","suites":["`expand` prompt"],"updatePoint":{"line":56,"column":35,"index":1466},"line":56,"code":"  it('should allow false as a value', () => {\n    const promise = expand.run();\n    rl.emit('line', 'd');\n    return promise.then(answer => {\n      expect(answer).toEqual(false);\n    });\n  });","file":"specs/prompts/expand.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"pass the value as answer, and display short on the prompt","suites":["`expand` prompt"],"updatePoint":{"line":63,"column":63,"index":1687},"line":63,"code":"  it('pass the value as answer, and display short on the prompt', () => {\n    fixture.choices = [{\n      key: 'a',\n      name: 'A Name',\n      value: 'a value',\n      short: 'ShortA'\n    }, {\n      key: 'b',\n      name: 'B Name',\n      value: 'b value',\n      short: 'ShortB'\n    }];\n    const prompt = new Expand(fixture, rl);\n    const promise = prompt.run();\n    rl.emit('line', 'b');\n    return promise.then(answer => {\n      expect(answer).toEqual('b value');\n      expect(rl.output.__raw__).toMatch(/ShortB/);\n    });\n  });","file":"specs/prompts/expand.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should use a string the `default` value","suites":["`expand` prompt"],"updatePoint":{"line":83,"column":45,"index":2199},"line":83,"code":"  it('should use a string the `default` value', () => new Promise(done => {\n    fixture.default = 'chile';\n    expand = new Expand(fixture, rl);\n    expand.run().then(answer => {\n      expect(answer).toEqual('chile');\n      done();\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/expand.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should use the `default` argument value","suites":["`expand` prompt"],"updatePoint":{"line":92,"column":45,"index":2467},"line":92,"code":"  it('should use the `default` argument value', () => new Promise(done => {\n    fixture.default = 1;\n    expand = new Expand(fixture, rl);\n    expand.run().then(answer => {\n      expect(answer).toEqual('bar');\n      done();\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/expand.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should return the user input","suites":["`expand` prompt"],"updatePoint":{"line":101,"column":34,"index":2716},"line":101,"code":"  it('should return the user input', () => new Promise(done => {\n    expand.run().then(answer => {\n      expect(answer).toEqual('bar');\n      done();\n    });\n    rl.emit('line', 'b');\n  }));","file":"specs/prompts/expand.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should strip the user input","suites":["`expand` prompt"],"updatePoint":{"line":108,"column":33,"index":2906},"line":108,"code":"  it('should strip the user input', () => new Promise(done => {\n    expand.run().then(answer => {\n      expect(answer).toEqual('bar');\n      done();\n    });\n    rl.emit('line', ' b ');\n  }));","file":"specs/prompts/expand.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should have help option","suites":["`expand` prompt"],"updatePoint":{"line":115,"column":29,"index":3094},"line":115,"code":"  it('should have help option', () => new Promise(done => {\n    expand.run().then(answer => {\n      expect(rl.output.__raw__).toMatch(/a\\) acab/);\n      expect(rl.output.__raw__).toMatch(/b\\) bar/);\n      expect(answer).toEqual('chile');\n      done();\n    });\n    rl.emit('line', 'h');\n    rl.emit('line', 'c');\n  }));","file":"specs/prompts/expand.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should not allow invalid command","suites":["`expand` prompt"],"updatePoint":{"line":125,"column":38,"index":3422},"line":125,"code":"  it('should not allow invalid command', () => {\n    const promise = expand.run();\n    rl.emit('line', 'blah');\n    setTimeout(() => {\n      rl.emit('line', 'a');\n    }, 10);\n    return promise;\n  });","file":"specs/prompts/expand.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should display and capitalize the default choice `key`","suites":["`expand` prompt"],"updatePoint":{"line":133,"column":60,"index":3645},"line":133,"code":"  it('should display and capitalize the default choice `key`', () => {\n    fixture.default = 1;\n    expand = new Expand(fixture, rl);\n    expand.run();\n    expect(rl.output.__raw__).toContain('(aBcdh)');\n  });","file":"specs/prompts/expand.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should display and capitalize the default choice by name value","suites":["`expand` prompt"],"updatePoint":{"line":139,"column":68,"index":3863},"line":139,"code":"  it('should display and capitalize the default choice by name value', () => {\n    fixture.default = 'chile';\n    expand = new Expand(fixture, rl);\n    expand.run();\n    expect(rl.output.__raw__).toContain('(abCdh)');\n  });","file":"specs/prompts/expand.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should display and capitalize the default choice H (Help) `key` if no string default matched","suites":["`expand` prompt"],"updatePoint":{"line":145,"column":98,"index":4117},"line":145,"code":"  it('should display and capitalize the default choice H (Help) `key` if no string default matched', () => {\n    fixture.default = 'chile!';\n    expand = new Expand(fixture, rl);\n    expand.run();\n    expect(rl.output.__raw__).toContain('(abcdH)');\n  });","file":"specs/prompts/expand.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should display and capitalize the default choice H (Help) `key` if none provided","suites":["`expand` prompt"],"updatePoint":{"line":151,"column":86,"index":4360},"line":151,"code":"  it('should display and capitalize the default choice H (Help) `key` if none provided', () => {\n    delete fixture.default;\n    expand = new Expand(fixture, rl);\n    expand.run();\n    expect(rl.output.__raw__).toContain('(abcdH)');\n  });","file":"specs/prompts/expand.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should 'autocomplete' the user input","suites":["`expand` prompt"],"updatePoint":{"line":157,"column":42,"index":4555},"line":157,"code":"  it(\"should 'autocomplete' the user input\", () => new Promise(done => {\n    expand = new Expand(fixture, rl);\n    expand.run();\n    rl.line = 'a';\n    rl.emit('keypress');\n    setTimeout(() => {\n      expect(rl.output.__raw__).toContain('acab');\n      done();\n    }, 10);\n  }));","file":"specs/prompts/expand.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should use raw value from the user","suites":["`input` prompt"],"updatePoint":{"line":13,"column":40,"index":434},"line":13,"code":"  it('should use raw value from the user', function (done) {\n    const input = new Input(this.fixture, this.rl);\n    input.run().then(answer => {\n      expect(answer).toEqual('Inquirer');\n      done();\n    });\n    this.rl.emit('line', 'Inquirer');\n  });","file":"specs/prompts/input.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should output filtered value","suites":["`input` prompt"],"updatePoint":{"line":21,"column":34,"index":682},"line":21,"code":"  it('should output filtered value', function () {\n    this.fixture.filter = function () {\n      return 'pass';\n    };\n    const prompt = new Input(this.fixture, this.rl);\n    const promise = prompt.run();\n    this.rl.emit('line', '');\n    return promise.then(() => {\n      expect(this.rl.output.__raw__).toContain('pass');\n    });\n  });","file":"specs/prompts/input.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should apply the provided transform to the value","suites":["`input` prompt"],"updatePoint":{"line":32,"column":54,"index":1040},"line":32,"code":"  it('should apply the provided transform to the value', function (done) {\n    this.fixture.transformer = function (value) {\n      return value.split('').reverse().join('');\n    };\n    const prompt = new Input(this.fixture, this.rl);\n    prompt.run();\n    this.rl.line = 'Inquirer';\n    this.rl.input.emit('keypress');\n    setTimeout(() => {\n      expect(this.rl.output.__raw__).toContain('reriuqnI');\n      done();\n    }, 10);\n  });","file":"specs/prompts/input.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should use the answers object in the provided transformer","suites":["`input` prompt"],"updatePoint":{"line":45,"column":63,"index":1483},"line":45,"code":"  it('should use the answers object in the provided transformer', function (done) {\n    this.fixture.transformer = function (value, answers) {\n      return answers.capitalize ? value.toUpperCase() : value;\n    };\n    const answers = {\n      capitalize: true\n    };\n    const prompt = new Input(this.fixture, this.rl, answers);\n    prompt.run();\n    this.rl.line = 'inquirer';\n    this.rl.input.emit('keypress');\n    setTimeout(() => {\n      expect(this.rl.output.__raw__).toContain('INQUIRER');\n      done();\n    }, 200);\n  });","file":"specs/prompts/input.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should use the flags object in the provided transformer","suites":["`input` prompt"],"updatePoint":{"line":61,"column":61,"index":2009},"line":61,"code":"  it('should use the flags object in the provided transformer', function (done) {\n    this.fixture.transformer = function (value, answers, flags) {\n      const text = answers.capitalize ? value.toUpperCase() : value;\n      if (flags.isFinal) return text + '!';\n      return text;\n    };\n    const answers = {\n      capitalize: true\n    };\n    const prompt = new Input(this.fixture, this.rl, answers);\n    prompt.run();\n    this.rl.line = 'inquirer';\n    this.rl.input.emit('keypress');\n    setTimeout(() => {\n      expect(this.rl.output.__raw__).toContain('INQUIRER');\n      done();\n    }, 200);\n  });","file":"specs/prompts/input.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should clear default on input","suites":["`input` prompt"],"updatePoint":{"line":79,"column":35,"index":2585},"line":79,"code":"  it('should clear default on input', function (done) {\n    const defaultValue = 'default-string';\n    const input = new Input({\n      ...this.fixture,\n      default: defaultValue\n    }, this.rl);\n    input.run();\n    this.rl.line = 'inquirer';\n    this.rl.input.emit('keypress');\n    setTimeout(() => {\n      expect(this.rl.output.__raw__).toContain(defaultValue);\n      done();\n    }, 200);\n  });","file":"specs/prompts/input.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should default to first choice","suites":["`list` prompt"],"updatePoint":{"line":16,"column":36,"index":460},"line":16,"code":"  it('should default to first choice', () => new Promise(done => {\n    list.run().then(answer => {\n      expect(answer).toEqual('foo');\n      done();\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/list.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should move selected cursor on keypress","suites":["`list` prompt"],"updatePoint":{"line":23,"column":45,"index":655},"line":23,"code":"  it('should move selected cursor on keypress', () => new Promise(done => {\n    list.run().then(answer => {\n      expect(answer).toEqual('bar');\n      done();\n    });\n    rl.input.emit('keypress', '', {\n      name: 'down'\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/list.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow for arrow navigation","suites":["`list` prompt"],"updatePoint":{"line":33,"column":39,"index":907},"line":33,"code":"  it('should allow for arrow navigation', () => new Promise(done => {\n    list.run().then(answer => {\n      expect(answer).toEqual('bar');\n      done();\n    });\n    rl.input.emit('keypress', '', {\n      name: 'down'\n    });\n    rl.input.emit('keypress', '', {\n      name: 'down'\n    });\n    rl.input.emit('keypress', '', {\n      name: 'up'\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/list.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow for vi-style navigation","suites":["`list` prompt"],"updatePoint":{"line":49,"column":42,"index":1286},"line":49,"code":"  it('should allow for vi-style navigation', () => new Promise(done => {\n    list.run().then(answer => {\n      expect(answer).toEqual('bar');\n      done();\n    });\n    rl.input.emit('keypress', 'j', {\n      name: 'j'\n    });\n    rl.input.emit('keypress', 'j', {\n      name: 'j'\n    });\n    rl.input.emit('keypress', 'k', {\n      name: 'k'\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/list.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow for emacs-style navigation","suites":["`list` prompt"],"updatePoint":{"line":65,"column":45,"index":1664},"line":65,"code":"  it('should allow for emacs-style navigation', () => new Promise(done => {\n    list.run().then(answer => {\n      expect(answer).toEqual('bar');\n      done();\n    });\n    rl.input.emit('keypress', 'n', {\n      name: 'n',\n      ctrl: true\n    });\n    rl.input.emit('keypress', 'n', {\n      name: 'n',\n      ctrl: true\n    });\n    rl.input.emit('keypress', 'p', {\n      name: 'p',\n      ctrl: true\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/list.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"loops to bottom when too far up","suites":["`list` prompt","going out of boundaries","when loop undefined / true"],"updatePoint":{"line":97,"column":41,"index":2443},"line":97,"code":"      it('loops to bottom when too far up', async () => {\n        const promise = list.run();\n        pressKey('up', 2);\n        const answer = await promise;\n        expect(answer).toEqual('bar');\n      });","file":"specs/prompts/list.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"loops to top when too far down","suites":["`list` prompt","going out of boundaries","when loop undefined / true"],"updatePoint":{"line":103,"column":40,"index":2650},"line":103,"code":"      it('loops to top when too far down', async () => {\n        const promise = list.run();\n        pressKey('down', 3);\n        const answer = await promise;\n        expect(answer).toEqual('foo');\n      });","file":"specs/prompts/list.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"stays at top when too far up","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":116,"column":38,"index":3029},"line":116,"code":"      it('stays at top when too far up', async () => {\n        const promise = list.run();\n        pressKey('up', 2);\n        const answer = await promise;\n        expect(answer).toEqual('foo');\n      });","file":"specs/prompts/list.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"stays at bottom when too far down","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":122,"column":43,"index":3239},"line":122,"code":"      it('stays at bottom when too far down', async () => {\n        const promise = list.run();\n        pressKey('down', 3);\n        const answer = await promise;\n        expect(answer).toEqual('bum');\n      });","file":"specs/prompts/list.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should require a choices array","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":130,"column":36,"index":3458},"line":130,"code":"  it('should require a choices array', () => {\n    expect(() => new List({\n      name: 'foo',\n      message: 'bar'\n    })).toThrow(/choices/);\n  });","file":"specs/prompts/list.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow a numeric default","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":136,"column":36,"index":3607},"line":136,"code":"  it('should allow a numeric default', () => new Promise(done => {\n    fixture.default = 1;\n    const list = new List(fixture, rl);\n    list.run().then(answer => {\n      expect(answer).toEqual('bar');\n      done();\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/list.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should work from a numeric default being the index","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":145,"column":56,"index":3878},"line":145,"code":"  it('should work from a numeric default being the index', () => new Promise(done => {\n    fixture.default = 1;\n    const list = new List(fixture, rl);\n    list.run().then(answer => {\n      expect(answer).toEqual('bum');\n      done();\n    });\n    rl.input.emit('keypress', '', {\n      name: 'down'\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/list.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow a string default being the value","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":157,"column":51,"index":4207},"line":157,"code":"  it('should allow a string default being the value', () => new Promise(done => {\n    fixture.default = 'bar';\n    const list = new List(fixture, rl);\n    list.run().then(answer => {\n      expect(answer).toEqual('bar');\n      done();\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/list.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should work from a string default","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":166,"column":39,"index":4465},"line":166,"code":"  it('should work from a string default', () => new Promise(done => {\n    fixture.default = 'bar';\n    const list = new List(fixture, rl);\n    list.run().then(answer => {\n      expect(answer).toEqual('bum');\n      done();\n    });\n    rl.input.emit('keypress', '', {\n      name: 'down'\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/list.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"shouldn't allow an invalid string default to change position","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":178,"column":66,"index":4813},"line":178,"code":"  it(\"shouldn't allow an invalid string default to change position\", () => new Promise(done => {\n    fixture.default = 'babar';\n    const list = new List(fixture, rl);\n    list.run().then(answer => {\n      expect(answer).toEqual('foo');\n      done();\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/list.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"shouldn't allow an invalid index as default","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":187,"column":49,"index":5083},"line":187,"code":"  it(\"shouldn't allow an invalid index as default\", () => new Promise(done => {\n    fixture.default = 4;\n    const list = new List(fixture, rl);\n    list.run().then(answer => {\n      expect(answer).toEqual('foo');\n      done();\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/list.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow 1-9 shortcut key","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":196,"column":35,"index":5333},"line":196,"code":"  it('should allow 1-9 shortcut key', () => new Promise(done => {\n    list.run().then(answer => {\n      expect(answer).toEqual('bar');\n      done();\n    });\n    rl.input.emit('keypress', '2');\n    rl.emit('line');\n  }));","file":"specs/prompts/list.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"pagination works with multiline choices","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":204,"column":45,"index":5564},"line":204,"code":"  it('pagination works with multiline choices', () => new Promise(done => {\n    const multilineFixture = {\n      message: 'message',\n      name: 'name',\n      choices: ['a\\n\\n', 'b\\n\\n']\n    };\n    const list = new List(multilineFixture, rl);\n    const spy = vi.spyOn(list.paginator, 'paginate');\n    list.run().then(answer => {\n      const realIndexPosition1 = spy.mock.calls[0][1];\n      const realIndexPosition2 = spy.mock.calls[1][1];\n\n      // 'a\\n\\n': 0th index, but pagination at 2nd index position due to 2 extra newlines\n      expect(realIndexPosition1).toEqual(2);\n      // 'b\\n\\n': 1st index, but pagination at 5th index position due to 4 extra newlines\n      expect(realIndexPosition2).toEqual(5);\n      expect(answer).toEqual('b\\n\\n');\n      done();\n    });\n    rl.input.emit('keypress', '', {\n      name: 'down'\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/list.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"paginator uses non infinite version with loop:false","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":228,"column":57,"index":6438},"line":228,"code":"  it('paginator uses non infinite version with loop:false', () => {\n    const list = new List({\n      name: 'numbers',\n      choices: [1, 2, 3],\n      loop: false\n    }, rl);\n    expect(list.paginator.isInfinite).equal(false);\n  });","file":"specs/prompts/list.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should provide answers in the \"filter\" callback option","suites":["`list` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":236,"column":60,"index":6674},"line":236,"code":"  it('should provide answers in the \"filter\" callback option', () => new Promise(done => {\n    const answers = {};\n    fixture.filter = function () {\n      return true;\n    };\n    vi.spyOn(fixture, 'filter');\n    const list = new List(fixture, rl, answers);\n    list.run().then(() => {\n      const spyCall = fixture.filter.mock.calls[0];\n      expect(spyCall[1]).toEqual(answers);\n      done();\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/list.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse the largest number","suites":["`number` prompt"],"updatePoint":{"line":18,"column":37,"index":540},"line":18,"code":"  it('should parse the largest number', () => new Promise(done => {\n    number.run().then(answer => {\n      expect(answer).toEqual(Number.MAX_SAFE_INTEGER);\n      done();\n    });\n    rl.emit('line', String(Number.MAX_SAFE_INTEGER));\n  }));","file":"specs/prompts/number.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse the smallest number","suites":["`number` prompt"],"updatePoint":{"line":25,"column":38,"index":781},"line":25,"code":"  it('should parse the smallest number', () => new Promise(done => {\n    number.run().then(answer => {\n      expect(answer).toEqual(Number.MIN_SAFE_INTEGER);\n      done();\n    });\n    rl.emit('line', String(Number.MIN_SAFE_INTEGER));\n  }));","file":"specs/prompts/number.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse an integer","suites":["`number` prompt"],"updatePoint":{"line":32,"column":29,"index":1013},"line":32,"code":"  it('should parse an integer', () => new Promise(done => {\n    number.run().then(answer => {\n      expect(answer).toEqual(42);\n      done();\n    });\n    rl.emit('line', '42');\n  }));","file":"specs/prompts/number.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse a negative integer","suites":["`number` prompt"],"updatePoint":{"line":39,"column":37,"index":1205},"line":39,"code":"  it('should parse a negative integer', () => new Promise(done => {\n    number.run().then(answer => {\n      expect(answer).toEqual(-363);\n      done();\n    });\n    rl.emit('line', '-363');\n  }));","file":"specs/prompts/number.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse a positive float","suites":["`number` prompt"],"updatePoint":{"line":46,"column":35,"index":1399},"line":46,"code":"  it('should parse a positive float', () => new Promise(done => {\n    number.run().then(answer => {\n      expect(answer).toBeCloseTo(4353.43, ACCEPTABLE_ERROR);\n      done();\n    });\n    rl.emit('line', '4353.43');\n  }));","file":"specs/prompts/number.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse a negative float","suites":["`number` prompt"],"updatePoint":{"line":53,"column":35,"index":1621},"line":53,"code":"  it('should parse a negative float', () => new Promise(done => {\n    number.run().then(answer => {\n      expect(answer).toBeCloseTo(-4353.43, ACCEPTABLE_ERROR);\n      done();\n    });\n    rl.emit('line', '-4353.43');\n  }));","file":"specs/prompts/number.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse a float with no digits before the decimal","suites":["`number` prompt"],"updatePoint":{"line":60,"column":60,"index":1870},"line":60,"code":"  it('should parse a float with no digits before the decimal', () => new Promise(done => {\n    number.run().then(answer => {\n      expect(answer).toBeCloseTo(0.01264, ACCEPTABLE_ERROR);\n      done();\n    });\n    rl.emit('line', '.01264');\n  }));","file":"specs/prompts/number.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse a float with no digits after the decimal","suites":["`number` prompt"],"updatePoint":{"line":67,"column":59,"index":2115},"line":67,"code":"  it('should parse a float with no digits after the decimal', () => new Promise(done => {\n    number.run().then(answer => {\n      expect(answer).toBeCloseTo(1234.0, ACCEPTABLE_ERROR);\n      done();\n    });\n    rl.emit('line', '1234.');\n  }));","file":"specs/prompts/number.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse a float with exponents","suites":["`number` prompt"],"updatePoint":{"line":74,"column":41,"index":2340},"line":74,"code":"  it('should parse a float with exponents', () => new Promise(done => {\n    number.run().then(answer => {\n      expect(answer).toBeCloseTo(534e12, ACCEPTABLE_ERROR);\n      done();\n    });\n    rl.emit('line', '534e12');\n  }));","file":"specs/prompts/number.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse any other string as NaN","suites":["`number` prompt"],"updatePoint":{"line":81,"column":42,"index":2567},"line":81,"code":"  it('should parse any other string as NaN', () => new Promise(done => {\n    number.run().then(answer => {\n      expect(answer).toBeNaN();\n      done();\n    });\n    rl.emit('line', 'The cat');\n  }));","file":"specs/prompts/number.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should parse the empty string as NaN","suites":["`number` prompt"],"updatePoint":{"line":88,"column":42,"index":2767},"line":88,"code":"  it('should parse the empty string as NaN', () => new Promise(done => {\n    number.run().then(answer => {\n      expect(answer).toBeNaN();\n      done();\n    });\n    rl.emit('line', '');\n  }));","file":"specs/prompts/number.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should return default value if it is set on a bad input","suites":["`number` prompt"],"updatePoint":{"line":95,"column":61,"index":2979},"line":95,"code":"  it('should return default value if it is set on a bad input', () => new Promise(done => {\n    number.opt.default = 11;\n    number.run().then(answer => {\n      expect(answer).toEqual(11);\n      done();\n    });\n    rl.input.emit('keypress', 'a', {\n      name: 'a'\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/number.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should use raw value from the user without masking","suites":["`password` prompt"],"updatePoint":{"line":27,"column":56,"index":796},"line":27,"code":"  it('should use raw value from the user without masking', () => {\n    const password = new Password(fixture, rl);\n    const promise = password.run().then(testMasking(rl, false));\n    rl.emit('line', 'Inquirer');\n    return promise;\n  });","file":"specs/prompts/password.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should mask the input with \"*\" if the `mask` option was provided by the user was `true`","suites":["`password` prompt"],"updatePoint":{"line":33,"column":93,"index":1072},"line":33,"code":"  it('should mask the input with \"*\" if the `mask` option was provided by the user was `true`', () => {\n    fixture.mask = true;\n    const password = new Password(fixture, rl);\n    const promise = password.run().then(testMasking(rl, '********'));\n    rl.emit('line', 'Inquirer');\n    return promise;\n  });","file":"specs/prompts/password.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should mask the input if a `mask` string was provided by the user","suites":["`password` prompt"],"updatePoint":{"line":40,"column":71,"index":1356},"line":40,"code":"  it('should mask the input if a `mask` string was provided by the user', () => {\n    fixture.mask = '#';\n    const password = new Password(fixture, rl);\n    const promise = password.run().then(testMasking(rl, '########'));\n    rl.emit('line', 'Inquirer');\n    return promise;\n  });","file":"specs/prompts/password.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"Preserves default","suites":["`password` prompt"],"updatePoint":{"line":47,"column":23,"index":1591},"line":47,"code":"  it('Preserves default', () => {\n    fixture.default = 'Inquirer';\n    const password = new Password(fixture, rl);\n    const promise = password.run().then(answer => expect(answer).toEqual('Inquirer'));\n    rl.emit('line', '');\n    return promise;\n  });","file":"specs/prompts/password.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"Clears default on keypress","suites":["`password` prompt"],"updatePoint":{"line":54,"column":32,"index":1854},"line":54,"code":"  it('Clears default on keypress', () => {\n    fixture.default = 'Inquirer';\n    const password = new Password(fixture, rl);\n    const promise = password.run().then(answer => expect(answer).toEqual(''));\n    password.onKeypress({\n      name: 'backspace'\n    });\n    rl.emit('line', '');\n    return promise;\n  });","file":"specs/prompts/password.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should not display input during async validation","suites":["`password` prompt"],"updatePoint":{"line":66,"column":54,"index":2253},"line":66,"code":"  it('should not display input during async validation', () => {\n    let output = '';\n    let renderCount = 0;\n    fixture.validate = () => new Promise(resolve => {\n      const id = setInterval(() => {\n        // Make sure we render at least once.\n        if (renderCount > 1) {\n          clearInterval(id);\n          resolve(true);\n        }\n      }, 10);\n    });\n    const password = new Password(fixture, rl);\n    const input = 'wvAq82yVujm5S9pf';\n\n    // Override screen.render to capture all output\n    const {\n      screen\n    } = password;\n    const {\n      render\n    } = screen;\n    screen.render = (...args) => {\n      output += stripAnsi(args.join(''));\n      renderCount += 1;\n      return render.call(screen, ...args);\n    };\n\n    /* This test should fail if you uncomment this line: */\n    // password.getSpinningValue = (value) => value;\n\n    const promise = password.run().then(answer => {\n      expect(output).not.toContain(input);\n      expect(answer).toEqual(input);\n    });\n    rl.emit('line', input);\n    return promise;\n  });","file":"specs/prompts/password.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should default to first choice","suites":["`rawlist` prompt"],"updatePoint":{"line":17,"column":36,"index":502},"line":17,"code":"  it('should default to first choice', () => new Promise(done => {\n    rawlist.run().then(answer => {\n      expect(answer).toEqual('foo');\n      done();\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/rawlist.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should select given index","suites":["`rawlist` prompt"],"updatePoint":{"line":24,"column":31,"index":686},"line":24,"code":"  it('should select given index', () => new Promise(done => {\n    rawlist.run().then(answer => {\n      expect(answer).toEqual('bar');\n      done();\n    });\n    rl.emit('line', '2');\n  }));","file":"specs/prompts/rawlist.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should not allow invalid index","suites":["`rawlist` prompt"],"updatePoint":{"line":31,"column":36,"index":880},"line":31,"code":"  it('should not allow invalid index', () => {\n    const promise = rawlist.run();\n    rl.emit('line', 'blah');\n    setTimeout(() => {\n      rl.emit('line', '1');\n    }, 10);\n    return promise;\n  });","file":"specs/prompts/rawlist.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should require a choices array","suites":["`rawlist` prompt"],"updatePoint":{"line":39,"column":36,"index":1080},"line":39,"code":"  it('should require a choices array', () => {\n    const mkPrompt = function () {\n      return new Rawlist({\n        name: 'foo',\n        message: 'bar'\n      });\n    };\n    expect(mkPrompt).toThrow(/choices/);\n  });","file":"specs/prompts/rawlist.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow a default index","suites":["`rawlist` prompt"],"updatePoint":{"line":48,"column":34,"index":1295},"line":48,"code":"  it('should allow a default index', () => new Promise(done => {\n    fixture.default = 1;\n    const list = new Rawlist(fixture, rl);\n    list.run().then(answer => {\n      expect(answer).toEqual('bar');\n      done();\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/rawlist.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"shouldn't allow an invalid index as default","suites":["`rawlist` prompt"],"updatePoint":{"line":57,"column":49,"index":1562},"line":57,"code":"  it(\"shouldn't allow an invalid index as default\", () => new Promise(done => {\n    fixture.default = 4;\n    const list = new Rawlist(fixture, rl);\n    list.run().then(answer => {\n      expect(answer).toEqual('foo');\n      done();\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/rawlist.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow string default being the value","suites":["`rawlist` prompt"],"updatePoint":{"line":66,"column":49,"index":1829},"line":66,"code":"  it('should allow string default being the value', () => new Promise(done => {\n    fixture.default = 'bum';\n    const list = new Rawlist(fixture, rl);\n    list.run().then(answer => {\n      expect(answer).toEqual('bum');\n      done();\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/rawlist.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"shouldn't allow an invalid string default to change position","suites":["`rawlist` prompt"],"updatePoint":{"line":75,"column":66,"index":2117},"line":75,"code":"  it(\"shouldn't allow an invalid string default to change position\", () => new Promise(done => {\n    fixture.default = 'bumby';\n    const list = new Rawlist(fixture, rl);\n    list.run().then(answer => {\n      expect(answer).toEqual('foo');\n      done();\n    });\n    rl.emit('line');\n  }));","file":"specs/prompts/rawlist.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow for arrow navigation","suites":["`rawlist` prompt"],"updatePoint":{"line":84,"column":39,"index":2380},"line":84,"code":"  it('should allow for arrow navigation', () => new Promise(done => {\n    rawlist.run().then(answer => {\n      expect(answer).toEqual('bar');\n      done();\n    });\n    rl.input.emit('keypress', '', {\n      name: 'down'\n    });\n    rl.input.emit('keypress', '', {\n      name: 'down'\n    });\n    rl.input.emit('keypress', '', {\n      name: 'up'\n    });\n    rl.emit('line', rl.line);\n  }));","file":"specs/prompts/rawlist.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"should allow for arrow navigation after invalid input","suites":["`rawlist` prompt"],"updatePoint":{"line":100,"column":59,"index":2788},"line":100,"code":"  it('should allow for arrow navigation after invalid input', () => new Promise(done => {\n    rawlist.run().then(answer => {\n      expect(answer).toEqual('bar');\n      done();\n    }).catch(done);\n    rl.emit('line', 'blah');\n    rl.input.emit('keypress', '', {\n      name: 'down'\n    });\n    rl.input.emit('keypress', '', {\n      name: 'down'\n    });\n    rl.input.emit('keypress', '', {\n      name: 'up'\n    });\n    rl.emit('line', rl.line);\n  }));","file":"specs/prompts/rawlist.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"loops to bottom when too far up","suites":["`rawlist` prompt","going out of boundaries","when loop undefined / true"],"updatePoint":{"line":130,"column":41,"index":3579},"line":130,"code":"      it('loops to bottom when too far up', async () => {\n        const promise = rawlist.run();\n        pressKey('up', 2);\n        const answer = await promise;\n        expect(answer).toEqual('bar');\n      });","file":"specs/prompts/rawlist.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"loops to top when too far down","suites":["`rawlist` prompt","going out of boundaries","when loop undefined / true"],"updatePoint":{"line":136,"column":40,"index":3789},"line":136,"code":"      it('loops to top when too far down', async () => {\n        const promise = rawlist.run();\n        pressKey('down', 3);\n        const answer = await promise;\n        expect(answer).toEqual('foo');\n      });","file":"specs/prompts/rawlist.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"stays at top when too far up","suites":["`rawlist` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":149,"column":38,"index":4177},"line":149,"code":"      it('stays at top when too far up', async () => {\n        const promise = rawlist.run();\n        pressKey('up', 2);\n        const answer = await promise;\n        expect(answer).toEqual('foo');\n      });","file":"specs/prompts/rawlist.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"stays at bottom when too far down","suites":["`rawlist` prompt","going out of boundaries","when loop: false"],"updatePoint":{"line":155,"column":43,"index":4390},"line":155,"code":"      it('stays at bottom when too far down', async () => {\n        const promise = rawlist.run();\n        pressKey('down', 3);\n        const answer = await promise;\n        expect(answer).toEqual('bum');\n      });","file":"specs/prompts/rawlist.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"does nothing if output is smaller than page size","suites":["paginator"],"updatePoint":{"line":46,"column":54,"index":693},"line":46,"code":"  it('does nothing if output is smaller than page size', () => {\n    expect(paginator.paginate(output, 0, endIndex + 1)).equal(output);\n  });","file":"specs/utils/paginator.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"paginate returns slice of lines","suites":["paginator"],"updatePoint":{"line":49,"column":37,"index":818},"line":49,"code":"  it('paginate returns slice of lines', () => {\n    expect(getPage(paginator, 0)).equal(`\\\na\nb\nc`);\n  });","file":"specs/utils/paginator.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"slice has offset after later pages are rendered","suites":["paginator"],"updatePoint":{"line":55,"column":53,"index":940},"line":55,"code":"  it('slice has offset after later pages are rendered', () => {\n    expect(getPage(paginator, 0)).equal(`\\\na\nb\nc`);\n    expect(getPage(paginator, 1)).equal(`\\\na\nb\nc`);\n    expect(getPage(paginator, 2)).equal(`\\\nb\nc\nd`);\n  });","file":"specs/utils/paginator.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"slice offset does not reset","suites":["paginator"],"updatePoint":{"line":69,"column":33,"index":1146},"line":69,"code":"  it('slice offset does not reset', () => {\n    expect(getPage(paginator, 2));\n    expect(getPage(paginator, 0)).equal(`\\\nz\na\nb`);\n  });","file":"specs/utils/paginator.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"shows start for as long as possible","suites":["paginator","non infinite mode"],"updatePoint":{"line":82,"column":43,"index":1445},"line":82,"code":"    it('shows start for as long as possible', () => {\n      expect(getPage(paginator, 0)).equal(`\\\na\nb\nc`);\n      expect(getPage(paginator, 1)).equal(`\\\na\nb\nc`);\n      expect(getPage(paginator, 2)).equal(`\\\na\nb\nc`);\n      expect(getPage(paginator, 3)).equal(`\\\nb\nc\nd`);\n    });","file":"specs/utils/paginator.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"slice offset does reset","suites":["paginator","non infinite mode"],"updatePoint":{"line":100,"column":31,"index":1711},"line":100,"code":"    it('slice offset does reset', () => {\n      getPage(paginator, 3);\n      expect(getPage(paginator, 0)).equal(`\\\na\nb\nc`);\n    });","file":"specs/utils/paginator.test.js","skipped":false,"dir":"packages/inquirer/test"},{"name":"aligns end to bottom","suites":["paginator","non infinite mode"],"updatePoint":{"line":107,"column":28,"index":1841},"line":107,"code":"    it('aligns end to bottom', () => {\n      expect(getPage(paginator, endIndex - 3)).equal(`\\\nu\nv\nw`);\n      expect(getPage(paginator, endIndex - 2)).equal(`\\\nv\nw\nx`);\n      expect(getPage(paginator, endIndex - 1)).equal(`\\\nw\nx\ny`);\n      expect(getPage(paginator, endIndex)).equal(`\\\nx\ny\nz`);\n    });","file":"specs/utils/paginator.test.js","skipped":false,"dir":"packages/inquirer/test"}]}