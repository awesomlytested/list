{
    "repo": "aws-amplify/amplify-js",
    "url": "https://github.com/aws-amplify/amplify-js",
    "branch": "main",
    "configs": [
        {
            "package": "amazon-cognito-identity-js",
            "lang": "js",
            "dir": "packages/amazon-cognito-identity-js/__tests__",
            "framework": "jest",
            "pattern": "**/*[._-]{test,spec,unittest,unit}.{ts,js}"
        },
        {
            "package": "@aws-amplify/ui-react",
            "lang": "js",
            "dir": "packages/amplify-ui-react/__tests__",
            "framework": "jest",
            "pattern": "**/*.{js,ts}"
        },
        {
            "package": "@aws-amplify/analytics",
            "lang": "ts",
            "dir": "packages/analytics/__tests__",
            "framework": "jest",
            "pattern": "**/*[._-]{test,spec,unittest,unit}.{ts,js}"
        },
        {
            "package": "@aws-amplify/api-graphql",
            "lang": "ts",
            "dir": "packages/api-graphql/__tests__",
            "framework": "jest",
            "pattern": "**/*[._-]{test,spec,unittest,unit}.{ts,js}"
        },
        {
            "package": "@aws-amplify/api-rest",
            "lang": "ts",
            "dir": "packages/api-rest/__tests__",
            "framework": "jest",
            "pattern": "**/*[._-]{test,spec,unittest,unit}.{ts,js}"
        },
        {
            "package": "@aws-amplify/api",
            "lang": "ts",
            "dir": "packages/api/__tests__",
            "framework": "jest",
            "pattern": "**/*[._-]{test,spec,unittest,unit}.{ts,js}"
        },
        {
            "package": "@aws-amplify/auth",
            "lang": "ts",
            "dir": "packages/auth/__tests__",
            "framework": "jest",
            "pattern": "**/*[._-]{test,spec,unittest,unit}.{ts,js}"
        },
        {
            "package": "aws-amplify-angular",
            "lang": "js",
            "dir": "packages/aws-amplify-angular/src/__tests__",
            "framework": "jest",
            "pattern": "**/*[._-]{test,spec,unittest,unit}.{ts,js}"
        },
        {
            "package": "aws-amplify-react",
            "lang": "js",
            "dir": "packages/aws-amplify-react/__tests__",
            "framework": "jest",
            "pattern": "**/*.{js,ts}"
        },
        {
            "package": "aws-amplify-vue",
            "lang": "js",
            "dir": "packages/aws-amplify-vue/__tests__",
            "framework": "jest",
            "pattern": "**/*[._-]{test,spec,unittest,unit}.{ts,js}"
        },
        {
            "package": "aws-amplify",
            "lang": "ts",
            "dir": "packages/aws-amplify/__tests__",
            "framework": "jest",
            "pattern": "**/*[._-]{test,spec,unittest,unit}.{ts,js}"
        },
        {
            "package": "@aws-amplify/cache",
            "lang": "ts",
            "dir": "packages/cache/__tests__",
            "framework": "jest",
            "pattern": "**/*[._-]{test,spec,unittest,unit}.{ts,js}"
        },
        {
            "package": "@aws-amplify/core",
            "lang": "ts",
            "dir": "packages/core/__tests__",
            "framework": "jest",
            "pattern": "**/*[._-]{test,spec,unittest,unit}.{ts,js}"
        },
        {
            "package": "@aws-amplify/datastore-storage-adapter",
            "lang": "ts",
            "dir": "packages/datastore-storage-adapter/__tests__",
            "framework": "jest",
            "pattern": "**/*[._-]{test,spec,unittest,unit}.{ts,js}"
        },
        {
            "package": "@aws-amplify/datastore",
            "lang": "ts",
            "dir": "packages/datastore/__tests__",
            "framework": "jest",
            "pattern": "**/*[._-]{test,spec,unittest,unit}.{ts,js}"
        },
        {
            "package": "@aws-amplify/geo",
            "lang": "ts",
            "dir": "packages/geo/__tests__",
            "framework": "jest",
            "pattern": "**/*[._-]{test,spec,unittest,unit}.{ts,js}"
        },
        {
            "package": "@aws-amplify/interactions",
            "lang": "ts",
            "dir": "packages/interactions/__tests__",
            "framework": "jest",
            "pattern": "**/*[._-]{test,spec,unittest,unit}.{ts,js}"
        },
        {
            "package": "@aws-amplify/predictions",
            "lang": "ts",
            "dir": "packages/predictions/__tests__",
            "framework": "jest",
            "pattern": "**/*[._-]{test,spec,unittest,unit}.{ts,js}"
        },
        {
            "package": "@aws-amplify/pubsub",
            "lang": "ts",
            "dir": "packages/pubsub/__tests__",
            "framework": "jest",
            "pattern": "**/*[._-]{test,spec,unittest,unit}.{ts,js}"
        },
        {
            "package": "@aws-amplify/pushnotification",
            "lang": "ts",
            "dir": "packages/pushnotification/__tests__",
            "framework": "jest",
            "pattern": "**/*[._-]{test,spec,unittest,unit}.{ts,js}"
        },
        {
            "package": "@aws-amplify/storage",
            "lang": "ts",
            "dir": "packages/storage/__tests__",
            "framework": "jest",
            "pattern": "**/*[._-]{test,spec,unittest,unit}.{ts,js}"
        },
        {
            "package": "@aws-amplify/xr",
            "lang": "ts",
            "dir": "packages/xr/__tests__",
            "framework": "jest",
            "pattern": "**/*[._-]{test,spec,unittest,unit}.{ts,js}"
        }
    ],
    "tests": [
        {
            "name": "getUsername() should return the instance username",
            "suites": [
                "AuthenticationDetails getter methods"
            ],
            "updatePoint": {
                "line": 5,
                "column": 57,
                "index": 292
            },
            "line": 5,
            "code": "  test('getUsername() should return the instance username', () => {\n    expect(authDetails.getUsername()).toEqual(authDetailData.Username);\n  });",
            "file": "AuthenticationDetails.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "getPassword()",
            "suites": [
                "AuthenticationDetails getter methods"
            ],
            "updatePoint": {
                "line": 8,
                "column": 21,
                "index": 402
            },
            "line": 8,
            "code": "  test('getPassword()', () => {\n    expect(authDetails.getPassword()).toEqual(authDetailData.Password);\n  });",
            "file": "AuthenticationDetails.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "getValidationData()",
            "suites": [
                "AuthenticationDetails getter methods"
            ],
            "updatePoint": {
                "line": 11,
                "column": 27,
                "index": 518
            },
            "line": 11,
            "code": "  test('getValidationData()', () => {\n    expect(authDetails.getValidationData()).toEqual(authDetailData.ValidationData);\n  });",
            "file": "AuthenticationDetails.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "getAuthParameters()",
            "suites": [
                "AuthenticationDetails getter methods"
            ],
            "updatePoint": {
                "line": 14,
                "column": 27,
                "index": 646
            },
            "line": 14,
            "code": "  test('getAuthParameters()', () => {\n    expect(authDetails.getAuthParameters()).toEqual(authDetailData.AuthParameters);\n  });",
            "file": "AuthenticationDetails.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "getClientMetadata()",
            "suites": [
                "AuthenticationDetails getter methods"
            ],
            "updatePoint": {
                "line": 17,
                "column": 27,
                "index": 774
            },
            "line": 17,
            "code": "  test('getClientMetadata()', () => {\n    expect(authDetails.getClientMetadata()).toEqual(authDetailData.ClientMetadata);\n  });",
            "file": "AuthenticationDetails.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "padHex(bigInteger.fromInt(%p))\t=== %p",
            "suites": [
                "AuthenticatorHelper for padHex "
            ],
            "line": 31,
            "code": "  test.each([[-256, 'FF00'], [-255, 'FF01'], [-254, 'FF02'], [-253, 'FF03'], [-252, 'FF04'], [-251, 'FF05'], [-250, 'FF06'], [-249, 'FF07'], [-248, 'FF08'], [-247, 'FF09'], [-246, 'FF0A'], [-245, 'FF0B'], [-244, 'FF0C'], [-243, 'FF0D'], [-242, 'FF0E'], [-241, 'FF0F'], [-240, 'FF10'], [-239, 'FF11'], [-238, 'FF12'], [-237, 'FF13'], [-236, 'FF14'], [-235, 'FF15'], [-234, 'FF16'], [-233, 'FF17'], [-232, 'FF18'], [-231, 'FF19'], [-230, 'FF1A'], [-229, 'FF1B'], [-228, 'FF1C'], [-227, 'FF1D'], [-226, 'FF1E'], [-225, 'FF1F'], [-224, 'FF20'], [-223, 'FF21'], [-222, 'FF22'], [-221, 'FF23'], [-220, 'FF24'], [-219, 'FF25'], [-218, 'FF26'], [-217, 'FF27'], [-216, 'FF28'], [-215, 'FF29'], [-214, 'FF2A'], [-213, 'FF2B'], [-212, 'FF2C'], [-211, 'FF2D'], [-210, 'FF2E'], [-209, 'FF2F'], [-208, 'FF30'], [-207, 'FF31'], [-206, 'FF32'], [-205, 'FF33'], [-204, 'FF34'], [-203, 'FF35'], [-202, 'FF36'], [-201, 'FF37'], [-200, 'FF38'], [-199, 'FF39'], [-198, 'FF3A'], [-197, 'FF3B'], [-196, 'FF3C'], [-195, 'FF3D'], [-194, 'FF3E'], [-193, 'FF3F'], [-192, 'FF40'], [-191, 'FF41'], [-190, 'FF42'], [-189, 'FF43'], [-188, 'FF44'], [-187, 'FF45'], [-186, 'FF46'], [-185, 'FF47'], [-184, 'FF48'], [-183, 'FF49'], [-182, 'FF4A'], [-181, 'FF4B'], [-180, 'FF4C'], [-179, 'FF4D'], [-178, 'FF4E'], [-177, 'FF4F'], [-176, 'FF50'], [-175, 'FF51'], [-174, 'FF52'], [-173, 'FF53'], [-172, 'FF54'], [-171, 'FF55'], [-170, 'FF56'], [-169, 'FF57'], [-168, 'FF58'], [-167, 'FF59'], [-166, 'FF5A'], [-165, 'FF5B'], [-164, 'FF5C'], [-163, 'FF5D'], [-162, 'FF5E'], [-161, 'FF5F'], [-160, 'FF60'], [-159, 'FF61'], [-158, 'FF62'], [-157, 'FF63'], [-156, 'FF64'], [-155, 'FF65'], [-154, 'FF66'], [-153, 'FF67'], [-152, 'FF68'], [-151, 'FF69'], [-150, 'FF6A'], [-149, 'FF6B'], [-148, 'FF6C'], [-147, 'FF6D'], [-146, 'FF6E'], [-145, 'FF6F'], [-144, 'FF70'], [-143, 'FF71'], [-142, 'FF72'], [-141, 'FF73'], [-140, 'FF74'], [-139, 'FF75'], [-138, 'FF76'], [-137, 'FF77'], [-136, 'FF78'], [-135, 'FF79'], [-134, 'FF7A'], [-133, 'FF7B'], [-132, 'FF7C'], [-131, 'FF7D'], [-130, 'FF7E'], [-129, 'FF7F'], [-128, '80'], [-127, '81'], [-126, '82'], [-125, '83'], [-124, '84'], [-123, '85'], [-122, '86'], [-121, '87'], [-120, '88'], [-119, '89'], [-118, '8A'], [-117, '8B'], [-116, '8C'], [-115, '8D'], [-114, '8E'], [-113, '8F'], [-112, '90'], [-111, '91'], [-110, '92'], [-109, '93'], [-108, '94'], [-107, '95'], [-106, '96'], [-105, '97'], [-104, '98'], [-103, '99'], [-102, '9A'], [-101, '9B'], [-100, '9C'], [-99, '9D'], [-98, '9E'], [-97, '9F'], [-96, 'A0'], [-95, 'A1'], [-94, 'A2'], [-93, 'A3'], [-92, 'A4'], [-91, 'A5'], [-90, 'A6'], [-89, 'A7'], [-88, 'A8'], [-87, 'A9'], [-86, 'AA'], [-85, 'AB'], [-84, 'AC'], [-83, 'AD'], [-82, 'AE'], [-81, 'AF'], [-80, 'B0'], [-79, 'B1'], [-78, 'B2'], [-77, 'B3'], [-76, 'B4'], [-75, 'B5'], [-74, 'B6'], [-73, 'B7'], [-72, 'B8'], [-71, 'B9'], [-70, 'BA'], [-69, 'BB'], [-68, 'BC'], [-67, 'BD'], [-66, 'BE'], [-65, 'BF'], [-64, 'C0'], [-63, 'C1'], [-62, 'C2'], [-61, 'C3'], [-60, 'C4'], [-59, 'C5'], [-58, 'C6'], [-57, 'C7'], [-56, 'C8'], [-55, 'C9'], [-54, 'CA'], [-53, 'CB'], [-52, 'CC'], [-51, 'CD'], [-50, 'CE'], [-49, 'CF'], [-48, 'D0'], [-47, 'D1'], [-46, 'D2'], [-45, 'D3'], [-44, 'D4'], [-43, 'D5'], [-42, 'D6'], [-41, 'D7'], [-40, 'D8'], [-39, 'D9'], [-38, 'DA'], [-37, 'DB'], [-36, 'DC'], [-35, 'DD'], [-34, 'DE'], [-33, 'DF'], [-32, 'E0'], [-31, 'E1'], [-30, 'E2'], [-29, 'E3'], [-28, 'E4'], [-27, 'E5'], [-26, 'E6'], [-25, 'E7'], [-24, 'E8'], [-23, 'E9'], [-22, 'EA'], [-21, 'EB'], [-20, 'EC'], [-19, 'ED'], [-18, 'EE'], [-17, 'EF'], [-16, 'F0'], [-15, 'F1'], [-14, 'F2'], [-13, 'F3'], [-12, 'F4'], [-11, 'F5'], [-10, 'F6'], [-9, 'F7'], [-8, 'F8'], [-7, 'F9'], [-6, 'FA'], [-5, 'FB'], [-4, 'FC'], [-3, 'FD'], [-2, 'FE'], [-1, 'FF'], [0, '00'], [1, '01'], [2, '02'], [3, '03'], [4, '04'], [5, '05'], [6, '06'], [7, '07'], [8, '08'], [9, '09'], [10, '0A'], [11, '0B'], [12, '0C'], [13, '0D'], [14, '0E'], [15, '0F'], [16, '10'], [17, '11'], [18, '12'], [19, '13'], [20, '14'], [21, '15'], [22, '16'], [23, '17'], [24, '18'], [25, '19'], [26, '1A'], [27, '1B'], [28, '1C'], [29, '1D'], [30, '1E'], [31, '1F'], [32, '20'], [33, '21'], [34, '22'], [35, '23'], [36, '24'], [37, '25'], [38, '26'], [39, '27'], [40, '28'], [41, '29'], [42, '2A'], [43, '2B'], [44, '2C'], [45, '2D'], [46, '2E'], [47, '2F'], [48, '30'], [49, '31'], [50, '32'], [51, '33'], [52, '34'], [53, '35'], [54, '36'], [55, '37'], [56, '38'], [57, '39'], [58, '3A'], [59, '3B'], [60, '3C'], [61, '3D'], [62, '3E'], [63, '3F'], [64, '40'], [65, '41'], [66, '42'], [67, '43'], [68, '44'], [69, '45'], [70, '46'], [71, '47'], [72, '48'], [73, '49'], [74, '4A'], [75, '4B'], [76, '4C'], [77, '4D'], [78, '4E'], [79, '4F'], [80, '50'], [81, '51'], [82, '52'], [83, '53'], [84, '54'], [85, '55'], [86, '56'], [87, '57'], [88, '58'], [89, '59'], [90, '5A'], [91, '5B'], [92, '5C'], [93, '5D'], [94, '5E'], [95, '5F'], [96, '60'], [97, '61'], [98, '62'], [99, '63'], [100, '64'], [101, '65'], [102, '66'], [103, '67'], [104, '68'], [105, '69'], [106, '6A'], [107, '6B'], [108, '6C'], [109, '6D'], [110, '6E'], [111, '6F'], [112, '70'], [113, '71'], [114, '72'], [115, '73'], [116, '74'], [117, '75'], [118, '76'], [119, '77'], [120, '78'], [121, '79'], [122, '7A'], [123, '7B'], [124, '7C'], [125, '7D'], [126, '7E'], [127, '7F'], [128, '0080'], [129, '0081'], [130, '0082'], [131, '0083'], [132, '0084'], [133, '0085'], [134, '0086'], [135, '0087'], [136, '0088'], [137, '0089'], [138, '008A'], [139, '008B'], [140, '008C'], [141, '008D'], [142, '008E'], [143, '008F'], [144, '0090'], [145, '0091'], [146, '0092'], [147, '0093'], [148, '0094'], [149, '0095'], [150, '0096'], [151, '0097'], [152, '0098'], [153, '0099'], [154, '009A'], [155, '009B'], [156, '009C'], [157, '009D'], [158, '009E'], [159, '009F'], [160, '00A0'], [161, '00A1'], [162, '00A2'], [163, '00A3'], [164, '00A4'], [165, '00A5'], [166, '00A6'], [167, '00A7'], [168, '00A8'], [169, '00A9'], [170, '00AA'], [171, '00AB'], [172, '00AC'], [173, '00AD'], [174, '00AE'], [175, '00AF'], [176, '00B0'], [177, '00B1'], [178, '00B2'], [179, '00B3'], [180, '00B4'], [181, '00B5'], [182, '00B6'], [183, '00B7'], [184, '00B8'], [185, '00B9'], [186, '00BA'], [187, '00BB'], [188, '00BC'], [189, '00BD'], [190, '00BE'], [191, '00BF'], [192, '00C0'], [193, '00C1'], [194, '00C2'], [195, '00C3'], [196, '00C4'], [197, '00C5'], [198, '00C6'], [199, '00C7'], [200, '00C8'], [201, '00C9'], [202, '00CA'], [203, '00CB'], [204, '00CC'], [205, '00CD'], [206, '00CE'], [207, '00CF'], [208, '00D0'], [209, '00D1'], [210, '00D2'], [211, '00D3'], [212, '00D4'], [213, '00D5'], [214, '00D6'], [215, '00D7'], [216, '00D8'], [217, '00D9'], [218, '00DA'], [219, '00DB'], [220, '00DC'], [221, '00DD'], [222, '00DE'], [223, '00DF'], [224, '00E0'], [225, '00E1'], [226, '00E2'], [227, '00E3'], [228, '00E4'], [229, '00E5'], [230, '00E6'], [231, '00E7'], [232, '00E8'], [233, '00E9'], [234, '00EA'], [235, '00EB'], [236, '00EC'], [237, '00ED'], [238, '00EE'], [239, '00EF'], [240, '00F0'], [241, '00F1'], [242, '00F2'], [243, '00F3'], [244, '00F4'], [245, '00F5'], [246, '00F6'], [247, '00F7'], [248, '00F8'], [249, '00F9'], [250, '00FA'], [251, '00FB'], [252, '00FC'], [253, '00FD'], [254, '00FE'], [255, '00FF'], [256, '0100']])('padHex(bigInteger.fromInt(%p))\\t=== %p', (i, expected) => {\n    const bigInt = new BigInteger();\n    bigInt.fromInt(i);\n    const x = instance.padHex(bigInt);\n    expect(x.toLowerCase()).toBe(expected.toLowerCase());\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "getSmallA() should match the instance variable",
            "suites": [
                "Getters for AuthHelper class"
            ],
            "updatePoint": {
                "line": 39,
                "column": 54,
                "index": 8619
            },
            "line": 39,
            "code": "  test('getSmallA() should match the instance variable', () => {\n    expect(instance.getSmallAValue()).toBe(instance.smallAValue);\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "getRandomPassword() should match instance variable",
            "suites": [
                "Getters for AuthHelper class"
            ],
            "updatePoint": {
                "line": 42,
                "column": 58,
                "index": 8760
            },
            "line": 42,
            "code": "  test('getRandomPassword() should match instance variable', () => {\n    expect(instance.getRandomPassword()).toBe(instance.randomPassword);\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "getSaltDevices() should match instance variable SaltDevices",
            "suites": [
                "Getters for AuthHelper class"
            ],
            "updatePoint": {
                "line": 45,
                "column": 67,
                "index": 8916
            },
            "line": 45,
            "code": "  test('getSaltDevices() should match instance variable SaltDevices', () => {\n    expect(instance.getSaltDevices()).toBe(instance.SaltToHashDevices);\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "getVerifierDevices() should match instance variable verifierDevices",
            "suites": [
                "Getters for AuthHelper class"
            ],
            "updatePoint": {
                "line": 48,
                "column": 75,
                "index": 9080
            },
            "line": 48,
            "code": "  test('getVerifierDevices() should match instance variable verifierDevices', () => {\n    expect(instance.getVerifierDevices()).toBe(instance.verifierDevices);\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Constant prefix for new password challenge",
            "suites": [
                "Getters for AuthHelper class"
            ],
            "updatePoint": {
                "line": 51,
                "column": 50,
                "index": 9221
            },
            "line": 51,
            "code": "  test('Constant prefix for new password challenge', () => {\n    expect(instance.getNewPasswordRequiredChallengeUserAttributePrefix()).toEqual('userAttributes.');\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "happy path should callback with a calculateA bigInt",
            "suites": [
                "getLargeAValue()"
            ],
            "updatePoint": {
                "line": 61,
                "column": 59,
                "index": 9550
            },
            "line": 61,
            "code": "  test('happy path should callback with a calculateA bigInt', async () => {\n    const result = await promisifyCallback(instance, 'getLargeAValue');\n    expect(result).toEqual(instance.largeAValue);\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "when largeAValue exists, getLargeA should return it",
            "suites": [
                "getLargeAValue()"
            ],
            "updatePoint": {
                "line": 65,
                "column": 59,
                "index": 9754
            },
            "line": 65,
            "code": "  test('when largeAValue exists, getLargeA should return it', async () => {\n    expect(instance.largeAValue).not.toBe(null);\n    await promisifyCallback(instance, 'getLargeAValue').then(res => {\n      expect(res).toEqual(instance.largeAValue);\n    });\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "mock an error from calculate A",
            "suites": [
                "getLargeAValue()"
            ],
            "updatePoint": {
                "line": 71,
                "column": 38,
                "index": 9991
            },
            "line": 71,
            "code": "  test('mock an error from calculate A', async () => {\n    instance.largeAValue = null;\n    jest.spyOn(AuthenticationHelper.prototype, 'calculateA').mockImplementationOnce((...[, callback]) => {\n      callback(bigIntError, null);\n    });\n    await promisifyCallback(instance, 'getLargeAValue').catch(e => {\n      expect(e).toEqual(bigIntError);\n    }); //preserving invariant of largeAValue\n\n    const cb = jest.fn();\n    instance.getLargeAValue(cb);\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Generate Random Small A is generating a BigInteger",
            "suites": [
                "generateRandomSmallA(), generateRandomString()"
            ],
            "updatePoint": {
                "line": 85,
                "column": 58,
                "index": 10539
            },
            "line": 85,
            "code": "  test('Generate Random Small A is generating a BigInteger', () => {\n    expect(instance.generateRandomSmallA()).toBeInstanceOf(BigInteger);\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Ensure that generateRandomSmallA is non deterministic",
            "suites": [
                "generateRandomSmallA(), generateRandomString()"
            ],
            "updatePoint": {
                "line": 88,
                "column": 61,
                "index": 10689
            },
            "line": 88,
            "code": "  test('Ensure that generateRandomSmallA is non deterministic', () => {\n    const firstSmallA = instance.generateRandomSmallA();\n    const secondSmallA = instance.generateRandomSmallA();\n    expect(firstSmallA).not.toEqual(secondSmallA);\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Generate random strings",
            "suites": [
                "generateRandomSmallA(), generateRandomString()"
            ],
            "updatePoint": {
                "line": 93,
                "column": 31,
                "index": 10903
            },
            "line": 93,
            "code": "  test('Generate random strings', () => {\n    //AuthHelper generates 40 randomBytes and convert it to a base64 string\n    expect(instance.generateRandomString().length).toEqual(56);\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Generate random strings is non-deterministic",
            "suites": [
                "generateRandomSmallA(), generateRandomString()"
            ],
            "updatePoint": {
                "line": 97,
                "column": 52,
                "index": 11112
            },
            "line": 97,
            "code": "  test('Generate random strings is non-deterministic', () => {\n    expect(instance.generateRandomString()).not.toEqual(instance.generateRandomString());\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "happy path for generate hash devices should instantiate the verifierDevices of the instance",
            "suites": [
                "generateHashDevice()"
            ],
            "updatePoint": {
                "line": 102,
                "column": 99,
                "index": 11363
            },
            "line": 102,
            "code": "  test('happy path for generate hash devices should instantiate the verifierDevices of the instance', async () => {\n    const deviceGroupKey = instance.generateRandomString();\n    const username = instance.generateRandomString();\n    expect(instance.getVerifierDevices()).toEqual(undefined);\n    await promisifyCallback(instance, 'generateHashDevice', deviceGroupKey, username);\n    expect(instance.getVerifierDevices()).toEqual(instance.verifierDevices);\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "modPow throws an error",
            "suites": [
                "generateHashDevice()"
            ],
            "updatePoint": {
                "line": 109,
                "column": 30,
                "index": 11756
            },
            "line": 109,
            "code": "  test('modPow throws an error', async () => {\n    const deviceGroupKey = instance.generateRandomString();\n    const username = instance.generateRandomString();\n    jest.spyOn(BigInteger.prototype, 'modPow').mockImplementationOnce((...args) => {\n      args[2](bigIntError, null);\n    });\n    await promisifyCallback(instance, 'generateHashDevice', deviceGroupKey, username).catch(e => {\n      expect(e).toEqual(bigIntError);\n    });\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Calculate A happy path",
            "suites": [
                "calculateA()"
            ],
            "updatePoint": {
                "line": 128,
                "column": 30,
                "index": 12367
            },
            "line": 128,
            "code": "  test('Calculate A happy path', async () => {\n    const result = await promisifyCallback(instance, 'calculateA', instance.smallAValue); //length of the big integer\n\n    expect(Object.keys(result).length).toEqual(223);\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "calculateA gets an error from g.modPow",
            "suites": [
                "calculateA()"
            ],
            "updatePoint": {
                "line": 133,
                "column": 46,
                "index": 12608
            },
            "line": 133,
            "code": "  test('calculateA gets an error from g.modPow', async () => {\n    jest.spyOn(BigInteger.prototype, 'modPow').mockImplementationOnce((...[,, callback]) => {\n      callback(bigIntError, null);\n    });\n    await promisifyCallback(instance, 'calculateA', instance.smallAValue).catch(e => {\n      expect(e).toEqual(bigIntError);\n    });\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "A mod N equals BigInt 0 should throw an illegal parameter error",
            "suites": [
                "calculateA()"
            ],
            "updatePoint": {
                "line": 141,
                "column": 71,
                "index": 12972
            },
            "line": 141,
            "code": "  test('A mod N equals BigInt 0 should throw an illegal parameter error', async () => {\n    jest.spyOn(BigInteger.prototype, 'modPow').mockImplementationOnce((...[,, callback]) => {\n      callback(null, BigInteger.ZERO);\n    });\n    await promisifyCallback(instance, 'calculateA', instance.smallAValue).catch(e => {\n      expect(e).toEqual(new Error('Illegal paramater. A mod N cannot be 0.'));\n    });\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Calculate the client's value U",
            "suites": [
                "calculateU()"
            ],
            "updatePoint": {
                "line": 151,
                "column": 38,
                "index": 13385
            },
            "line": 151,
            "code": "  test(\"Calculate the client's value U\", () => {\n    const hexA = new BigInteger('abcd1234', 16);\n    const hexB = new BigInteger('deadbeef', 16);\n    const hashed = instance.hexHash(instance.padHex(hexA) + instance.padHex(hexB));\n    const expected = new BigInteger(hashed, 16);\n    const result = instance.calculateU(hexA, hexB);\n    expect(expected).toEqual(result);\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Test hexHash function produces a valid hex string with regex",
            "suites": [
                "hexhash() and hash()"
            ],
            "updatePoint": {
                "line": 161,
                "column": 68,
                "index": 13836
            },
            "line": 161,
            "code": "  test('Test hexHash function produces a valid hex string with regex', () => {\n    const regEx = /[0-9a-f]/g;\n    const hexStr = SHA256('testString').toString();\n    expect(regEx.test(instance.hexHash(hexStr))).toBe(true);\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Hashing a buffer returns a string",
            "suites": [
                "hexhash() and hash()"
            ],
            "updatePoint": {
                "line": 166,
                "column": 41,
                "index": 14038
            },
            "line": 166,
            "code": "  test('Hashing a buffer returns a string', () => {\n    const buf = Buffer.from('7468697320697320612074c3a97374', 'binary');\n    expect(typeof instance.hash(buf)).toBe('string');\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "happy path hkdf algorithm returns a length 16 hex string",
            "suites": [
                "computehkdf()"
            ],
            "updatePoint": {
                "line": 172,
                "column": 64,
                "index": 14284
            },
            "line": 172,
            "code": "  test('happy path hkdf algorithm returns a length 16 hex string', () => {\n    const inputKey = Buffer.from('secretInputKey', 'ascii');\n    const salt = Buffer.from('7468697320697320612074c3a97374', 'hex');\n    const key = instance.computehkdf(inputKey, salt);\n    expect(Object.keys(key).length).toEqual(16);\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Happy path should computeHKDF",
            "suites": [
                "getPasswordAuthKey()"
            ],
            "updatePoint": {
                "line": 191,
                "column": 37,
                "index": 14942
            },
            "line": 191,
            "code": "  test('Happy path should computeHKDF', async () => {\n    const result = await promisifyCallback(instance, 'getPasswordAuthenticationKey', username, password, realServerValue, salt);\n    expect(Object.keys(result).length).toEqual(16);\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "failing within calculateS callback",
            "suites": [
                "getPasswordAuthKey()"
            ],
            "updatePoint": {
                "line": 195,
                "column": 42,
                "index": 15188
            },
            "line": 195,
            "code": "  test('failing within calculateS callback', async () => {\n    jest.spyOn(AuthenticationHelper.prototype, 'calculateS').mockImplementationOnce((...[,, callback]) => {\n      callback(bigIntError, null);\n    });\n    await promisifyCallback(instance, 'getPasswordAuthenticationKey', username, password, realServerValue, salt).catch(e => {\n      expect(e).toEqual(bigIntError);\n    });\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Getting a bad server value",
            "suites": [
                "getPasswordAuthKey()"
            ],
            "updatePoint": {
                "line": 203,
                "column": 34,
                "index": 15568
            },
            "line": 203,
            "code": "  test('Getting a bad server value', async () => {\n    await promisifyCallback(instance, 'getPasswordAuthenticationKey', username, password, badServerValue, salt).catch(e => {\n      expect(e).toEqual(new Error('B cannot be zero.'));\n    });\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Getting a U Value of zero",
            "suites": [
                "getPasswordAuthKey()"
            ],
            "updatePoint": {
                "line": 208,
                "column": 33,
                "index": 15814
            },
            "line": 208,
            "code": "  test('Getting a U Value of zero', async () => {\n    jest.spyOn(AuthenticationHelper.prototype, 'calculateU').mockImplementationOnce(() => {\n      return BigInteger.ZERO;\n    });\n    const realServerValue = new BigInteger('deadbeef', 16);\n    await promisifyCallback(instance, 'getPasswordAuthenticationKey', username, password, realServerValue, salt).catch(e => {\n      expect(e).toEqual(new Error('U cannot be zero.'));\n    });\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "happy path should callback with null, and a bigInteger",
            "suites": [
                "calculateS()"
            ],
            "updatePoint": {
                "line": 224,
                "column": 62,
                "index": 16474
            },
            "line": 224,
            "code": "  test('happy path should callback with null, and a bigInteger', async () => {\n    instance.k = new BigInteger('deadbeef', 16);\n    instance.UValue = instance.calculateU(instance.largeAValue, xValue);\n    const result = await promisifyCallback(instance, 'calculateS', xValue, serverValue); //length of the big integer\n\n    expect(Object.keys(result).length).toEqual(113);\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "modPow throws an error ",
            "suites": [
                "calculateS()"
            ],
            "updatePoint": {
                "line": 231,
                "column": 31,
                "index": 16821
            },
            "line": 231,
            "code": "  test('modPow throws an error ', async () => {\n    jest.spyOn(BigInteger.prototype, 'modPow').mockImplementationOnce((...args) => {\n      args[2](bigIntError, null);\n    });\n    await promisifyCallback(instance, 'calculateS', xValue, serverValue).catch(e => {\n      expect(e).toEqual(bigIntError);\n    });\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "second modPow throws an error ",
            "suites": [
                "calculateS()"
            ],
            "updatePoint": {
                "line": 239,
                "column": 38,
                "index": 17141
            },
            "line": 239,
            "code": "  test('second modPow throws an error ', async () => {\n    // need to mock a working modPow to then fail in the second mock\n    jest.spyOn(BigInteger.prototype, 'modPow').mockImplementationOnce((...args) => {\n      args[2](null, new BigInteger('deadbeef', 16));\n    });\n    jest.spyOn(BigInteger.prototype, 'modPow').mockImplementationOnce((...args) => {\n      args[2](bigIntError, null);\n    });\n    await promisifyCallback(instance, 'calculateS', xValue, serverValue).catch(e => {\n      expect(e).toEqual(bigIntError);\n    });\n  });",
            "file": "AuthenticationHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "should support positive numbers",
            "suites": [
                "BigInteger",
                ".toString(radix)"
            ],
            "updatePoint": {
                "line": 4,
                "column": 39,
                "index": 154
            },
            "line": 4,
            "code": "    it('should support positive numbers', () => {\n      expect(new BigInteger('abcd1234', 16).toString(4)).toBe('2223303101020310');\n    });",
            "file": "BigInteger.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "should support negative numbers",
            "suites": [
                "BigInteger",
                ".toString(radix)"
            ],
            "updatePoint": {
                "line": 7,
                "column": 39,
                "index": 295
            },
            "line": 7,
            "code": "    it('should support negative numbers', () => {\n      expect(new BigInteger('-abcd1234', 16).toString(4)).toBe('-2223303101020310');\n    });",
            "file": "BigInteger.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Promisify request happy case",
            "suites": [
                "Client unit test suite",
                "Promisify Request tests"
            ],
            "updatePoint": {
                "line": 14,
                "column": 38,
                "index": 496
            },
            "line": 14,
            "code": "    test('Promisify request happy case', () => {\n      netRequestMockSuccess(true);\n      const data = client.promisifyRequest({}, {});\n      Promise.resolve(data).then(res => {\n        expect(res).toEqual({});\n      });\n    });",
            "file": "Client.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Promisify request throws an error",
            "suites": [
                "Client unit test suite",
                "Promisify Request tests"
            ],
            "updatePoint": {
                "line": 21,
                "column": 43,
                "index": 730
            },
            "line": 21,
            "code": "    test('Promisify request throws an error', () => {\n      netRequestMockSuccess(false);\n      const error = client.promisifyRequest({}, {});\n      Promise.resolve(error).catch(err => {\n        expect(err).toMatchObject(networkError);\n      });\n    });",
            "file": "Client.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Happy case for request",
            "suites": [
                "Client unit test suite",
                "Request unit tests"
            ],
            "updatePoint": {
                "line": 34,
                "column": 32,
                "index": 1133
            },
            "line": 34,
            "code": "    test('Happy case for request', async () => {\n      jest.spyOn(window, 'fetch');\n      window.fetch.mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({\n          endpoint: endpoint\n        })\n      });\n      await promisifyCallback(client, 'request', '', {}).then(res => {\n        expect(res).toMatchObject({\n          endpoint: endpoint\n        });\n      });\n    });",
            "file": "Client.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Network Error case for request",
            "suites": [
                "Client unit test suite",
                "Request unit tests"
            ],
            "updatePoint": {
                "line": 48,
                "column": 40,
                "index": 1531
            },
            "line": 48,
            "code": "    test('Network Error case for request', async () => {\n      jest.spyOn(window, 'fetch');\n      const networkError = new TypeError('Network Error');\n      fetch.mockRejectedValue(networkError);\n      await promisifyCallback(client, 'request', '', {}).catch(err => {\n        expect(err).toMatchObject({\n          message: 'Network error'\n        });\n      });\n    });",
            "file": "Client.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Network success but downstream error",
            "suites": [
                "Client unit test suite",
                "Request unit tests"
            ],
            "updatePoint": {
                "line": 58,
                "column": 46,
                "index": 1906
            },
            "line": 58,
            "code": "    test('Network success but downstream error', async () => {\n      jest.spyOn(window, 'fetch');\n      window.fetch.mockResolvedValueOnce({\n        ok: false,\n        json: async () => ({\n          __type: 'test'\n        })\n      });\n      await promisifyCallback(client, 'request', '', {}).catch(err => {\n        expect(err).toMatchObject({\n          code: 'test'\n        });\n      });\n    });",
            "file": "Client.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "uses default endpoint when none is provided",
            "suites": [
                "Client unit test suite",
                "Request unit tests"
            ],
            "updatePoint": {
                "line": 72,
                "column": 53,
                "index": 2309
            },
            "line": 72,
            "code": "    test('uses default endpoint when none is provided', async () => {\n      const clientWithEndpoint = new Client(region, null, {});\n      jest.spyOn(window, 'fetch');\n      window.fetch.mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({})\n      });\n      jest.fn(window, 'fetch');\n      await clientWithEndpoint.promisifyRequest('', {});\n      expect(fetch).toHaveBeenCalledWith(`https://cognito-idp.${region}.amazonaws.com/`, expect.any(Object));\n    });",
            "file": "Client.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "uses a provided endpoint for requests",
            "suites": [
                "Client unit test suite",
                "Request unit tests"
            ],
            "updatePoint": {
                "line": 83,
                "column": 47,
                "index": 2780
            },
            "line": 83,
            "code": "    test('uses a provided endpoint for requests', async () => {\n      const MOCK_ENDPOINT = 'MOCK_ENDPOINT';\n      const clientWithEndpoint = new Client(region, MOCK_ENDPOINT, {});\n      jest.spyOn(window, 'fetch');\n      window.fetch.mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({})\n      });\n      await clientWithEndpoint.promisifyRequest('', {});\n      expect(fetch).toHaveBeenCalledWith(MOCK_ENDPOINT, expect.any(Object));\n    });",
            "file": "Client.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Constructor works given a token as a string",
            "suites": [
                "Constructor methods"
            ],
            "updatePoint": {
                "line": 4,
                "column": 51,
                "index": 214
            },
            "line": 4,
            "code": "  test('Constructor works given a token as a string', () => {\n    const cognitoAccess = new CognitoAccessToken({\n      AccessToken: sampleEncodedToken\n    });\n    expect(cognitoAccess.decodePayload().exp).toBe(expDecoded);\n  });",
            "file": "CognitoAccessToken.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Constructor works with no token",
            "suites": [
                "Constructor methods"
            ],
            "updatePoint": {
                "line": 10,
                "column": 39,
                "index": 431
            },
            "line": 10,
            "code": "  test('Constructor works with no token', () => {\n    const cognitoAccess = new CognitoAccessToken();\n    expect(cognitoAccess.decodePayload()).toEqual({});\n  });",
            "file": "CognitoAccessToken.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Constructing a CognitoID Token",
            "suites": [
                "Constructor for CognitoId Token"
            ],
            "updatePoint": {
                "line": 3,
                "column": 38,
                "index": 143
            },
            "line": 3,
            "code": "  test('Constructing a CognitoID Token', () => {\n    const cognitoToken = new CognitoIdToken('testToken');\n    expect(cognitoToken.jwtToken).toBe('');\n  });",
            "file": "CognitoIdToken.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Getting JWT Token",
            "suites": [
                "Accessor methods"
            ],
            "updatePoint": {
                "line": 5,
                "column": 25,
                "index": 271
            },
            "line": 5,
            "code": "  test('Getting JWT Token', () => {\n    expect(cognitoJwtToken.getJwtToken()).toBe(sampleEncodedToken);\n  });",
            "file": "CognitoJwtToken.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Getting expiration for JWT",
            "suites": [
                "Accessor methods"
            ],
            "updatePoint": {
                "line": 8,
                "column": 34,
                "index": 390
            },
            "line": 8,
            "code": "  test('Getting expiration for JWT', () => {\n    expect(cognitoJwtToken.getExpiration()).toBe(cognitoJwtToken.payload.exp);\n  });",
            "file": "CognitoJwtToken.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Get time issued at for JWT",
            "suites": [
                "Accessor methods"
            ],
            "updatePoint": {
                "line": 11,
                "column": 34,
                "index": 520
            },
            "line": 11,
            "code": "  test('Get time issued at for JWT', () => {\n    expect(cognitoJwtToken.getIssuedAt()).toBe(cognitoJwtToken.payload.iat);\n  });",
            "file": "CognitoJwtToken.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Testing decode payload method returns an object",
            "suites": [
                "Accessor methods"
            ],
            "updatePoint": {
                "line": 14,
                "column": 55,
                "index": 669
            },
            "line": 14,
            "code": "  test('Testing decode payload method returns an object', () => {\n    const decodedPayload = cognitoJwtToken.decodePayload();\n    expect(decodedPayload.exp).toBe(expDecoded);\n    expect(decodedPayload.name).toBe(nameDecoded);\n    expect(decodedPayload.iat).toBe(iatDecoded);\n  });",
            "file": "CognitoJwtToken.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Decoding error",
            "suites": [
                "Accessor methods"
            ],
            "updatePoint": {
                "line": 20,
                "column": 22,
                "index": 917
            },
            "line": 20,
            "code": "  test('Decoding error', () => {\n    const badJWT = new CognitoJwtToken('incorrect Encoding');\n    expect(badJWT.decodePayload()).toEqual({});\n  });",
            "file": "CognitoJwtToken.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Bad parameters",
            "suites": [
                "Accessor methods"
            ],
            "updatePoint": {
                "line": 24,
                "column": 22,
                "index": 1066
            },
            "line": 24,
            "code": "  test('Bad parameters', () => {\n    const noPayloadToken = new CognitoJwtToken();\n    expect(noPayloadToken.getJwtToken()).toBe('');\n  });",
            "file": "CognitoJwtToken.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Testing getter method for a proper token",
            "suites": [
                "Cognito Refresh Token "
            ],
            "updatePoint": {
                "line": 4,
                "column": 48,
                "index": 204
            },
            "line": 4,
            "code": "  test('Testing getter method for a proper token', () => {\n    const cognitoRefToken = new CognitoRefreshToken(sampleEncodedToken);\n    expect(cognitoRefToken.getToken()).toBe(cognitoRefToken.token);\n  });",
            "file": "CognitoRefreshToken.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Testing getter method for a refresh token with no value",
            "suites": [
                "Cognito Refresh Token "
            ],
            "updatePoint": {
                "line": 8,
                "column": 63,
                "index": 425
            },
            "line": 8,
            "code": "  test('Testing getter method for a refresh token with no value', () => {\n    const cognitoRefToken = new CognitoRefreshToken();\n    expect(cognitoRefToken.getToken()).toBe('');\n  });",
            "file": "CognitoRefreshToken.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "constructor throws error when bad (or no) data is passed",
            "suites": [
                "CognitoUser constructor"
            ],
            "updatePoint": {
                "line": 22,
                "column": 64,
                "index": 1134
            },
            "line": 22,
            "code": "  test('constructor throws error when bad (or no) data is passed', () => {\n    const errorMsg = 'Username and Pool information are required.'; // no data at all\n\n    expect(() => {\n      new CognitoUser({});\n    }).toThrow(errorMsg); // missing Pool\n\n    expect(() => {\n      new CognitoUser({\n        Username: 'username',\n        Pool: null\n      });\n    }).toThrow(errorMsg); // missing Username\n\n    expect(() => {\n      new CognitoUser({\n        Username: null,\n        Pool: userPoolId\n      });\n    }).toThrow(errorMsg);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "happy case constructor",
            "suites": [
                "CognitoUser constructor"
            ],
            "updatePoint": {
                "line": 43,
                "column": 30,
                "index": 1634
            },
            "line": 43,
            "code": "  test('happy case constructor', () => {\n    const spyon = jest.spyOn(cognitoUserPool, 'getClientId');\n    expect(() => {\n      new CognitoUser({ ...userDefaults\n      });\n    }).not.toThrowError();\n    expect(spyon).toBeCalled();\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "happy path should have an empty cache, after user session is set, cache tokens",
            "suites": [
                "getters and setters",
                "setSignInUserSession()"
            ],
            "updatePoint": {
                "line": 59,
                "column": 88,
                "index": 2337
            },
            "line": 59,
            "code": "    test('happy path should have an empty cache, after user session is set, cache tokens', () => {\n      // precondition\n      expect(user.getSignInUserSession()).toEqual(null);\n      expect(user.storage.getItem('')).toEqual(null);\n      user.setSignInUserSession(vCognitoUserSession);\n      expect(cacheSpy).toBeCalled();\n      expect(cacheTokenSpy).toBeCalled(); // post-condition\n\n      expect(user.getSignInUserSession()).toEqual(vCognitoUserSession);\n      expect(user.storage.getItem(refreshTokenKey)).toEqual(vRefreshToken.token);\n    });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "checking that tokens are cleared properly",
            "suites": [
                "getters and setters",
                "setSignInUserSession()"
            ],
            "updatePoint": {
                "line": 70,
                "column": 51,
                "index": 2846
            },
            "line": 70,
            "code": "    test('checking that tokens are cleared properly', () => {\n      // precondition\n      expect(user.getSignInUserSession()).toEqual(vCognitoUserSession);\n      user.setSignInUserSession(ivCognitoUserSession);\n      expect(cacheSpy).toBeCalled();\n      expect(cacheTokenSpy).toBeCalled(); // post-condition\n\n      expect(user.getSignInUserSession()).toEqual(ivCognitoUserSession);\n      expect(user.storage.getItem(refreshTokenKey)).toEqual(ivRefreshToken.token);\n    });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "getUsername()",
            "suites": [
                "getters and setters",
                "setSignInUserSession()"
            ],
            "updatePoint": {
                "line": 81,
                "column": 21,
                "index": 3295
            },
            "line": 81,
            "code": "  test('getUsername()', () => {\n    expect(user.getUsername()).toEqual(user.username);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "get and set authenticationFlowType",
            "suites": [
                "getters and setters",
                "setSignInUserSession()"
            ],
            "updatePoint": {
                "line": 84,
                "column": 42,
                "index": 3409
            },
            "line": 84,
            "code": "  test('get and set authenticationFlowType', () => {\n    // initial state\n    expect(user.getAuthenticationFlowType()).toEqual('USER_SRP_AUTH'); // setting explicitly\n\n    user.setAuthenticationFlowType('TEST_FLOW_TYPE'); // getter after set explicitly\n\n    expect(user.getAuthenticationFlowType()).toEqual('TEST_FLOW_TYPE');\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Client request called once and throws an error",
            "suites": [
                "initiateAuth()"
            ],
            "updatePoint": {
                "line": 107,
                "column": 54,
                "index": 4077
            },
            "line": 107,
            "code": "  test('Client request called once and throws an error', async () => {\n    netRequestMockSuccess(false);\n    const authDetails = new AuthenticationDetails(authDetailData);\n    user.initiateAuth(authDetails, callback);\n    expect(callback.onFailure.mock.calls.length).toBe(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Client request called once with challenge name and params",
            "suites": [
                "initiateAuth()"
            ],
            "updatePoint": {
                "line": 113,
                "column": 65,
                "index": 4370
            },
            "line": 113,
            "code": "  test('Client request called once with challenge name and params', async () => {\n    netRequestMockSuccess(true, {\n      ChallengeName: 'CUSTOM_CHALLENGE',\n      Session: vCognitoUserSession,\n      ChallengeParameters: 'Custom challenge params'\n    });\n    const authDetails = new AuthenticationDetails(authDetailData);\n    user.initiateAuth(authDetails, callback);\n    expect(user.Session).toMatchObject(vCognitoUserSession);\n    expect(callback.customChallenge.mock.calls.length).toBe(1);\n    expect(callback.customChallenge).toBeCalledWith('Custom challenge params');\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Client request sets signInUserSession and is successful",
            "suites": [
                "initiateAuth()"
            ],
            "updatePoint": {
                "line": 125,
                "column": 63,
                "index": 4946
            },
            "line": 125,
            "code": "  test('Client request sets signInUserSession and is successful', async () => {\n    netRequestMockSuccess(true, {\n      AuthenticationResult: 'great success'\n    });\n    const getCognitoUserSessionSpy = jest.spyOn(user, 'getCognitoUserSession');\n    const cacheTokensSpy = jest.spyOn(user, 'cacheTokens');\n    const authDetails = new AuthenticationDetails(authDetailData);\n    user.initiateAuth(authDetails, callback);\n    expect(getCognitoUserSessionSpy).toBeCalledWith('great success');\n    expect(cacheTokensSpy).toBeCalled();\n    expect(callback.onSuccess.mock.calls.length).toBe(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "USER_PASSWORD_AUTH flow type",
            "suites": [
                "authenticateUser()"
            ],
            "updatePoint": {
                "line": 145,
                "column": 36,
                "index": 5729
            },
            "line": 145,
            "code": "  test('USER_PASSWORD_AUTH flow type', () => {\n    const spyon = jest.spyOn(user, 'authenticateUserPlainUsernamePassword');\n    user.setAuthenticationFlowType('USER_PASSWORD_AUTH');\n    user.authenticateUser(authDetails, callback);\n    expect(spyon).toHaveBeenCalledWith(authDetails, callback);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "USER_SRP_AUTH and CUSTOM_AUTH flow types",
            "suites": [
                "authenticateUser()"
            ],
            "updatePoint": {
                "line": 151,
                "column": 48,
                "index": 6042
            },
            "line": 151,
            "code": "  test('USER_SRP_AUTH and CUSTOM_AUTH flow types', () => {\n    const spyon = jest.spyOn(user, 'authenticateUserDefaultAuth');\n    user.setAuthenticationFlowType('USER_SRP_AUTH');\n    user.authenticateUser(authDetails, callback);\n    expect(spyon).toHaveBeenCalledWith(authDetails, callback);\n    user.setAuthenticationFlowType('CUSTOM_AUTH');\n    user.authenticateUser(authDetails, callback);\n    expect(spyon).toHaveBeenCalledWith(authDetails, callback);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "throws error for invalid Authentication flow type",
            "suites": [
                "authenticateUser()"
            ],
            "updatePoint": {
                "line": 160,
                "column": 57,
                "index": 6513
            },
            "line": 160,
            "code": "  test('throws error for invalid Authentication flow type', () => {\n    user.setAuthenticationFlowType('WRONG_AUTH_FLOW_TYPE');\n    user.authenticateUser(authDetails, callback);\n    expect(callback.onFailure.mock.calls.length).toBe(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Happy case default initialization process",
            "suites": [
                "authenticateUserDefaultAuth()"
            ],
            "updatePoint": {
                "line": 178,
                "column": 49,
                "index": 7104
            },
            "line": 178,
            "code": "  test('Happy case default initialization process', () => {\n    expect(() => {\n      user.authenticateUserDefaultAuth(authDetails, callback);\n    }).not.toThrowError();\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "errOnAValue fails gracefully",
            "suites": [
                "authenticateUserDefaultAuth()"
            ],
            "updatePoint": {
                "line": 183,
                "column": 36,
                "index": 7266
            },
            "line": 183,
            "code": "  test('errOnAValue fails gracefully', () => {\n    jest.spyOn(AuthenticationHelper.prototype, 'getLargeAValue').mockImplementation(cb => cb('test error', 12345));\n    user.authenticateUserDefaultAuth(authDetails, callback);\n    expect(callback.onFailure.mock.calls.length).toBe(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Client request fails gracefully",
            "suites": [
                "authenticateUserDefaultAuth()"
            ],
            "updatePoint": {
                "line": 188,
                "column": 39,
                "index": 7557
            },
            "line": 188,
            "code": "  test('Client request fails gracefully', () => {\n    netRequestMockSuccess(false);\n    user.authenticateUserDefaultAuth(authDetails, callback);\n    expect(callback.onFailure.mock.calls.length).toBe(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Missing password throws an error",
            "suites": [
                "authenticateUserPlainUsernamePassword()"
            ],
            "updatePoint": {
                "line": 201,
                "column": 40,
                "index": 7976
            },
            "line": 201,
            "code": "  test('Missing password throws an error', () => {\n    const authDetails = new AuthenticationDetails({\n      Username: 'user@amzn.com',\n      Password: undefined\n    });\n    user.authenticateUserPlainUsernamePassword(authDetails, callback);\n    expect(callback.onFailure).toBeCalledWith(new Error('PASSWORD parameter is required'));\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Client request fails gracefully",
            "suites": [
                "authenticateUserPlainUsernamePassword()"
            ],
            "updatePoint": {
                "line": 209,
                "column": 39,
                "index": 8314
            },
            "line": 209,
            "code": "  test('Client request fails gracefully', () => {\n    netRequestMockSuccess(false);\n    const authDetails = new AuthenticationDetails(authDetailData);\n    user.authenticateUserPlainUsernamePassword(authDetails, callback);\n    expect(callback.onFailure.mock.calls.length).toBe(1);\n    expect(callback.onFailure).toBeCalledWith(networkError);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Authenticate user happy case",
            "suites": [
                "authenticateUserPlainUsernamePassword()"
            ],
            "updatePoint": {
                "line": 216,
                "column": 36,
                "index": 8658
            },
            "line": 216,
            "code": "  test('Authenticate user happy case', () => {\n    const userSpy = jest.spyOn(user, 'getCachedDeviceKeyAndPassword');\n    const userSpy2 = jest.spyOn(user, 'getUserContextData');\n    userSpy2.mockReturnValue(true);\n    const userSpy3 = jest.spyOn(user, 'authenticateUserInternal');\n    userSpy3.mockReturnValue('test return value');\n    netRequestMockSuccess(true, 'test auth result');\n    const authDetails = new AuthenticationDetails(authDetailData);\n    user.authenticateUserPlainUsernamePassword(authDetails, callback);\n    expect(userSpy).toBeCalled();\n    expect(userSpy3).toBeCalledWith('test auth result', userSpy3.mock.calls[0][1], callback);\n    expect(userSpy3.mock.results[0].value).toBe('test return value');\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "%s challenge sets user session and calls the corresponding cb",
            "suites": [
                "authenticateUserInternal()"
            ],
            "line": 252,
            "code": "  test.each([['SMS_MFA', callback.mfaRequired], ['SELECT_MFA_TYPE', callback.selectMFAType], ['MFA_SETUP', callback.mfaSetup], ['SOFTWARE_TOKEN_MFA', callback.totpRequired], ['CUSTOM_CHALLENGE', callback.customChallenge]])('%s challenge sets user session and calls the corresponding cb', (challengeName, cbMethod) => {\n    Object.assign(authData, {\n      ChallengeName: challengeName\n    });\n    user.authenticateUserInternal(authData, authHelper, callback);\n    expect(user.Session).toMatchObject(vCognitoUserSession);\n\n    if (challengeName === 'CUSTOM_CHALLENGE') {\n      // this cb signature only expects one arg\n      expect(cbMethod).toHaveBeenCalledWith(authData.ChallengeParameters);\n    } else {\n      // the rest expect two args\n      expect(cbMethod).toHaveBeenCalledWith(challengeName, authData.ChallengeParameters);\n    }\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "user and required attributes get parsed and call newPasswordRequired",
            "suites": [
                "authenticateUserInternal()"
            ],
            "updatePoint": {
                "line": 267,
                "column": 76,
                "index": 10905
            },
            "line": 267,
            "code": "  test('user and required attributes get parsed and call newPasswordRequired', () => {\n    Object.assign(authData, {\n      ChallengeName: 'NEW_PASSWORD_REQUIRED'\n    });\n    expect(user.Session).toMatchObject(vCognitoUserSession);\n    const spyon = jest.spyOn(authHelper, 'getNewPasswordRequiredChallengeUserAttributePrefix');\n    user.authenticateUserInternal(authData, authHelper, callback);\n    expect(spyon).toHaveBeenCalledTimes(1);\n    expect(callback.newPasswordRequired).toHaveBeenCalledTimes(1);\n    callback.newPasswordRequired.mockClear();\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "DEVICE_SRP_AUTH calls getDeviceResponse and sends session",
            "suites": [
                "authenticateUserInternal()"
            ],
            "updatePoint": {
                "line": 278,
                "column": 65,
                "index": 11451
            },
            "line": 278,
            "code": "  test('DEVICE_SRP_AUTH calls getDeviceResponse and sends session', () => {\n    const clientSpy = jest.spyOn(Client.prototype, 'request').mockImplementation((...args) => {});\n    const authDataGetDeviceResponse = { ...authData,\n      ChallengeName: 'DEVICE_SRP_AUTH',\n      Session: 'abcd'\n    };\n    const spyon = jest.spyOn(user, 'getDeviceResponse');\n    user.authenticateUserInternal(authDataGetDeviceResponse, authHelper, callback);\n    expect(clientSpy.mock.calls[0][1]).toMatchObject({\n      Session: 'abcd'\n    });\n    expect(spyon).toHaveBeenCalledTimes(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "All other challenge names trigger method calls and success cb",
            "suites": [
                "authenticateUserInternal()"
            ],
            "updatePoint": {
                "line": 291,
                "column": 69,
                "index": 12028
            },
            "line": 291,
            "code": "  test('All other challenge names trigger method calls and success cb', () => {\n    Object.assign(authData, {\n      AuthenticationResult: {\n        NewDeviceMetadata: null\n      },\n      ChallengeName: 'random challenge'\n    });\n    const spyon = jest.spyOn(user, 'getCognitoUserSession');\n    const spyon2 = jest.spyOn(user, 'cacheTokens');\n    user.authenticateUserInternal(authData, authHelper, callback);\n    expect(user.challengeName).toBe(authData.ChallengeName);\n    expect(spyon).toHaveBeenCalledWith(authData.AuthenticationResult);\n    expect(spyon2).toBeCalledTimes(1);\n    const signInUserSession = user.getCognitoUserSession(authData.AuthenticationResult);\n    expect(callback.onSuccess).toBeCalledWith(signInUserSession);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "AuthHelper generateHashDevice is called and can log errors properly",
            "suites": [
                "authenticateUserInternal()"
            ],
            "updatePoint": {
                "line": 307,
                "column": 75,
                "index": 12775
            },
            "line": 307,
            "code": "  test('AuthHelper generateHashDevice is called and can log errors properly', () => {\n    Object.assign(authData, {\n      AuthenticationResult: {\n        NewDeviceMetadata: {\n          DeviceGroupKey: 'abc123',\n          DeviceKey: '123abc'\n        }\n      },\n      ChallengeName: 'random challenge'\n    });\n    netRequestMockSuccess(false);\n    user.authenticateUserInternal(authData, authHelper, callback);\n    expect(callback.onFailure).toBeCalledWith(networkError);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "AuthHelper generateHashDevice with no error calls auth methods",
            "suites": [
                "authenticateUserInternal()"
            ],
            "updatePoint": {
                "line": 321,
                "column": 70,
                "index": 13246
            },
            "line": 321,
            "code": "  test('AuthHelper generateHashDevice with no error calls auth methods', () => {\n    const randomPasswordSpy = jest.spyOn(AuthenticationHelper.prototype, 'getRandomPassword');\n    const getVerifierDevicesSpy = jest.spyOn(AuthenticationHelper.prototype, 'getVerifierDevices');\n    const hashDeviceSpy = jest.spyOn(AuthenticationHelper.prototype, 'generateHashDevice');\n    user.authenticateUserInternal(authData, authHelper, callback);\n    expect(randomPasswordSpy).toBeCalledTimes(1);\n    expect(getVerifierDevicesSpy).toBeCalledTimes(1);\n    expect(hashDeviceSpy).toBeCalledTimes(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Client request fails gracefully",
            "suites": [
                "authenticateUserInternal()"
            ],
            "updatePoint": {
                "line": 330,
                "column": 39,
                "index": 13806
            },
            "line": 330,
            "code": "  test('Client request fails gracefully', () => {\n    netRequestMockSuccess(false);\n    user.authenticateUserInternal(authData, authHelper, callback);\n    expect(callback.onFailure).toBeCalledWith(networkError);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Successful client request passes data properly to cb",
            "suites": [
                "authenticateUserInternal()"
            ],
            "updatePoint": {
                "line": 335,
                "column": 60,
                "index": 14045
            },
            "line": 335,
            "code": "  test('Successful client request passes data properly to cb', () => {\n    netRequestMockSuccess(true, {\n      UserConfirmationNecessary: true\n    });\n    user.authenticateUserInternal(authData, authHelper, callback);\n    expect(callback.onSuccess).toBeCalledWith(user.signInUserSession, true);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Successful client request passing empty object to cb",
            "suites": [
                "authenticateUserInternal()"
            ],
            "updatePoint": {
                "line": 342,
                "column": 60,
                "index": 14346
            },
            "line": 342,
            "code": "  test('Successful client request passing empty object to cb', () => {\n    netRequestMockSuccess(true, {\n      UserConfirmationNecessary: true\n    });\n    user.authenticateUserInternal(authData, authHelper, callback);\n    expect(callback.onSuccess).toBeCalledWith(user.signInUserSession, true);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "No newPassword triggers an error",
            "suites": [
                "completeNewPasswordChallenge()"
            ],
            "updatePoint": {
                "line": 367,
                "column": 40,
                "index": 15041
            },
            "line": 367,
            "code": "  test('No newPassword triggers an error', () => {\n    user.completeNewPasswordChallenge(null, null, callback, null);\n    expect(callback.onFailure).toBeCalledWith(passwordErr);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "completeNewPasswordChallenge calls expected helper methods",
            "suites": [
                "completeNewPasswordChallenge()"
            ],
            "updatePoint": {
                "line": 371,
                "column": 66,
                "index": 15251
            },
            "line": 371,
            "code": "  test('completeNewPasswordChallenge calls expected helper methods', () => {\n    const spyon = jest.spyOn(AuthenticationHelper.prototype, 'getNewPasswordRequiredChallengeUserAttributePrefix');\n    const spyon2 = jest.spyOn(user, 'getUserContextData');\n    user.completeNewPasswordChallenge('NEWp@ssw0rd', requiredAttributeData, callback, clientMetadata);\n    expect(spyon).toBeCalledTimes(1);\n    expect(spyon2).toHaveBeenCalled();\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Client request fails gracefully",
            "suites": [
                "completeNewPasswordChallenge()"
            ],
            "updatePoint": {
                "line": 378,
                "column": 39,
                "index": 15662
            },
            "line": 378,
            "code": "  test('Client request fails gracefully', () => {\n    const err = new Error('Respond to auth challenge error.');\n    jest.spyOn(Client.prototype, 'request').mockImplementationOnce((...args) => {\n      args[2](err, {});\n    });\n    user.completeNewPasswordChallenge('NEWp@ssw0rd', requiredAttributeData, callback, clientMetadata);\n    expect(callback.onFailure).toBeCalledWith(err);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Client request happy path",
            "suites": [
                "completeNewPasswordChallenge()"
            ],
            "updatePoint": {
                "line": 386,
                "column": 33,
                "index": 16044
            },
            "line": 386,
            "code": "  test('Client request happy path', () => {\n    jest.spyOn(Client.prototype, 'request').mockImplementationOnce((...args) => {\n      args[2](null, vCognitoUserSession);\n    });\n    const spyon2 = jest.spyOn(user, 'authenticateUserInternal');\n    user.completeNewPasswordChallenge('NEWp@ssw0rd', requiredAttributeData, callback, clientMetadata);\n    expect(spyon2).toBeCalledTimes(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "incorrect value for getLargeAValue fails gracefully",
            "suites": [
                "getDeviceResponse()"
            ],
            "updatePoint": {
                "line": 406,
                "column": 59,
                "index": 16727
            },
            "line": 406,
            "code": "  test('incorrect value for getLargeAValue fails gracefully', () => {\n    const err = new Error('Cannot get large A value for some reason.');\n    jest.spyOn(AuthenticationHelper.prototype, 'getLargeAValue').mockImplementation(cb => cb(err, 12345));\n    user.getDeviceResponse(callback, {});\n    expect(callback.onFailure).toBeCalledWith(err);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Auth helper getLargeAValue happy path",
            "suites": [
                "getDeviceResponse()"
            ],
            "updatePoint": {
                "line": 412,
                "column": 45,
                "index": 17062
            },
            "line": 412,
            "code": "  test('Auth helper getLargeAValue happy path', () => {\n    jest.spyOn(AuthenticationHelper.prototype, 'getLargeAValue').mockImplementation(cb => cb(null, 12345));\n    const spyon2 = jest.spyOn(user, 'getUserContextData');\n    user.getDeviceResponse(callback, {});\n    expect(callback.onFailure).not.toBeCalled();\n    expect(spyon2).toBeCalled();\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Client request RespondToAuthChallenge fails gracefully",
            "suites": [
                "getDeviceResponse()"
            ],
            "updatePoint": {
                "line": 419,
                "column": 62,
                "index": 17432
            },
            "line": 419,
            "code": "  test('Client request RespondToAuthChallenge fails gracefully', () => {\n    netRequestMockSuccess(false);\n    user.getDeviceResponse(callback, {});\n    expect(callback.onFailure).toBeCalledWith(networkError);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Client request RespondToAuthChallenge - getPasswordAuthenticationKey cb fails gracefully",
            "suites": [
                "getDeviceResponse()",
                "RespondToAuthChallenge nested Client method suite"
            ],
            "updatePoint": {
                "line": 448,
                "column": 98,
                "index": 18398
            },
            "line": 448,
            "code": "    test('Client request RespondToAuthChallenge - getPasswordAuthenticationKey cb fails gracefully', () => {\n      const err = new Error('errHkdf Error');\n      jest.spyOn(AuthenticationHelper.prototype, 'getPasswordAuthenticationKey').mockImplementation((...args) => {\n        args[4](err, null);\n      });\n      user.getDeviceResponse(callback, {});\n      expect(callback.onFailure).toBeCalledWith(err);\n    });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Client request RespondToAuthChallenge - getPasswordAuthenticationKey CryptoJS code runs smoothly",
            "suites": [
                "getDeviceResponse()",
                "RespondToAuthChallenge nested Client method suite"
            ],
            "updatePoint": {
                "line": 456,
                "column": 106,
                "index": 18820
            },
            "line": 456,
            "code": "    test('Client request RespondToAuthChallenge - getPasswordAuthenticationKey CryptoJS code runs smoothly', () => {\n      jest.spyOn(AuthenticationHelper.prototype, 'getPasswordAuthenticationKey').mockImplementation((...args) => {\n        args[4](null, 'hkdf value');\n      });\n      const spyon2 = jest.spyOn(user, 'getUserContextData');\n      user.getDeviceResponse(callback, {});\n      expect(spyon2).toBeCalled();\n    });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Client request RespondToAuthChallenge nested client fails gracefully",
            "suites": [
                "getDeviceResponse()",
                "RespondToAuthChallenge nested Client method suite"
            ],
            "updatePoint": {
                "line": 464,
                "column": 78,
                "index": 19219
            },
            "line": 464,
            "code": "    test('Client request RespondToAuthChallenge nested client fails gracefully', () => {\n      netRequestMockSuccess(false);\n      user.getDeviceResponse(callback, {});\n      expect(callback.onFailure).toBeCalledWith(networkError);\n    });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Client request RespondToAuthChallenge nested client calls success callbacks",
            "suites": [
                "getDeviceResponse()",
                "RespondToAuthChallenge nested Client method suite"
            ],
            "updatePoint": {
                "line": 469,
                "column": 85,
                "index": 19466
            },
            "line": 469,
            "code": "    test('Client request RespondToAuthChallenge nested client calls success callbacks', () => {\n      const spyon = jest.spyOn(user, 'getCognitoUserSession');\n      const spyon2 = jest.spyOn(user, 'cacheTokens');\n      user.getDeviceResponse(callback, {});\n      expect(spyon).toBeCalledTimes(1);\n      expect(spyon2).toBeCalledTimes(1);\n      expect(callback.onSuccess).toBeCalledWith(user.signInUserSession);\n    });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "ConfirmSignUp fails gracefully",
            "suites": [
                "confirmRegistration()"
            ],
            "updatePoint": {
                "line": 491,
                "column": 38,
                "index": 20167
            },
            "line": 491,
            "code": "  test('ConfirmSignUp fails gracefully', () => {\n    netRequestMockSuccess(false);\n    const spyon2 = jest.spyOn(user, 'getUserContextData');\n    user.confirmRegistration(confirmationCode, forceAliasCreation, callback, clientMetadata);\n    expect(spyon2).toBeCalled();\n    expect(callback).toBeCalledWith(networkError, null);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "ConfirmSignUp returns SUCCESS",
            "suites": [
                "confirmRegistration()"
            ],
            "updatePoint": {
                "line": 498,
                "column": 37,
                "index": 20498
            },
            "line": 498,
            "code": "  test('ConfirmSignUp returns SUCCESS', () => {\n    jest.spyOn(Client.prototype, 'request').mockImplementation((...args) => {\n      args[2](null);\n    });\n    const spyon2 = jest.spyOn(user, 'getUserContextData');\n    user.confirmRegistration(confirmationCode, forceAliasCreation, callback, clientMetadata);\n    expect(spyon2).toBeCalled();\n    expect(callback).toBeCalledWith(null, 'SUCCESS');\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "send custom challenge happy path",
            "suites": [
                "sendCustomChallengeAnswer()"
            ],
            "updatePoint": {
                "line": 529,
                "column": 40,
                "index": 21424
            },
            "line": 529,
            "code": "  test('send custom challenge happy path', () => {\n    jest.spyOn(Client.prototype, 'request').mockImplementation((...args) => {\n      args[2](null, vCognitoUserSession);\n    });\n    const spyon2 = jest.spyOn(user, 'getCachedDeviceKeyAndPassword');\n    const spyon3 = jest.spyOn(user, 'authenticateUserInternal');\n    user.sendCustomChallengeAnswer(answerChallenge, callback, clientMetadata);\n    expect(spyon2).toBeCalledTimes(1);\n    expect(spyon3).toBeCalledWith(vCognitoUserSession, expect.any(AuthenticationHelper), callback);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "send custom challenge fails gracefully",
            "suites": [
                "sendCustomChallengeAnswer()"
            ],
            "updatePoint": {
                "line": 539,
                "column": 46,
                "index": 21968
            },
            "line": 539,
            "code": "  test('send custom challenge fails gracefully', () => {\n    const err = new Error('RespondToAuthChallenge error.');\n    jest.spyOn(Client.prototype, 'request').mockImplementation((...args) => {\n      args[2](err, vCognitoUserSession);\n    });\n    user.sendCustomChallengeAnswer(answerChallenge, callback, clientMetadata);\n    expect(callback.onFailure).toBeCalledWith(err);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "happy case should callback onSuccess with the token",
            "suites": [
                "verifySoftwareToken()"
            ],
            "updatePoint": {
                "line": 558,
                "column": 59,
                "index": 22621
            },
            "line": 558,
            "code": "  test('happy case should callback onSuccess with the token', () => {\n    netRequestMockSuccess(true);\n    netRequestMockSuccess(true);\n    cognitoUser.verifySoftwareToken(totpCode, deviceName, callback);\n    expect(callback.onSuccess.mock.calls.length).toBe(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Verify software token first callback fails",
            "suites": [
                "verifySoftwareToken()"
            ],
            "updatePoint": {
                "line": 564,
                "column": 50,
                "index": 22881
            },
            "line": 564,
            "code": "  test('Verify software token first callback fails', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.verifySoftwareToken(totpCode, deviceName, callback);\n    expect(callback.onFailure.mock.calls.length).toBe(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Verify Software Token second callback fails",
            "suites": [
                "verifySoftwareToken()"
            ],
            "updatePoint": {
                "line": 569,
                "column": 51,
                "index": 23110
            },
            "line": 569,
            "code": "  test('Verify Software Token second callback fails', () => {\n    netRequestMockSuccess(true);\n    netRequestMockSuccess(false);\n    cognitoUser.verifySoftwareToken(totpCode, deviceName, callback);\n    expect(callback.onFailure.mock.calls.length).toBe(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Happy case for signed in user session",
            "suites": [
                "verifySoftwareToken()"
            ],
            "updatePoint": {
                "line": 575,
                "column": 45,
                "index": 23366
            },
            "line": 575,
            "code": "  test('Happy case for signed in user session', () => {\n    cognitoUser.setSignInUserSession(vCognitoUserSession);\n    netRequestMockSuccess(true);\n    cognitoUser.verifySoftwareToken(totpCode, deviceName, callback);\n    expect(callback.onSuccess.mock.calls.length).toBe(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Error case for signed in user session",
            "suites": [
                "verifySoftwareToken()"
            ],
            "updatePoint": {
                "line": 581,
                "column": 45,
                "index": 23647
            },
            "line": 581,
            "code": "  test('Error case for signed in user session', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.verifySoftwareToken(totpCode, deviceName, callback);\n    expect(callback.onFailure.mock.calls.length).toBe(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Happy path for associate software token without a userSession ",
            "suites": [
                "associateSoftwareToken()"
            ],
            "updatePoint": {
                "line": 597,
                "column": 70,
                "index": 24167
            },
            "line": 597,
            "code": "  test('Happy path for associate software token without a userSession ', () => {\n    netRequestMockSuccess(true);\n    cognitoUser.associateSoftwareToken(callback);\n    expect(callback.associateSecretCode.mock.calls.length).toBe(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Failing in the first requeset to client",
            "suites": [
                "associateSoftwareToken()"
            ],
            "updatePoint": {
                "line": 602,
                "column": 47,
                "index": 24382
            },
            "line": 602,
            "code": "  test('Failing in the first requeset to client', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.associateSoftwareToken(callback);\n    expect(callback.onFailure.mock.calls.length).toBe(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Happy path for a user with a validUserSession ",
            "suites": [
                "associateSoftwareToken()"
            ],
            "updatePoint": {
                "line": 607,
                "column": 54,
                "index": 24595
            },
            "line": 607,
            "code": "  test('Happy path for a user with a validUserSession ', () => {\n    netRequestMockSuccess(true);\n    cognitoUser.setSignInUserSession(vCognitoUserSession);\n    cognitoUser.associateSoftwareToken(callback);\n    expect(callback.associateSecretCode.mock.calls.length).toBe(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Error path for a user with a validUserSession ",
            "suites": [
                "associateSoftwareToken()"
            ],
            "updatePoint": {
                "line": 613,
                "column": 54,
                "index": 24876
            },
            "line": 613,
            "code": "  test('Error path for a user with a validUserSession ', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.associateSoftwareToken(callback);\n    expect(callback.onFailure.mock.calls.length).toBe(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "happy case with SMS_MFA",
            "suites": [
                "sendMFASelectionAnswer()"
            ],
            "updatePoint": {
                "line": 625,
                "column": 31,
                "index": 25230
            },
            "line": 625,
            "code": "  test('happy case with SMS_MFA', () => {\n    netRequestMockSuccess(true, {\n      Session: 'sessionData'\n    });\n    cognitoUser.sendMFASelectionAnswer('SMS_MFA', callback);\n    expect(callback.mfaRequired.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "happy case with software token MFA",
            "suites": [
                "sendMFASelectionAnswer()"
            ],
            "updatePoint": {
                "line": 632,
                "column": 42,
                "index": 25484
            },
            "line": 632,
            "code": "  test('happy case with software token MFA', () => {\n    netRequestMockSuccess(true, {\n      Session: 'sessionData'\n    });\n    cognitoUser.sendMFASelectionAnswer('SOFTWARE_TOKEN_MFA', callback);\n    expect(callback.totpRequired.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "error case with software token MFA",
            "suites": [
                "sendMFASelectionAnswer()"
            ],
            "updatePoint": {
                "line": 639,
                "column": 42,
                "index": 25750
            },
            "line": 639,
            "code": "  test('error case with software token MFA', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.sendMFASelectionAnswer('SOFTWARE_TOKEN_MFA', callback);\n    expect(callback.onFailure.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "error case with undefined answer challenge",
            "suites": [
                "sendMFASelectionAnswer()"
            ],
            "updatePoint": {
                "line": 644,
                "column": 50,
                "index": 25984
            },
            "line": 644,
            "code": "  test('error case with undefined answer challenge', () => {\n    netRequestMockSuccess(true, {\n      Session: 'sessionData'\n    });\n    const res = cognitoUser.sendMFASelectionAnswer('WRONG_CHALLENGE', callback);\n    expect(res).toEqual(undefined);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "signOut expected to set signinUserSession to equal null",
            "suites": [
                "signOut() and globalSignOut"
            ],
            "updatePoint": {
                "line": 662,
                "column": 63,
                "index": 26517
            },
            "line": 662,
            "code": "  test('signOut expected to set signinUserSession to equal null', () => {\n    cognitoUser.signOut();\n    expect(cognitoUser.storage.getItem('')).toEqual(null);\n    expect(cognitoUser.signInUserSession).toEqual(null);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "global signOut Happy Path",
            "suites": [
                "signOut() and globalSignOut"
            ],
            "updatePoint": {
                "line": 667,
                "column": 33,
                "index": 26710
            },
            "line": 667,
            "code": "  test('global signOut Happy Path', () => {\n    netRequestMockSuccess(true);\n    cognitoUser.setSignInUserSession(vCognitoUserSession);\n    cognitoUser.globalSignOut(callback);\n    expect(callback.onSuccess.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "global signOut catching an error",
            "suites": [
                "signOut() and globalSignOut"
            ],
            "updatePoint": {
                "line": 673,
                "column": 40,
                "index": 26961
            },
            "line": 673,
            "code": "  test('global signOut catching an error', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.globalSignOut(callback);\n    expect(callback.onFailure.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Global signout when user session is null",
            "suites": [
                "signOut() and globalSignOut"
            ],
            "updatePoint": {
                "line": 678,
                "column": 48,
                "index": 27162
            },
            "line": 678,
            "code": "  test('Global signout when user session is null', () => {\n    cognitoUser.setSignInUserSession(ivCognitoUserSession);\n    cognitoUser.globalSignOut(callback);\n    expect(callback.onFailure.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Happy path for device list",
            "suites": [
                "listDevices"
            ],
            "updatePoint": {
                "line": 695,
                "column": 34,
                "index": 27681
            },
            "line": 695,
            "code": "  test('Happy path for device list', () => {\n    netRequestMockSuccess(true, ['deviceName', 'device2Name']);\n    cognitoUser.listDevices(1, 'paginationToken', callback);\n    expect(callback.onSuccess.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Client request throws an error",
            "suites": [
                "listDevices"
            ],
            "updatePoint": {
                "line": 700,
                "column": 38,
                "index": 27922
            },
            "line": 700,
            "code": "  test('Client request throws an error', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.listDevices(1, null, callback);\n    expect(callback.onFailure.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Invalid userSession throws an error",
            "suites": [
                "listDevices"
            ],
            "updatePoint": {
                "line": 705,
                "column": 43,
                "index": 28125
            },
            "line": 705,
            "code": "  test('Invalid userSession throws an error', () => {\n    cognitoUser.setSignInUserSession(ivCognitoUserSession);\n    cognitoUser.listDevices(1, null, callback);\n    expect(callback.onFailure.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Happy path should callback success",
            "suites": [
                "setDeviceStatus[remembered,notRemembered]()"
            ],
            "updatePoint": {
                "line": 722,
                "column": 42,
                "index": 28691
            },
            "line": 722,
            "code": "  test('Happy path should callback success', () => {\n    netRequestMockSuccess(true);\n    cognitoUser.setDeviceStatusNotRemembered(callback);\n    expect(callback.onSuccess.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Callback catches an error from client request",
            "suites": [
                "setDeviceStatus[remembered,notRemembered]()"
            ],
            "updatePoint": {
                "line": 727,
                "column": 53,
                "index": 28911
            },
            "line": 727,
            "code": "  test('Callback catches an error from client request', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.setDeviceStatusNotRemembered(callback);\n    expect(callback.onFailure.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Client request does not work and method returns undefined",
            "suites": [
                "setDeviceStatus[remembered,notRemembered]()"
            ],
            "updatePoint": {
                "line": 732,
                "column": 65,
                "index": 29144
            },
            "line": 732,
            "code": "  test('Client request does not work and method returns undefined', () => {\n    cognitoUser.setSignInUserSession(vCognitoUserSession);\n    expect(cognitoUser.setDeviceStatusNotRemembered(callback)).toEqual(undefined);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Happy path for setDeviceStatusRemembered should callback with onSuccess ",
            "suites": [
                "setDeviceStatus[remembered,notRemembered]()"
            ],
            "updatePoint": {
                "line": 736,
                "column": 80,
                "index": 29383
            },
            "line": 736,
            "code": "  test('Happy path for setDeviceStatusRemembered should callback with onSuccess ', () => {\n    netRequestMockSuccess(true);\n    cognitoUser.setDeviceStatusRemembered(callback);\n    expect(callback.onSuccess.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Client throws and error should callback onFailure",
            "suites": [
                "setDeviceStatus[remembered,notRemembered]()"
            ],
            "updatePoint": {
                "line": 741,
                "column": 57,
                "index": 29604
            },
            "line": 741,
            "code": "  test('Client throws and error should callback onFailure', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.setDeviceStatusRemembered(callback);\n    expect(callback.onFailure.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Client request does not work and method returns undefined",
            "suites": [
                "setDeviceStatus[remembered,notRemembered]()"
            ],
            "updatePoint": {
                "line": 746,
                "column": 65,
                "index": 29834
            },
            "line": 746,
            "code": "  test('Client request does not work and method returns undefined', () => {\n    expect(cognitoUser.setDeviceStatusRemembered(callback)).toEqual(undefined);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Invalid user session throws an error",
            "suites": [
                "setDeviceStatus[remembered,notRemembered]()"
            ],
            "updatePoint": {
                "line": 749,
                "column": 44,
                "index": 29975
            },
            "line": 749,
            "code": "  test('Invalid user session throws an error', () => {\n    cognitoUser.setSignInUserSession(ivCognitoUserSession);\n    cognitoUser.setDeviceStatusNotRemembered(callback);\n    expect(callback.onFailure.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Invalid user session throws an error",
            "suites": [
                "setDeviceStatus[remembered,notRemembered]()"
            ],
            "updatePoint": {
                "line": 754,
                "column": 44,
                "index": 30213
            },
            "line": 754,
            "code": "  test('Invalid user session throws an error', () => {\n    cognitoUser.setDeviceStatusRemembered(callback);\n    expect(callback.onFailure.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Forget specific device happy path should callback onSuccess",
            "suites": [
                "forgetDevices()"
            ],
            "updatePoint": {
                "line": 770,
                "column": 67,
                "index": 30721
            },
            "line": 770,
            "code": "  test('Forget specific device happy path should callback onSuccess', () => {\n    netRequestMockSuccess(true);\n    cognitoUser.forgetSpecificDevice('deviceKey', callback);\n    expect(callback.onSuccess.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Client request throws an error for forget specific device",
            "suites": [
                "forgetDevices()"
            ],
            "updatePoint": {
                "line": 775,
                "column": 65,
                "index": 30958
            },
            "line": 775,
            "code": "  test('Client request throws an error for forget specific device', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.forgetSpecificDevice('deviceKey', callback);\n    expect(callback.onFailure.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Returns undefined when client request does not work properly",
            "suites": [
                "forgetDevices()"
            ],
            "updatePoint": {
                "line": 780,
                "column": 68,
                "index": 31199
            },
            "line": 780,
            "code": "  test('Returns undefined when client request does not work properly', () => {\n    expect(cognitoUser.forgetSpecificDevice('deviceKey', callback)).toEqual(undefined);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "forgetSpecificDevice happy path should callback onSuccess",
            "suites": [
                "forgetDevices()"
            ],
            "updatePoint": {
                "line": 783,
                "column": 65,
                "index": 31369
            },
            "line": 783,
            "code": "  test('forgetSpecificDevice happy path should callback onSuccess', () => {\n    netRequestMockSuccess(true);\n    cognitoUser.forgetDevice(callback);\n    expect(callback.onSuccess.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Invalid user session throws and error for forget specific device",
            "suites": [
                "forgetDevices()"
            ],
            "updatePoint": {
                "line": 788,
                "column": 72,
                "index": 31592
            },
            "line": 788,
            "code": "  test('Invalid user session throws and error for forget specific device', () => {\n    cognitoUser.setSignInUserSession(ivCognitoUserSession);\n    cognitoUser.forgetSpecificDevice('deviceKey', callback);\n    expect(callback.onFailure.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Happy path for getDevice should callback onSuccess",
            "suites": [
                "getDevice()"
            ],
            "updatePoint": {
                "line": 805,
                "column": 58,
                "index": 32155
            },
            "line": 805,
            "code": "  test('Happy path for getDevice should callback onSuccess', () => {\n    netRequestMockSuccess(true);\n    cognitoUser.getDevice(callback);\n    expect(callback.onSuccess.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "client request returns an error and onFailure is called",
            "suites": [
                "getDevice()"
            ],
            "updatePoint": {
                "line": 810,
                "column": 63,
                "index": 32366
            },
            "line": 810,
            "code": "  test('client request returns an error and onFailure is called', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.getDevice(callback);\n    expect(callback.onFailure.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "No client request method implementations, return undefined",
            "suites": [
                "getDevice()"
            ],
            "updatePoint": {
                "line": 815,
                "column": 66,
                "index": 32581
            },
            "line": 815,
            "code": "  test('No client request method implementations, return undefined', () => {\n    expect(cognitoUser.getDevice(callback)).toEqual(undefined);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "invalid user session should callback onFailure",
            "suites": [
                "getDevice()"
            ],
            "updatePoint": {
                "line": 818,
                "column": 54,
                "index": 32716
            },
            "line": 818,
            "code": "  test('invalid user session should callback onFailure', () => {\n    cognitoUser.setSignInUserSession(ivCognitoUserSession);\n    cognitoUser.getDevice(callback);\n    expect(callback.onFailure.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Happy path for verifyAttribute should callback onSuccess",
            "suites": [
                "verifyAttribute(), getAttributeVerificationCode"
            ],
            "updatePoint": {
                "line": 835,
                "column": 64,
                "index": 33319
            },
            "line": 835,
            "code": "  test('Happy path for verifyAttribute should callback onSuccess', () => {\n    netRequestMockSuccess(true);\n    cognitoUser.verifyAttribute(...verifyAttributeDefaults);\n    expect(callback.onSuccess.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "client request returns an error and onFailure is called",
            "suites": [
                "verifyAttribute(), getAttributeVerificationCode"
            ],
            "updatePoint": {
                "line": 840,
                "column": 63,
                "index": 33554
            },
            "line": 840,
            "code": "  test('client request returns an error and onFailure is called', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.verifyAttribute(...verifyAttributeDefaults);\n    expect(callback.onFailure.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "No client request method implementations, return undefined",
            "suites": [
                "verifyAttribute(), getAttributeVerificationCode"
            ],
            "updatePoint": {
                "line": 845,
                "column": 66,
                "index": 33793
            },
            "line": 845,
            "code": "  test('No client request method implementations, return undefined', () => {\n    expect(cognitoUser.verifyAttribute(...verifyAttributeDefaults)).toEqual(undefined);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "happy path for getAttributeVerificationCode",
            "suites": [
                "verifyAttribute(), getAttributeVerificationCode"
            ],
            "updatePoint": {
                "line": 849,
                "column": 51,
                "index": 34013
            },
            "line": 849,
            "code": "  test('happy path for getAttributeVerificationCode', () => {\n    //callback.inputVerification needs to be set to null before the call to avoid the conditional in the method.\n    callback.inputVerificationCode = null;\n    netRequestMockSuccess(true);\n    cognitoUser.getAttributeVerificationCode(...getAttrsVerifCodeDefaults);\n    callback.inputVerificationCode = jest.fn();\n    expect(callback.onSuccess).toHaveBeenCalledWith('SUCCESS');\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "when inputVerificationCode exists in the callback, call inputVerifier with the data",
            "suites": [
                "verifyAttribute(), getAttributeVerificationCode"
            ],
            "updatePoint": {
                "line": 857,
                "column": 91,
                "index": 34498
            },
            "line": 857,
            "code": "  test('when inputVerificationCode exists in the callback, call inputVerifier with the data', () => {\n    netRequestMockSuccess(true);\n    cognitoUser.getAttributeVerificationCode(...getAttrsVerifCodeDefaults);\n    expect(callback.inputVerificationCode.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "when inputVerificationCode with a failed network request",
            "suites": [
                "verifyAttribute(), getAttributeVerificationCode"
            ],
            "updatePoint": {
                "line": 862,
                "column": 64,
                "index": 34761
            },
            "line": 862,
            "code": "  test('when inputVerificationCode with a failed network request', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.getAttributeVerificationCode(...getAttrsVerifCodeDefaults);\n    expect(callback.onFailure.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "invalid user session should callback onFailure for verifyAttributes",
            "suites": [
                "verifyAttribute(), getAttributeVerificationCode"
            ],
            "updatePoint": {
                "line": 867,
                "column": 75,
                "index": 35024
            },
            "line": 867,
            "code": "  test('invalid user session should callback onFailure for verifyAttributes', () => {\n    cognitoUser.setSignInUserSession(ivCognitoUserSession);\n    cognitoUser.verifyAttribute(...verifyAttributeDefaults);\n    expect(callback.onFailure.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "invalid user session should callback onFailure for getAttrsVerifCodeDefaults",
            "suites": [
                "verifyAttribute(), getAttributeVerificationCode"
            ],
            "updatePoint": {
                "line": 872,
                "column": 84,
                "index": 35307
            },
            "line": 872,
            "code": "  test('invalid user session should callback onFailure for getAttrsVerifCodeDefaults', () => {\n    cognitoUser.getAttributeVerificationCode(...getAttrsVerifCodeDefaults);\n    expect(callback.onFailure.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "happy path should callback onSuccess",
            "suites": [
                "confirmPassword() and forgotPassword()"
            ],
            "updatePoint": {
                "line": 889,
                "column": 44,
                "index": 35927
            },
            "line": 889,
            "code": "  test('happy path should callback onSuccess', () => {\n    netRequestMockSuccess(true);\n    cognitoUser.confirmPassword(...confirmPasswordDefaults);\n    expect(callback.onSuccess).toHaveBeenCalledWith('SUCCESS');\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "client request throws an error",
            "suites": [
                "confirmPassword() and forgotPassword()"
            ],
            "updatePoint": {
                "line": 894,
                "column": 38,
                "index": 36140
            },
            "line": 894,
            "code": "  test('client request throws an error', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.confirmPassword(...confirmPasswordDefaults);\n    expect(callback.onFailure.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "happy path should callback onSuccess",
            "suites": [
                "confirmPassword() and forgotPassword()"
            ],
            "updatePoint": {
                "line": 899,
                "column": 44,
                "index": 36357
            },
            "line": 899,
            "code": "  test('happy path should callback onSuccess', () => {\n    callback.inputVerificationCode = null;\n    netRequestMockSuccess(true);\n    cognitoUser.forgotPassword(...forgotPasswordDefaults);\n    expect(callback.onSuccess.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "inputVerification code is a function should callback inputVerificationCode",
            "suites": [
                "confirmPassword() and forgotPassword()"
            ],
            "updatePoint": {
                "line": 905,
                "column": 82,
                "index": 36652
            },
            "line": 905,
            "code": "  test('inputVerification code is a function should callback inputVerificationCode', () => {\n    callback.inputVerificationCode = jest.fn();\n    netRequestMockSuccess(true);\n    cognitoUser.forgotPassword(...forgotPasswordDefaults);\n    expect(callback.inputVerificationCode.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "client returning an error should call onFailure",
            "suites": [
                "confirmPassword() and forgotPassword()"
            ],
            "updatePoint": {
                "line": 911,
                "column": 55,
                "index": 36937
            },
            "line": 911,
            "code": "  test('client returning an error should call onFailure', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.forgotPassword(...forgotPasswordDefaults);\n    expect(callback.onFailure.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Happy path for sendMFACode should call onSuccess",
            "suites": [
                "MFA test suite"
            ],
            "updatePoint": {
                "line": 936,
                "column": 56,
                "index": 37642
            },
            "line": 936,
            "code": "  test('Happy path for sendMFACode should call onSuccess', () => {\n    netRequestMockSuccess(true, payload);\n    authHelperMock(genHashDevices);\n    authHelperMock(getSalt);\n    authHelperMock(getVerifiers);\n    netRequestMockSuccess(true, {\n      UserConfirmationNecessary: false\n    });\n    cognitoUser.sendMFACode(...sendMfaDefaults);\n    expect(callback.onSuccess.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "when userConfirmation is true, should callback onSuccess",
            "suites": [
                "MFA test suite"
            ],
            "updatePoint": {
                "line": 947,
                "column": 64,
                "index": 38055
            },
            "line": 947,
            "code": "  test('when userConfirmation is true, should callback onSuccess', () => {\n    netRequestMockSuccess(true, payload);\n    authHelperMock(genHashDevices);\n    authHelperMock(getSalt);\n    authHelperMock(getVerifiers);\n    netRequestMockSuccess(true, {\n      UserConfirmationNecessary: true\n    });\n    cognitoUser.sendMFACode(...sendMfaDefaults);\n    expect(callback.onSuccess.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "second client request fails so sendMFACode should call onFailure",
            "suites": [
                "MFA test suite"
            ],
            "updatePoint": {
                "line": 958,
                "column": 72,
                "index": 38475
            },
            "line": 958,
            "code": "  test('second client request fails so sendMFACode should call onFailure', () => {\n    netRequestMockSuccess(true, payload);\n    authHelperMock(genHashDevices);\n    authHelperMock(getSalt);\n    authHelperMock(getVerifiers);\n    netRequestMockSuccess(false);\n    cognitoUser.sendMFACode(...sendMfaDefaults);\n    expect(callback.onFailure.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "when generateHashDevice fails, sendMFACode should call onFailure",
            "suites": [
                "MFA test suite"
            ],
            "updatePoint": {
                "line": 967,
                "column": 72,
                "index": 38849
            },
            "line": 967,
            "code": "  test('when generateHashDevice fails, sendMFACode should call onFailure', () => {\n    netRequestMockSuccess(true, payload);\n    jest.spyOn(AuthenticationHelper.prototype, 'generateHashDevice').mockImplementationOnce((...args) => {\n      args[2](new Error('Network Error'), null);\n    });\n    cognitoUser.sendMFACode(...sendMfaDefaults);\n    expect(callback.onFailure.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "when AuthenticationResult.NewDeviceMetadata == null, callback onSuccess",
            "suites": [
                "MFA test suite"
            ],
            "updatePoint": {
                "line": 975,
                "column": 79,
                "index": 39261
            },
            "line": 975,
            "code": "  test('when AuthenticationResult.NewDeviceMetadata == null, callback onSuccess', () => {\n    jest.spyOn(Client.prototype, 'request').mockImplementationOnce((...args) => {\n      args[2](null, {\n        ChallengeName: 'SMS_MFA',\n        AuthenticationResult: {\n          NewDeviceMetadata: null\n        }\n      });\n    });\n    cognitoUser.sendMFACode(...sendMfaDefaults);\n    expect(callback.onSuccess.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "first network request throws an error calls onFailure",
            "suites": [
                "MFA test suite"
            ],
            "updatePoint": {
                "line": 987,
                "column": 61,
                "index": 39681
            },
            "line": 987,
            "code": "  test('first network request throws an error calls onFailure', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.sendMFACode(...sendMfaDefaults);\n    expect(callback.onFailure.mock.calls.length).toEqual(1);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "first client request does not exist so sendMFACode should return undefined",
            "suites": [
                "MFA test suite"
            ],
            "updatePoint": {
                "line": 992,
                "column": 82,
                "index": 39924
            },
            "line": 992,
            "code": "  test('first client request does not exist so sendMFACode should return undefined', () => {\n    expect(cognitoUser.sendMFACode(...sendMfaDefaults)).toEqual(undefined);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "enableMFA happy path should callback on success  ",
            "suites": [
                "enableMFA()"
            ],
            "updatePoint": {
                "line": 1007,
                "column": 57,
                "index": 40364
            },
            "line": 1007,
            "code": "  test('enableMFA happy path should callback on success  ', () => {\n    netRequestMockSuccess(true);\n    cognitoUser.enableMFA(callback);\n    expect(callback.mock.calls[0][1]).toEqual('SUCCESS');\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "enableMFA should have an error when client request fails",
            "suites": [
                "enableMFA()"
            ],
            "updatePoint": {
                "line": 1012,
                "column": 64,
                "index": 40573
            },
            "line": 1012,
            "code": "  test('enableMFA should have an error when client request fails', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.enableMFA(callback);\n    expect(callback.mock.calls[0][0]).toMatchObject(networkError);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "enableMFA should return undefined when no client request is defined",
            "suites": [
                "enableMFA()"
            ],
            "updatePoint": {
                "line": 1017,
                "column": 75,
                "index": 40803
            },
            "line": 1017,
            "code": "  test('enableMFA should return undefined when no client request is defined', () => {\n    expect(cognitoUser.enableMFA(callback)).toEqual(undefined);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "enableMFA should callback with an error when userSession is invalid",
            "suites": [
                "enableMFA()"
            ],
            "updatePoint": {
                "line": 1020,
                "column": 75,
                "index": 40959
            },
            "line": 1020,
            "code": "  test('enableMFA should callback with an error when userSession is invalid', () => {\n    cognitoUser.setSignInUserSession(ivCognitoUserSession);\n    cognitoUser.enableMFA(callback);\n    expect(callback.mock.calls[0][0]).toMatchObject(Error('User is not authenticated'));\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "happy path for setUserMfaPreferences should callback(null,SUCCESS)",
            "suites": [
                "setUserMfaPreference"
            ],
            "updatePoint": {
                "line": 1038,
                "column": 74,
                "index": 41624
            },
            "line": 1038,
            "code": "  test('happy path for setUserMfaPreferences should callback(null,SUCCESS)', () => {\n    netRequestMockSuccess(true);\n    cognitoUser.setUserMfaPreference(...setUserMfaPreferenceDefaults);\n    expect(callback.mock.calls[0][1]).toEqual('SUCCESS');\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "client request throws an error path for setUserMfaPreferences should callback(null,SUCCESS)",
            "suites": [
                "setUserMfaPreference"
            ],
            "updatePoint": {
                "line": 1043,
                "column": 99,
                "index": 41902
            },
            "line": 1043,
            "code": "  test('client request throws an error path for setUserMfaPreferences should callback(null,SUCCESS)', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.setUserMfaPreference(...setUserMfaPreferenceDefaults);\n    expect(callback.mock.calls[0][0]).toMatchObject(Error('Network Error'));\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "happy path for setUserMfaPreferences should callback(null,SUCCESS)",
            "suites": [
                "setUserMfaPreference"
            ],
            "updatePoint": {
                "line": 1048,
                "column": 74,
                "index": 42175
            },
            "line": 1048,
            "code": "  test('happy path for setUserMfaPreferences should callback(null,SUCCESS)', () => {\n    expect(cognitoUser.setUserMfaPreference(...setUserMfaPreferenceDefaults)).toEqual(undefined);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "should callback error when cognito user session is invalid",
            "suites": [
                "setUserMfaPreference"
            ],
            "updatePoint": {
                "line": 1051,
                "column": 66,
                "index": 42356
            },
            "line": 1051,
            "code": "  test('should callback error when cognito user session is invalid', () => {\n    cognitoUser.setSignInUserSession(ivCognitoUserSession);\n    cognitoUser.setUserMfaPreference(...setUserMfaPreferenceDefaults);\n    expect(callback.mock.calls[0][0]).toMatchObject(new Error('User is not authenticated'));\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "happy path should callback with (null, SUCCESS)",
            "suites": [
                "disableMFA()"
            ],
            "updatePoint": {
                "line": 1068,
                "column": 55,
                "index": 42943
            },
            "line": 1068,
            "code": "  test('happy path should callback with (null, SUCCESS)', () => {\n    netRequestMockSuccess(true);\n    cognitoUser.disableMFA(callback);\n    expect(callback.mock.calls[0][1]).toEqual('SUCCESS');\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "client request throws an error and should callback with (err, null)",
            "suites": [
                "disableMFA()"
            ],
            "updatePoint": {
                "line": 1073,
                "column": 75,
                "index": 43164
            },
            "line": 1073,
            "code": "  test('client request throws an error and should callback with (err, null)', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.disableMFA(callback);\n    expect(callback.mock.calls[0][0]).toMatchObject(new Error('Network Error'));\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "client request does not exist and disableMFA should callback with (err, null)",
            "suites": [
                "disableMFA()"
            ],
            "updatePoint": {
                "line": 1078,
                "column": 85,
                "index": 43419
            },
            "line": 1078,
            "code": "  test('client request does not exist and disableMFA should callback with (err, null)', () => {\n    expect(cognitoUser.disableMFA(callback)).toEqual(undefined);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "when user is invalid, return callback with error",
            "suites": [
                "disableMFA()"
            ],
            "updatePoint": {
                "line": 1081,
                "column": 56,
                "index": 43557
            },
            "line": 1081,
            "code": "  test('when user is invalid, return callback with error', () => {\n    cognitoUser.setSignInUserSession(ivCognitoUserSession);\n    cognitoUser.disableMFA(callback);\n    expect(callback.mock.calls[0][0]).toMatchObject(new Error('User is not authenticated'));\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "happy path for getMFAOptions should callback onSuccess",
            "suites": [
                "getMFAOptions()"
            ],
            "updatePoint": {
                "line": 1098,
                "column": 62,
                "index": 44121
            },
            "line": 1098,
            "code": "  test('happy path for getMFAOptions should callback onSuccess', () => {\n    netRequestMockSuccess(true, {\n      MFAOptions: 'SMS_MFA'\n    });\n    cognitoUser.getMFAOptions(callback);\n    expect(callback.mock.calls[0][1]).toEqual('SMS_MFA');\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "client request throws an error and should callback with (err, null)",
            "suites": [
                "getMFAOptions()"
            ],
            "updatePoint": {
                "line": 1105,
                "column": 75,
                "index": 44382
            },
            "line": 1105,
            "code": "  test('client request throws an error and should callback with (err, null)', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.getMFAOptions(callback);\n    expect(callback.mock.calls[0][0]).toMatchObject(new Error('Network Error'));\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "when user is invalid, return callback with error",
            "suites": [
                "getMFAOptions()"
            ],
            "updatePoint": {
                "line": 1110,
                "column": 56,
                "index": 44611
            },
            "line": 1110,
            "code": "  test('when user is invalid, return callback with error', () => {\n    cognitoUser.setSignInUserSession(ivCognitoUserSession);\n    cognitoUser.getMFAOptions(callback);\n    expect(callback.mock.calls[0][0]).toMatchObject(new Error('User is not authenticated'));\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "happy path should callback SUCCESS",
            "suites": [
                "deleteUser()"
            ],
            "updatePoint": {
                "line": 1127,
                "column": 42,
                "index": 45155
            },
            "line": 1127,
            "code": "  test('happy path should callback SUCCESS', () => {\n    netRequestMockSuccess(true, null);\n    cognitoUser.deleteUser(callback, {});\n    expect(callback.mock.calls[0][1]).toEqual('SUCCESS');\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "client request throws an error",
            "suites": [
                "deleteUser()"
            ],
            "updatePoint": {
                "line": 1132,
                "column": 38,
                "index": 45349
            },
            "line": 1132,
            "code": "  test('client request throws an error', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.deleteUser(callback, {});\n    expect(callback.mock.calls[0][0]).toMatchObject(new Error('Network Error'));\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "having an invalid user session should callback with a new error",
            "suites": [
                "deleteUser()"
            ],
            "updatePoint": {
                "line": 1137,
                "column": 71,
                "index": 45594
            },
            "line": 1137,
            "code": "  test('having an invalid user session should callback with a new error', () => {\n    cognitoUser.setSignInUserSession(ivCognitoUserSession);\n    cognitoUser.deleteUser(callback, {});\n    expect(callback.mock.calls[0][0]).toMatchObject(new Error('User is not authenticated'));\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "happy path for getUserAttributes",
            "suites": [
                "getUserAttributes()"
            ],
            "updatePoint": {
                "line": 1154,
                "column": 40,
                "index": 46144
            },
            "line": 1154,
            "code": "  test('happy path for getUserAttributes', () => {\n    const userAttributesObject = {\n      UserAttributes: [{\n        Name: 'name1',\n        Value: 'value1'\n      }]\n    };\n    netRequestMockSuccess(true, userAttributesObject);\n    cognitoUser.getUserAttributes(callback);\n    expect(callback.mock.calls[0][1]).toMatchObject(userAttributesObject.UserAttributes);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "client request throws an error",
            "suites": [
                "getUserAttributes()"
            ],
            "updatePoint": {
                "line": 1165,
                "column": 38,
                "index": 46512
            },
            "line": 1165,
            "code": "  test('client request throws an error', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.getUserAttributes(callback);\n    expect(callback.mock.calls[0][0]).toMatchObject(new Error('Network Error'));\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "having an invalid user session should callback with a new error",
            "suites": [
                "getUserAttributes()"
            ],
            "updatePoint": {
                "line": 1170,
                "column": 71,
                "index": 46760
            },
            "line": 1170,
            "code": "  test('having an invalid user session should callback with a new error', () => {\n    cognitoUser.setSignInUserSession(ivCognitoUserSession);\n    cognitoUser.getUserAttributes(callback);\n    expect(callback.mock.calls[0][0]).toMatchObject(new Error('User is not authenticated'));\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "happy path for deleteAttrbutes should call getUserData to update cache",
            "suites": [
                "deleteAttributes()"
            ],
            "updatePoint": {
                "line": 1187,
                "column": 78,
                "index": 47350
            },
            "line": 1187,
            "code": "  test('happy path for deleteAttrbutes should call getUserData to update cache', () => {\n    netRequestMockSuccess(true);\n    const getUserDataSpy = jest.spyOn(cognitoUser, 'getUserData').mockImplementationOnce(cb => cb());\n    cognitoUser.deleteAttributes([], callback);\n    expect(getUserDataSpy).toBeCalled();\n    expect(callback.mock.calls[0][1]).toEqual('SUCCESS');\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "client request throws an error",
            "suites": [
                "deleteAttributes()"
            ],
            "updatePoint": {
                "line": 1194,
                "column": 38,
                "index": 47687
            },
            "line": 1194,
            "code": "  test('client request throws an error', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.deleteAttributes([], callback);\n    expect(callback.mock.calls[0][0]).toMatchObject(new Error('Network Error'));\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "having an invalid user session should callback with a new error",
            "suites": [
                "deleteAttributes()"
            ],
            "updatePoint": {
                "line": 1199,
                "column": 71,
                "index": 47938
            },
            "line": 1199,
            "code": "  test('having an invalid user session should callback with a new error', () => {\n    cognitoUser.setSignInUserSession(ivCognitoUserSession);\n    cognitoUser.deleteAttributes([], callback);\n    expect(callback.mock.calls[0][0]).toMatchObject(new Error('User is not authenticated'));\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "happy path should return a new CognitoUserSession",
            "suites": [
                "getCognitoUserSession()"
            ],
            "updatePoint": {
                "line": 1216,
                "column": 57,
                "index": 48573
            },
            "line": 1216,
            "code": "  test('happy path should return a new CognitoUserSession', () => {\n    expect(cognitoUser.getCognitoUserSession({\n      sessionData\n    })).toMatchObject(new CognitoUserSession(sessionData));\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "happy path for refresh session ",
            "suites": [
                "refreshSession()"
            ],
            "updatePoint": {
                "line": 1246,
                "column": 39,
                "index": 49634
            },
            "line": 1246,
            "code": "  test('happy path for refresh session ', () => {\n    netRequestMockSuccess(true, {\n      AuthenticationResult: {\n        RefreshToken: null\n      }\n    });\n    cognitoUser.refreshSession(...refreshSessionDefaults);\n    expect(callback.mock.calls[0][1]).toMatchObject(new CognitoUserSession(sessionData));\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "client throws an error ",
            "suites": [
                "refreshSession()"
            ],
            "updatePoint": {
                "line": 1255,
                "column": 31,
                "index": 49938
            },
            "line": 1255,
            "code": "  test('client throws an error ', () => {\n    netRequestMockSuccess(false);\n    cognitoUser.refreshSession(...refreshSessionDefaults);\n    expect(callback.mock.calls[0][0]).toMatchObject(new Error('Network Error'));\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "getSession()",
            "suites": [
                "refreshSession()"
            ],
            "updatePoint": {
                "line": 1260,
                "column": 20,
                "index": 50149
            },
            "line": 1260,
            "code": "  test('getSession()', () => {\n    cognitoUser.setSignInUserSession(ivCognitoUserSession);\n    cognitoUser.storage.setItem(idTokenKey, vCognitoUserSession.getIdToken().getJwtToken());\n    cognitoUser.storage.setItem(accessTokenKey, vCognitoUserSession.getAccessToken().getJwtToken());\n    cognitoUser.storage.setItem(refreshTokenKey, vCognitoUserSession.getRefreshToken().getToken());\n    cognitoUser.storage.setItem(clockDriftKey, vCognitoUserSession.getClockDrift());\n    cognitoUser.getSession(callback);\n    expect(callback.mock.calls[0][0]).toEqual(null);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "when a valid userSession exists, return callback(null, signInUserSession) from instance vars",
            "suites": [
                "refreshSession()"
            ],
            "updatePoint": {
                "line": 1269,
                "column": 100,
                "index": 50796
            },
            "line": 1269,
            "code": "  test('when a valid userSession exists, return callback(null, signInUserSession) from instance vars', () => {\n    cognitoUser.setSignInUserSession(vCognitoUserSession);\n    cognitoUser.getSession(callback);\n    expect(callback.mock.calls[0][1]).toMatchObject(cognitoUser.signInUserSession);\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "when a username is null, callback with an error",
            "suites": [
                "refreshSession()"
            ],
            "updatePoint": {
                "line": 1274,
                "column": 55,
                "index": 51049
            },
            "line": 1274,
            "code": "  test('when a username is null, callback with an error', () => {\n    cognitoUser.username = null;\n    cognitoUser.getSession(callback);\n    expect(callback.mock.calls[0][0]).toMatchObject(new Error('Username is null. Cannot retrieve a new session'));\n  });",
            "file": "CognitoUser.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Get value",
            "suites": [
                "Getters and Setters"
            ],
            "updatePoint": {
                "line": 8,
                "column": 17,
                "index": 270
            },
            "line": 8,
            "code": "  test('Get value', () => {\n    expect(cognitoUserAttribute.getValue()).toBe(testValue);\n  });",
            "file": "CognitoUserAttribute.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Get name",
            "suites": [
                "Getters and Setters"
            ],
            "updatePoint": {
                "line": 11,
                "column": 16,
                "index": 364
            },
            "line": 11,
            "code": "  test('Get name', () => {\n    expect(cognitoUserAttribute.getName()).toBe(testName);\n  });",
            "file": "CognitoUserAttribute.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Set value",
            "suites": [
                "Getters and Setters"
            ],
            "updatePoint": {
                "line": 14,
                "column": 17,
                "index": 457
            },
            "line": 14,
            "code": "  test('Set value', () => {\n    expect(cognitoUserAttribute.setValue('newValue').Value).toBe('newValue');\n    cognitoUserAttribute.setValue(testValue);\n  });",
            "file": "CognitoUserAttribute.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Set name",
            "suites": [
                "Getters and Setters"
            ],
            "updatePoint": {
                "line": 18,
                "column": 16,
                "index": 614
            },
            "line": 18,
            "code": "  test('Set name', () => {\n    expect(cognitoUserAttribute.setName('newName').Name).toBe('newName');\n    cognitoUserAttribute.setName(testName);\n  });",
            "file": "CognitoUserAttribute.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "toString method",
            "suites": [
                "Testing different representation of CognitoUserAttrs"
            ],
            "updatePoint": {
                "line": 24,
                "column": 23,
                "index": 849
            },
            "line": 24,
            "code": "  test('toString method', () => {\n    expect(cognitoUserAttribute.toString()).toEqual('{\"Name\":\"testName\",\"Value\":\"testValue\"}');\n  });",
            "file": "CognitoUserAttribute.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "toJSON method",
            "suites": [
                "Testing different representation of CognitoUserAttrs"
            ],
            "updatePoint": {
                "line": 27,
                "column": 21,
                "index": 983
            },
            "line": 27,
            "code": "  test('toJSON method', () => {\n    expect(cognitoUserAttribute.toJSON()).toEqual({\n      Name: testName,\n      Value: testValue\n    });\n  });",
            "file": "CognitoUserAttribute.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Undefined Name",
            "suites": [
                "Testing constructor"
            ],
            "updatePoint": {
                "line": 35,
                "column": 22,
                "index": 1171
            },
            "line": 35,
            "code": "  test('Undefined Name', () => {\n    const undefinedCognitoName = new CognitoUserAttribute({\n      Value: testValue\n    });\n    expect(undefinedCognitoName.getName()).toBe('');\n  });",
            "file": "CognitoUserAttribute.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Undefined Value",
            "suites": [
                "Testing constructor"
            ],
            "updatePoint": {
                "line": 41,
                "column": 23,
                "index": 1355
            },
            "line": 41,
            "code": "  test('Undefined Value', () => {\n    const undefinedCognitoValue = new CognitoUserAttribute({\n      Name: testName\n    });\n    expect(undefinedCognitoValue.getValue()).toBe('');\n  });",
            "file": "CognitoUserAttribute.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Undefined cognito attributes",
            "suites": [
                "Testing constructor"
            ],
            "updatePoint": {
                "line": 47,
                "column": 36,
                "index": 1553
            },
            "line": 47,
            "code": "  test('Undefined cognito attributes', () => {\n    const undefinedCognitoAttr = new CognitoUserAttribute();\n    expect(undefinedCognitoAttr.getValue()).toBe('');\n    expect(undefinedCognitoAttr.getName()).toBe('');\n  });",
            "file": "CognitoUserAttribute.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "when either userPoolId or clientId is null throw a requirement error",
            "suites": [
                "Constructor and accessor methods"
            ],
            "updatePoint": {
                "line": 13,
                "column": 76,
                "index": 485
            },
            "line": 13,
            "code": "  test('when either userPoolId or clientId is null throw a requirement error', () => {\n    const data = {\n      UserPoolId: null,\n      ClientId: clientId\n    };\n    expect(() => {\n      new CognitoUserPool(data);\n    }).toThrowError('Both UserPoolId and ClientId are required.');\n  });",
            "file": "CognitoUserPool.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Getting clientId from CognitoUserPool",
            "suites": [
                "Constructor and accessor methods"
            ],
            "updatePoint": {
                "line": 22,
                "column": 45,
                "index": 741
            },
            "line": 22,
            "code": "  test('Getting clientId from CognitoUserPool', () => {\n    expect(cognitoUserPool.getClientId()).toBe(clientId);\n  });",
            "file": "CognitoUserPool.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Getting userPoolId from CognitoUserPool",
            "suites": [
                "Constructor and accessor methods"
            ],
            "updatePoint": {
                "line": 25,
                "column": 47,
                "index": 863
            },
            "line": 25,
            "code": "  test('Getting userPoolId from CognitoUserPool', () => {\n    expect(cognitoUserPool.getUserPoolId()).toBe(userPoolId);\n  });",
            "file": "CognitoUserPool.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Getting user context data without advancedSecurityData",
            "suites": [
                "Constructor and accessor methods"
            ],
            "updatePoint": {
                "line": 28,
                "column": 62,
                "index": 1004
            },
            "line": 28,
            "code": "  test('Getting user context data without advancedSecurityData', () => {\n    const cognitoUserPool = new CognitoUserPool(minimalData);\n    expect(cognitoUserPool.getUserContextData(userName)).toBe(undefined);\n  });",
            "file": "CognitoUserPool.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "When a user has not been logged in, return null from getting the current user",
            "suites": [
                "Constructor and accessor methods"
            ],
            "updatePoint": {
                "line": 32,
                "column": 85,
                "index": 1242
            },
            "line": 32,
            "code": "  test('When a user has not been logged in, return null from getting the current user', () => {\n    expect(cognitoUserPool.getCurrentUser()).toBe(null);\n  });",
            "file": "CognitoUserPool.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "When a user has been logged in, return the CognitoUser getting the current user",
            "suites": [
                "Constructor and accessor methods"
            ],
            "updatePoint": {
                "line": 35,
                "column": 87,
                "index": 1403
            },
            "line": 35,
            "code": "  test('When a user has been logged in, return the CognitoUser getting the current user', async () => {\n    jest.spyOn(Storage.prototype, 'getItem').mockImplementation(() => {\n      return 'username';\n    }); //returns a function that records everything being done to it\n\n    expect(cognitoUserPool.getCurrentUser()).toMatchObject({\n      username: 'username'\n    });\n  });",
            "file": "CognitoUserPool.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "signUp()",
            "suites": [
                "Testing signUp of a user into a user pool"
            ],
            "updatePoint": {
                "line": 54,
                "column": 16,
                "index": 1965
            },
            "line": 54,
            "code": "  test('signUp()', async () => {\n    jest.spyOn(Client.prototype, 'request').mockImplementation((...args) => {\n      args[2](null, {});\n    });\n    const callback = jest.fn();\n    cognitoUserPool.signUp(userName, password, [], [], callback, []);\n    expect(callback.mock.calls[0][1]).toMatchObject({\n      user: {\n        username: userName\n      }\n    });\n    expect(callback.mock.calls[0][0]).toBe(null);\n  });",
            "file": "CognitoUserPool.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Signing up a user has some kind of error",
            "suites": [
                "Testing signUp of a user into a user pool"
            ],
            "updatePoint": {
                "line": 67,
                "column": 48,
                "index": 2410
            },
            "line": 67,
            "code": "  test('Signing up a user has some kind of error', async () => {\n    jest.spyOn(Client.prototype, 'request').mockImplementation((...args) => {\n      const err = new Error('Network Error');\n      args[2](null, {});\n    }); //returns a function that records everything being done to it\n\n    const callback = jest.fn();\n    cognitoUserPool.signUp(userName, password, [], [], callback, []);\n    expect(callback.mock.calls.length).toBe(1);\n  });",
            "file": "CognitoUserPool.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Domain not supplied",
            "suites": [
                "Cookie Storage Unit Tests",
                "Constructor methods"
            ],
            "updatePoint": {
                "line": 13,
                "column": 29,
                "index": 367
            },
            "line": 13,
            "code": "    test('Domain not supplied', () => {\n      expect(() => {\n        new CookieStorage({\n          domain: undefined\n        });\n      }).toThrowError('The domain of cookieStorage can not be undefined.');\n    });",
            "file": "CookieStorage.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Samesite value is undefined",
            "suites": [
                "Cookie Storage Unit Tests",
                "Constructor methods"
            ],
            "updatePoint": {
                "line": 20,
                "column": 37,
                "index": 588
            },
            "line": 20,
            "code": "    test('Samesite value is undefined', () => {\n      expect(() => {\n        new CookieStorage({\n          domain: cookieStorageDomain,\n          sameSite: undefined\n        });\n      }).toThrowError('The sameSite value of cookieStorage must be \"lax\", \"strict\" or \"none\"');\n    });",
            "file": "CookieStorage.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Samesite value is none while secure = false",
            "suites": [
                "Cookie Storage Unit Tests",
                "Constructor methods"
            ],
            "updatePoint": {
                "line": 28,
                "column": 53,
                "index": 886
            },
            "line": 28,
            "code": "    test('Samesite value is none while secure = false', () => {\n      expect(() => {\n        new CookieStorage({\n          domain: cookieStorageDomain,\n          secure: false,\n          sameSite: 'none'\n        });\n      }).toThrowError('sameSite = None requires the Secure attribute in latest browser versions.');\n    });",
            "file": "CookieStorage.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Has an expiration value",
            "suites": [
                "Cookie Storage Unit Tests",
                "Constructor methods"
            ],
            "updatePoint": {
                "line": 37,
                "column": 33,
                "index": 1190
            },
            "line": 37,
            "code": "    test('Has an expiration value', () => {\n      const cookieExpires = new CookieStorage({\n        domain: cookieStorageDomain,\n        secure: false,\n        expires: 200\n      });\n      expect(cookieExpires.expires).toBe(200);\n    });",
            "file": "CookieStorage.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "getting an item",
            "suites": [
                "Cookie Storage Unit Tests",
                "Constructor methods",
                "Setters and getters"
            ],
            "updatePoint": {
                "line": 51,
                "column": 27,
                "index": 1624
            },
            "line": 51,
            "code": "      test('getting an item', () => {\n        cookieStore.setItem('testKey', 'testValue');\n        expect(cookieStore.getItem('testKey')).toBe('testValue');\n      });",
            "file": "CookieStorage.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "setting an item",
            "suites": [
                "Cookie Storage Unit Tests",
                "Constructor methods",
                "Setters and getters"
            ],
            "updatePoint": {
                "line": 55,
                "column": 27,
                "index": 1791
            },
            "line": 55,
            "code": "      test('setting an item', () => {\n        expect(cookieStore.setItem('domain', 'newdomain.com')).toBe('newdomain.com');\n      });",
            "file": "CookieStorage.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Clearing cookies should remove all items within the storage",
            "suites": [
                "Cookie Storage Unit Tests",
                "Constructor methods",
                "Setters and getters"
            ],
            "updatePoint": {
                "line": 58,
                "column": 71,
                "index": 1969
            },
            "line": 58,
            "code": "      test('Clearing cookies should remove all items within the storage', () => {\n        const cookieStore = new CookieStorage(cookieStoreData);\n        cookieStore.setItem('testKey2', 'testValue');\n        const tempReference = cookieStore.getItem();\n        cookieStore.clear();\n        expect(cookieStore.getItem()).not.toEqual(tempReference);\n      });",
            "file": "CookieStorage.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "crypto is set for window (browser)",
            "suites": [
                "cryptoSecureRandomInt test"
            ],
            "updatePoint": {
                "line": 12,
                "column": 42,
                "index": 302
            },
            "line": 12,
            "code": "  test('crypto is set for window (browser)', () => {\n    windowSpy.mockImplementation(() => ({\n      crypto: {\n        getRandomValues: () => [12345]\n      }\n    }));\n\n    const cryptoSecureRandomInt = require('../src/utils/cryptoSecureRandomInt').default;\n\n    expect(window.crypto).toBeTruthy();\n    expect(cryptoSecureRandomInt()).toBe(12345);\n  });",
            "file": "cryptoSecureRandomInt.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "crypto is set for window (IE 11)",
            "suites": [
                "cryptoSecureRandomInt test"
            ],
            "updatePoint": {
                "line": 24,
                "column": 40,
                "index": 653
            },
            "line": 24,
            "code": "  test('crypto is set for window (IE 11)', () => {\n    windowSpy.mockImplementation(() => ({\n      crypto: undefined,\n      msCrypto: {\n        getRandomValues: () => [67890]\n      }\n    }));\n\n    const cryptoSecureRandomInt = require('../src/utils/cryptoSecureRandomInt').default;\n\n    expect(window.msCrypto).toBeTruthy();\n    expect(cryptoSecureRandomInt()).toBe(67890);\n  });",
            "file": "cryptoSecureRandomInt.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "crypto is set for Node",
            "suites": [
                "cryptoSecureRandomInt test"
            ],
            "updatePoint": {
                "line": 37,
                "column": 30,
                "index": 1023
            },
            "line": 37,
            "code": "  test('crypto is set for Node', () => {\n    windowSpy.mockImplementation(() => ({\n      crypto: null\n    }));\n    const randomBytesMock = jest.spyOn(crypto, 'randomBytes').mockImplementationOnce(() => ({\n      readInt32LE: jest.fn().mockReturnValueOnce(54321)\n    }));\n\n    const cryptoSecureRandomInt = require('../src/utils/cryptoSecureRandomInt').default;\n\n    expect(cryptoSecureRandomInt()).toBe(54321);\n    randomBytesMock.mockRestore();\n  });",
            "file": "cryptoSecureRandomInt.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "happy path should return the date \"Tue Jan 1 06:06:09 UTC 2019\" format",
            "suites": [
                "getNowString()"
            ],
            "updatePoint": {
                "line": 4,
                "column": 78,
                "index": 256
            },
            "line": 4,
            "code": "  test('happy path should return the date \"Tue Jan 1 06:06:09 UTC 2019\" format', () => {\n    const mockDate = new Date(1546322769000);\n    jest.spyOn(global, 'Date').mockImplementation(() => mockDate);\n    const dateHelper = new DateHelper();\n    expect(dateHelper.getNowString()).toEqual('Tue Jan 1 06:06:09 UTC 2019');\n    jest.restoreAllMocks();\n  });",
            "file": "DateHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "should match snapshot",
            "suites": [
                "import * keys"
            ],
            "updatePoint": {
                "line": 3,
                "column": 27,
                "index": 104
            },
            "line": 3,
            "code": "  it('should match snapshot', () => {\n    expect(Object.keys(exported)).toMatchInlineSnapshot(`\n\t\tArray [\n\t\t  \"AuthenticationDetails\",\n\t\t  \"AuthenticationHelper\",\n\t\t  \"CognitoAccessToken\",\n\t\t  \"CognitoIdToken\",\n\t\t  \"CognitoRefreshToken\",\n\t\t  \"CognitoUser\",\n\t\t  \"CognitoUserAttribute\",\n\t\t  \"CognitoUserPool\",\n\t\t  \"CognitoUserSession\",\n\t\t  \"CookieStorage\",\n\t\t  \"DateHelper\",\n\t\t  \"appendToCognitoUserAgent\",\n\t\t  \"WordArray\",\n\t\t]\n\t`);\n  });",
            "file": "index.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Constructor with local storage and operations defined",
            "suites": [
                "StorageHelper unit test"
            ],
            "updatePoint": {
                "line": 4,
                "column": 61,
                "index": 210
            },
            "line": 4,
            "code": "  test('Constructor with local storage and operations defined', () => {\n    var localStorageMock = function () {\n      var store = {};\n      return {\n        getItem: function (key) {\n          return store[key];\n        },\n        setItem: function (key, value) {\n          store[key] = value.toString();\n        },\n        clear: function () {\n          store = {};\n        },\n        removeItem: function (key) {\n          delete store[key];\n        }\n      };\n    }();\n\n    Object.defineProperty(window, 'localStorage', {\n      value: localStorageMock,\n      writable: true\n    });\n    const storageHelper = new StorageHelper();\n    expect(storageHelper.getStorage()).toBe(localStorageMock);\n  });",
            "file": "StorageHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Checking the constructor catches the exception",
            "suites": [
                "StorageHelper unit test",
                "operations when local storage is undefined"
            ],
            "updatePoint": {
                "line": 31,
                "column": 56,
                "index": 972
            },
            "line": 31,
            "code": "    test('Checking the constructor catches the exception', () => {\n      window.localStorage = undefined;\n      const storageHelper = new StorageHelper();\n      expect(storageHelper.getStorage()).toBe(MemoryStorage);\n    });",
            "file": "StorageHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Setting items in the MemoryStorage implementation",
            "suites": [
                "StorageHelper unit test",
                "operations when local storage is undefined"
            ],
            "updatePoint": {
                "line": 36,
                "column": 59,
                "index": 1200
            },
            "line": 36,
            "code": "    test('Setting items in the MemoryStorage implementation', () => {\n      const storageHelper = new StorageHelper();\n      expect(storageHelper.getStorage().setItem('testKey', 'testValue')).toBe('testValue');\n    });",
            "file": "StorageHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Getting items in the MemoryStorage implementation happy path",
            "suites": [
                "StorageHelper unit test",
                "operations when local storage is undefined"
            ],
            "updatePoint": {
                "line": 40,
                "column": 70,
                "index": 1430
            },
            "line": 40,
            "code": "    test('Getting items in the MemoryStorage implementation happy path', () => {\n      const storageHelper = new StorageHelper();\n      expect(storageHelper.getStorage().getItem('testKey')).toBe('testValue');\n    });",
            "file": "StorageHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Getting items in the MemoryStorage implementation does not have key in MemoryStorage",
            "suites": [
                "StorageHelper unit test",
                "operations when local storage is undefined"
            ],
            "updatePoint": {
                "line": 44,
                "column": 94,
                "index": 1671
            },
            "line": 44,
            "code": "    test('Getting items in the MemoryStorage implementation does not have key in MemoryStorage', () => {\n      const storageHelper = new StorageHelper();\n      expect(storageHelper.getStorage().getItem('newKey')).toBe(undefined);\n    });",
            "file": "StorageHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Removing an item in the MemoryStorage implementation",
            "suites": [
                "StorageHelper unit test",
                "operations when local storage is undefined"
            ],
            "updatePoint": {
                "line": 48,
                "column": 62,
                "index": 1877
            },
            "line": 48,
            "code": "    test('Removing an item in the MemoryStorage implementation', () => {\n      const storageHelper = new StorageHelper();\n      expect(storageHelper.getStorage().removeItem('testKey')).toBe(true);\n    });",
            "file": "StorageHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Clearing storage",
            "suites": [
                "StorageHelper unit test",
                "operations when local storage is undefined"
            ],
            "updatePoint": {
                "line": 52,
                "column": 26,
                "index": 2046
            },
            "line": 52,
            "code": "    test('Clearing storage', () => {\n      const storageHelper = new StorageHelper();\n      expect(storageHelper.getStorage().clear()).toEqual({});\n    });",
            "file": "StorageHelper.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "setting an item",
            "suites": [
                "React native storage helper unit tests",
                "Accessor methods"
            ],
            "updatePoint": {
                "line": 29,
                "column": 25,
                "index": 864
            },
            "line": 29,
            "code": "    test('setting an item', () => {\n      expect(storageHelper.getStorage().setItem('testKey', 'testValue')).toEqual('testValue');\n    });",
            "file": "StorageHelperRN.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "getting an item",
            "suites": [
                "React native storage helper unit tests",
                "Accessor methods"
            ],
            "updatePoint": {
                "line": 32,
                "column": 25,
                "index": 1003
            },
            "line": 32,
            "code": "    test('getting an item', () => {\n      expect(storageHelper.getStorage().getItem('testKey')).toEqual('testValue');\n    });",
            "file": "StorageHelperRN.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "removing an item",
            "suites": [
                "React native storage helper unit tests",
                "Accessor methods"
            ],
            "updatePoint": {
                "line": 35,
                "column": 26,
                "index": 1130
            },
            "line": 35,
            "code": "    test('removing an item', () => {\n      expect(storageHelper.getStorage().removeItem('testKey')).toEqual(true);\n    });",
            "file": "StorageHelperRN.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "clearing the storage",
            "suites": [
                "React native storage helper unit tests",
                "Accessor methods"
            ],
            "updatePoint": {
                "line": 38,
                "column": 30,
                "index": 1257
            },
            "line": 38,
            "code": "    test('clearing the storage', () => {\n      storageHelper.getStorage().setItem('item1', 'value1');\n      expect(storageHelper.getStorage().clear()).toEqual({});\n    });",
            "file": "StorageHelperRN.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Happy case for syncing",
            "suites": [
                "React native storage helper unit tests",
                "Testing StorageHelper sync"
            ],
            "updatePoint": {
                "line": 47,
                "column": 32,
                "index": 1544
            },
            "line": 47,
            "code": "    test('Happy case for syncing', () => {\n      const items = {\n        '@MemoryStorage:key': 'value1'\n      };\n      jest.mock('@react-native-async-storage/async-storage', () => ({\n        setItem: jest.fn((item, value) => {\n          return new Promise((resolve, reject) => {\n            items[item] = value;\n            resolve(value);\n          });\n        }),\n        getAllKeys: jest.fn(callback => {\n          callback(null, Object.keys(items));\n        }),\n        multiGet: jest.fn((keys, callback) => {\n          const values = keys.map(key => [key, items[key] || null]);\n          callback && callback(null, values);\n          return values;\n        })\n      }));\n\n      const StorageHelper = require('../src/StorageHelper-rn.js').default;\n\n      const storageHelper = new StorageHelper();\n      const callback = jest.fn();\n      expect(storageHelper.getStorage().getItem('key')).toBeUndefined();\n      storageHelper.getStorage().sync(callback);\n      expect(callback.mock.calls[0][1]).toEqual('SUCCESS');\n      expect(storageHelper.getStorage().getItem('key')).toEqual('value1');\n    });",
            "file": "StorageHelperRN.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Get all keys throws errors",
            "suites": [
                "React native storage helper unit tests",
                "Testing StorageHelper sync"
            ],
            "updatePoint": {
                "line": 77,
                "column": 36,
                "index": 2649
            },
            "line": 77,
            "code": "    test('Get all keys throws errors', () => {\n      jest.mock('@react-native-async-storage/async-storage', () => ({\n        getAllKeys: jest.fn(callback => {\n          const err = ['errKey'];\n          callback(err, null);\n        })\n      }));\n\n      const StorageHelper = require('../src/StorageHelper-rn.js').default;\n\n      const storageHelper = new StorageHelper();\n      const callback = jest.fn();\n      storageHelper.getStorage().sync(callback);\n      expect(callback.mock.calls[0][0]).toEqual(['errKey']);\n    });",
            "file": "StorageHelperRN.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "Multiget throws errors",
            "suites": [
                "React native storage helper unit tests",
                "Testing StorageHelper sync"
            ],
            "updatePoint": {
                "line": 92,
                "column": 32,
                "index": 3169
            },
            "line": 92,
            "code": "    test('Multiget throws errors', () => {\n      var items = {};\n      jest.mock('@react-native-async-storage/async-storage', () => ({\n        getAllKeys: jest.fn(callback => {\n          callback(null, Object.keys(items));\n        }),\n        multiGet: jest.fn((keys, callback) => {\n          const values = keys.map(key => [key, items[key] || null]);\n          const err = new Error('Storage Error');\n          callback && callback(err, null);\n          return values;\n        })\n      }));\n\n      const StorageHelper = require('../src/StorageHelper-rn.js').default;\n\n      const storageHelper = new StorageHelper();\n      const callback = jest.fn();\n      storageHelper.getStorage().sync(callback);\n      expect(callback.mock.calls[0][0]).toMatchObject(Error('Storage Error'));\n    });",
            "file": "StorageHelperRN.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "userAgent is set by default",
            "suites": [
                "UserAgent test"
            ],
            "updatePoint": {
                "line": 7,
                "column": 35,
                "index": 277
            },
            "line": 7,
            "code": "  test('userAgent is set by default', () => {\n    expect(UserAgent.prototype.userAgent).toBe(DEFAULT_USER_AGENT);\n  });",
            "file": "UserAgent.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "appendToCognitoUserAgent does nothing to the userAgent if nothing is passed into it",
            "suites": [
                "UserAgent test"
            ],
            "updatePoint": {
                "line": 10,
                "column": 91,
                "index": 453
            },
            "line": 10,
            "code": "  test('appendToCognitoUserAgent does nothing to the userAgent if nothing is passed into it', () => {\n    appendToCognitoUserAgent();\n    expect(UserAgent.prototype.userAgent).toBe(DEFAULT_USER_AGENT);\n  });",
            "file": "UserAgent.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "appendToCognitoUserAgent appends content to userAgent",
            "suites": [
                "UserAgent test"
            ],
            "updatePoint": {
                "line": 14,
                "column": 61,
                "index": 631
            },
            "line": 14,
            "code": "  test('appendToCognitoUserAgent appends content to userAgent', () => {\n    appendToCognitoUserAgent('test');\n    expect(UserAgent.prototype.userAgent).toBe(`${DEFAULT_USER_AGENT} test`);\n  });",
            "file": "UserAgent.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "appendToCognitoUserAgent does not append duplicate content",
            "suites": [
                "UserAgent test"
            ],
            "updatePoint": {
                "line": 18,
                "column": 66,
                "index": 830
            },
            "line": 18,
            "code": "  test('appendToCognitoUserAgent does not append duplicate content', () => {\n    appendToCognitoUserAgent('test');\n    appendToCognitoUserAgent('test');\n    expect(UserAgent.prototype.userAgent).not.toBe(`${DEFAULT_USER_AGENT} test test`);\n    expect(UserAgent.prototype.userAgent).toBe(`${DEFAULT_USER_AGENT} test`);\n  });",
            "file": "UserAgent.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "appendToCognitoUserAgent sets userAgent if userAgent has no content",
            "suites": [
                "UserAgent test"
            ],
            "updatePoint": {
                "line": 24,
                "column": 75,
                "index": 1163
            },
            "line": 24,
            "code": "  test('appendToCognitoUserAgent sets userAgent if userAgent has no content', () => {\n    UserAgent.prototype.userAgent = '';\n    appendToCognitoUserAgent('test');\n    expect(UserAgent.prototype.userAgent).toBe('test');\n    UserAgent.prototype.userAgent = undefined;\n    appendToCognitoUserAgent('test');\n    expect(UserAgent.prototype.userAgent).toBe('test');\n  });",
            "file": "UserAgent.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "getUserAgent version match",
            "suites": [
                "User agent version"
            ],
            "updatePoint": {
                "line": 4,
                "column": 34,
                "index": 167
            },
            "line": 4,
            "code": "  test('getUserAgent version match', () => {\n    const userAgent = new UserAgent();\n    expect(userAgent.userAgent).toEqual(`aws-amplify/${version} js`);\n  });",
            "file": "UserAgentDefault.test.js",
            "skipped": false,
            "dir": "packages/amazon-cognito-identity-js/__tests__"
        },
        {
            "name": "happy case with default parser",
            "suites": [
                "Analytics test",
                "configure test"
            ],
            "updatePoint": {
                "line": 42,
                "column": 38
            },
            "line": 42,
            "code": "\t\ttest('happy case with default parser', () => {\n\t\t\tconst analytics = new Analytics();\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(ClientDevice, 'clientInfo')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn 'clientInfo';\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(Parser, 'parseMobilehubConfig')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tAnalytics: {\n\t\t\t\t\t\t\tAWSPinpoint: {\n\t\t\t\t\t\t\t\tappId: 'appId',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\tconst spyon3 = jest\n\t\t\t\t.spyOn(AWSAnalyticsProvider.prototype, 'configure')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn;\n\t\t\t\t});\n\n\t\t\texpect(analytics.configure({ attr: 'attr' })).toEqual({\n\t\t\t\tAWSPinpoint: { appId: 'appId' },\n\t\t\t\tattr: 'attr',\n\t\t\t\tautoSessionRecord: true,\n\t\t\t});\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t\tspyon3.mockClear();\n\t\t});",
            "file": "Analytics-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "Analytics test",
                "startSession test"
            ],
            "updatePoint": {
                "line": 79,
                "column": 18
            },
            "line": 79,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst analytics = new Analytics();\n\t\t\tconst provider = new AWSAnalyticsProvider();\n\t\t\tanalytics.addPluggable(provider);\n\t\t\tanalytics.configure({ mock: 'value' });\n\n\t\t\tawait analytics.startSession();\n\t\t\texpect(record_spyon).toBeCalled();\n\t\t});",
            "file": "Analytics-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "Analytics test",
                "stopSession test"
            ],
            "updatePoint": {
                "line": 91,
                "column": 18
            },
            "line": 91,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst analytics = new Analytics();\n\t\t\tconst provider = new AWSAnalyticsProvider();\n\t\t\tanalytics.addPluggable(provider);\n\t\t\tanalytics.configure({ mock: 'value' });\n\n\t\t\tawait analytics.stopSession();\n\t\t\texpect(record_spyon).toBeCalled();\n\t\t});",
            "file": "Analytics-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "Analytics test",
                "record test"
            ],
            "updatePoint": {
                "line": 103,
                "column": 18
            },
            "line": 103,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst analytics = new Analytics();\n\t\t\tconst provider = new AWSAnalyticsProvider();\n\t\t\tanalytics.addPluggable(provider);\n\t\t\tanalytics.configure({ mock: 'value' });\n\n\t\t\tawait analytics.record({\n\t\t\t\tname: 'event',\n\t\t\t\tattributes: 'attributes',\n\t\t\t\tmetrics: 'metrics',\n\t\t\t});\n\t\t\texpect(record_spyon).toBeCalled();\n\t\t});",
            "file": "Analytics-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "Analytics test",
                "updateEndpoint test"
            ],
            "updatePoint": {
                "line": 119,
                "column": 18
            },
            "line": 119,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst analytics = new Analytics();\n\t\t\tconst provider = new AWSAnalyticsProvider();\n\t\t\tanalytics.addPluggable(provider);\n\t\t\tanalytics.configure({ mock: 'value' });\n\n\t\t\tawait analytics.updateEndpoint({\n\t\t\t\tUserId: 'id',\n\t\t\t});\n\t\t\texpect(record_spyon).toBeCalled();\n\t\t});",
            "file": "Analytics-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "disable test",
            "suites": [
                "Analytics test",
                "analytics turn on/off test"
            ],
            "updatePoint": {
                "line": 133,
                "column": 20
            },
            "line": 133,
            "code": "\t\ttest('disable test', () => {\n\t\t\tconst analytics = new Analytics();\n\t\t\tanalytics.disable();\n\t\t});",
            "file": "Analytics-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "enable test",
            "suites": [
                "Analytics test",
                "analytics turn on/off test"
            ],
            "updatePoint": {
                "line": 138,
                "column": 19
            },
            "line": 138,
            "code": "\t\ttest('enable test', () => {\n\t\t\tconst analytics = new Analytics();\n\t\t\tanalytics.enable();\n\t\t});",
            "file": "Analytics-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "Analytics test",
                "getPluggable test"
            ],
            "updatePoint": {
                "line": 145,
                "column": 18
            },
            "line": 145,
            "code": "\t\ttest('happy case', () => {\n\t\t\tconst analytics = new Analytics();\n\n\t\t\tconst provider = new AWSAnalyticsProvider();\n\t\t\tanalytics.addPluggable(provider);\n\n\t\t\texpect(analytics.getPluggable(provider.getProviderName())).toBeInstanceOf(\n\t\t\t\tAWSAnalyticsProvider\n\t\t\t);\n\t\t});",
            "file": "Analytics-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "Analytics test",
                "removePluggable test"
            ],
            "updatePoint": {
                "line": 158,
                "column": 18
            },
            "line": 158,
            "code": "\t\ttest('happy case', () => {\n\t\t\tconst analytics = new Analytics();\n\n\t\t\t// this provider is added by default in the configure method\n\t\t\t// of analytics when initialized. No need to add it again here.\n\t\t\tconst provider = new AWSAnalyticsProvider();\n\n\t\t\tanalytics.removePluggable(provider.getProviderName());\n\n\t\t\texpect(analytics.getPluggable(provider.getProviderName())).toBeNull();\n\t\t});",
            "file": "Analytics-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "Personalize provider test",
                "getProviderName test"
            ],
            "updatePoint": {
                "line": 48,
                "column": 18
            },
            "line": 48,
            "code": "\t\ttest('happy case', () => {\n\t\t\tconst analytics = new AmazonPersonalizeProvider();\n\n\t\t\texpect(analytics.getProviderName()).toBe('AmazonPersonalize');\n\t\t});",
            "file": "Providers/AmazonPersonalizeProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "Personalize provider test",
                "configure test"
            ],
            "updatePoint": {
                "line": 56,
                "column": 18
            },
            "line": 56,
            "code": "\t\ttest('happy case', () => {\n\t\t\tconst analytics = new AmazonPersonalizeProvider();\n\t\t\tanalytics.configure({ trackingId: TRACKING_ID });\n\t\t\texpect(analytics.configure({ region: 'region1' })).toEqual({\n\t\t\t\tflushInterval: 5000,\n\t\t\t\tflushSize: 5,\n\t\t\t\tregion: 'region1',\n\t\t\t\ttrackingId: 'trackingId',\n\t\t\t});\n\t\t});",
            "file": "Providers/AmazonPersonalizeProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "record without credentials",
            "suites": [
                "Personalize provider test",
                "record test"
            ],
            "updatePoint": {
                "line": 69,
                "column": 34
            },
            "line": 69,
            "code": "\t\ttest('record without credentials', async () => {\n\t\t\tconst analytics = new AmazonPersonalizeProvider();\n\t\t\tanalytics.configure({ trackingId: TRACKING_ID });\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.reject('err');\n\t\t\t\t});\n\n\t\t\texpect(await analytics.record('params')).toBe(false);\n\t\t\texpect(spyon).toHaveBeenCalledTimes(1);\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "Providers/AmazonPersonalizeProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "record happy case with identify event",
            "suites": [
                "Personalize provider test",
                "record test"
            ],
            "updatePoint": {
                "line": 83,
                "column": 45
            },
            "line": 83,
            "code": "\t\ttest('record happy case with identify event', async () => {\n\t\t\tconst analytics = new AmazonPersonalizeProvider();\n\t\t\tanalytics.configure({ trackingId: TRACKING_ID });\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve(credentials);\n\t\t\t\t});\n\n\t\t\tawait analytics.record({\n\t\t\t\tevent: {\n\t\t\t\t\teventType: 'Identify',\n\t\t\t\t\tproperties: { userId: 'user1' },\n\t\t\t\t},\n\t\t\t\tconfig: {},\n\t\t\t});\n\n\t\t\tjest.advanceTimersByTime(6000);\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "Providers/AmazonPersonalizeProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "record happy case with Click event",
            "suites": [
                "Personalize provider test",
                "record test"
            ],
            "updatePoint": {
                "line": 105,
                "column": 42
            },
            "line": 105,
            "code": "\t\ttest('record happy case with Click event', async () => {\n\t\t\tconst analytics = new AmazonPersonalizeProvider();\n\t\t\tanalytics.configure({ trackingId: TRACKING_ID });\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve(credentials);\n\t\t\t\t});\n\n\t\t\tawait analytics.record({\n\t\t\t\tevent: {\n\t\t\t\t\teventType: 'Click',\n\t\t\t\t\tproperties: { itemId: 'item1', eventValue: 'value1' },\n\t\t\t\t},\n\t\t\t\tconfig: {},\n\t\t\t});\n\n\t\t\tjest.advanceTimersByTime(6000);\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "Providers/AmazonPersonalizeProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "kinesis firehose provider test",
                "getCategory test"
            ],
            "updatePoint": {
                "line": 34,
                "column": 18
            },
            "line": 34,
            "code": "\t\ttest('happy case', () => {\n\t\t\tconst analytics = new KinesisFirehoseProvider();\n\n\t\t\texpect(analytics.getCategory()).toBe('Analytics');\n\t\t});",
            "file": "Providers/AWSKinesisFirehoseProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "kinesis firehose provider test",
                "getProviderName test"
            ],
            "updatePoint": {
                "line": 42,
                "column": 18
            },
            "line": 42,
            "code": "\t\ttest('happy case', () => {\n\t\t\tconst analytics = new KinesisFirehoseProvider();\n\n\t\t\texpect(analytics.getProviderName()).toBe('AWSKinesisFirehose');\n\t\t});",
            "file": "Providers/AWSKinesisFirehoseProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "kinesis firehose provider test",
                "configure test"
            ],
            "updatePoint": {
                "line": 50,
                "column": 18
            },
            "line": 50,
            "code": "\t\ttest('happy case', () => {\n\t\t\tconst analytics = new KinesisFirehoseProvider();\n\n\t\t\texpect(analytics.configure({ region: 'region1' })).toEqual({\n\t\t\t\tbufferSize: 1000,\n\t\t\t\tflushInterval: 5000,\n\t\t\t\tflushSize: 100,\n\t\t\t\tregion: 'region1',\n\t\t\t\tresendLimit: 5,\n\t\t\t});\n\t\t});",
            "file": "Providers/AWSKinesisFirehoseProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "record without credentials",
            "suites": [
                "kinesis firehose provider test",
                "record test"
            ],
            "updatePoint": {
                "line": 64,
                "column": 34
            },
            "line": 64,
            "code": "\t\ttest('record without credentials', async () => {\n\t\t\tconst analytics = new KinesisFirehoseProvider();\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.reject('err');\n\t\t\t\t});\n\n\t\t\texpect(await analytics.record('params')).toBe(false);\n\t\t\tspyon.mockRestore();\n\t\t});",
            "file": "Providers/AWSKinesisFirehoseProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "record happy case",
            "suites": [
                "kinesis firehose provider test",
                "record test"
            ],
            "updatePoint": {
                "line": 77,
                "column": 25
            },
            "line": 77,
            "code": "\t\ttest('record happy case', async () => {\n\t\t\tconst analytics = new KinesisFirehoseProvider();\n\t\t\tanalytics.configure({ region: 'region1' });\n\n\t\t\tconst spyon = jest.spyOn(FirehoseClient.prototype, 'send');\n\n\t\t\tjest.spyOn(Credentials, 'get').mockImplementationOnce(() => {\n\t\t\t\treturn Promise.resolve(credentials);\n\t\t\t});\n\n\t\t\tawait analytics.record({\n\t\t\t\tevent: {\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tdata: 'data',\n\t\t\t\t\t},\n\t\t\t\t\tstreamName: 'stream',\n\t\t\t\t},\n\t\t\t\tconfig: {},\n\t\t\t});\n\n\t\t\tjest.advanceTimersByTime(6000);\n\n\t\t\texpect(spyon).toBeCalled();\n\n\t\t\tspyon.mockRestore();\n\t\t});",
            "file": "Providers/AWSKinesisFirehoseProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "AnalyticsProvider test",
                "getCategory test"
            ],
            "updatePoint": {
                "line": 220,
                "column": 18
            },
            "line": 220,
            "code": "\t\ttest('happy case', () => {\n\t\t\tconst analytics = new AnalyticsProvider();\n\n\t\t\texpect(analytics.getCategory()).toBe('Analytics');\n\t\t});",
            "file": "Providers/AWSPinpointProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "AnalyticsProvider test",
                "getProviderName test"
            ],
            "updatePoint": {
                "line": 228,
                "column": 18
            },
            "line": 228,
            "code": "\t\ttest('happy case', () => {\n\t\t\tconst analytics = new AnalyticsProvider();\n\n\t\t\texpect(analytics.getProviderName()).toBe('AWSPinpoint');\n\t\t});",
            "file": "Providers/AWSPinpointProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "AnalyticsProvider test",
                "configure test"
            ],
            "updatePoint": {
                "line": 236,
                "column": 18
            },
            "line": 236,
            "code": "\t\ttest('happy case', () => {\n\t\t\tconst analytics = new AnalyticsProvider();\n\n\t\t\texpect(analytics.configure({ appId: 'appId' })).toEqual({\n\t\t\t\tappId: 'appId',\n\t\t\t\tbufferSize: 1000,\n\t\t\t\tflushInterval: 5000,\n\t\t\t\tflushSize: 100,\n\t\t\t\tresendLimit: 5,\n\t\t\t});\n\t\t});",
            "file": "Providers/AWSPinpointProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "record without credentials",
            "suites": [
                "AnalyticsProvider test",
                "record test"
            ],
            "updatePoint": {
                "line": 250,
                "column": 34
            },
            "line": 250,
            "code": "\t\ttest('record without credentials', async () => {\n\t\t\tconst analytics = new AnalyticsProvider();\n\t\t\tanalytics.configure(options);\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.reject('err');\n\t\t\t\t});\n\n\t\t\tawait analytics.record('params', { resolve, reject });\n\t\t\texpect(reject).toBeCalled();\n\t\t\tspyon.mockRestore();\n\t\t});",
            "file": "Providers/AWSPinpointProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "record without appId",
            "suites": [
                "AnalyticsProvider test",
                "record test"
            ],
            "updatePoint": {
                "line": 264,
                "column": 28
            },
            "line": 264,
            "code": "\t\ttest('record without appId', async () => {\n\t\t\tconst analytics = new AnalyticsProvider();\n\t\t\tconst { appId, ...rest } = options;\n\t\t\tanalytics.configure(rest);\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve(credentials);\n\t\t\t\t});\n\n\t\t\tawait analytics.record('params', { resolve, reject });\n\t\t\texpect(reject).toBeCalled();\n\t\t\tspyon.mockRestore();\n\t\t});",
            "file": "Providers/AWSPinpointProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "record without region",
            "suites": [
                "AnalyticsProvider test",
                "record test"
            ],
            "updatePoint": {
                "line": 279,
                "column": 29
            },
            "line": 279,
            "code": "\t\ttest('record without region', async () => {\n\t\t\tconst analytics = new AnalyticsProvider();\n\t\t\tconst { region, ...rest } = options;\n\t\t\tanalytics.configure(rest);\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve(credentials);\n\t\t\t\t});\n\n\t\t\tawait analytics.record('params', { resolve, reject });\n\t\t\texpect(reject).toBeCalled();\n\t\t\tspyon.mockRestore();\n\t\t});",
            "file": "Providers/AWSPinpointProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "custom events",
            "suites": [
                "AnalyticsProvider test",
                "record test",
                "record test"
            ],
            "updatePoint": {
                "line": 295,
                "column": 22
            },
            "line": 295,
            "code": "\t\t\ttest('custom events', async () => {\n\t\t\t\tconst analytics = new AnalyticsProvider();\n\t\t\t\tanalytics.configure(options);\n\t\t\t\tconst spyon = jest.spyOn(PinpointClient.prototype, 'send');\n\n\t\t\t\tjest.spyOn(Credentials, 'get').mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve(credentials);\n\t\t\t\t});\n\t\t\t\tconst params = { event: { name: 'custom event', immediate: true } };\n\t\t\t\tawait analytics.record(params, { resolve, reject });\n\t\t\t\texpect(spyon.mock.calls[0][0].input).toEqual({\n\t\t\t\t\tApplicationId: 'appId',\n\t\t\t\t\tEventsRequest: {\n\t\t\t\t\t\tBatchItem: {\n\t\t\t\t\t\t\tendpointId: {\n\t\t\t\t\t\t\t\tEndpoint: {},\n\t\t\t\t\t\t\t\tEvents: {\n\t\t\t\t\t\t\t\t\tuuid: {\n\t\t\t\t\t\t\t\t\t\tAttributes: undefined,\n\t\t\t\t\t\t\t\t\t\tEventType: 'custom event',\n\t\t\t\t\t\t\t\t\t\tMetrics: undefined,\n\t\t\t\t\t\t\t\t\t\tSession: {\n\t\t\t\t\t\t\t\t\t\t\tId: 'uuid',\n\t\t\t\t\t\t\t\t\t\t\tStartTimestamp: 'isoString',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tTimestamp: 'isoString',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\texpect(resolve).toBeCalled();\n\t\t\t\tspyon.mockRestore();\n\t\t\t});",
            "file": "Providers/AWSPinpointProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "custom event error",
            "suites": [
                "AnalyticsProvider test",
                "record test",
                "record test"
            ],
            "updatePoint": {
                "line": 331,
                "column": 27
            },
            "line": 331,
            "code": "\t\t\ttest('custom event error', async () => {\n\t\t\t\tconst analytics = new AnalyticsProvider();\n\t\t\t\tanalytics.configure(options);\n\n\t\t\t\tconst spyon = jest\n\t\t\t\t\t.spyOn(PinpointClient.prototype, 'send')\n\t\t\t\t\t.mockImplementationOnce(async () => {\n\t\t\t\t\t\tthrow 'data';\n\t\t\t\t\t});\n\n\t\t\t\tjest.spyOn(Credentials, 'get').mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve(credentials);\n\t\t\t\t});\n\n\t\t\t\tconst params = { event: { name: 'custom event', immediate: true } };\n\n\t\t\t\tawait analytics.record(params, { resolve, reject });\n\t\t\t\texpect(reject).toBeCalled();\n\t\t\t\tspyon.mockRestore();\n\t\t\t});",
            "file": "Providers/AWSPinpointProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "AnalyticsProvider test",
                "record test",
                "startsession test"
            ],
            "updatePoint": {
                "line": 354,
                "column": 19
            },
            "line": 354,
            "code": "\t\t\ttest('happy case', async () => {\n\t\t\t\tconst analytics = new AnalyticsProvider();\n\t\t\t\tanalytics.configure(options);\n\t\t\t\tconst spyon = jest.spyOn(PinpointClient.prototype, 'send');\n\n\t\t\t\tjest.spyOn(Credentials, 'get').mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve(credentials);\n\t\t\t\t});\n\n\t\t\t\tconst params = { event: { name: '_session.start', immediate: true } };\n\t\t\t\tawait analytics.record(params, { resolve, reject });\n\n\t\t\t\texpect(spyon.mock.calls[0][0].input).toEqual({\n\t\t\t\t\tApplicationId: 'appId',\n\t\t\t\t\tEventsRequest: {\n\t\t\t\t\t\tBatchItem: {\n\t\t\t\t\t\t\tendpointId: {\n\t\t\t\t\t\t\t\tEndpoint: {},\n\t\t\t\t\t\t\t\tEvents: {\n\t\t\t\t\t\t\t\t\tuuid: {\n\t\t\t\t\t\t\t\t\t\tAttributes: undefined,\n\t\t\t\t\t\t\t\t\t\tEventType: '_session.start',\n\t\t\t\t\t\t\t\t\t\tMetrics: undefined,\n\t\t\t\t\t\t\t\t\t\tSession: {\n\t\t\t\t\t\t\t\t\t\t\tId: 'uuid',\n\t\t\t\t\t\t\t\t\t\t\tStartTimestamp: 'isoString',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tTimestamp: 'isoString',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\texpect(resolve).toBeCalled();\n\t\t\t\tspyon.mockRestore();\n\t\t\t});",
            "file": "Providers/AWSPinpointProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "session start error",
            "suites": [
                "AnalyticsProvider test",
                "record test",
                "startsession test"
            ],
            "updatePoint": {
                "line": 392,
                "column": 28
            },
            "line": 392,
            "code": "\t\t\ttest('session start error', async () => {\n\t\t\t\tconst analytics = new AnalyticsProvider();\n\t\t\t\tanalytics.configure(options);\n\t\t\t\tconst spyon = jest\n\t\t\t\t\t.spyOn(PinpointClient.prototype, 'send')\n\t\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\t\tthrow 'data';\n\t\t\t\t\t});\n\n\t\t\t\tjest.spyOn(Credentials, 'get').mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve(credentials);\n\t\t\t\t});\n\n\t\t\t\tconst params = { event: { name: '_session.start', immediate: true } };\n\n\t\t\t\tawait analytics.record(params, { resolve, reject });\n\t\t\t\texpect(resolve).not.toBeCalled();\n\t\t\t\texpect(reject).toBeCalled();\n\t\t\t\tspyon.mockRestore();\n\t\t\t});",
            "file": "Providers/AWSPinpointProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "AnalyticsProvider test",
                "record test",
                "stopSession test"
            ],
            "updatePoint": {
                "line": 415,
                "column": 19
            },
            "line": 415,
            "code": "\t\t\ttest('happy case', async () => {\n\t\t\t\tconst analytics = new AnalyticsProvider();\n\t\t\t\tanalytics.configure(options);\n\n\t\t\t\tconst spyon = jest\n\t\t\t\t\t.spyOn(navigator, 'sendBeacon')\n\t\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t});\n\n\t\t\t\tjest.spyOn(Credentials, 'get').mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve(credentials);\n\t\t\t\t});\n\n\t\t\t\tconst params = { event: { name: '_session.stop', immediate: true } };\n\t\t\t\tawait analytics.record(params, { resolve, reject });\n\n\t\t\t\tconst expectedUrl =\n\t\t\t\t\t'https://pinpoint.region.amazonaws.com/v1/apps/appId/events/legacy?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=accessKeyId%2FisoStrin%2Fregion%2Fmobiletargeting%2Faws4_request&X-Amz-Date=isoString&X-Amz-Security-Token=sessionToken&X-Amz-SignedHeaders=host&X-Amz-Signature=9dfa2a29782d344c56a9ab99fe58db6d1748e097ae418c398b26ab372a23f22f';\n\n\t\t\t\tconst expectedData = JSON.stringify({\n\t\t\t\t\tBatchItem: {\n\t\t\t\t\t\tendpointId: {\n\t\t\t\t\t\t\tEndpoint: {},\n\t\t\t\t\t\t\tEvents: {\n\t\t\t\t\t\t\t\tuuid: {\n\t\t\t\t\t\t\t\t\tEventType: '_session.stop',\n\t\t\t\t\t\t\t\t\tTimestamp: 'isoString',\n\t\t\t\t\t\t\t\t\tSession: {\n\t\t\t\t\t\t\t\t\t\tId: 'uuid',\n\t\t\t\t\t\t\t\t\t\tDuration: 0,\n\t\t\t\t\t\t\t\t\t\tStartTimestamp: 'isoString',\n\t\t\t\t\t\t\t\t\t\tStopTimestamp: 'isoString',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\texpect(spyon).toBeCalledWith(expectedUrl, expectedData);\n\t\t\t\texpect(resolve).toBeCalled();\n\t\t\t\tspyon.mockRestore();\n\t\t\t});",
            "file": "Providers/AWSPinpointProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "session stop error",
            "suites": [
                "AnalyticsProvider test",
                "record test",
                "stopSession test"
            ],
            "updatePoint": {
                "line": 460,
                "column": 27
            },
            "line": 460,
            "code": "\t\t\ttest('session stop error', async () => {\n\t\t\t\tconst analytics = new AnalyticsProvider();\n\t\t\t\tanalytics.configure(options);\n\t\t\t\tconst spyon = jest\n\t\t\t\t\t.spyOn(PinpointClient.prototype, 'send')\n\t\t\t\t\t.mockImplementationOnce(async () => {\n\t\t\t\t\t\tthrow 'data';\n\t\t\t\t\t});\n\n\t\t\t\tjest.spyOn(Credentials, 'get').mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve(credentials);\n\t\t\t\t});\n\n\t\t\t\tconst params = { event: { name: '_session.stop', immediate: true } };\n\n\t\t\t\tawait analytics.record(params, { resolve, reject });\n\t\t\t\texpect(reject).toBeCalled();\n\t\t\t\tspyon.mockRestore();\n\t\t\t});",
            "file": "Providers/AWSPinpointProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case with default client info",
            "suites": [
                "AnalyticsProvider test",
                "record test",
                "updateEndpoint test"
            ],
            "updatePoint": {
                "line": 482,
                "column": 44
            },
            "line": 482,
            "code": "\t\t\ttest('happy case with default client info', async () => {\n\t\t\t\tconst analytics = new AnalyticsProvider();\n\t\t\t\tanalytics.configure(options);\n\t\t\t\tconst spyon = jest\n\t\t\t\t\t.spyOn(PinpointClient.prototype, 'send')\n\t\t\t\t\t.mockImplementationOnce(async params => {\n\t\t\t\t\t\treturn 'data';\n\t\t\t\t\t});\n\n\t\t\t\tjest.spyOn(Credentials, 'get').mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve(credentials);\n\t\t\t\t});\n\n\t\t\t\tconst params = { event: { name: '_update_endpoint', immediate: true } };\n\t\t\t\tawait analytics.record(params, { resolve, reject });\n\t\t\t\texpect(spyon.mock.calls[0][0].input).toEqual({\n\t\t\t\t\tApplicationId: 'appId',\n\t\t\t\t\tEndpointId: 'endpointId',\n\t\t\t\t\tEndpointRequest: {\n\t\t\t\t\t\tAttributes: {},\n\t\t\t\t\t\tChannelType: undefined,\n\t\t\t\t\t\tDemographic: {\n\t\t\t\t\t\t\tAppVersion: 'clientInfoAppVersion',\n\t\t\t\t\t\t\tMake: 'clientInfoMake',\n\t\t\t\t\t\t\tModel: 'clientInfoModel',\n\t\t\t\t\t\t\tModelVersion: 'clientInfoVersion',\n\t\t\t\t\t\t\tPlatform: 'clientInfoPlatform',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tEffectiveDate: 'isoString',\n\t\t\t\t\t\tLocation: {},\n\t\t\t\t\t\tMetrics: {},\n\t\t\t\t\t\tRequestId: 'uuid',\n\t\t\t\t\t\tUser: {\n\t\t\t\t\t\t\tUserAttributes: {},\n\t\t\t\t\t\t\tUserId: 'identityId',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\texpect(resolve).toBeCalled();\n\t\t\t\tspyon.mockRestore();\n\t\t\t});",
            "file": "Providers/AWSPinpointProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case with client context provided",
            "suites": [
                "AnalyticsProvider test",
                "record test",
                "updateEndpoint test"
            ],
            "updatePoint": {
                "line": 524,
                "column": 48
            },
            "line": 524,
            "code": "\t\t\ttest('happy case with client context provided', async () => {\n\t\t\t\tconst analytics = new AnalyticsProvider();\n\t\t\t\tanalytics.configure(optionsWithClientContext);\n\t\t\t\tconst spyon = jest\n\t\t\t\t\t.spyOn(PinpointClient.prototype, 'send')\n\t\t\t\t\t.mockImplementationOnce(async params => {\n\t\t\t\t\t\treturn 'data';\n\t\t\t\t\t});\n\n\t\t\t\tjest.spyOn(Credentials, 'get').mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve(credentials);\n\t\t\t\t});\n\n\t\t\t\tconst params = { event: { name: '_update_endpoint', immediate: true } };\n\t\t\t\tawait analytics.record(params, { resolve, reject });\n\t\t\t\texpect(spyon.mock.calls[0][0].input).toEqual({\n\t\t\t\t\tApplicationId: 'appId',\n\t\t\t\t\tEndpointId: 'endpointId',\n\t\t\t\t\tEndpointRequest: {\n\t\t\t\t\t\tAttributes: {},\n\t\t\t\t\t\tChannelType: undefined,\n\t\t\t\t\t\tDemographic: {\n\t\t\t\t\t\t\tAppVersion: 'clientInfoAppVersion',\n\t\t\t\t\t\t\tLocale: 'locale',\n\t\t\t\t\t\t\tMake: 'make',\n\t\t\t\t\t\t\tModel: 'model',\n\t\t\t\t\t\t\tModelVersion: 'clientInfoVersion',\n\t\t\t\t\t\t\tPlatform: 'platform',\n\t\t\t\t\t\t\tPlatformVersion: 'platformVersion',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tEffectiveDate: 'isoString',\n\t\t\t\t\t\tLocation: {},\n\t\t\t\t\t\tMetrics: {},\n\t\t\t\t\t\tRequestId: 'uuid',\n\t\t\t\t\t\tUser: {\n\t\t\t\t\t\t\tUserAttributes: {},\n\t\t\t\t\t\t\tUserId: 'identityId',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\tspyon.mockRestore();\n\t\t\t});",
            "file": "Providers/AWSPinpointProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case with default enpoint configure provided",
            "suites": [
                "AnalyticsProvider test",
                "record test",
                "updateEndpoint test"
            ],
            "updatePoint": {
                "line": 568,
                "column": 59
            },
            "line": 568,
            "code": "\t\t\ttest('happy case with default enpoint configure provided', async () => {\n\t\t\t\tconst analytics = new AnalyticsProvider();\n\t\t\t\tanalytics.configure(optionsWithDefaultEndpointConfigure);\n\t\t\t\tconst spyon = jest\n\t\t\t\t\t.spyOn(PinpointClient.prototype, 'send')\n\t\t\t\t\t.mockImplementationOnce(async params => {\n\t\t\t\t\t\treturn 'data';\n\t\t\t\t\t});\n\n\t\t\t\tjest.spyOn(Credentials, 'get').mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve(credentials);\n\t\t\t\t});\n\n\t\t\t\tconst params = { event: { name: '_update_endpoint', immediate: true } };\n\t\t\t\tawait analytics.record(params, { resolve, reject });\n\n\t\t\t\texpect(spyon.mock.calls[0][0].input).toEqual({\n\t\t\t\t\tApplicationId: 'appId',\n\t\t\t\t\tEndpointId: 'endpointId',\n\t\t\t\t\tEndpointRequest: {\n\t\t\t\t\t\tAddress: 'default',\n\t\t\t\t\t\tAttributes: {\n\t\t\t\t\t\t\thobbies: ['default'],\n\t\t\t\t\t\t},\n\t\t\t\t\t\tChannelType: 'default',\n\t\t\t\t\t\tDemographic: {\n\t\t\t\t\t\t\tAppVersion: 'default',\n\t\t\t\t\t\t\tLocale: 'default',\n\t\t\t\t\t\t\tMake: 'default',\n\t\t\t\t\t\t\tModel: 'default',\n\t\t\t\t\t\t\tModelVersion: 'default',\n\t\t\t\t\t\t\tPlatform: 'default',\n\t\t\t\t\t\t\tPlatformVersion: 'default',\n\t\t\t\t\t\t\tTimezone: 'default',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tEffectiveDate: 'isoString',\n\t\t\t\t\t\tLocation: {\n\t\t\t\t\t\t\tCity: 'default',\n\t\t\t\t\t\t\tCountry: 'default',\n\t\t\t\t\t\t\tLatitude: 0,\n\t\t\t\t\t\t\tLongitude: 0,\n\t\t\t\t\t\t\tPostalCode: 'default',\n\t\t\t\t\t\t\tRegion: 'default',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tMetrics: {},\n\t\t\t\t\t\tOptOut: 'default',\n\t\t\t\t\t\tRequestId: 'uuid',\n\t\t\t\t\t\tUser: {\n\t\t\t\t\t\t\tUserAttributes: {\n\t\t\t\t\t\t\t\tinterests: ['default'],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tUserId: 'default',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\tspyon.mockRestore();\n\t\t\t});",
            "file": "Providers/AWSPinpointProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case with specified enpoint configure provided",
            "suites": [
                "AnalyticsProvider test",
                "record test",
                "updateEndpoint test"
            ],
            "updatePoint": {
                "line": 627,
                "column": 61
            },
            "line": 627,
            "code": "\t\t\ttest('happy case with specified enpoint configure provided', async () => {\n\t\t\t\tconst analytics = new AnalyticsProvider();\n\t\t\t\tanalytics.configure(optionsWithDefaultEndpointConfigure);\n\t\t\t\tconst spyon = jest\n\t\t\t\t\t.spyOn(PinpointClient.prototype, 'send')\n\t\t\t\t\t.mockImplementationOnce(async params => {\n\t\t\t\t\t\treturn 'data';\n\t\t\t\t\t});\n\n\t\t\t\tjest.spyOn(Credentials, 'get').mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve(credentials);\n\t\t\t\t});\n\n\t\t\t\tconst params = {\n\t\t\t\t\tevent: {\n\t\t\t\t\t\tname: '_update_endpoint',\n\t\t\t\t\t\timmediate: true,\n\t\t\t\t\t\t...endpointConfigure,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t\tawait analytics.record(params, { resolve, reject });\n\n\t\t\t\texpect(spyon.mock.calls[0][0].input).toEqual({\n\t\t\t\t\tApplicationId: 'appId',\n\t\t\t\t\tEndpointId: 'endpointId',\n\t\t\t\t\tEndpointRequest: {\n\t\t\t\t\t\tAddress: 'configured',\n\t\t\t\t\t\tAttributes: {\n\t\t\t\t\t\t\thobbies: ['configured'],\n\t\t\t\t\t\t},\n\t\t\t\t\t\tChannelType: 'configured',\n\t\t\t\t\t\tDemographic: {\n\t\t\t\t\t\t\tAppVersion: 'configured',\n\t\t\t\t\t\t\tLocale: 'configured',\n\t\t\t\t\t\t\tMake: 'configured',\n\t\t\t\t\t\t\tModel: 'configured',\n\t\t\t\t\t\t\tModelVersion: 'configured',\n\t\t\t\t\t\t\tPlatform: 'configured',\n\t\t\t\t\t\t\tPlatformVersion: 'configured',\n\t\t\t\t\t\t\tTimezone: 'configured',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tEffectiveDate: 'isoString',\n\t\t\t\t\t\tLocation: {\n\t\t\t\t\t\t\tCity: 'configured',\n\t\t\t\t\t\t\tCountry: 'configured',\n\t\t\t\t\t\t\tLatitude: 0,\n\t\t\t\t\t\t\tLongitude: 0,\n\t\t\t\t\t\t\tPostalCode: 'configured',\n\t\t\t\t\t\t\tRegion: 'configured',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tMetrics: {},\n\t\t\t\t\t\tOptOut: 'configured',\n\t\t\t\t\t\tRequestId: 'uuid',\n\t\t\t\t\t\tUser: {\n\t\t\t\t\t\t\tUserAttributes: {\n\t\t\t\t\t\t\t\tinterests: ['configured'],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tUserId: 'configured',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\tspyon.mockRestore();\n\t\t\t});",
            "file": "Providers/AWSPinpointProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "error case",
            "suites": [
                "AnalyticsProvider test",
                "record test",
                "updateEndpoint test"
            ],
            "updatePoint": {
                "line": 692,
                "column": 19
            },
            "line": 692,
            "code": "\t\t\ttest('error case', async () => {\n\t\t\t\tconst analytics = new AnalyticsProvider();\n\t\t\t\tconst mockError = { message: 'error' };\n\n\t\t\t\tanalytics.configure(options);\n\t\t\t\tconst spyon = jest\n\t\t\t\t\t.spyOn(PinpointClient.prototype, 'send')\n\t\t\t\t\t.mockImplementationOnce(async params => {\n\t\t\t\t\t\tthrow { message: 'error' };\n\t\t\t\t\t});\n\n\t\t\t\tjest.spyOn(Credentials, 'get').mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve(credentials);\n\t\t\t\t});\n\n\t\t\t\tconst params = { event: { name: '_update_endpoint', immediate: true } };\n\n\t\t\t\tawait analytics.record(params, { resolve, reject });\n\t\t\t\texpect(reject).toBeCalledWith(mockError);\n\t\t\t\tspyon.mockRestore();\n\t\t\t});",
            "file": "Providers/AWSPinpointProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "BAD_REQUEST_CODE without message rejects error",
            "suites": [
                "AnalyticsProvider test",
                "record test",
                "updateEndpoint test"
            ],
            "updatePoint": {
                "line": 714,
                "column": 55
            },
            "line": 714,
            "code": "\t\t\ttest('BAD_REQUEST_CODE without message rejects error', async () => {\n\t\t\t\tconst analytics = new AnalyticsProvider();\n\t\t\t\tconst mockError = { debug: 'error', statusCode: 400 };\n\n\t\t\t\tanalytics.configure(options);\n\t\t\t\tconst spyon = jest\n\t\t\t\t\t.spyOn(PinpointClient.prototype, 'send')\n\t\t\t\t\t.mockImplementationOnce(async params => {\n\t\t\t\t\t\tthrow mockError;\n\t\t\t\t\t});\n\n\t\t\t\tjest.spyOn(Credentials, 'get').mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve(credentials);\n\t\t\t\t});\n\n\t\t\t\tconst params = { event: { name: '_update_endpoint', immediate: true } };\n\n\t\t\t\tawait analytics.record(params, { resolve, reject });\n\t\t\t\texpect(reject).toBeCalledWith(mockError);\n\t\t\t\tspyon.mockRestore();\n\t\t\t});",
            "file": "Providers/AWSPinpointProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "Exceeded maximum endpoint per user count",
            "suites": [
                "AnalyticsProvider test",
                "record test",
                "updateEndpoint test"
            ],
            "updatePoint": {
                "line": 736,
                "column": 49
            },
            "line": 736,
            "code": "\t\t\ttest('Exceeded maximum endpoint per user count', async () => {\n\t\t\t\tconst analytics = new AnalyticsProvider();\n\t\t\t\tconst mockExceededMaxError = {\n\t\t\t\t\t$metadata: {\n\t\t\t\t\t\thttpStatusCode: 400,\n\t\t\t\t\t},\n\t\t\t\t\tmessage: 'Exceeded maximum endpoint per user count 10',\n\t\t\t\t};\n\n\t\t\t\tanalytics.configure(options);\n\n\t\t\t\tconst spyonUpdateEndpoint = jest\n\t\t\t\t\t.spyOn(PinpointClient.prototype, 'send')\n\t\t\t\t\t// Reject with error the first time we execute updateEndpoint\n\t\t\t\t\t.mockImplementationOnce(async params => {\n\t\t\t\t\t\tthrow mockExceededMaxError;\n\t\t\t\t\t});\n\n\t\t\t\tjest\n\t\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t\t.mockImplementationOnce(() => Promise.resolve(credentials));\n\n\t\t\t\tconst params = { event: { name: '_update_endpoint', immediate: true } };\n\n\t\t\t\tawait analytics.record(params, { resolve, reject });\n\n\t\t\t\texpect(spyonUpdateEndpoint).toHaveBeenCalledTimes(1);\n\n\t\t\t\tspyonUpdateEndpoint.mockRestore();\n\t\t\t});",
            "file": "Providers/AWSPinpointProvider-unit-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "not in the web env",
            "suites": [
                "EventTracer test",
                "environment test"
            ],
            "updatePoint": {
                "line": 16,
                "column": 26
            },
            "line": 16,
            "code": "\t\ttest('not in the web env', () => {\n\t\t\tlet eventListener = window.addEventListener;\n\t\t\twindow.addEventListener = null;\n\t\t\tconst eventTracker = new EventTracker(tracker, {\n\t\t\t\tenable: true,\n\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(eventTracker, 'configure')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn;\n\t\t\t\t});\n\n\t\t\texpect(spyon).not.toBeCalled();\n\n\t\t\tspyon.mockClear();\n\t\t\twindow.addEventListener = eventListener;\n\t\t});",
            "file": "trackers/EventTracker-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "in the web env",
            "suites": [
                "EventTracer test",
                "environment test"
            ],
            "updatePoint": {
                "line": 35,
                "column": 22
            },
            "line": 35,
            "code": "\t\ttest('in the web env', () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(EventTracker.prototype, 'configure')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn;\n\t\t\t\t});\n\n\t\t\tconst eventTracker = new EventTracker(tracker, {\n\t\t\t\tenable: true,\n\t\t\t});\n\n\t\t\texpect(spyon).toBeCalled();\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "trackers/EventTracker-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "EventTracer test",
                "configure test"
            ],
            "updatePoint": {
                "line": 53,
                "column": 18
            },
            "line": 53,
            "code": "\t\ttest('happy case', () => {\n\t\t\tconst eventTracker = new EventTracker(tracker, {\n\t\t\t\tenable: true,\n\t\t\t});\n\n\t\t\texpect(\n\t\t\t\teventTracker.configure({\n\t\t\t\t\tenable: true,\n\t\t\t\t\tselectorPrefix: 'prefix',\n\t\t\t\t\tevents: ['click', 'mouseover'],\n\t\t\t\t\tprovider: 'myProvider',\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\tattr: 'attr',\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t).toEqual({\n\t\t\t\tenable: true,\n\t\t\t\tselectorPrefix: 'prefix',\n\t\t\t\tevents: ['click', 'mouseover'],\n\t\t\t\tprovider: 'myProvider',\n\t\t\t\tattributes: {\n\t\t\t\t\tattr: 'attr',\n\t\t\t\t},\n\t\t\t});\n\n\t\t\texpect(mockDelegate).toBeCalled();\n\n\t\t\tmockDelegate.mockClear();\n\t\t});",
            "file": "trackers/EventTracker-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "EventTracer test",
                "track function test"
            ],
            "updatePoint": {
                "line": 85,
                "column": 18
            },
            "line": 85,
            "code": "\t\ttest('happy case', () => {\n\t\t\tconst ele = {\n\t\t\t\tgetAttribute(params) {\n\t\t\t\t\tif (params.indexOf('on') >= 0) return 'click';\n\t\t\t\t\tif (params.indexOf('name') >= 0) return 'name';\n\t\t\t\t\tif (params.indexOf('attrs') >= 0) return 'attrs:val';\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst eventTracker = new EventTracker(tracker, {\n\t\t\t\tenable: true,\n\t\t\t\tattributes: {\n\t\t\t\t\tbrowser: 'chrome',\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tconst event = {\n\t\t\t\ttype: 'click',\n\t\t\t\ttarget: {\n\t\t\t\t\tlocalName: 'localName',\n\t\t\t\t\tid: 'xxxxx',\n\t\t\t\t},\n\t\t\t};\n\t\t\teventTracker._trackFunc(event, ele);\n\n\t\t\texpect(tracker).toBeCalledWith(\n\t\t\t\t{\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\tattrs: 'val',\n\t\t\t\t\t\ttarget: 'localName with id xxxxx',\n\t\t\t\t\t\ttype: 'click',\n\t\t\t\t\t\tbrowser: 'chrome',\n\t\t\t\t\t},\n\t\t\t\t\tname: 'name',\n\t\t\t\t},\n\t\t\t\t'AWSPinpoint'\n\t\t\t);\n\t\t});",
            "file": "trackers/EventTracker-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case with type SPA",
            "suites": [
                "PageViewTracker test",
                "constructor test"
            ],
            "updatePoint": {
                "line": 94,
                "column": 32
            },
            "line": 94,
            "code": "\t\ttest('happy case with type SPA', () => {\n\t\t\tconst spyon = jest.spyOn(MethodEmbed, 'add').mockImplementation(() => {\n\t\t\t\treturn;\n\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(window, 'addEventListener')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn;\n\t\t\t\t});\n\t\t\tconst pageViewTracer = new PageViewTracker(tracker, {\n\t\t\t\tenable: true,\n\t\t\t\ttype: 'SPA',\n\t\t\t});\n\n\t\t\texpect(spyon).toBeCalled();\n\t\t\texpect(spyon2).toBeCalled();\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t});",
            "file": "trackers/PageViewTracker-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "type SPA, in unsupported env",
            "suites": [
                "PageViewTracker test",
                "constructor test"
            ],
            "updatePoint": {
                "line": 115,
                "column": 36
            },
            "line": 115,
            "code": "\t\ttest('type SPA, in unsupported env', () => {\n\t\t\tlet tmp = window.addEventListener;\n\t\t\twindow.addEventListener = undefined;\n\n\t\t\tconst spyon = jest.spyOn(MethodEmbed, 'add').mockImplementation(() => {\n\t\t\t\treturn;\n\t\t\t});\n\n\t\t\tconst pageViewTracer = new PageViewTracker(tracker, {\n\t\t\t\tenable: true,\n\t\t\t\ttype: 'SPA',\n\t\t\t});\n\n\t\t\texpect(spyon).not.toBeCalled();\n\n\t\t\tspyon.mockClear();\n\n\t\t\twindow.addEventListener = tmp;\n\t\t});",
            "file": "trackers/PageViewTracker-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case with type default",
            "suites": [
                "PageViewTracker test",
                "constructor test"
            ],
            "line": 135,
            "code": "\t\ttest.skip('happy case with type default', () => {",
            "file": "trackers/PageViewTracker-test.ts",
            "skipped": true,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "type default, in unsupported env",
            "suites": [
                "PageViewTracker test",
                "constructor test"
            ],
            "updatePoint": {
                "line": 159,
                "column": 40
            },
            "line": 159,
            "code": "\t\ttest('type default, in unsupported env', () => {\n\t\t\ttracker.mockClear();\n\n\t\t\tlet tmp = window.addEventListener;\n\t\t\twindow.addEventListener = undefined;\n\n\t\t\tconst pageViewTracer = new PageViewTracker(tracker, {\n\t\t\t\tenable: true,\n\t\t\t});\n\n\t\t\texpect(tracker).not.toBeCalled();\n\t\t\twindow.addEventListener = tmp;\n\t\t});",
            "file": "trackers/PageViewTracker-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "PageViewTracker test",
                "configure test"
            ],
            "updatePoint": {
                "line": 175,
                "column": 18
            },
            "line": 175,
            "code": "\t\ttest('happy case', () => {\n\t\t\tconst pageViewTracer = new PageViewTracker(tracker, {\n\t\t\t\tenable: true,\n\t\t\t});\n\n\t\t\tconst getUrlMock = jest.fn();\n\t\t\texpect(\n\t\t\t\tpageViewTracer.configure({\n\t\t\t\t\tenable: true,\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\tattr: 'attr',\n\t\t\t\t\t},\n\t\t\t\t\tprovider: 'myProvider',\n\t\t\t\t\tgetUrl: getUrlMock,\n\t\t\t\t})\n\t\t\t).toEqual({\n\t\t\t\tenable: true,\n\t\t\t\tattributes: {\n\t\t\t\t\tattr: 'attr',\n\t\t\t\t},\n\t\t\t\tprovider: 'myProvider',\n\t\t\t\tgetUrl: getUrlMock,\n\t\t\t});\n\t\t});",
            "file": "trackers/PageViewTracker-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "turn off autoTrack",
            "suites": [
                "PageViewTracker test",
                "configure test"
            ],
            "updatePoint": {
                "line": 200,
                "column": 26
            },
            "line": 200,
            "code": "\t\ttest('turn off autoTrack', () => {\n\t\t\tconst spyon = jest.spyOn(MethodEmbed, 'remove').mockImplementation(() => {\n\t\t\t\treturn;\n\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(window, 'removeEventListener')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn;\n\t\t\t\t});\n\t\t\tconst pageViewTracer = new PageViewTracker(tracker, {\n\t\t\t\tenable: true,\n\t\t\t\ttype: 'SPA',\n\t\t\t});\n\n\t\t\tpageViewTracer.configure({\n\t\t\t\tenable: false,\n\t\t\t});\n\n\t\t\texpect(spyon).toBeCalled();\n\t\t\texpect(spyon2).toBeCalled();\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t});",
            "file": "trackers/PageViewTracker-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "SessionTracker test",
                "constructor test"
            ],
            "updatePoint": {
                "line": 23,
                "column": 18
            },
            "line": 23,
            "code": "\t\ttest('happy case', () => {\n\t\t\ttracker.mockClear();\n\n\t\t\tconst sessionTracker = new SessionTracker(tracker, {\n\t\t\t\tenable: true,\n\t\t\t});\n\n\t\t\texpect(tracker).toBeCalledWith(\n\t\t\t\t{\n\t\t\t\t\tname: '_session.start',\n\t\t\t\t\tattributes: {},\n\t\t\t\t\timmediate: false,\n\t\t\t\t},\n\t\t\t\t'AWSPinpoint'\n\t\t\t);\n\t\t\texpect(mockAddEventListener).toBeCalled();\n\n\t\t\tmockAddEventListener.mockClear();\n\t\t});",
            "file": "trackers/SessionTracker-rn-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "SessionTracker test",
                "configure test"
            ],
            "updatePoint": {
                "line": 45,
                "column": 18
            },
            "line": 45,
            "code": "\t\ttest('happy case', () => {\n\t\t\tconst sessionTracker = new SessionTracker(tracker, {\n\t\t\t\tenable: true,\n\t\t\t});\n\n\t\t\texpect(\n\t\t\t\tsessionTracker.configure({\n\t\t\t\t\tenable: true,\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\tattr1: 'val1',\n\t\t\t\t\t},\n\t\t\t\t\tprovider: 'myProvider',\n\t\t\t\t})\n\t\t\t).toEqual({\n\t\t\t\tenable: true,\n\t\t\t\tattributes: {\n\t\t\t\t\tattr1: 'val1',\n\t\t\t\t},\n\t\t\t\tprovider: 'myProvider',\n\t\t\t});\n\t\t});",
            "file": "trackers/SessionTracker-rn-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "autoTrack disabled",
            "suites": [
                "SessionTracker test",
                "configure test"
            ],
            "updatePoint": {
                "line": 67,
                "column": 26
            },
            "line": 67,
            "code": "\t\ttest('autoTrack disabled', () => {\n\t\t\tconst sessionTracker = new SessionTracker(tracker, {\n\t\t\t\tenable: true,\n\t\t\t});\n\n\t\t\tmockRemoveEventListener.mockClear();\n\n\t\t\tsessionTracker.configure({\n\t\t\t\tenable: false,\n\t\t\t});\n\n\t\t\texpect(mockRemoveEventListener).toBeCalled();\n\t\t\tmockRemoveEventListener.mockClear();\n\t\t});",
            "file": "trackers/SessionTracker-rn-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "if the app turns to be active",
            "suites": [
                "SessionTracker test",
                "track function test"
            ],
            "updatePoint": {
                "line": 84,
                "column": 37
            },
            "line": 84,
            "code": "\t\ttest('if the app turns to be active', () => {\n\t\t\tconst sessionTracker = new SessionTracker(tracker, {\n\t\t\t\tenable: true,\n\t\t\t});\n\t\t\ttracker.mockClear();\n\n\t\t\t// mock to be inactive\n\t\t\tsessionTracker._currentState = 'inactive';\n\t\t\tsessionTracker._trackFunc('active');\n\n\t\t\texpect(tracker).toBeCalledWith(\n\t\t\t\t{\n\t\t\t\t\tname: '_session.start',\n\t\t\t\t\tattributes: {},\n\t\t\t\t\timmediate: false,\n\t\t\t\t},\n\t\t\t\t'AWSPinpoint'\n\t\t\t);\n\t\t});",
            "file": "trackers/SessionTracker-rn-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "if app turns into background",
            "suites": [
                "SessionTracker test",
                "track function test"
            ],
            "updatePoint": {
                "line": 104,
                "column": 36
            },
            "line": 104,
            "code": "\t\ttest('if app turns into background', () => {\n\t\t\tconst sessionTracker = new SessionTracker(tracker, {\n\t\t\t\tenable: true,\n\t\t\t});\n\t\t\ttracker.mockClear();\n\n\t\t\tsessionTracker._trackFunc('inactive');\n\n\t\t\texpect(tracker).toBeCalledWith(\n\t\t\t\t{ attributes: {}, immediate: false, name: '_session.stop' },\n\t\t\t\t'AWSPinpoint'\n\t\t\t);\n\t\t});",
            "file": "trackers/SessionTracker-rn-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "SessionTracker test",
                "constructor test"
            ],
            "updatePoint": {
                "line": 9,
                "column": 18
            },
            "line": 9,
            "code": "\t\ttest('happy case', () => {\n\t\t\ttracker.mockClear();\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(document, 'addEventListener')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn;\n\t\t\t\t});\n\n\t\t\tconst sessionTracker = new SessionTracker(tracker, {\n\t\t\t\tenable: true,\n\t\t\t});\n\n\t\t\texpect(tracker).toBeCalledWith(\n\t\t\t\t{\n\t\t\t\t\tname: '_session.start',\n\t\t\t\t\tattributes: {},\n\t\t\t\t},\n\t\t\t\t'AWSPinpoint'\n\t\t\t);\n\t\t\texpect(spyon).toBeCalled();\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "trackers/SessionTracker-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "not in the supported env",
            "suites": [
                "SessionTracker test",
                "constructor test"
            ],
            "updatePoint": {
                "line": 34,
                "column": 32
            },
            "line": 34,
            "code": "\t\ttest('not in the supported env', () => {\n\t\t\ttracker.mockClear();\n\t\t\tlet tmp = document;\n\t\t\tObject.defineProperty(window.document, 'hidden', {\n\t\t\t\twritable: true,\n\t\t\t\tvalue: undefined,\n\t\t\t});\n\n\t\t\tconst sessionTracker = new SessionTracker(tracker, {\n\t\t\t\tenable: true,\n\t\t\t});\n\n\t\t\texpect(tracker).not.toBeCalled();\n\t\t\tObject.defineProperty(window.document, 'hidden', {\n\t\t\t\twritable: true,\n\t\t\t\tvalue: false,\n\t\t\t});\n\t\t});",
            "file": "trackers/SessionTracker-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "SessionTracker test",
                "configure test"
            ],
            "updatePoint": {
                "line": 55,
                "column": 18
            },
            "line": 55,
            "code": "\t\ttest('happy case', () => {\n\t\t\tconst sessionTracker = new SessionTracker(tracker, {\n\t\t\t\tenable: true,\n\t\t\t});\n\n\t\t\texpect(\n\t\t\t\tsessionTracker.configure({\n\t\t\t\t\tenable: true,\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\tattr1: 'val1',\n\t\t\t\t\t},\n\t\t\t\t\tprovider: 'myProvider',\n\t\t\t\t})\n\t\t\t).toEqual({\n\t\t\t\tenable: true,\n\t\t\t\tattributes: {\n\t\t\t\t\tattr1: 'val1',\n\t\t\t\t},\n\t\t\t\tprovider: 'myProvider',\n\t\t\t});\n\t\t});",
            "file": "trackers/SessionTracker-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "autoTrack disabled",
            "suites": [
                "SessionTracker test",
                "configure test"
            ],
            "updatePoint": {
                "line": 77,
                "column": 26
            },
            "line": 77,
            "code": "\t\ttest('autoTrack disabled', () => {\n\t\t\tconst sessionTracker = new SessionTracker(tracker, {\n\t\t\t\tenable: true,\n\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(document, 'removeEventListener')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn;\n\t\t\t\t});\n\t\t\tsessionTracker.configure({\n\t\t\t\tenable: false,\n\t\t\t});\n\n\t\t\texpect(spyon).toBeCalled();\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "trackers/SessionTracker-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "if the page is hidden",
            "suites": [
                "SessionTracker test",
                "track function test"
            ],
            "updatePoint": {
                "line": 97,
                "column": 29
            },
            "line": 97,
            "code": "\t\ttest('if the page is hidden', async () => {\n\t\t\tconst sessionTracker = new SessionTracker(tracker, {\n\t\t\t\tenable: true,\n\t\t\t});\n\t\t\ttracker.mockClear();\n\n\t\t\tObject.defineProperty(window.document, 'hidden', {\n\t\t\t\twritable: true,\n\t\t\t\tvalue: true,\n\t\t\t});\n\n\t\t\tObject.defineProperty(window.document, 'visibilityState', {\n\t\t\t\twritable: true,\n\t\t\t\tvalue: 'hidden',\n\t\t\t});\n\n\t\t\tawait sessionTracker._trackFunc();\n\n\t\t\texpect(tracker).toBeCalledWith(\n\t\t\t\t{\n\t\t\t\t\tname: '_session.stop',\n\t\t\t\t\tattributes: {},\n\t\t\t\t},\n\t\t\t\t'AWSPinpoint'\n\t\t\t);\n\t\t});",
            "file": "trackers/SessionTracker-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "if the page is not hidden",
            "suites": [
                "SessionTracker test",
                "track function test"
            ],
            "updatePoint": {
                "line": 124,
                "column": 33
            },
            "line": 124,
            "code": "\t\ttest('if the page is not hidden', async () => {\n\t\t\tconst sessionTracker = new SessionTracker(tracker, {\n\t\t\t\tenable: true,\n\t\t\t});\n\t\t\ttracker.mockClear();\n\n\t\t\tObject.defineProperty(window.document, 'hidden', {\n\t\t\t\twritable: true,\n\t\t\t\tvalue: false,\n\t\t\t});\n\n\t\t\tObject.defineProperty(window.document, 'visibilityState', {\n\t\t\t\twritable: true,\n\t\t\t\tvalue: 'visible',\n\t\t\t});\n\n\t\t\tawait sessionTracker._trackFunc();\n\n\t\t\texpect(tracker).toBeCalledWith(\n\t\t\t\t{\n\t\t\t\t\tname: '_session.start',\n\t\t\t\t\tattributes: {},\n\t\t\t\t},\n\t\t\t\t'AWSPinpoint'\n\t\t\t);\n\t\t});",
            "file": "trackers/SessionTracker-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "inAppInForeground",
            "suites": [
                "Utils"
            ],
            "updatePoint": {
                "line": 11,
                "column": 24
            },
            "line": 11,
            "code": "\ttest('inAppInForeground', () => {\n\t\texpect(isAppInForeground()).toBe(true);\n\t});",
            "file": "utils-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "MethodEmbed",
            "suites": [
                "Utils"
            ],
            "updatePoint": {
                "line": 15,
                "column": 18
            },
            "line": 15,
            "code": "\ttest('MethodEmbed', () => {\n\t\tconst set = new Set();\n\t\tconst methodEmbed = new MethodEmbed(set, 'add');\n\t\texpect(methodEmbed instanceof MethodEmbed).toBe(true);\n\t\tmethodEmbed.set(() => {\n\t\t\treturn 'override';\n\t\t});\n\t\tmethodEmbed.remove();\n\t\tMethodEmbed.add(set, 'add', () => {\n\t\t\treturn 'override';\n\t\t});\n\t\tMethodEmbed.remove(set, 'add');\n\t\texpect(methodEmbed.context).toBe(set);\n\t\texpect(methodEmbed.methodName).toBe('add');\n\t});",
            "file": "utils-test.ts",
            "skipped": false,
            "dir": "packages/analytics/__tests__"
        },
        {
            "name": "happy-case-query",
            "suites": [
                "API test",
                "graphql test"
            ],
            "updatePoint": {
                "line": 76,
                "column": 24
            },
            "line": 76,
            "code": "\t\ttest('happy-case-query', async () => {\n\t\t\tconst spyonAuth = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres('cred');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'post')\n\t\t\t\t.mockImplementationOnce((url, init) => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres({});\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst api = new API(config);\n\t\t\tconst url = 'https://appsync.amazonaws.com',\n\t\t\t\tregion = 'us-east-2',\n\t\t\t\tapiKey = 'secret_api_key',\n\t\t\t\tvariables = { id: '809392da-ec91-4ef0-b219-5238a8f942b2' };\n\t\t\tapi.configure({\n\t\t\t\taws_appsync_graphqlEndpoint: url,\n\t\t\t\taws_appsync_region: region,\n\t\t\t\taws_appsync_authenticationType: 'API_KEY',\n\t\t\t\taws_appsync_apiKey: apiKey,\n\t\t\t});\n\n\t\t\tconst headers = {\n\t\t\t\tAuthorization: null,\n\t\t\t\t'X-Api-Key': apiKey,\n\t\t\t\t'x-amz-user-agent': Constants.userAgent,\n\t\t\t};\n\n\t\t\tconst body = {\n\t\t\t\tquery: getEventQuery,\n\t\t\t\tvariables,\n\t\t\t};\n\n\t\t\tconst init = {\n\t\t\t\theaders,\n\t\t\t\tbody,\n\t\t\t\tsignerServiceInfo: {\n\t\t\t\t\tservice: 'appsync',\n\t\t\t\t\tregion,\n\t\t\t\t},\n\t\t\t\tcancellableToken: mockCancellableToken,\n\t\t\t};\n\n\t\t\tawait api.graphql(graphqlOperation(GetEvent, variables));\n\n\t\t\texpect(spyon).toBeCalledWith(url, init);\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "cancel-graphql-query",
            "suites": [
                "API test",
                "graphql test"
            ],
            "updatePoint": {
                "line": 131,
                "column": 28
            },
            "line": 131,
            "code": "\t\ttest('cancel-graphql-query', async () => {\n\t\t\tconst spyonAuth = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres('cred');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'post')\n\t\t\t\t.mockImplementationOnce((url, init) => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\trej('error cancelled');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst api = new API(config);\n\t\t\tconst url = 'https://appsync.amazonaws.com',\n\t\t\t\tregion = 'us-east-2',\n\t\t\t\tapiKey = 'secret_api_key',\n\t\t\t\tvariables = { id: '809392da-ec91-4ef0-b219-5238a8f942b2' };\n\t\t\tapi.configure({\n\t\t\t\taws_appsync_graphqlEndpoint: url,\n\t\t\t\taws_appsync_region: region,\n\t\t\t\taws_appsync_authenticationType: 'API_KEY',\n\t\t\t\taws_appsync_apiKey: apiKey,\n\t\t\t});\n\n\t\t\tconst headers = {\n\t\t\t\tAuthorization: null,\n\t\t\t\t'X-Api-Key': apiKey,\n\t\t\t\t'x-amz-user-agent': Constants.userAgent,\n\t\t\t};\n\n\t\t\tconst body = {\n\t\t\t\tquery: getEventQuery,\n\t\t\t\tvariables,\n\t\t\t};\n\n\t\t\tconst init = {\n\t\t\t\theaders,\n\t\t\t\tbody,\n\t\t\t\tsignerServiceInfo: {\n\t\t\t\t\tservice: 'appsync',\n\t\t\t\t\tregion,\n\t\t\t\t},\n\t\t\t\tcancellableToken: mockCancellableToken,\n\t\t\t};\n\n\t\t\tconst promiseResponse = api.graphql(\n\t\t\t\tgraphqlOperation(GetEvent, variables)\n\t\t\t);\n\t\t\tapi.cancel(promiseResponse as Promise<any>, 'testmessage');\n\n\t\t\texpect.assertions(5);\n\n\t\t\texpect(cancelTokenSpy).toBeCalledTimes(1);\n\t\t\texpect(cancelMock).toBeCalledWith('testmessage');\n\t\t\ttry {\n\t\t\t\tawait promiseResponse;\n\t\t\t} catch (err) {\n\t\t\t\texpect(err).toEqual('error cancelled');\n\t\t\t\texpect(api.isCancel(err)).toBeTruthy();\n\t\t\t}\n\t\t\texpect(spyon).toBeCalledWith(url, init);\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "happy-case-query-ast",
            "suites": [
                "API test",
                "graphql test"
            ],
            "updatePoint": {
                "line": 199,
                "column": 28
            },
            "line": 199,
            "code": "\t\ttest('happy-case-query-ast', async () => {\n\t\t\tconst spyonAuth = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres('cred');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'post')\n\t\t\t\t.mockImplementationOnce((url, init) => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres({});\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst api = new API(config);\n\t\t\tconst url = 'https://appsync.amazonaws.com',\n\t\t\t\tregion = 'us-east-2',\n\t\t\t\tapiKey = 'secret_api_key',\n\t\t\t\tvariables = { id: '809392da-ec91-4ef0-b219-5238a8f942b2' };\n\t\t\tapi.configure({\n\t\t\t\taws_appsync_graphqlEndpoint: url,\n\t\t\t\taws_appsync_region: region,\n\t\t\t\taws_appsync_authenticationType: 'API_KEY',\n\t\t\t\taws_appsync_apiKey: apiKey,\n\t\t\t});\n\n\t\t\tconst headers = {\n\t\t\t\tAuthorization: null,\n\t\t\t\t'X-Api-Key': apiKey,\n\t\t\t\t'x-amz-user-agent': Constants.userAgent,\n\t\t\t};\n\n\t\t\tconst body = {\n\t\t\t\tquery: getEventQuery,\n\t\t\t\tvariables,\n\t\t\t};\n\n\t\t\tconst init = {\n\t\t\t\theaders,\n\t\t\t\tbody,\n\t\t\t\tsignerServiceInfo: {\n\t\t\t\t\tservice: 'appsync',\n\t\t\t\t\tregion,\n\t\t\t\t},\n\t\t\t\tcancellableToken: mockCancellableToken,\n\t\t\t};\n\n\t\t\tawait api.graphql(graphqlOperation(getEventDoc, variables));\n\n\t\t\texpect(spyon).toBeCalledWith(url, init);\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "happy-case-query-oidc with Cache token",
            "suites": [
                "API test",
                "graphql test"
            ],
            "updatePoint": {
                "line": 254,
                "column": 46
            },
            "line": 254,
            "code": "\t\ttest('happy-case-query-oidc with Cache token', async () => {\n\t\t\tconst spyonAuth = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres('cred');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst cache_config = {\n\t\t\t\tcapacityInBytes: 3000,\n\t\t\t\titemMaxSize: 800,\n\t\t\t\tdefaultTTL: 3000000,\n\t\t\t\tdefaultPriority: 5,\n\t\t\t\twarningThreshold: 0.8,\n\t\t\t\tstorage: window.localStorage,\n\t\t\t};\n\n\t\t\tCache.configure(cache_config);\n\n\t\t\tconst spyonCache = jest\n\t\t\t\t.spyOn(Cache, 'getItem')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttoken: 'id_token',\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'post')\n\t\t\t\t.mockImplementationOnce((url, init) => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres({});\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst api = new API(config);\n\t\t\tconst url = 'https://appsync.amazonaws.com',\n\t\t\t\tregion = 'us-east-2',\n\t\t\t\tvariables = { id: '809392da-ec91-4ef0-b219-5238a8f942b2' };\n\t\t\tapi.configure({\n\t\t\t\taws_appsync_graphqlEndpoint: url,\n\t\t\t\taws_appsync_region: region,\n\t\t\t\taws_appsync_authenticationType: 'OPENID_CONNECT',\n\t\t\t});\n\n\t\t\tconst headers = {\n\t\t\t\tAuthorization: 'id_token',\n\t\t\t\t'x-amz-user-agent': Constants.userAgent,\n\t\t\t};\n\n\t\t\tconst body = {\n\t\t\t\tquery: getEventQuery,\n\t\t\t\tvariables,\n\t\t\t};\n\n\t\t\tconst init = {\n\t\t\t\theaders,\n\t\t\t\tbody,\n\t\t\t\tsignerServiceInfo: {\n\t\t\t\t\tservice: 'appsync',\n\t\t\t\t\tregion,\n\t\t\t\t},\n\t\t\t\tcancellableToken: mockCancellableToken,\n\t\t\t};\n\n\t\t\tawait api.graphql(graphqlOperation(GetEvent, variables));\n\n\t\t\texpect(spyon).toBeCalledWith(url, init);\n\n\t\t\tspyonCache.mockClear();\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "happy-case-query-oidc with auth storage federated token",
            "suites": [
                "API test",
                "graphql test"
            ],
            "updatePoint": {
                "line": 327,
                "column": 63
            },
            "line": 327,
            "code": "\t\ttest('happy-case-query-oidc with auth storage federated token', async () => {\n\t\t\tconst spyonCredentials = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres('cred');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst cache_config = {\n\t\t\t\tcapacityInBytes: 3000,\n\t\t\t\titemMaxSize: 800,\n\t\t\t\tdefaultTTL: 3000000,\n\t\t\t\tdefaultPriority: 5,\n\t\t\t\twarningThreshold: 0.8,\n\t\t\t\tstorage: window.localStorage,\n\t\t\t};\n\n\t\t\tCache.configure(cache_config);\n\n\t\t\tconst spyonCache = jest\n\t\t\t\t.spyOn(Cache, 'getItem')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn null;\n\t\t\t\t});\n\n\t\t\tconst spyonAuth = jest\n\t\t\t\t.spyOn(Auth, 'currentAuthenticatedUser')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres({\n\t\t\t\t\t\t\tname: 'federated user',\n\t\t\t\t\t\t\ttoken: 'federated_token_from_storage',\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'post')\n\t\t\t\t.mockImplementationOnce((url, init) => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres({});\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst api = new API(config);\n\t\t\tconst url = 'https://appsync.amazonaws.com',\n\t\t\t\tregion = 'us-east-2',\n\t\t\t\tvariables = { id: '809392da-ec91-4ef0-b219-5238a8f942b2' };\n\t\t\tapi.configure({\n\t\t\t\taws_appsync_graphqlEndpoint: url,\n\t\t\t\taws_appsync_region: region,\n\t\t\t\taws_appsync_authenticationType: 'OPENID_CONNECT',\n\t\t\t});\n\n\t\t\tconst headers = {\n\t\t\t\tAuthorization: 'federated_token_from_storage',\n\t\t\t\t'x-amz-user-agent': Constants.userAgent,\n\t\t\t};\n\n\t\t\tconst body = {\n\t\t\t\tquery: getEventQuery,\n\t\t\t\tvariables,\n\t\t\t};\n\n\t\t\tconst init = {\n\t\t\t\theaders,\n\t\t\t\tbody,\n\t\t\t\tsignerServiceInfo: {\n\t\t\t\t\tservice: 'appsync',\n\t\t\t\t\tregion,\n\t\t\t\t},\n\t\t\t\tcancellableToken: mockCancellableToken,\n\t\t\t};\n\n\t\t\tawait api.graphql(graphqlOperation(GetEvent, variables));\n\n\t\t\texpect(spyon).toBeCalledWith(url, init);\n\n\t\t\tspyonCredentials.mockClear();\n\t\t\tspyonCache.mockClear();\n\t\t\tspyonAuth.mockClear();\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "happy case query with AWS_LAMBDA",
            "suites": [
                "API test",
                "graphql test"
            ],
            "updatePoint": {
                "line": 411,
                "column": 40
            },
            "line": 411,
            "code": "\t\ttest('happy case query with AWS_LAMBDA', async () => {\n\t\t\texpect.assertions(1);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'post')\n\t\t\t\t.mockReturnValue(Promise.resolve({}));\n\n\t\t\tconst api = new API(config);\n\t\t\tconst url = 'https://appsync.amazonaws.com';\n\t\t\tconst region = 'us-east-2';\n\t\t\tconst variables = { id: '809392da-ec91-4ef0-b219-5238a8f942b2' };\n\n\t\t\tapi.configure({\n\t\t\t\taws_appsync_graphqlEndpoint: url,\n\t\t\t\taws_appsync_region: region,\n\t\t\t\taws_appsync_authenticationType: 'AWS_LAMBDA',\n\t\t\t});\n\n\t\t\tconst headers = {\n\t\t\t\t'x-amz-user-agent': Constants.userAgent,\n\t\t\t\tAuthorization: 'myAuthToken',\n\t\t\t};\n\n\t\t\tconst body = {\n\t\t\t\tquery: getEventQuery,\n\t\t\t\tvariables,\n\t\t\t};\n\n\t\t\tconst init = {\n\t\t\t\theaders,\n\t\t\t\tbody,\n\t\t\t\tsignerServiceInfo: {\n\t\t\t\t\tservice: 'appsync',\n\t\t\t\t\tregion,\n\t\t\t\t},\n\t\t\t\tcancellableToken: mockCancellableToken,\n\t\t\t};\n\n\t\t\tawait api.graphql({\n\t\t\t\tquery: GetEvent,\n\t\t\t\tvariables,\n\t\t\t\tauthToken: 'myAuthToken',\n\t\t\t});\n\n\t\t\texpect(spyon).toBeCalledWith(url, init);\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "additional headers with AWS_LAMBDA",
            "suites": [
                "API test",
                "graphql test"
            ],
            "updatePoint": {
                "line": 458,
                "column": 42
            },
            "line": 458,
            "code": "\t\ttest('additional headers with AWS_LAMBDA', async () => {\n\t\t\texpect.assertions(1);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'post')\n\t\t\t\t.mockReturnValue(Promise.resolve({}));\n\n\t\t\tconst api = new API(config);\n\t\t\tconst url = 'https://appsync.amazonaws.com';\n\t\t\tconst region = 'us-east-2';\n\t\t\tconst variables = { id: '809392da-ec91-4ef0-b219-5238a8f942b2' };\n\n\t\t\tapi.configure({\n\t\t\t\taws_appsync_graphqlEndpoint: url,\n\t\t\t\taws_appsync_region: region,\n\t\t\t\taws_appsync_authenticationType: 'AWS_LAMBDA',\n\t\t\t});\n\n\t\t\tconst headers = {\n\t\t\t\t'x-amz-user-agent': Constants.userAgent,\n\t\t\t\tAuthorization: 'myAuthToken',\n\t\t\t};\n\n\t\t\tconst body = {\n\t\t\t\tquery: getEventQuery,\n\t\t\t\tvariables,\n\t\t\t};\n\n\t\t\tconst init = {\n\t\t\t\theaders,\n\t\t\t\tbody,\n\t\t\t\tsignerServiceInfo: {\n\t\t\t\t\tservice: 'appsync',\n\t\t\t\t\tregion,\n\t\t\t\t},\n\t\t\t\tcancellableToken: mockCancellableToken,\n\t\t\t};\n\n\t\t\tawait api.graphql(\n\t\t\t\t{\n\t\t\t\t\tquery: GetEvent,\n\t\t\t\t\tvariables,\n\t\t\t\t\tauthToken: 'myAuthToken',\n\t\t\t\t},\n\t\t\t\t{ Authorization: 'anotherAuthToken' }\n\t\t\t);\n\n\t\t\texpect(spyon).toBeCalledWith(url, init);\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "multi-auth default case AWS_IAM, using API_KEY as auth mode",
            "suites": [
                "API test",
                "graphql test"
            ],
            "updatePoint": {
                "line": 508,
                "column": 67
            },
            "line": 508,
            "code": "\t\ttest('multi-auth default case AWS_IAM, using API_KEY as auth mode', async () => {\n\t\t\texpect.assertions(1);\n\n\t\t\tconst cache_config = {\n\t\t\t\tcapacityInBytes: 3000,\n\t\t\t\titemMaxSize: 800,\n\t\t\t\tdefaultTTL: 3000000,\n\t\t\t\tdefaultPriority: 5,\n\t\t\t\twarningThreshold: 0.8,\n\t\t\t\tstorage: window.localStorage,\n\t\t\t};\n\n\t\t\tCache.configure(cache_config);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'post')\n\t\t\t\t.mockReturnValue(Promise.resolve({}));\n\n\t\t\tconst api = new API(config);\n\t\t\tconst url = 'https://appsync.amazonaws.com',\n\t\t\t\tregion = 'us-east-2',\n\t\t\t\tvariables = { id: '809392da-ec91-4ef0-b219-5238a8f942b2' },\n\t\t\t\tapiKey = 'secret-api-key';\n\t\t\tapi.configure({\n\t\t\t\taws_appsync_graphqlEndpoint: url,\n\t\t\t\taws_appsync_region: region,\n\t\t\t\taws_appsync_authenticationType: 'AWS_IAM',\n\t\t\t\taws_appsync_apiKey: apiKey,\n\t\t\t});\n\n\t\t\tconst headers = {\n\t\t\t\tAuthorization: null,\n\t\t\t\t'X-Api-Key': 'secret-api-key',\n\t\t\t\t'x-amz-user-agent': Constants.userAgent,\n\t\t\t};\n\n\t\t\tconst body = {\n\t\t\t\tquery: getEventQuery,\n\t\t\t\tvariables,\n\t\t\t};\n\n\t\t\tconst init = {\n\t\t\t\theaders,\n\t\t\t\tbody,\n\t\t\t\tsignerServiceInfo: {\n\t\t\t\t\tservice: 'appsync',\n\t\t\t\t\tregion,\n\t\t\t\t},\n\t\t\t\tcancellableToken: mockCancellableToken,\n\t\t\t};\n\n\t\t\tawait api.graphql({\n\t\t\t\tquery: GetEvent,\n\t\t\t\tvariables,\n\t\t\t\tauthMode: GRAPHQL_AUTH_MODE.API_KEY,\n\t\t\t});\n\n\t\t\texpect(spyon).toBeCalledWith(url, init);\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "multi-auth default case api-key, using AWS_IAM as auth mode",
            "suites": [
                "API test",
                "graphql test"
            ],
            "updatePoint": {
                "line": 568,
                "column": 67
            },
            "line": 568,
            "code": "\t\ttest('multi-auth default case api-key, using AWS_IAM as auth mode', async () => {\n\t\t\texpect.assertions(1);\n\t\t\tjest.spyOn(Credentials, 'get').mockReturnValue(Promise.resolve('cred'));\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'post')\n\t\t\t\t.mockReturnValue(Promise.resolve({}));\n\n\t\t\tconst api = new API(config);\n\t\t\tconst url = 'https://appsync.amazonaws.com',\n\t\t\t\tregion = 'us-east-2',\n\t\t\t\tvariables = { id: '809392da-ec91-4ef0-b219-5238a8f942b2' },\n\t\t\t\tapiKey = 'secret-api-key';\n\t\t\tapi.configure({\n\t\t\t\taws_appsync_graphqlEndpoint: url,\n\t\t\t\taws_appsync_region: region,\n\t\t\t\taws_appsync_authenticationType: 'API_KEY',\n\t\t\t\taws_appsync_apiKey: apiKey,\n\t\t\t});\n\n\t\t\tconst headers = { 'x-amz-user-agent': Constants.userAgent };\n\n\t\t\tconst body = {\n\t\t\t\tquery: getEventQuery,\n\t\t\t\tvariables,\n\t\t\t};\n\n\t\t\tconst init = {\n\t\t\t\theaders,\n\t\t\t\tbody,\n\t\t\t\tsignerServiceInfo: {\n\t\t\t\t\tservice: 'appsync',\n\t\t\t\t\tregion,\n\t\t\t\t},\n\t\t\t\tcancellableToken: mockCancellableToken,\n\t\t\t};\n\n\t\t\tawait api.graphql({\n\t\t\t\tquery: GetEvent,\n\t\t\t\tvariables,\n\t\t\t\tauthMode: GRAPHQL_AUTH_MODE.AWS_IAM,\n\t\t\t});\n\n\t\t\texpect(spyon).toBeCalledWith(url, init);\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "multi-auth default case api-key, using AWS_LAMBDA as auth mode",
            "suites": [
                "API test",
                "graphql test"
            ],
            "updatePoint": {
                "line": 614,
                "column": 70
            },
            "line": 614,
            "code": "\t\ttest('multi-auth default case api-key, using AWS_LAMBDA as auth mode', async () => {\n\t\t\texpect.assertions(1);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'post')\n\t\t\t\t.mockReturnValue(Promise.resolve({}));\n\n\t\t\tconst api = new API(config);\n\t\t\tconst url = 'https://appsync.amazonaws.com',\n\t\t\t\tregion = 'us-east-2',\n\t\t\t\tvariables = { id: '809392da-ec91-4ef0-b219-5238a8f942b2' },\n\t\t\t\tapiKey = 'secret-api-key';\n\n\t\t\tapi.configure({\n\t\t\t\taws_appsync_graphqlEndpoint: url,\n\t\t\t\taws_appsync_region: region,\n\t\t\t\taws_appsync_authenticationType: 'API_KEY',\n\t\t\t\taws_appsync_apiKey: apiKey,\n\t\t\t});\n\n\t\t\tconst headers = {\n\t\t\t\t'x-amz-user-agent': Constants.userAgent,\n\t\t\t\tAuthorization: 'myAuthToken',\n\t\t\t};\n\n\t\t\tconst body = {\n\t\t\t\tquery: getEventQuery,\n\t\t\t\tvariables,\n\t\t\t};\n\n\t\t\tconst init = {\n\t\t\t\theaders,\n\t\t\t\tbody,\n\t\t\t\tsignerServiceInfo: {\n\t\t\t\t\tservice: 'appsync',\n\t\t\t\t\tregion,\n\t\t\t\t},\n\t\t\t\tcancellableToken: mockCancellableToken,\n\t\t\t};\n\n\t\t\tawait api.graphql({\n\t\t\t\tquery: GetEvent,\n\t\t\t\tvariables,\n\t\t\t\tauthMode: GRAPHQL_AUTH_MODE.AWS_LAMBDA,\n\t\t\t\tauthToken: 'myAuthToken',\n\t\t\t});\n\n\t\t\texpect(spyon).toBeCalledWith(url, init);\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "multi-auth default case api-key, using OIDC as auth mode",
            "suites": [
                "API test",
                "graphql test"
            ],
            "updatePoint": {
                "line": 664,
                "column": 64
            },
            "line": 664,
            "code": "\t\ttest('multi-auth default case api-key, using OIDC as auth mode', async () => {\n\t\t\texpect.assertions(1);\n\t\t\tconst cache_config = {\n\t\t\t\tcapacityInBytes: 3000,\n\t\t\t\titemMaxSize: 800,\n\t\t\t\tdefaultTTL: 3000000,\n\t\t\t\tdefaultPriority: 5,\n\t\t\t\twarningThreshold: 0.8,\n\t\t\t\tstorage: window.localStorage,\n\t\t\t};\n\n\t\t\tCache.configure(cache_config);\n\n\t\t\tjest.spyOn(Cache, 'getItem').mockReturnValue({ token: 'oidc_token' });\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'post')\n\t\t\t\t.mockReturnValue(Promise.resolve({}));\n\n\t\t\tconst api = new API(config);\n\t\t\tconst url = 'https://appsync.amazonaws.com',\n\t\t\t\tregion = 'us-east-2',\n\t\t\t\tvariables = { id: '809392da-ec91-4ef0-b219-5238a8f942b2' },\n\t\t\t\tapiKey = 'secret-api-key';\n\t\t\tapi.configure({\n\t\t\t\taws_appsync_graphqlEndpoint: url,\n\t\t\t\taws_appsync_region: region,\n\t\t\t\taws_appsync_authenticationType: 'API_KEY',\n\t\t\t\taws_appsync_apiKey: apiKey,\n\t\t\t});\n\n\t\t\tconst headers = {\n\t\t\t\tAuthorization: 'oidc_token',\n\t\t\t\t'x-amz-user-agent': Constants.userAgent,\n\t\t\t};\n\n\t\t\tconst body = {\n\t\t\t\tquery: getEventQuery,\n\t\t\t\tvariables,\n\t\t\t};\n\n\t\t\tconst init = {\n\t\t\t\theaders,\n\t\t\t\tbody,\n\t\t\t\tsignerServiceInfo: {\n\t\t\t\t\tservice: 'appsync',\n\t\t\t\t\tregion,\n\t\t\t\t},\n\t\t\t\tcancellableToken: mockCancellableToken,\n\t\t\t};\n\n\t\t\tawait api.graphql({\n\t\t\t\tquery: GetEvent,\n\t\t\t\tvariables,\n\t\t\t\tauthMode: GRAPHQL_AUTH_MODE.OPENID_CONNECT,\n\t\t\t});\n\n\t\t\texpect(spyon).toBeCalledWith(url, init);\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "multi-auth using OIDC as auth mode, but no federatedSign",
            "suites": [
                "API test",
                "graphql test"
            ],
            "updatePoint": {
                "line": 724,
                "column": 64
            },
            "line": 724,
            "code": "\t\ttest('multi-auth using OIDC as auth mode, but no federatedSign', async () => {\n\t\t\texpect.assertions(1);\n\n\t\t\tconst cache_config = {\n\t\t\t\tcapacityInBytes: 3000,\n\t\t\t\titemMaxSize: 800,\n\t\t\t\tdefaultTTL: 3000000,\n\t\t\t\tdefaultPriority: 5,\n\t\t\t\twarningThreshold: 0.8,\n\t\t\t\tstorage: window.localStorage,\n\t\t\t};\n\n\t\t\tCache.configure(cache_config);\n\n\t\t\tjest.spyOn(Cache, 'getItem').mockReturnValue(null);\n\n\t\t\tconst api = new API(config);\n\t\t\tconst url = 'https://appsync.amazonaws.com',\n\t\t\t\tregion = 'us-east-2',\n\t\t\t\tvariables = { id: '809392da-ec91-4ef0-b219-5238a8f942b2' },\n\t\t\t\tapiKey = 'secret-api-key';\n\t\t\tapi.configure({\n\t\t\t\taws_appsync_graphqlEndpoint: url,\n\t\t\t\taws_appsync_region: region,\n\t\t\t\taws_appsync_authenticationType: 'API_KEY',\n\t\t\t\taws_appsync_apiKey: apiKey,\n\t\t\t});\n\n\t\t\texpect(\n\t\t\t\tapi.graphql({\n\t\t\t\t\tquery: GetEvent,\n\t\t\t\t\tvariables,\n\t\t\t\t\tauthMode: GRAPHQL_AUTH_MODE.OPENID_CONNECT,\n\t\t\t\t})\n\t\t\t).rejects.toThrowError('No federated jwt');\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "multi-auth using CUP as auth mode, but no userpool",
            "suites": [
                "API test",
                "graphql test"
            ],
            "updatePoint": {
                "line": 761,
                "column": 58
            },
            "line": 761,
            "code": "\t\ttest('multi-auth using CUP as auth mode, but no userpool', async () => {\n\t\t\texpect.assertions(1);\n\n\t\t\tconst api = new API(config);\n\t\t\tconst url = 'https://appsync.amazonaws.com',\n\t\t\t\tregion = 'us-east-2',\n\t\t\t\tvariables = { id: '809392da-ec91-4ef0-b219-5238a8f942b2' },\n\t\t\t\tapiKey = 'secret-api-key';\n\t\t\tapi.configure({\n\t\t\t\taws_appsync_graphqlEndpoint: url,\n\t\t\t\taws_appsync_region: region,\n\t\t\t\taws_appsync_authenticationType: 'API_KEY',\n\t\t\t\taws_appsync_apiKey: apiKey,\n\t\t\t});\n\n\t\t\texpect(\n\t\t\t\tapi.graphql({\n\t\t\t\t\tquery: GetEvent,\n\t\t\t\t\tvariables,\n\t\t\t\t\tauthMode: GRAPHQL_AUTH_MODE.AMAZON_COGNITO_USER_POOLS,\n\t\t\t\t})\n\t\t\t).rejects.toThrow();\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "multi-auth using AWS_LAMBDA as auth mode, but no auth token specified",
            "suites": [
                "API test",
                "graphql test"
            ],
            "updatePoint": {
                "line": 785,
                "column": 77
            },
            "line": 785,
            "code": "\t\ttest('multi-auth using AWS_LAMBDA as auth mode, but no auth token specified', async () => {\n\t\t\texpect.assertions(1);\n\n\t\t\tconst api = new API(config);\n\t\t\tconst url = 'https://appsync.amazonaws.com',\n\t\t\t\tregion = 'us-east-2',\n\t\t\t\tvariables = { id: '809392da-ec91-4ef0-b219-5238a8f942b2' };\n\n\t\t\tapi.configure({\n\t\t\t\taws_appsync_graphqlEndpoint: url,\n\t\t\t\taws_appsync_region: region,\n\t\t\t\taws_appsync_authenticationType: 'AWS_IAM',\n\t\t\t});\n\n\t\t\texpect(\n\t\t\t\tapi.graphql({\n\t\t\t\t\tquery: GetEvent,\n\t\t\t\t\tvariables,\n\t\t\t\t\tauthMode: GRAPHQL_AUTH_MODE.AWS_LAMBDA,\n\t\t\t\t})\n\t\t\t).rejects.toThrowError(GraphQLAuthError.NO_AUTH_TOKEN);\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "multi-auth using API_KEY as auth mode, but no api-key configured",
            "suites": [
                "API test",
                "graphql test"
            ],
            "updatePoint": {
                "line": 808,
                "column": 72
            },
            "line": 808,
            "code": "\t\ttest('multi-auth using API_KEY as auth mode, but no api-key configured', async () => {\n\t\t\texpect.assertions(1);\n\n\t\t\tconst cache_config = {\n\t\t\t\tcapacityInBytes: 3000,\n\t\t\t\titemMaxSize: 800,\n\t\t\t\tdefaultTTL: 3000000,\n\t\t\t\tdefaultPriority: 5,\n\t\t\t\twarningThreshold: 0.8,\n\t\t\t\tstorage: window.localStorage,\n\t\t\t};\n\n\t\t\tCache.configure(cache_config);\n\n\t\t\tconst api = new API(config);\n\t\t\tconst url = 'https://appsync.amazonaws.com',\n\t\t\t\tregion = 'us-east-2',\n\t\t\t\tvariables = { id: '809392da-ec91-4ef0-b219-5238a8f942b2' };\n\t\t\tapi.configure({\n\t\t\t\taws_appsync_graphqlEndpoint: url,\n\t\t\t\taws_appsync_region: region,\n\t\t\t\taws_appsync_authenticationType: 'AWS_IAM',\n\t\t\t});\n\n\t\t\texpect(\n\t\t\t\tapi.graphql({\n\t\t\t\t\tquery: GetEvent,\n\t\t\t\t\tvariables,\n\t\t\t\t\tauthMode: GRAPHQL_AUTH_MODE.API_KEY,\n\t\t\t\t})\n\t\t\t).rejects.toThrowError('No api-key configured');\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "multi-auth using AWS_IAM as auth mode, but no credentials",
            "suites": [
                "API test",
                "graphql test"
            ],
            "updatePoint": {
                "line": 841,
                "column": 65
            },
            "line": 841,
            "code": "\t\ttest('multi-auth using AWS_IAM as auth mode, but no credentials', async () => {\n\t\t\texpect.assertions(1);\n\n\t\t\tjest.spyOn(Credentials, 'get').mockReturnValue(Promise.reject());\n\n\t\t\tconst api = new API(config);\n\t\t\tconst url = 'https://appsync.amazonaws.com',\n\t\t\t\tregion = 'us-east-2',\n\t\t\t\tvariables = { id: '809392da-ec91-4ef0-b219-5238a8f942b2' },\n\t\t\t\tapiKey = 'secret-api-key';\n\t\t\tapi.configure({\n\t\t\t\taws_appsync_graphqlEndpoint: url,\n\t\t\t\taws_appsync_region: region,\n\t\t\t\taws_appsync_authenticationType: 'API_KEY',\n\t\t\t\taws_appsync_apiKey: apiKey,\n\t\t\t});\n\n\t\t\texpect(\n\t\t\t\tapi.graphql({\n\t\t\t\t\tquery: GetEvent,\n\t\t\t\t\tvariables,\n\t\t\t\t\tauthMode: GRAPHQL_AUTH_MODE.AWS_IAM,\n\t\t\t\t})\n\t\t\t).rejects.toThrowError('No credentials');\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "multi-auth default case api-key, using CUP as auth mode",
            "suites": [
                "API test",
                "graphql test"
            ],
            "updatePoint": {
                "line": 867,
                "column": 63
            },
            "line": 867,
            "code": "\t\ttest('multi-auth default case api-key, using CUP as auth mode', async () => {\n\t\t\texpect.assertions(1);\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'post')\n\t\t\t\t.mockReturnValue(Promise.resolve({}));\n\n\t\t\tjest.spyOn(Auth, 'currentSession').mockReturnValue({\n\t\t\t\tgetAccessToken: () => ({\n\t\t\t\t\tgetJwtToken: () => 'Secret-Token',\n\t\t\t\t}),\n\t\t\t} as any);\n\n\t\t\tconst api = new API(config);\n\t\t\tconst url = 'https://appsync.amazonaws.com',\n\t\t\t\tregion = 'us-east-2',\n\t\t\t\tvariables = { id: '809392da-ec91-4ef0-b219-5238a8f942b2' },\n\t\t\t\tapiKey = 'secret-api-key';\n\t\t\tapi.configure({\n\t\t\t\taws_appsync_graphqlEndpoint: url,\n\t\t\t\taws_appsync_region: region,\n\t\t\t\taws_appsync_authenticationType: 'API_KEY',\n\t\t\t\taws_appsync_apiKey: apiKey,\n\t\t\t});\n\n\t\t\tconst headers = {\n\t\t\t\tAuthorization: 'Secret-Token',\n\t\t\t\t'x-amz-user-agent': Constants.userAgent,\n\t\t\t};\n\n\t\t\tconst body = {\n\t\t\t\tquery: getEventQuery,\n\t\t\t\tvariables,\n\t\t\t};\n\n\t\t\tconst init = {\n\t\t\t\theaders,\n\t\t\t\tbody,\n\t\t\t\tsignerServiceInfo: {\n\t\t\t\t\tservice: 'appsync',\n\t\t\t\t\tregion,\n\t\t\t\t},\n\t\t\t\tcancellableToken: mockCancellableToken,\n\t\t\t};\n\n\t\t\tawait api.graphql({\n\t\t\t\tquery: GetEvent,\n\t\t\t\tvariables,\n\t\t\t\tauthMode: GRAPHQL_AUTH_MODE.AMAZON_COGNITO_USER_POOLS,\n\t\t\t});\n\n\t\t\texpect(spyon).toBeCalledWith(url, init);\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "authMode on subscription",
            "suites": [
                "API test",
                "graphql test"
            ],
            "updatePoint": {
                "line": 920,
                "column": 32
            },
            "line": 920,
            "code": "\t\ttest('authMode on subscription', async () => {\n\t\t\texpect.assertions(1);\n\n\t\t\tjest\n\t\t\t\t.spyOn(RestClient.prototype, 'post')\n\t\t\t\t.mockImplementation(async (url, init) => ({\n\t\t\t\t\textensions: {\n\t\t\t\t\t\tsubscription: {\n\t\t\t\t\t\t\tnewSubscriptions: {},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t}));\n\n\t\t\tconst cache_config = {\n\t\t\t\tcapacityInBytes: 3000,\n\t\t\t\titemMaxSize: 800,\n\t\t\t\tdefaultTTL: 3000000,\n\t\t\t\tdefaultPriority: 5,\n\t\t\t\twarningThreshold: 0.8,\n\t\t\t\tstorage: window.localStorage,\n\t\t\t};\n\n\t\t\tCache.configure(cache_config);\n\n\t\t\tjest.spyOn(Cache, 'getItem').mockReturnValue({ token: 'id_token' });\n\n\t\t\tconst spyon_pubsub = jest\n\t\t\t\t.spyOn(PubSub, 'subscribe')\n\t\t\t\t.mockImplementation(jest.fn(() => Observable.of({})));\n\n\t\t\tconst api = new API(config);\n\t\t\tconst url = 'https://appsync.amazonaws.com',\n\t\t\t\tregion = 'us-east-2',\n\t\t\t\tapiKey = 'secret_api_key',\n\t\t\t\tvariables = { id: '809392da-ec91-4ef0-b219-5238a8f942b2' };\n\n\t\t\tapi.configure({\n\t\t\t\taws_appsync_graphqlEndpoint: url,\n\t\t\t\taws_appsync_region: region,\n\t\t\t\taws_appsync_authenticationType: 'API_KEY',\n\t\t\t\taws_appsync_apiKey: apiKey,\n\t\t\t});\n\n\t\t\tconst SubscribeToEventComments = `subscription SubscribeToEventComments($eventId: String!) {\n\t\t\t\tsubscribeToEventComments(eventId: $eventId) {\n\t\t\t\t\teventId\n\t\t\t\t\tcommentId\n\t\t\t\t\tcontent\n\t\t\t\t}\n\t\t\t}`;\n\n\t\t\tconst doc = parse(SubscribeToEventComments);\n\t\t\tconst query = print(doc);\n\n\t\t\t(api.graphql({\n\t\t\t\tquery,\n\t\t\t\tvariables,\n\t\t\t\tauthMode: GRAPHQL_AUTH_MODE.OPENID_CONNECT,\n\t\t\t}) as any).subscribe();\n\n\t\t\texpect(spyon_pubsub).toBeCalledWith(\n\t\t\t\t'',\n\t\t\t\texpect.objectContaining({\n\t\t\t\t\tauthenticationType: 'OPENID_CONNECT',\n\t\t\t\t})\n\t\t\t);\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "happy-case-subscription",
            "suites": [
                "API test",
                "graphql test"
            ],
            "updatePoint": {
                "line": 988,
                "column": 31
            },
            "line": 988,
            "code": "\t\ttest('happy-case-subscription', async done => {\n\t\t\tjest\n\t\t\t\t.spyOn(RestClient.prototype, 'post')\n\t\t\t\t.mockImplementation(async (url, init) => ({\n\t\t\t\t\textensions: {\n\t\t\t\t\t\tsubscription: {\n\t\t\t\t\t\t\tnewSubscriptions: {},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t}));\n\n\t\t\tconst api = new API(config);\n\t\t\tconst url = 'https://appsync.amazonaws.com',\n\t\t\t\tregion = 'us-east-2',\n\t\t\t\tapiKey = 'secret_api_key',\n\t\t\t\tvariables = { id: '809392da-ec91-4ef0-b219-5238a8f942b2' };\n\n\t\t\tapi.configure({\n\t\t\t\taws_appsync_graphqlEndpoint: url,\n\t\t\t\taws_appsync_region: region,\n\t\t\t\taws_appsync_authenticationType: 'API_KEY',\n\t\t\t\taws_appsync_apiKey: apiKey,\n\t\t\t});\n\n\t\t\tPubSub.subscribe = jest.fn(() => Observable.of({}));\n\n\t\t\tconst SubscribeToEventComments = `subscription SubscribeToEventComments($eventId: String!) {\n\t\t\t\tsubscribeToEventComments(eventId: $eventId) {\n\t\t\t\t\teventId\n\t\t\t\t\tcommentId\n\t\t\t\t\tcontent\n\t\t\t\t}\n\t\t\t}`;\n\n\t\t\tconst doc = parse(SubscribeToEventComments);\n\t\t\tconst query = print(doc);\n\n\t\t\tconst observable = (api.graphql(\n\t\t\t\tgraphqlOperation(query, variables)\n\t\t\t) as Observable<object>).subscribe({\n\t\t\t\tnext: () => {\n\t\t\t\t\texpect(PubSub.subscribe).toHaveBeenCalledTimes(1);\n\t\t\t\t\tconst subscribeOptions = (PubSub.subscribe as any).mock.calls[0][1];\n\t\t\t\t\texpect(subscribeOptions.provider).toBe(\n\t\t\t\t\t\tINTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER\n\t\t\t\t\t);\n\t\t\t\t\tdone();\n\t\t\t\t},\n\t\t\t});\n\n\t\t\texpect(observable).not.toBe(undefined);\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "happy case subscription with additionalHeaders",
            "suites": [
                "API test",
                "graphql test"
            ],
            "updatePoint": {
                "line": 1041,
                "column": 54
            },
            "line": 1041,
            "code": "\t\ttest('happy case subscription with additionalHeaders', async done => {\n\t\t\tjest\n\t\t\t\t.spyOn(RestClient.prototype, 'post')\n\t\t\t\t.mockImplementation(async (url, init) => ({\n\t\t\t\t\textensions: {\n\t\t\t\t\t\tsubscription: {\n\t\t\t\t\t\t\tnewSubscriptions: {},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t}));\n\n\t\t\tconst api = new API(config);\n\t\t\tconst url = 'https://appsync.amazonaws.com',\n\t\t\t\tregion = 'us-east-2',\n\t\t\t\tapiKey = 'secret_api_key',\n\t\t\t\tvariables = { id: '809392da-ec91-4ef0-b219-5238a8f942b2' };\n\n\t\t\tapi.configure({\n\t\t\t\taws_appsync_graphqlEndpoint: url,\n\t\t\t\taws_appsync_region: region,\n\t\t\t\taws_appsync_authenticationType: 'API_KEY',\n\t\t\t\taws_appsync_apiKey: apiKey,\n\t\t\t});\n\n\t\t\tPubSub.subscribe = jest.fn(() => Observable.of({}));\n\n\t\t\tconst SubscribeToEventComments = `subscription SubscribeToEventComments($eventId: String!) {\n\t\t\t\tsubscribeToEventComments(eventId: $eventId) {\n\t\t\t\t\teventId\n\t\t\t\t\tcommentId\n\t\t\t\t\tcontent\n\t\t\t\t}\n\t\t\t}`;\n\n\t\t\tconst doc = parse(SubscribeToEventComments);\n\t\t\tconst query = print(doc);\n\n\t\t\tconst additionalHeaders = {\n\t\t\t\t'x-custom-header': 'value',\n\t\t\t};\n\n\t\t\tconst observable = (api.graphql(\n\t\t\t\tgraphqlOperation(query, variables),\n\t\t\t\tadditionalHeaders\n\t\t\t) as Observable<object>).subscribe({\n\t\t\t\tnext: () => {\n\t\t\t\t\texpect(PubSub.subscribe).toHaveBeenCalledTimes(1);\n\t\t\t\t\tconst subscribeOptions = (PubSub.subscribe as any).mock.calls[0][1];\n\t\t\t\t\texpect(subscribeOptions.additionalHeaders).toBe(additionalHeaders);\n\t\t\t\t\tdone();\n\t\t\t\t},\n\t\t\t});\n\n\t\t\texpect(observable).not.toBe(undefined);\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "happy case mutation",
            "suites": [
                "API test",
                "graphql test"
            ],
            "updatePoint": {
                "line": 1097,
                "column": 27
            },
            "line": 1097,
            "code": "\t\ttest('happy case mutation', async () => {\n\t\t\tconst spyonAuth = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres('cred');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'post')\n\t\t\t\t.mockImplementationOnce((url, init) => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres({});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tconst api = new API(config);\n\t\t\tconst url = 'https://appsync.amazonaws.com',\n\t\t\t\tregion = 'us-east-2',\n\t\t\t\tapiKey = 'secret_api_key',\n\t\t\t\tvariables = {\n\t\t\t\t\tid: '809392da-ec91-4ef0-b219-5238a8f942b2',\n\t\t\t\t\tcontent: 'lalala',\n\t\t\t\t\tcreatedAt: new Date().toISOString(),\n\t\t\t\t};\n\t\t\tapi.configure({\n\t\t\t\taws_appsync_graphqlEndpoint: url,\n\t\t\t\taws_appsync_region: region,\n\t\t\t\taws_appsync_authenticationType: 'API_KEY',\n\t\t\t\taws_appsync_apiKey: apiKey,\n\t\t\t});\n\t\t\tconst AddComment = `mutation AddComment($eventId: ID!, $content: String!, $createdAt: String!) {\n\t\t\t\tcommentOnEvent(eventId: $eventId, content: $content, createdAt: $createdAt) {\n\t\t\t\t\teventId\n\t\t\t\t\tcontent\n\t\t\t\t\tcreatedAt\n\t\t\t\t}\n\t\t\t}`;\n\n\t\t\tconst doc = parse(AddComment);\n\t\t\tconst query = print(doc);\n\n\t\t\tconst headers = {\n\t\t\t\tAuthorization: null,\n\t\t\t\t'X-Api-Key': apiKey,\n\t\t\t\t'x-amz-user-agent': Constants.userAgent,\n\t\t\t};\n\n\t\t\tconst body = {\n\t\t\t\tquery,\n\t\t\t\tvariables,\n\t\t\t};\n\n\t\t\tconst init = {\n\t\t\t\theaders,\n\t\t\t\tbody,\n\t\t\t\tsignerServiceInfo: {\n\t\t\t\t\tservice: 'appsync',\n\t\t\t\t\tregion,\n\t\t\t\t},\n\t\t\t\tcancellableToken: mockCancellableToken,\n\t\t\t};\n\n\t\t\tawait api.graphql(graphqlOperation(AddComment, variables));\n\n\t\t\texpect(spyon).toBeCalledWith(url, init);\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "happy case query with additionalHeaders",
            "suites": [
                "API test",
                "graphql test"
            ],
            "updatePoint": {
                "line": 1165,
                "column": 47
            },
            "line": 1165,
            "code": "\t\ttest('happy case query with additionalHeaders', async () => {\n\t\t\tconst spyonAuth = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres('cred');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'post')\n\t\t\t\t.mockImplementationOnce((url, init) => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres({});\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst api = new API(config);\n\t\t\tconst url = 'https://appsync.amazonaws.com',\n\t\t\t\tregion = 'us-east-2',\n\t\t\t\tapiKey = 'secret_api_key',\n\t\t\t\tvariables = { id: '809392da-ec91-4ef0-b219-5238a8f942b2' };\n\t\t\tapi.configure({\n\t\t\t\taws_appsync_graphqlEndpoint: url,\n\t\t\t\taws_appsync_region: region,\n\t\t\t\taws_appsync_authenticationType: 'API_KEY',\n\t\t\t\taws_appsync_apiKey: apiKey,\n\t\t\t\tgraphql_headers: async () =>\n\t\t\t\t\tPromise.resolve({\n\t\t\t\t\t\tsomeHeaderSetAtConfigThatWillBeOverridden: 'initialValue',\n\t\t\t\t\t\tsomeOtherHeaderSetAtConfig: 'expectedValue',\n\t\t\t\t\t}),\n\t\t\t});\n\n\t\t\tconst headers = {\n\t\t\t\tAuthorization: null,\n\t\t\t\t'X-Api-Key': apiKey,\n\t\t\t\t'x-amz-user-agent': Constants.userAgent,\n\t\t\t};\n\n\t\t\tconst body = {\n\t\t\t\tquery: getEventQuery,\n\t\t\t\tvariables,\n\t\t\t};\n\n\t\t\tconst init = {\n\t\t\t\theaders,\n\t\t\t\tbody,\n\t\t\t\tsignerServiceInfo: {\n\t\t\t\t\tservice: 'appsync',\n\t\t\t\t\tregion,\n\t\t\t\t},\n\t\t\t\tcancellableToken: mockCancellableToken,\n\t\t\t};\n\n\t\t\tconst additionalHeaders = {\n\t\t\t\tsomeAddtionalHeader: 'foo',\n\t\t\t\tsomeHeaderSetAtConfigThatWillBeOverridden: 'expectedValue',\n\t\t\t};\n\n\t\t\tawait api.graphql(\n\t\t\t\tgraphqlOperation(GetEvent, variables),\n\t\t\t\tadditionalHeaders\n\t\t\t);\n\n\t\t\texpect(spyon).toBeCalledWith(url, {\n\t\t\t\t...init,\n\t\t\t\theaders: {\n\t\t\t\t\tsomeAddtionalHeader: 'foo',\n\t\t\t\t\tsomeHeaderSetAtConfigThatWillBeOverridden: 'expectedValue',\n\t\t\t\t\t...init.headers,\n\t\t\t\t\tsomeOtherHeaderSetAtConfig: 'expectedValue',\n\t\t\t\t},\n\t\t\t});\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "without aws_project_region",
            "suites": [
                "API test",
                "configure test"
            ],
            "updatePoint": {
                "line": 1243,
                "column": 34
            },
            "line": 1243,
            "code": "\t\ttest('without aws_project_region', () => {\n\t\t\tconst api = new API({});\n\n\t\t\tconst options = {\n\t\t\t\tmyoption: 'myoption',\n\t\t\t};\n\n\t\t\texpect(api.configure(options)).toEqual({\n\t\t\t\tmyoption: 'myoption',\n\t\t\t});\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "with aws_project_region",
            "suites": [
                "API test",
                "configure test"
            ],
            "updatePoint": {
                "line": 1255,
                "column": 31
            },
            "line": 1255,
            "code": "\t\ttest('with aws_project_region', () => {\n\t\t\tconst api = new API({});\n\n\t\t\tconst options = {\n\t\t\t\taws_project_region: 'region',\n\t\t\t};\n\n\t\t\texpect(api.configure(options)).toEqual({\n\t\t\t\taws_project_region: 'region',\n\t\t\t\theader: {},\n\t\t\t\tregion: 'region',\n\t\t\t});\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "with API options",
            "suites": [
                "API test",
                "configure test"
            ],
            "updatePoint": {
                "line": 1269,
                "column": 24
            },
            "line": 1269,
            "code": "\t\ttest('with API options', () => {\n\t\t\tconst api = new API({});\n\n\t\t\tconst options = {\n\t\t\t\tAPI: {\n\t\t\t\t\taws_project_region: 'api-region',\n\t\t\t\t},\n\t\t\t\taws_project_region: 'region',\n\t\t\t\taws_appsync_region: 'appsync-region',\n\t\t\t};\n\n\t\t\texpect(api.configure(options)).toEqual({\n\t\t\t\taws_project_region: 'api-region',\n\t\t\t\taws_appsync_region: 'appsync-region',\n\t\t\t\theader: {},\n\t\t\t\tregion: 'api-region',\n\t\t\t});\n\t\t});",
            "file": "GraphQLAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-graphql/__tests__"
        },
        {
            "name": "without aws_project_region",
            "suites": [
                "Rest API test",
                "configure test"
            ],
            "updatePoint": {
                "line": 64,
                "column": 34
            },
            "line": 64,
            "code": "\t\ttest('without aws_project_region', () => {\n\t\t\tconst api = new API({});\n\n\t\t\tconst options = {\n\t\t\t\tmyoption: 'myoption',\n\t\t\t};\n\n\t\t\texpect(api.configure(options)).toEqual({\n\t\t\t\tendpoints: [],\n\t\t\t\tmyoption: 'myoption',\n\t\t\t});\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "with aws_project_region",
            "suites": [
                "Rest API test",
                "configure test"
            ],
            "updatePoint": {
                "line": 77,
                "column": 31
            },
            "line": 77,
            "code": "\t\ttest('with aws_project_region', () => {\n\t\t\tconst api = new API({});\n\n\t\t\tconst options = {\n\t\t\t\taws_project_region: 'region',\n\t\t\t\taws_cloud_logic_custom,\n\t\t\t};\n\n\t\t\texpect(api.configure(options)).toEqual({\n\t\t\t\taws_cloud_logic_custom,\n\t\t\t\taws_project_region: 'region',\n\t\t\t\tendpoints: aws_cloud_logic_custom,\n\t\t\t\theader: {},\n\t\t\t\tregion: 'region',\n\t\t\t});\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "with API options",
            "suites": [
                "Rest API test",
                "configure test"
            ],
            "updatePoint": {
                "line": 94,
                "column": 24
            },
            "line": 94,
            "code": "\t\ttest('with API options', () => {\n\t\t\tconst api = new API({});\n\n\t\t\tconst options = {\n\t\t\t\tAPI: {\n\t\t\t\t\taws_project_region: 'api-region',\n\t\t\t\t},\n\t\t\t\taws_project_region: 'region',\n\t\t\t\taws_appsync_region: 'appsync-region',\n\t\t\t\taws_cloud_logic_custom,\n\t\t\t};\n\n\t\t\texpect(api.configure(options)).toEqual({\n\t\t\t\taws_cloud_logic_custom,\n\t\t\t\taws_project_region: 'api-region',\n\t\t\t\taws_appsync_region: 'appsync-region',\n\t\t\t\tendpoints: aws_cloud_logic_custom,\n\t\t\t\theader: {},\n\t\t\t\tregion: 'api-region',\n\t\t\t});\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "Rest API test",
                "get test"
            ],
            "updatePoint": {
                "line": 118,
                "column": 18
            },
            "line": 118,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst api = new API({});\n\t\t\tapi.configure(config);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres('cred');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t});\n\n\t\t\tawait api.get('apiName', 'path', { init: 'init' });\n\n\t\t\texpect(spyon2).toBeCalledWith(\n\t\t\t\t{\n\t\t\t\t\tcustom_header: undefined,\n\t\t\t\t\tendpoint: 'endpointpath',\n\t\t\t\t\tregion: 'region',\n\t\t\t\t\tservice: 'execute-api',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tinit: 'init',\n\t\t\t\t\tcancellableToken: { cancel: cancelMock, token: tokenMock },\n\t\t\t\t}\n\t\t\t);\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "custom_header",
            "suites": [
                "Rest API test",
                "get test"
            ],
            "updatePoint": {
                "line": 151,
                "column": 21
            },
            "line": 151,
            "code": "\t\ttest('custom_header', async () => {\n\t\t\tconst custom_config = {\n\t\t\t\tAPI: {\n\t\t\t\t\tendpoints: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'apiName',\n\t\t\t\t\t\t\tendpoint: 'https://www.amazonaws.com',\n\t\t\t\t\t\t\tcustom_header: () => {\n\t\t\t\t\t\t\t\treturn { Authorization: 'mytoken' };\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t};\n\t\t\tconst api = new API({});\n\t\t\tapi.configure(custom_config);\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres('cred');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst spyonRequest = jest\n\t\t\t\t.spyOn(RestClient.prototype as any, '_request')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres({});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tawait api.get('apiName', 'path', {});\n\n\t\t\texpect(spyonRequest).toBeCalledWith(\n\t\t\t\t{\n\t\t\t\t\tdata: null,\n\t\t\t\t\theaders: { Authorization: 'mytoken' },\n\t\t\t\t\thost: 'www.amazonaws.compath',\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tpath: '/',\n\t\t\t\t\tresponseType: 'json',\n\t\t\t\t\tsignerServiceInfo: undefined,\n\t\t\t\t\turl: 'https://www.amazonaws.compath/',\n\t\t\t\t\ttimeout: 0,\n\t\t\t\t\tcancelToken: tokenMock,\n\t\t\t\t},\n\t\t\t\tundefined\n\t\t\t);\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "non-default timeout",
            "suites": [
                "Rest API test",
                "get test"
            ],
            "updatePoint": {
                "line": 201,
                "column": 27
            },
            "line": 201,
            "code": "\t\ttest('non-default timeout', async () => {\n\t\t\tconst resp = { data: [{ name: 'Bob' }] };\n\n\t\t\tconst options = {\n\t\t\t\taws_project_region: 'region',\n\t\t\t\taws_cloud_logic_custom,\n\t\t\t};\n\n\t\t\tconst api = new API({});\n\t\t\tapi.configure(options);\n\n\t\t\tconst creds = {\n\t\t\t\tsecretAccessKey: 'secret',\n\t\t\t\taccessKeyId: 'access',\n\t\t\t\tsessionToken: 'token',\n\t\t\t};\n\n\t\t\tconst creds2 = {\n\t\t\t\tsecret_key: 'secret',\n\t\t\t\taccess_key: 'access',\n\t\t\t\tsession_token: 'token',\n\t\t\t};\n\n\t\t\tconst spyon = jest.spyOn(Credentials, 'get').mockImplementation(() => {\n\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\tres(creds);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tconst spyonSigner = jest\n\t\t\t\t.spyOn(Signer, 'sign')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn { headers: {} };\n\t\t\t\t});\n\n\t\t\tconst spyAxios = jest\n\t\t\t\t.spyOn(axios as any, 'default')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres(resp);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst init = {\n\t\t\t\ttimeout: 2500,\n\t\t\t};\n\t\t\tawait api.get('apiName', '/items', init);\n\t\t\tconst expectedParams = {\n\t\t\t\tdata: null,\n\t\t\t\theaders: {},\n\t\t\t\thost: undefined,\n\t\t\t\tmethod: 'GET',\n\t\t\t\tpath: '/',\n\t\t\t\tresponseType: 'json',\n\t\t\t\turl: 'endpoint/items',\n\t\t\t\ttimeout: 2500,\n\t\t\t\tcancelToken: tokenMock,\n\t\t\t};\n\t\t\texpect(spyonSigner).toBeCalledWith(expectedParams, creds2, {\n\t\t\t\tregion: 'us-east-1',\n\t\t\t\tservice: 'execute-api',\n\t\t\t});\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "query-string on init",
            "suites": [
                "Rest API test",
                "get test"
            ],
            "updatePoint": {
                "line": 265,
                "column": 28
            },
            "line": 265,
            "code": "\t\ttest('query-string on init', async () => {\n\t\t\tconst resp = { data: [{ name: 'Bob' }] };\n\n\t\t\tconst options = {\n\t\t\t\taws_project_region: 'region',\n\t\t\t\taws_cloud_logic_custom,\n\t\t\t};\n\n\t\t\tconst api = new API({});\n\t\t\tapi.configure(options);\n\n\t\t\tconst creds = {\n\t\t\t\tsecretAccessKey: 'secret',\n\t\t\t\taccessKeyId: 'access',\n\t\t\t\tsessionToken: 'token',\n\t\t\t};\n\n\t\t\tconst creds2 = {\n\t\t\t\tsecret_key: 'secret',\n\t\t\t\taccess_key: 'access',\n\t\t\t\tsession_token: 'token',\n\t\t\t};\n\n\t\t\tconst spyon = jest.spyOn(Credentials, 'get').mockImplementation(() => {\n\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\tres(creds);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tconst spyonSigner = jest\n\t\t\t\t.spyOn(Signer, 'sign')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn { headers: {} };\n\t\t\t\t});\n\n\t\t\tconst spyAxios = jest\n\t\t\t\t.spyOn(axios as any, 'default')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres(resp);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst init = {\n\t\t\t\tqueryStringParameters: {\n\t\t\t\t\t'ke:y3': 'val:ue 3',\n\t\t\t\t},\n\t\t\t};\n\t\t\tawait api.get('apiName', '/items', init);\n\t\t\tconst expectedParams = {\n\t\t\t\tdata: null,\n\t\t\t\theaders: {},\n\t\t\t\thost: undefined,\n\t\t\t\tmethod: 'GET',\n\t\t\t\tpath: '/',\n\t\t\t\tresponseType: 'json',\n\t\t\t\turl: 'endpoint/items?ke%3Ay3=val%3Aue%203',\n\t\t\t\ttimeout: 0,\n\t\t\t\tcancelToken: tokenMock,\n\t\t\t};\n\t\t\texpect(spyonSigner).toBeCalledWith(expectedParams, creds2, {\n\t\t\t\tregion: 'us-east-1',\n\t\t\t\tservice: 'execute-api',\n\t\t\t});\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "query-string on init-custom-auth",
            "suites": [
                "Rest API test",
                "get test"
            ],
            "updatePoint": {
                "line": 331,
                "column": 40
            },
            "line": 331,
            "code": "\t\ttest('query-string on init-custom-auth', async () => {\n\t\t\tconst resp = { data: [{ name: 'Bob' }] };\n\n\t\t\tconst options = {\n\t\t\t\taws_project_region: 'region',\n\t\t\t\taws_cloud_logic_custom,\n\t\t\t};\n\n\t\t\tconst api = new API({});\n\t\t\tapi.configure(options);\n\n\t\t\tconst creds = {\n\t\t\t\tsecretAccessKey: 'secret',\n\t\t\t\taccessKeyId: 'access',\n\t\t\t\tsessionToken: 'token',\n\t\t\t};\n\n\t\t\tconst creds2 = {\n\t\t\t\tsecret_key: 'secret',\n\t\t\t\taccess_key: 'access',\n\t\t\t\tsession_token: 'token',\n\t\t\t};\n\n\t\t\tconst spyon = jest.spyOn(Credentials, 'get').mockImplementation(() => {\n\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\tres(creds);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tconst spyonRequest = jest\n\t\t\t\t.spyOn(RestClient.prototype as any, '_request')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn { headers: {} };\n\t\t\t\t});\n\n\t\t\tconst spyAxios = jest\n\t\t\t\t.spyOn(axios as any, 'default')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres(resp);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst init = {\n\t\t\t\tqueryStringParameters: {\n\t\t\t\t\t'ke:y3': 'val:ue 3',\n\t\t\t\t},\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: 'apikey',\n\t\t\t\t},\n\t\t\t};\n\t\t\tawait api.get('apiName', '/items', init);\n\t\t\tconst expectedParams = {\n\t\t\t\tdata: null,\n\t\t\t\theaders: { Authorization: 'apikey' },\n\t\t\t\thost: undefined,\n\t\t\t\tmethod: 'GET',\n\t\t\t\tpath: '/',\n\t\t\t\tresponseType: 'json',\n\t\t\t\tsignerServiceInfo: undefined,\n\t\t\t\turl: 'endpoint/items?ke%3Ay3=val%3Aue%203',\n\t\t\t\ttimeout: 0,\n\t\t\t\tcancelToken: tokenMock,\n\t\t\t};\n\t\t\texpect(spyonRequest).toBeCalledWith(expectedParams, undefined);\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "query-string on init and url",
            "suites": [
                "Rest API test",
                "get test"
            ],
            "updatePoint": {
                "line": 397,
                "column": 36
            },
            "line": 397,
            "code": "\t\ttest('query-string on init and url', async () => {\n\t\t\tconst resp = { data: [{ name: 'Bob' }] };\n\n\t\t\tconst options = {\n\t\t\t\taws_project_region: 'region',\n\t\t\t\taws_cloud_logic_custom,\n\t\t\t};\n\n\t\t\tconst api = new API({});\n\t\t\tapi.configure(options);\n\n\t\t\tconst creds = {\n\t\t\t\tsecretAccessKey: 'secret',\n\t\t\t\taccessKeyId: 'access',\n\t\t\t\tsessionToken: 'token',\n\t\t\t};\n\n\t\t\tconst creds2 = {\n\t\t\t\tsecret_key: 'secret',\n\t\t\t\taccess_key: 'access',\n\t\t\t\tsession_token: 'token',\n\t\t\t};\n\n\t\t\tconst spyon = jest.spyOn(Credentials, 'get').mockImplementation(() => {\n\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\tres(creds);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tconst spyonSigner = jest\n\t\t\t\t.spyOn(Signer, 'sign')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn { headers: {} };\n\t\t\t\t});\n\n\t\t\tconst spyAxios = jest\n\t\t\t\t.spyOn(axios as any, 'default')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres(resp);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst init = {\n\t\t\t\tqueryStringParameters: {\n\t\t\t\t\tkey2: 'value2_real',\n\t\t\t\t},\n\t\t\t};\n\t\t\tawait api.get('apiName', '/items?key1=value1&key2=value', init);\n\t\t\tconst expectedParams = {\n\t\t\t\tdata: null,\n\t\t\t\theaders: {},\n\t\t\t\thost: undefined,\n\t\t\t\tmethod: 'GET',\n\t\t\t\tpath: '/',\n\t\t\t\tresponseType: 'json',\n\t\t\t\turl: 'endpoint/items?key1=value1&key2=value2_real',\n\t\t\t\ttimeout: 0,\n\t\t\t\tcancelToken: tokenMock,\n\t\t\t};\n\t\t\texpect(spyonSigner).toBeCalledWith(expectedParams, creds2, {\n\t\t\t\tregion: 'us-east-1',\n\t\t\t\tservice: 'execute-api',\n\t\t\t});\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "endpoint length 0",
            "suites": [
                "Rest API test",
                "get test"
            ],
            "updatePoint": {
                "line": 463,
                "column": 25
            },
            "line": 463,
            "code": "\t\ttest('endpoint length 0', async () => {\n\t\t\tconst api = new API({});\n\t\t\tapi.configure({});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres('cred');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait api.get('apiNameDoesntExist', 'path', { init: 'init' });\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toBe('API apiNameDoesntExist does not exist');\n\t\t\t}\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "cred not ready",
            "suites": [
                "Rest API test",
                "get test"
            ],
            "updatePoint": {
                "line": 488,
                "column": 22
            },
            "line": 488,
            "code": "\t\ttest('cred not ready', async () => {\n\t\t\tconst api = new API({});\n\t\t\tapi.configure(config);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\trej('err no current credentials');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst spyon4 = jest\n\t\t\t\t.spyOn(RestClient.prototype as any, '_request')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn 'endpoint';\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\tawait api.get('apiName', 'path', { init: 'init' });\n\t\t\texpect(spyon4).toBeCalled();\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "clock skew",
            "suites": [
                "Rest API test",
                "get test"
            ],
            "updatePoint": {
                "line": 511,
                "column": 18
            },
            "line": 511,
            "code": "\t\ttest('clock skew', async () => {\n\t\t\tconst api = new API({});\n\t\t\tapi.configure({\n\t\t\t\tendpoints: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'url',\n\t\t\t\t\t\tendpoint: 'endpoint',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\n\t\t\tconst normalError = new Error('Response Error');\n\n\t\t\t// Server is always \"correct\"\n\t\t\tconst serverDate = new Date();\n\t\t\tconst requestDate = new Date();\n\n\t\t\t// Local machine is behind by 1 hour\n\t\t\t// It's important to change the _server_ time in this test,\n\t\t\t// because the local time \"looks correct\" to the user & DateUtils\n\t\t\t// compares the server response to local time.\n\t\t\tserverDate.setHours(serverDate.getHours() + 1);\n\n\t\t\tconst clockSkewError: any = new Error('BadRequestException');\n\t\t\tconst init = {\n\t\t\t\theaders: {\n\t\t\t\t\t'x-amz-date': DateUtils.getHeaderStringFromDate(requestDate),\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tclockSkewError.response = {\n\t\t\t\theaders: {\n\t\t\t\t\t'x-amzn-errortype': 'BadRequestException',\n\t\t\t\t\tdate: serverDate.toString(),\n\t\t\t\t},\n\t\t\t};\n\n\t\t\t// Clock should not be skewed yet\n\t\t\texpect(DateUtils.getClockOffset()).toBe(0);\n\t\t\t// Ensure the errors are the correct type for gating\n\t\t\texpect(DateUtils.isClockSkewError(normalError)).toBe(false);\n\t\t\texpect(DateUtils.isClockSkewError(clockSkewError)).toBe(true);\n\t\t\texpect(DateUtils.isClockSkewed(serverDate)).toBe(true);\n\n\t\t\tjest\n\t\t\t\t.spyOn(RestClient.prototype as any, 'endpoint')\n\t\t\t\t.mockImplementation(() => 'endpoint');\n\n\t\t\tjest.spyOn(Credentials, 'get').mockResolvedValue('creds');\n\n\t\t\tjest\n\t\t\t\t.spyOn(RestClient.prototype as any, '_signed')\n\t\t\t\t.mockRejectedValueOnce(normalError);\n\n\t\t\tawait expect(api.post('url', 'path', init)).rejects.toThrow(normalError);\n\n\t\t\t// Clock should not be skewed from normal errors\n\t\t\texpect(DateUtils.getClockOffset()).toBe(0);\n\n\t\t\tjest\n\t\t\t\t.spyOn(RestClient.prototype as any, '_signed')\n\t\t\t\t.mockRejectedValueOnce(clockSkewError);\n\n\t\t\tawait expect(api.post('url', 'path', init)).resolves.toEqual([\n\t\t\t\t{ name: 'Bob' },\n\t\t\t]);\n\n\t\t\t// With a clock skew error, the clock will get offset with the difference\n\t\t\texpect(DateUtils.getClockOffset()).toBe(\n\t\t\t\tserverDate.getTime() - requestDate.getTime()\n\t\t\t);\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "cancel request",
            "suites": [
                "Rest API test",
                "get test"
            ],
            "updatePoint": {
                "line": 584,
                "column": 22
            },
            "line": 584,
            "code": "\t\ttest('cancel request', async () => {\n\t\t\tconst api = new API({});\n\t\t\tapi.configure(config);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres('cred');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.reject('error cancelled');\n\t\t\t\t});\n\t\t\tconst spyon4 = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'isCancel')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\n\t\t\tconst promiseResponse = api.get('apiName', 'path', { init: 'init' });\n\t\t\tapi.cancel(promiseResponse, 'testmessage');\n\n\t\t\texpect.assertions(5);\n\n\t\t\texpect(spyon2).toBeCalledWith(\n\t\t\t\t{\n\t\t\t\t\tcustom_header: undefined,\n\t\t\t\t\tendpoint: 'endpointpath',\n\t\t\t\t\tregion: 'region',\n\t\t\t\t\tservice: 'execute-api',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tinit: 'init',\n\t\t\t\t\tcancellableToken: { cancel: cancelMock, token: tokenMock },\n\t\t\t\t}\n\t\t\t);\n\t\t\texpect(cancelTokenSpy).toBeCalledTimes(1);\n\t\t\texpect(cancelMock).toBeCalledWith('testmessage');\n\t\t\ttry {\n\t\t\t\tawait promiseResponse;\n\t\t\t} catch (err) {\n\t\t\t\texpect(err).toEqual('error cancelled');\n\t\t\t\texpect(api.isCancel(err)).toBeTruthy();\n\t\t\t}\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "Rest API test",
                "post test"
            ],
            "updatePoint": {
                "line": 635,
                "column": 18
            },
            "line": 635,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst api = new API({\n\t\t\t\tregion: 'region-2',\n\t\t\t});\n\t\t\tconst options = {\n\t\t\t\taws_project_region: 'region',\n\t\t\t\taws_cloud_logic_custom,\n\t\t\t};\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres('cred');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'post')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t});\n\n\t\t\tapi.configure(options);\n\t\t\tawait api.post('apiName', 'path', { init: 'init' });\n\n\t\t\texpect(spyon2).toBeCalledWith(\n\t\t\t\t{\n\t\t\t\t\tcustom_header: undefined,\n\t\t\t\t\tendpoint: 'endpointpath',\n\t\t\t\t\tregion: 'us-east-1',\n\t\t\t\t\tservice: 'execute-api',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tinit: 'init',\n\t\t\t\t\tcancellableToken: { cancel: cancelMock, token: tokenMock },\n\t\t\t\t}\n\t\t\t);\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "endpoint length 0",
            "suites": [
                "Rest API test",
                "post test"
            ],
            "updatePoint": {
                "line": 674,
                "column": 25
            },
            "line": 674,
            "code": "\t\ttest('endpoint length 0', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres('cred');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'post')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t});\n\n\t\t\tconst api = new API({});\n\t\t\tapi.configure(config);\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait api.post('apiNameDoesNotExists', 'path', { init: 'init' });\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toBe('API apiNameDoesNotExists does not exist');\n\t\t\t}\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "cred not ready",
            "suites": [
                "Rest API test",
                "post test"
            ],
            "updatePoint": {
                "line": 699,
                "column": 22
            },
            "line": 699,
            "code": "\t\ttest('cred not ready', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\trej('err');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst api = new API({});\n\t\t\tapi.configure(config);\n\n\t\t\tconst spyon4 = jest\n\t\t\t\t.spyOn(RestClient.prototype as any, '_request')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn 'endpoint';\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\tawait api.post('apiName', 'path', { init: 'init' });\n\t\t\texpect(spyon4).toBeCalled();\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "Rest API test",
                "put test"
            ],
            "updatePoint": {
                "line": 724,
                "column": 18
            },
            "line": 724,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst api = new API({});\n\t\t\tapi.configure(config);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres('cred');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'put')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t});\n\n\t\t\tawait api.put('apiName', 'path', { init: 'init' });\n\n\t\t\texpect(spyon2).toBeCalledWith(\n\t\t\t\t{\n\t\t\t\t\tcustom_header: undefined,\n\t\t\t\t\tendpoint: 'endpointpath',\n\t\t\t\t\tregion: 'region',\n\t\t\t\t\tservice: 'execute-api',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tinit: 'init',\n\t\t\t\t\tcancellableToken: { cancel: cancelMock, token: tokenMock },\n\t\t\t\t}\n\t\t\t);\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "endpoint length 0",
            "suites": [
                "Rest API test",
                "put test"
            ],
            "updatePoint": {
                "line": 757,
                "column": 25
            },
            "line": 757,
            "code": "\t\ttest('endpoint length 0', async () => {\n\t\t\tconst api = new API({});\n\t\t\tapi.configure({\n\t\t\t\tendpoints: [],\n\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres('cred');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'put')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait api.put('apiName', 'path', { init: 'init' });\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toBe('API apiName does not exist');\n\t\t\t}\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "cred not ready",
            "suites": [
                "Rest API test",
                "put test"
            ],
            "updatePoint": {
                "line": 784,
                "column": 22
            },
            "line": 784,
            "code": "\t\ttest('cred not ready', async () => {\n\t\t\tconst api = new API({});\n\t\t\tapi.configure(config);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\trej('err');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst spyon4 = jest\n\t\t\t\t.spyOn(RestClient.prototype as any, '_request')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn 'endpoint';\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\tawait api.put('apiName', 'path', { init: 'init' });\n\t\t\texpect(spyon4).toBeCalled();\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "Rest API test",
                "patch test"
            ],
            "updatePoint": {
                "line": 809,
                "column": 18
            },
            "line": 809,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst api = new API({});\n\t\t\tapi.configure(config);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres('cred');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'patch')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t});\n\n\t\t\tawait api.patch('apiName', 'path', { init: 'init' });\n\n\t\t\texpect(spyon2).toBeCalledWith(\n\t\t\t\t{\n\t\t\t\t\tcustom_header: undefined,\n\t\t\t\t\tendpoint: 'endpointpath',\n\t\t\t\t\tregion: 'region',\n\t\t\t\t\tservice: 'execute-api',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tinit: 'init',\n\t\t\t\t\tcancellableToken: { cancel: cancelMock, token: tokenMock },\n\t\t\t\t}\n\t\t\t);\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "endpoint length 0",
            "suites": [
                "Rest API test",
                "patch test"
            ],
            "updatePoint": {
                "line": 842,
                "column": 25
            },
            "line": 842,
            "code": "\t\ttest('endpoint length 0', async () => {\n\t\t\tconst api = new API({});\n\t\t\tapi.configure({\n\t\t\t\tendpoints: [],\n\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres('cred');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'patch')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait api.patch('apiName', 'path', { init: 'init' });\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toBe('API apiName does not exist');\n\t\t\t}\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "cred not ready",
            "suites": [
                "Rest API test",
                "patch test"
            ],
            "updatePoint": {
                "line": 869,
                "column": 22
            },
            "line": 869,
            "code": "\t\ttest('cred not ready', async () => {\n\t\t\tconst api = new API({});\n\t\t\tapi.configure(config);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\trej('err');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst spyon4 = jest\n\t\t\t\t.spyOn(RestClient.prototype as any, '_request')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn 'endpoint';\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\tawait api.patch('apiName', 'path', { init: 'init' });\n\t\t\texpect(spyon4).toBeCalled();\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "Rest API test",
                "del test"
            ],
            "updatePoint": {
                "line": 894,
                "column": 18
            },
            "line": 894,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst api = new API({});\n\t\t\tapi.configure(config);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres('cred');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'del')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t});\n\n\t\t\tawait api.del('apiName', 'path', { init: 'init' });\n\n\t\t\texpect(spyon2).toBeCalledWith(\n\t\t\t\t{\n\t\t\t\t\tcustom_header: undefined,\n\t\t\t\t\tendpoint: 'endpointpath',\n\t\t\t\t\tregion: 'region',\n\t\t\t\t\tservice: 'execute-api',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tinit: 'init',\n\t\t\t\t\tcancellableToken: { cancel: cancelMock, token: tokenMock },\n\t\t\t\t}\n\t\t\t);\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "endpoint length 0",
            "suites": [
                "Rest API test",
                "del test"
            ],
            "updatePoint": {
                "line": 927,
                "column": 25
            },
            "line": 927,
            "code": "\t\ttest('endpoint length 0', async () => {\n\t\t\tconst api = new API({});\n\t\t\tapi.configure({});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres('cred');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'del')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait api.del('apiName', 'path', { init: 'init' });\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toBe('API apiName does not exist');\n\t\t\t}\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "cred not ready",
            "suites": [
                "Rest API test",
                "del test"
            ],
            "updatePoint": {
                "line": 952,
                "column": 22
            },
            "line": 952,
            "code": "\t\ttest('cred not ready', async () => {\n\t\t\tconst api = new API({});\n\t\t\tapi.configure(config);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\trej('err');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst spyon4 = jest\n\t\t\t\t.spyOn(RestClient.prototype as any, '_request')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn 'endpoint';\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\tawait api.del('apiName', 'path', { init: 'init' });\n\t\t\texpect(spyon4).toBeCalled();\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "Rest API test",
                "head test"
            ],
            "updatePoint": {
                "line": 977,
                "column": 18
            },
            "line": 977,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst api = new API({});\n\t\t\tapi.configure(config);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres('cred');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'head')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t});\n\n\t\t\tawait api.head('apiName', 'path', { init: 'init' });\n\n\t\t\texpect(spyon2).toBeCalledWith(\n\t\t\t\t{\n\t\t\t\t\tcustom_header: undefined,\n\t\t\t\t\tendpoint: 'endpointpath',\n\t\t\t\t\tregion: 'region',\n\t\t\t\t\tservice: 'execute-api',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tinit: 'init',\n\t\t\t\t\tcancellableToken: { cancel: cancelMock, token: tokenMock },\n\t\t\t\t}\n\t\t\t);\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "endpoint length 0",
            "suites": [
                "Rest API test",
                "head test"
            ],
            "updatePoint": {
                "line": 1010,
                "column": 25
            },
            "line": 1010,
            "code": "\t\ttest('endpoint length 0', async () => {\n\t\t\tconst api = new API({});\n\t\t\tapi.configure({});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres('cred');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(RestClient.prototype, 'head')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait api.head('apiName', 'path', { init: 'init' });\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toBe('API apiName does not exist');\n\t\t\t}\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "cred not ready",
            "suites": [
                "Rest API test",
                "head test"
            ],
            "updatePoint": {
                "line": 1035,
                "column": 22
            },
            "line": 1035,
            "code": "\t\ttest('cred not ready', async () => {\n\t\t\tconst api = new API({});\n\t\t\tapi.configure(config);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'get')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\trej('err');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst spyon4 = jest\n\t\t\t\t.spyOn(RestClient.prototype as any, '_request')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn 'endpoint';\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\tawait api.head('apiName', 'path', { init: 'init' });\n\t\t\texpect(spyon4).toBeCalled();\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "Rest API test",
                "endpoint test"
            ],
            "updatePoint": {
                "line": 1060,
                "column": 18
            },
            "line": 1060,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst api = new API({});\n\t\t\tapi.configure(config);\n\n\t\t\tconst endpoint = await api.endpoint('apiName');\n\n\t\t\texpect(endpoint).toBe('endpoint');\n\t\t});",
            "file": "RestAPI-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "fetch with signed request",
            "suites": [
                "RestClient test",
                "ajax"
            ],
            "updatePoint": {
                "line": 71,
                "column": 33
            },
            "line": 71,
            "code": "\t\ttest('fetch with signed request', async () => {\n\t\t\tconst apiOptions = {\n\t\t\t\theaders: {},\n\t\t\t\tendpoints: {},\n\t\t\t\tcredentials: {\n\t\t\t\t\taccessKeyId: 'accessKeyId',\n\t\t\t\t\tsecretAccessKey: 'secretAccessKey',\n\t\t\t\t\tsessionToken: 'sessionToken',\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst restClient = new RestClient(apiOptions);\n\n\t\t\texpect(await restClient.ajax('url', 'method', {})).toEqual('data');\n\t\t});",
            "file": "RestClient-unit-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "fetch with signed failing request",
            "suites": [
                "RestClient test",
                "ajax"
            ],
            "updatePoint": {
                "line": 87,
                "column": 41
            },
            "line": 87,
            "code": "\t\ttest('fetch with signed failing request', async () => {\n\t\t\tconst apiOptions = {\n\t\t\t\theaders: {},\n\t\t\t\tendpoints: {},\n\t\t\t\tcredentials: {\n\t\t\t\t\taccessKeyId: 'accessKeyId',\n\t\t\t\t\tsecretAccessKey: 'secretAccessKey',\n\t\t\t\t\tsessionToken: 'sessionToken',\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst restClient = new RestClient(apiOptions);\n\n\t\t\texpect.assertions(1);\n\n\t\t\ttry {\n\t\t\t\tawait restClient.ajax('url', 'method', { headers: { reject: 'true' } });\n\t\t\t} catch (error) {\n\t\t\t\texpect(error).toEqual({ data: 'error' });\n\t\t\t}\n\t\t});",
            "file": "RestClient-unit-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "fetch with signed request",
            "suites": [
                "RestClient test",
                "ajax"
            ],
            "updatePoint": {
                "line": 109,
                "column": 33
            },
            "line": 109,
            "code": "\t\ttest('fetch with signed request', async () => {\n\t\t\tconst apiOptions = {\n\t\t\t\theaders: {},\n\t\t\t\tendpoints: {},\n\t\t\t\tcredentials: {\n\t\t\t\t\taccessKeyId: 'accessKeyId',\n\t\t\t\t\tsecretAccessKey: 'secretAccessKey',\n\t\t\t\t\tsessionToken: 'sessionToken',\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst restClient = new RestClient(apiOptions);\n\n\t\t\texpect(await restClient.ajax('url', 'method', {})).toEqual('data');\n\t\t});",
            "file": "RestClient-unit-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "ajax with no credentials",
            "suites": [
                "RestClient test",
                "ajax"
            ],
            "updatePoint": {
                "line": 125,
                "column": 32
            },
            "line": 125,
            "code": "\t\ttest('ajax with no credentials', async () => {\n\t\t\tconst apiOptions = {\n\t\t\t\theaders: {},\n\t\t\t\tendpoints: {},\n\t\t\t};\n\n\t\t\tconst restClient = new RestClient(apiOptions);\n\n\t\t\ttry {\n\t\t\t\tawait restClient.ajax('url', 'method', {});\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toBe('credentials not set for API rest client ');\n\t\t\t}\n\t\t});",
            "file": "RestClient-unit-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "ajax with extraParams",
            "suites": [
                "RestClient test",
                "ajax"
            ],
            "updatePoint": {
                "line": 140,
                "column": 29
            },
            "line": 140,
            "code": "\t\ttest('ajax with extraParams', async () => {\n\t\t\tconst apiOptions = {\n\t\t\t\theaders: {},\n\t\t\t\tendpoints: {},\n\t\t\t\tcredentials: {\n\t\t\t\t\taccessKeyId: 'accessKeyId',\n\t\t\t\t\tsecretAccessKey: 'secretAccessKey',\n\t\t\t\t\tsessionToken: 'sessionToken',\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst restClient = new RestClient(apiOptions);\n\n\t\t\texpect(await restClient.ajax('url', 'method', { body: 'body' })).toEqual(\n\t\t\t\t'data'\n\t\t\t);\n\t\t});",
            "file": "RestClient-unit-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "ajax with formData",
            "suites": [
                "RestClient test",
                "ajax"
            ],
            "updatePoint": {
                "line": 158,
                "column": 26
            },
            "line": 158,
            "code": "\t\ttest('ajax with formData', async () => {\n\t\t\tconst apiOptions = {\n\t\t\t\theaders: {},\n\t\t\t\tendpoints: {},\n\t\t\t\tcredentials: {\n\t\t\t\t\taccessKeyId: 'accessKeyId',\n\t\t\t\t\tsecretAccessKey: 'secretAccessKey',\n\t\t\t\t\tsessionToken: 'sessionToken',\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst restClient = new RestClient(apiOptions);\n\n\t\t\tconst formData = new FormData();\n\t\t\tformData.append('key', 'contents');\n\n\t\t\texpect(\n\t\t\t\tawait restClient.ajax('url', 'method', { body: formData })\n\t\t\t).toEqual('contents');\n\t\t});",
            "file": "RestClient-unit-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "ajax with custom responseType",
            "suites": [
                "RestClient test",
                "ajax"
            ],
            "updatePoint": {
                "line": 179,
                "column": 37
            },
            "line": 179,
            "code": "\t\ttest('ajax with custom responseType', async () => {\n\t\t\tconst apiOptions = {\n\t\t\t\theaders: {},\n\t\t\t\tendpoints: {},\n\t\t\t\tcredentials: {\n\t\t\t\t\taccessKeyId: 'accessKeyId',\n\t\t\t\t\tsecretAccessKey: 'secretAccessKey',\n\t\t\t\t\tsessionToken: 'sessionToken',\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst restClient = new RestClient(apiOptions);\n\n\t\t\texpect(\n\t\t\t\tawait restClient.ajax('url', 'method', {\n\t\t\t\t\tbody: 'body',\n\t\t\t\t\tresponseType: 'blob',\n\t\t\t\t})\n\t\t\t).toEqual('blob');\n\t\t});",
            "file": "RestClient-unit-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "ajax with Authorization header",
            "suites": [
                "RestClient test",
                "ajax"
            ],
            "updatePoint": {
                "line": 200,
                "column": 38
            },
            "line": 200,
            "code": "\t\ttest('ajax with Authorization header', async () => {\n\t\t\tconst apiOptions = {\n\t\t\t\theaders: {},\n\t\t\t\tendpoints: {},\n\t\t\t\tcredentials: {\n\t\t\t\t\taccessKeyId: 'accessKeyId',\n\t\t\t\t\tsecretAccessKey: 'secretAccessKey',\n\t\t\t\t\tsessionToken: 'sessionToken',\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst restClient = new RestClient(apiOptions);\n\n\t\t\texpect(\n\t\t\t\tawait restClient.ajax('url', 'method', {\n\t\t\t\t\theaders: { Authorization: 'authorization' },\n\t\t\t\t})\n\t\t\t).toEqual('data');\n\t\t});",
            "file": "RestClient-unit-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "ajax with withCredentials set to true",
            "suites": [
                "RestClient test",
                "ajax"
            ],
            "updatePoint": {
                "line": 220,
                "column": 45
            },
            "line": 220,
            "code": "\t\ttest('ajax with withCredentials set to true', async () => {\n\t\t\tconst apiOptions = {\n\t\t\t\theaders: {},\n\t\t\t\tendpoints: {},\n\t\t\t\tcredentials: {\n\t\t\t\t\taccessKeyId: 'accessKeyId',\n\t\t\t\t\tsecretAccessKey: 'secretAccessKey',\n\t\t\t\t\tsessionToken: 'sessionToken',\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst restClient = new RestClient(apiOptions);\n\n\t\t\texpect(\n\t\t\t\tawait restClient.ajax('url', 'method', { withCredentials: true })\n\t\t\t).toEqual('data-withCredentials');\n\t\t});",
            "file": "RestClient-unit-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "RestClient test",
                "get test"
            ],
            "updatePoint": {
                "line": 240,
                "column": 18
            },
            "line": 240,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst spyon = jest.spyOn(RestClient.prototype, 'ajax');\n\n\t\t\tconst apiOptions = {\n\t\t\t\theaders: {},\n\t\t\t\tendpoints: {},\n\t\t\t\tcredentials: {\n\t\t\t\t\taccessKeyId: 'accessKeyId',\n\t\t\t\t\tsecretAccessKey: 'secretAccessKey',\n\t\t\t\t\tsessionToken: 'sessionToken',\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst restClient = new RestClient(apiOptions);\n\n\t\t\texpect.assertions(5);\n\t\t\tawait restClient.get('url', {});\n\n\t\t\texpect(spyon.mock.calls[0][0]).toBe('url');\n\t\t\texpect(spyon.mock.calls[0][1]).toBe('GET');\n\n\t\t\tawait restClient.get('url', { withCredentials: true });\n\n\t\t\texpect(spyon.mock.calls[1][0]).toBe('url');\n\t\t\texpect(spyon.mock.calls[1][1]).toBe('GET');\n\t\t\texpect(spyon.mock.calls[1][2]).toEqual({ withCredentials: true });\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "RestClient-unit-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "RestClient test",
                "put test"
            ],
            "updatePoint": {
                "line": 272,
                "column": 18
            },
            "line": 272,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst spyon = jest.spyOn(RestClient.prototype, 'ajax');\n\n\t\t\tconst apiOptions = {\n\t\t\t\theaders: {},\n\t\t\t\tendpoints: {},\n\t\t\t\tcredentials: {\n\t\t\t\t\taccessKeyId: 'accessKeyId',\n\t\t\t\t\tsecretAccessKey: 'secretAccessKey',\n\t\t\t\t\tsessionToken: 'sessionToken',\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst restClient = new RestClient(apiOptions);\n\n\t\t\texpect.assertions(3);\n\t\t\tawait restClient.put('url', 'data');\n\n\t\t\texpect(spyon.mock.calls[0][0]).toBe('url');\n\t\t\texpect(spyon.mock.calls[0][1]).toBe('PUT');\n\t\t\texpect(spyon.mock.calls[0][2]).toBe('data');\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "RestClient-unit-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "RestClient test",
                "patch test"
            ],
            "updatePoint": {
                "line": 298,
                "column": 18
            },
            "line": 298,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst spyon = jest.spyOn(RestClient.prototype, 'ajax');\n\n\t\t\tconst apiOptions = {\n\t\t\t\theaders: {},\n\t\t\t\tendpoints: {},\n\t\t\t\tcredentials: {\n\t\t\t\t\taccessKeyId: 'accessKeyId',\n\t\t\t\t\tsecretAccessKey: 'secretAccessKey',\n\t\t\t\t\tsessionToken: 'sessionToken',\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst restClient = new RestClient(apiOptions);\n\n\t\t\texpect.assertions(3);\n\t\t\tawait restClient.patch('url', 'data');\n\n\t\t\texpect(spyon.mock.calls[0][0]).toBe('url');\n\t\t\texpect(spyon.mock.calls[0][1]).toBe('PATCH');\n\t\t\texpect(spyon.mock.calls[0][2]).toBe('data');\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "RestClient-unit-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "RestClient test",
                "post test"
            ],
            "updatePoint": {
                "line": 324,
                "column": 18
            },
            "line": 324,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst spyon = jest.spyOn(RestClient.prototype, 'ajax');\n\n\t\t\tconst apiOptions = {\n\t\t\t\theaders: {},\n\t\t\t\tendpoints: {},\n\t\t\t\tcredentials: {\n\t\t\t\t\taccessKeyId: 'accessKeyId',\n\t\t\t\t\tsecretAccessKey: 'secretAccessKey',\n\t\t\t\t\tsessionToken: 'sessionToken',\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst restClient = new RestClient(apiOptions);\n\n\t\t\texpect.assertions(3);\n\t\t\tawait restClient.post('url', 'data');\n\n\t\t\texpect(spyon.mock.calls[0][0]).toBe('url');\n\t\t\texpect(spyon.mock.calls[0][1]).toBe('POST');\n\t\t\texpect(spyon.mock.calls[0][2]).toBe('data');\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "RestClient-unit-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "RestClient test",
                "del test"
            ],
            "updatePoint": {
                "line": 350,
                "column": 18
            },
            "line": 350,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst spyon = jest.spyOn(RestClient.prototype, 'ajax');\n\n\t\t\tconst apiOptions = {\n\t\t\t\theaders: {},\n\t\t\t\tendpoints: {},\n\t\t\t\tcredentials: {\n\t\t\t\t\taccessKeyId: 'accessKeyId',\n\t\t\t\t\tsecretAccessKey: 'secretAccessKey',\n\t\t\t\t\tsessionToken: 'sessionToken',\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst restClient = new RestClient(apiOptions);\n\n\t\t\texpect.assertions(2);\n\t\t\tawait restClient.del('url', {});\n\n\t\t\texpect(spyon.mock.calls[0][0]).toBe('url');\n\t\t\texpect(spyon.mock.calls[0][1]).toBe('DELETE');\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "RestClient-unit-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "RestClient test",
                "head test"
            ],
            "updatePoint": {
                "line": 375,
                "column": 18
            },
            "line": 375,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst spyon = jest.spyOn(RestClient.prototype, 'ajax');\n\n\t\t\tconst apiOptions = {\n\t\t\t\theaders: {},\n\t\t\t\tendpoints: {},\n\t\t\t\tcredentials: {\n\t\t\t\t\taccessKeyId: 'accessKeyId',\n\t\t\t\t\tsecretAccessKey: 'secretAccessKey',\n\t\t\t\t\tsessionToken: 'sessionToken',\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst restClient = new RestClient(apiOptions);\n\n\t\t\texpect.assertions(2);\n\t\t\tawait restClient.head('url', {});\n\n\t\t\texpect(spyon.mock.calls[0][0]).toBe('url');\n\t\t\texpect(spyon.mock.calls[0][1]).toBe('HEAD');\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "RestClient-unit-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "RestClient test",
                "endpoint test"
            ],
            "updatePoint": {
                "line": 400,
                "column": 18
            },
            "line": 400,
            "code": "\t\ttest('happy case', () => {\n\t\t\tconst apiOptions = {\n\t\t\t\theaders: {},\n\t\t\t\tendpoints: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'myApi',\n\t\t\t\t\t\tendpoint: 'endpoint of myApi',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'otherApi',\n\t\t\t\t\t\tendpoint: 'endpoint of otherApi',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tcredentials: {\n\t\t\t\t\taccessKeyId: 'accessKeyId',\n\t\t\t\t\tsecretAccessKey: 'secretAccessKey',\n\t\t\t\t\tsessionToken: 'sessionToken',\n\t\t\t\t},\n\t\t\t\tregion: 'myregion',\n\t\t\t};\n\n\t\t\tconst restClient = new RestClient(apiOptions);\n\n\t\t\texpect(restClient.endpoint('myApi')).toBe('endpoint of myApi');\n\t\t});",
            "file": "RestClient-unit-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "custom endpoint",
            "suites": [
                "RestClient test",
                "endpoint test"
            ],
            "updatePoint": {
                "line": 426,
                "column": 23
            },
            "line": 426,
            "code": "\t\ttest('custom endpoint', () => {\n\t\t\tconst apiOptions = {\n\t\t\t\theaders: {},\n\t\t\t\tendpoints: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'myApi',\n\t\t\t\t\t\tendpoint: 'endpoint of myApi',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'otherApi',\n\t\t\t\t\t\tendpoint: 'endpoint of otherApi',\n\t\t\t\t\t\tregion: 'myregion',\n\t\t\t\t\t\tservice: 'myservice',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tcredentials: {\n\t\t\t\t\taccessKeyId: 'accessKeyId',\n\t\t\t\t\tsecretAccessKey: 'secretAccessKey',\n\t\t\t\t\tsessionToken: 'sessionToken',\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst restClient = new RestClient(apiOptions);\n\n\t\t\texpect(restClient.endpoint('otherApi')).toBe('endpoint of otherApi');\n\t\t});",
            "file": "RestClient-unit-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "request non existent",
            "suites": [
                "RestClient test",
                "Cancel Token"
            ],
            "updatePoint": {
                "line": 475,
                "column": 28
            },
            "line": 475,
            "code": "\t\ttest('request non existent', () => {\n\t\t\tconst restClient = new RestClient(apiOptions);\n\t\t\t// if the request doesn't exist we can still say it is canceled successfully\n\t\t\texpect(\n\t\t\t\trestClient.cancel(\n\t\t\t\t\tnew Promise<any>((req, res) => {})\n\t\t\t\t)\n\t\t\t).toBeTruthy();\n\t\t});",
            "file": "RestClient-unit-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "RestClient test",
                "Cancel Token"
            ],
            "updatePoint": {
                "line": 485,
                "column": 18
            },
            "line": 485,
            "code": "\t\ttest('happy case', () => {\n\t\t\tconst restClient = new RestClient(apiOptions);\n\n\t\t\tconst cancellableToken = restClient.getCancellableToken();\n\t\t\tconst request = restClient.ajax('url', 'method', { cancellableToken });\n\t\t\trestClient.updateRequestToBeCancellable(request, cancellableToken);\n\n\t\t\t// cancel the request\n\t\t\tconst cancelSuccess = restClient.cancel(request, 'message');\n\n\t\t\texpect(cancelSuccess).toBeTruthy();\n\t\t\texpect(cancelTokenSpy).toBeCalledTimes(1);\n\t\t\texpect(cancelMock).toBeCalledWith('message');\n\t\t});",
            "file": "RestClient-unit-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "iscancel called",
            "suites": [
                "RestClient test",
                "Cancel Token"
            ],
            "updatePoint": {
                "line": 500,
                "column": 23
            },
            "line": 500,
            "code": "\t\ttest('iscancel called', () => {\n\t\t\tconst restClient = new RestClient(apiOptions);\n\t\t\trestClient.isCancel({});\n\t\t\texpect(isCancelSpy).toHaveBeenCalledTimes(1);\n\t\t});",
            "file": "RestClient-unit-test.ts",
            "skipped": false,
            "dir": "packages/api-rest/__tests__"
        },
        {
            "name": "configure",
            "suites": [
                "API test"
            ],
            "updatePoint": {
                "line": 6,
                "column": 16
            },
            "line": 6,
            "code": "\ttest('configure', () => {\n\t\tjest\n\t\t\t.spyOn(RestAPIClass.prototype, 'configure')\n\t\t\t.mockReturnValue({ restapi: 'configured' });\n\t\tjest\n\t\t\t.spyOn(GraphQLAPIClass.prototype, 'configure')\n\t\t\t.mockReturnValue({ graphqlapi: 'configured' });\n\t\tconst api = new API(null);\n\t\texpect(api.configure(null)).toStrictEqual({\n\t\t\tgraphqlapi: 'configured',\n\t\t\trestapi: 'configured',\n\t\t});\n\t});",
            "file": "API-test.ts",
            "skipped": false,
            "dir": "packages/api/__tests__"
        },
        {
            "name": "get",
            "suites": [
                "API test"
            ],
            "updatePoint": {
                "line": 20,
                "column": 10
            },
            "line": 20,
            "code": "\ttest('get', async () => {\n\t\tjest.spyOn(RestAPIClass.prototype, 'get').mockResolvedValue('getResponse');\n\t\tconst api = new API(null);\n\t\texpect(await api.get(null, null, null)).toBe('getResponse');\n\t});",
            "file": "API-test.ts",
            "skipped": false,
            "dir": "packages/api/__tests__"
        },
        {
            "name": "post",
            "suites": [
                "API test"
            ],
            "updatePoint": {
                "line": 26,
                "column": 11
            },
            "line": 26,
            "code": "\ttest('post', async () => {\n\t\tjest\n\t\t\t.spyOn(RestAPIClass.prototype, 'post')\n\t\t\t.mockResolvedValue('postResponse');\n\t\tconst api = new API(null);\n\t\texpect(await api.post(null, null, null)).toBe('postResponse');\n\t});",
            "file": "API-test.ts",
            "skipped": false,
            "dir": "packages/api/__tests__"
        },
        {
            "name": "put",
            "suites": [
                "API test"
            ],
            "updatePoint": {
                "line": 34,
                "column": 10
            },
            "line": 34,
            "code": "\ttest('put', async () => {\n\t\tjest.spyOn(RestAPIClass.prototype, 'put').mockResolvedValue('putResponse');\n\t\tconst api = new API(null);\n\t\texpect(await api.put(null, null, null)).toBe('putResponse');\n\t});",
            "file": "API-test.ts",
            "skipped": false,
            "dir": "packages/api/__tests__"
        },
        {
            "name": "patch",
            "suites": [
                "API test"
            ],
            "updatePoint": {
                "line": 40,
                "column": 12
            },
            "line": 40,
            "code": "\ttest('patch', async () => {\n\t\tjest\n\t\t\t.spyOn(RestAPIClass.prototype, 'patch')\n\t\t\t.mockResolvedValue('patchResponse');\n\t\tconst api = new API(null);\n\t\texpect(await api.patch(null, null, null)).toBe('patchResponse');\n\t});",
            "file": "API-test.ts",
            "skipped": false,
            "dir": "packages/api/__tests__"
        },
        {
            "name": "del",
            "suites": [
                "API test"
            ],
            "updatePoint": {
                "line": 48,
                "column": 10
            },
            "line": 48,
            "code": "\ttest('del', async () => {\n\t\tjest.spyOn(RestAPIClass.prototype, 'del').mockResolvedValue('delResponse');\n\t\tconst api = new API(null);\n\t\texpect(await api.del(null, null, null)).toBe('delResponse');\n\t});",
            "file": "API-test.ts",
            "skipped": false,
            "dir": "packages/api/__tests__"
        },
        {
            "name": "head",
            "suites": [
                "API test"
            ],
            "updatePoint": {
                "line": 54,
                "column": 11
            },
            "line": 54,
            "code": "\ttest('head', async () => {\n\t\tjest\n\t\t\t.spyOn(RestAPIClass.prototype, 'head')\n\t\t\t.mockResolvedValue('headResponse');\n\t\tconst api = new API(null);\n\t\texpect(await api.head(null, null, null)).toBe('headResponse');\n\t});",
            "file": "API-test.ts",
            "skipped": false,
            "dir": "packages/api/__tests__"
        },
        {
            "name": "endpoint",
            "suites": [
                "API test"
            ],
            "updatePoint": {
                "line": 62,
                "column": 15
            },
            "line": 62,
            "code": "\ttest('endpoint', async () => {\n\t\tjest\n\t\t\t.spyOn(RestAPIClass.prototype, 'endpoint')\n\t\t\t.mockResolvedValue('endpointResponse');\n\t\tconst api = new API(null);\n\t\texpect(await api.endpoint(null)).toBe('endpointResponse');\n\t});",
            "file": "API-test.ts",
            "skipped": false,
            "dir": "packages/api/__tests__"
        },
        {
            "name": "getGraphqlOperationType",
            "suites": [
                "API test"
            ],
            "updatePoint": {
                "line": 70,
                "column": 30
            },
            "line": 70,
            "code": "\ttest('getGraphqlOperationType', () => {\n\t\tjest\n\t\t\t.spyOn(GraphQLAPIClass.prototype, 'getGraphqlOperationType')\n\t\t\t.mockReturnValueOnce('getGraphqlOperationTypeResponse' as any);\n\t\tconst api = new API(null);\n\t\texpect(api.getGraphqlOperationType(null)).toBe(\n\t\t\t'getGraphqlOperationTypeResponse'\n\t\t);\n\t});",
            "file": "API-test.ts",
            "skipped": false,
            "dir": "packages/api/__tests__"
        },
        {
            "name": "graphql",
            "suites": [
                "API test"
            ],
            "updatePoint": {
                "line": 80,
                "column": 14
            },
            "line": 80,
            "code": "\ttest('graphql', async () => {\n\t\tjest\n\t\t\t.spyOn(GraphQLAPIClass.prototype, 'graphql')\n\t\t\t.mockResolvedValue('grapqhqlResponse' as any);\n\t\tconst api = new API(null);\n\t\texpect(await api.graphql({ query: 'query' })).toBe('grapqhqlResponse');\n\t});",
            "file": "API-test.ts",
            "skipped": false,
            "dir": "packages/api/__tests__"
        },
        {
            "name": "Check-non-verified-attributes",
            "suites": [
                "User-Attribute-validation"
            ],
            "updatePoint": {
                "line": 23,
                "column": 34
            },
            "line": 23,
            "code": "\tit('Check-non-verified-attributes', async () => {\n\t\tconst spyonAuthUserAttributes = jest\n\t\t\t.spyOn(Auth.prototype, 'userAttributes')\n\t\t\t.mockImplementation((user: CognitoUser) => {\n\t\t\t\tconst emailAttribute = new CognitoUserAttribute({\n\t\t\t\t\tName: 'email',\n\t\t\t\t\tValue: 'hello@amzn.com',\n\t\t\t\t});\n\t\t\t\tconst emailVerified = new CognitoUserAttribute({\n\t\t\t\t\tName: 'email_verified',\n\t\t\t\t\tValue: 'true',\n\t\t\t\t});\n\t\t\t\tconst phoneAttribute = new CognitoUserAttribute({\n\t\t\t\t\tName: 'phone_number',\n\t\t\t\t\tValue: '+12345678901',\n\t\t\t\t});\n\t\t\t\tconst phoneVerified = new CognitoUserAttribute({\n\t\t\t\t\tName: 'phone_number_verified',\n\t\t\t\t\tValue: 'false',\n\t\t\t\t});\n\n\t\t\t\treturn new Promise(res => {\n\t\t\t\t\tres([emailAttribute, emailVerified, phoneAttribute, phoneVerified]);\n\t\t\t\t});\n\t\t\t});\n\n\t\tconst auth = new Auth(authOptions);\n\n\t\tconst verified = await auth.verifiedContact(\n\t\t\tnew CognitoUser({\n\t\t\t\tPool: new CognitoUserPool({\n\t\t\t\t\tClientId: authOptions.userPoolWebClientId,\n\t\t\t\t\tUserPoolId: authOptions.userPoolId,\n\t\t\t\t}),\n\t\t\t\tUsername: 'test',\n\t\t\t})\n\t\t);\n\n\t\texpect(spyonAuthUserAttributes).toBeCalled();\n\n\t\texpect(verified).toEqual({\n\t\t\tunverified: {\n\t\t\t\tphone_number: '+12345678901',\n\t\t\t},\n\t\t\tverified: {\n\t\t\t\temail: 'hello@amzn.com',\n\t\t\t},\n\t\t});\n\t});",
            "file": "auth-attribute-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "Checking not coerced values after sign in",
            "suites": [
                "User-Attribute-validation"
            ],
            "updatePoint": {
                "line": 73,
                "column": 46
            },
            "line": 73,
            "code": "\tit('Checking not coerced values after sign in', async () => {\n\t\tconst auth = new Auth(authOptions);\n\n\t\tconst spyUserPoolCurrentUser = jest\n\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t.mockImplementation(() => {\n\t\t\t\treturn new CognitoUser({\n\t\t\t\t\tPool: new CognitoUserPool({\n\t\t\t\t\t\tUserPoolId: authOptions.userPoolId,\n\t\t\t\t\t\tClientId: authOptions.userPoolWebClientId,\n\t\t\t\t\t}),\n\t\t\t\t\tUsername: 'test',\n\t\t\t\t});\n\t\t\t});\n\n\t\tconst spyUserGetSession = jest\n\t\t\t.spyOn(CognitoUser.prototype, 'getSession')\n\t\t\t.mockImplementation((callback: any) => {\n\t\t\t\tconst session = new CognitoUserSession({\n\t\t\t\t\tAccessToken: new CognitoAccessToken({ AccessToken: 'accesstoken' }),\n\t\t\t\t\tIdToken: new CognitoIdToken({ IdToken: 'Idtoken' }),\n\t\t\t\t});\n\t\t\t\tcallback(null, session);\n\t\t\t});\n\n\t\tconst spyDecodePayload = jest\n\t\t\t.spyOn(CognitoAccessToken.prototype, 'decodePayload')\n\t\t\t.mockImplementation(() => {\n\t\t\t\treturn { scope: 'aws.cognito.signin.user.admin' };\n\t\t\t});\n\n\t\tconst spyGetUserData = jest\n\t\t\t.spyOn(CognitoUser.prototype, 'getUserData')\n\t\t\t.mockImplementation(callback => {\n\t\t\t\tconst emailAttribute = {\n\t\t\t\t\tName: 'email',\n\t\t\t\t\tValue: 'hello@amzn.com',\n\t\t\t\t};\n\t\t\t\tconst emailVerified = {\n\t\t\t\t\tName: 'email_verified',\n\t\t\t\t\tValue: 'true',\n\t\t\t\t};\n\t\t\t\tconst phoneAttribute = {\n\t\t\t\t\tName: 'phone_number',\n\t\t\t\t\tValue: '+12345678901',\n\t\t\t\t};\n\t\t\t\tconst phoneVerified = {\n\t\t\t\t\tName: 'phone_number_verified',\n\t\t\t\t\tValue: 'false',\n\t\t\t\t};\n\n\t\t\t\tconst customAttribute1 = {\n\t\t\t\t\tName: 'custom:attribute1',\n\t\t\t\t\tValue: 'false',\n\t\t\t\t};\n\n\t\t\t\tconst customAttribute2 = {\n\t\t\t\t\tName: 'custom:attribute2',\n\t\t\t\t\tValue: 'true',\n\t\t\t\t};\n\n\t\t\t\tcallback(null, {\n\t\t\t\t\tUsername: 'test',\n\t\t\t\t\tUserMFASettingList: ['SMS'],\n\t\t\t\t\tPreferredMfaSetting: 'SMS',\n\t\t\t\t\tUserAttributes: [\n\t\t\t\t\t\temailAttribute,\n\t\t\t\t\t\temailVerified,\n\t\t\t\t\t\tphoneAttribute,\n\t\t\t\t\t\tphoneVerified,\n\t\t\t\t\t\tcustomAttribute1,\n\t\t\t\t\t\tcustomAttribute2,\n\t\t\t\t\t],\n\t\t\t\t\tMFAOptions: [],\n\t\t\t\t});\n\t\t\t});\n\n\t\tconst user = await auth.currentUserPoolUser();\n\n\t\texpect(spyDecodePayload).toBeCalled();\n\t\texpect(spyGetUserData).toBeCalled();\n\t\texpect(spyUserGetSession).toBeCalled();\n\t\texpect(spyUserPoolCurrentUser).toBeCalled();\n\n\t\texpect(user).toMatchObject({\n\t\t\tattributes: {\n\t\t\t\temail: 'hello@amzn.com',\n\t\t\t\temail_verified: true,\n\t\t\t\tphone_number: '+12345678901',\n\t\t\t\tphone_number_verified: false,\n\t\t\t\t'custom:attribute1': 'false',\n\t\t\t\t'custom:attribute2': 'true',\n\t\t\t},\n\t\t});\n\t});",
            "file": "auth-attribute-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "throw error when storage is empty",
            "suites": [
                "configure test"
            ],
            "updatePoint": {
                "line": 4,
                "column": 40
            },
            "line": 4,
            "code": "\ttest('throw error when storage is empty', () => {\n\t\tconst opts = {\n\t\t\tuserPoolId: 'awsUserPoolsId',\n\t\t\tuserPoolWebClientId: 'awsUserPoolsWebClientId',\n\t\t\tregion: 'region',\n\t\t\tidentityPoolId: 'awsCognitoIdentityPoolId',\n\t\t\tmandatorySignIn: false,\n\t\t\tstorage: {},\n\t\t};\n\t\tconst auth = new Auth(null);\n\t\texpect.assertions(1);\n\t\ttry {\n\t\t\tauth.configure(opts);\n\t\t} catch (e) {\n\t\t\texpect(e).not.toBeNull();\n\t\t}\n\t});",
            "file": "auth-configure-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "BypassCache clear credentials",
            "suites": [
                "credentials syncing tests"
            ],
            "updatePoint": {
                "line": 20,
                "column": 34
            },
            "line": 20,
            "code": "\tit('BypassCache clear credentials', async () => {\n\t\tconst auth = new Auth(authOptions);\n\n\t\tjest\n\t\t\t.spyOn(CognitoUser.prototype, 'authenticateUser')\n\t\t\t.mockImplementation((authenticationDetails, callback) => {\n\t\t\t\tconst session = new CognitoUserSession({\n\t\t\t\t\tAccessToken: new CognitoAccessToken({ AccessToken: 'accesstoken' }),\n\t\t\t\t\tIdToken: new CognitoIdToken({ IdToken: 'Idtoken' }),\n\t\t\t\t});\n\n\t\t\t\tcallback.onSuccess(session, false);\n\t\t\t});\n\n\t\tjest\n\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t.mockImplementation(() => {\n\t\t\t\treturn new CognitoUser({\n\t\t\t\t\tPool: new CognitoUserPool({\n\t\t\t\t\t\tUserPoolId: authOptions.userPoolId,\n\t\t\t\t\t\tClientId: authOptions.userPoolWebClientId,\n\t\t\t\t\t}),\n\t\t\t\t\tUsername: 'test',\n\t\t\t\t});\n\t\t\t});\n\n\t\tconst session = new CognitoUserSession({\n\t\t\tAccessToken: new CognitoAccessToken({ AccessToken: 'accesstoken' }),\n\t\t\tIdToken: new CognitoIdToken({ IdToken: 'Idtoken' }),\n\t\t});\n\n\t\tjest\n\t\t\t.spyOn(CognitoUser.prototype, 'getSession')\n\t\t\t.mockImplementation((callback: any) => {\n\t\t\t\tcallback(null, session);\n\t\t\t});\n\n\t\tconst spyCredentials = jest\n\t\t\t.spyOn(Credentials, 'set')\n\t\t\t.mockImplementationOnce(c => c);\n\n\t\tconst username = 'test';\n\t\tawait auth.signIn({ username, password: 'test' });\n\n\t\tconst clearCredentialsSpy = jest.spyOn(Credentials, 'clear');\n\t\tawait auth.currentAuthenticatedUser({ bypassCache: true });\n\n\t\texpect(clearCredentialsSpy).toHaveBeenCalled();\n\n\t\tjest.clearAllMocks();\n\t});",
            "file": "auth-creds-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "currentUserPoolUser  user.getSession using ClientMetadata from config",
            "suites": [
                "Refresh token"
            ],
            "updatePoint": {
                "line": 28,
                "column": 74
            },
            "line": 28,
            "code": "\tit('currentUserPoolUser  user.getSession using ClientMetadata from config', async () => {\n\t\t// configure with client metadata\n\t\tconst auth = new Auth(authOptions);\n\n\t\texpect.assertions(1);\n\n\t\tconst getSessionSpy = jest\n\t\t\t.spyOn(CognitoUser.prototype, 'getSession')\n\t\t\t.mockImplementation(\n\t\t\t\t// @ts-ignore\n\t\t\t\t(\n\t\t\t\t\tcallback: (error: Error, session: CognitoUserSession) => void,\n\t\t\t\t\toptions: any\n\t\t\t\t) => {\n\t\t\t\t\texpect(options.clientMetadata).toEqual({\n\t\t\t\t\t\t...clientMetadata,\n\t\t\t\t\t});\n\t\t\t\t\tconst session = new CognitoUserSession({\n\t\t\t\t\t\tAccessToken: new CognitoAccessToken({ AccessToken: 'accesstoken' }),\n\t\t\t\t\t\tIdToken: new CognitoIdToken({ IdToken: 'Idtoken' }),\n\t\t\t\t\t});\n\t\t\t\t\tcallback(null, session);\n\t\t\t\t}\n\t\t\t);\n\n\t\tjest\n\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t.mockImplementation(() => {\n\t\t\t\treturn new CognitoUser({\n\t\t\t\t\tPool: new CognitoUserPool({\n\t\t\t\t\t\tClientId: authOptions.userPoolWebClientId,\n\t\t\t\t\t\tUserPoolId: authOptions.userPoolId,\n\t\t\t\t\t}),\n\t\t\t\t\tUsername: 'username',\n\t\t\t\t});\n\t\t\t});\n\t\tawait auth.currentUserPoolUser();\n\t});",
            "file": "auth-refresh-token-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "userSession  user.getSession using ClientMetadata from config",
            "suites": [
                "Refresh token"
            ],
            "updatePoint": {
                "line": 67,
                "column": 66
            },
            "line": 67,
            "code": "\tit('userSession  user.getSession using ClientMetadata from config', async () => {\n\t\t// configure with client metadata\n\t\tconst auth = new Auth(authOptions);\n\n\t\texpect.assertions(2);\n\n\t\tconst getSessionSpy = jest\n\t\t\t.spyOn(CognitoUser.prototype, 'getSession')\n\t\t\t.mockImplementation(\n\t\t\t\t// @ts-ignore\n\t\t\t\t(\n\t\t\t\t\tcallback: (error: Error, session: CognitoUserSession) => void,\n\t\t\t\t\toptions: any\n\t\t\t\t) => {\n\t\t\t\t\texpect(options.clientMetadata).toEqual({\n\t\t\t\t\t\t...clientMetadata,\n\t\t\t\t\t});\n\t\t\t\t\tconst session = new CognitoUserSession({\n\t\t\t\t\t\tAccessToken: new CognitoAccessToken({ AccessToken: 'accesstoken' }),\n\t\t\t\t\t\tIdToken: new CognitoIdToken({ IdToken: 'Idtoken' }),\n\t\t\t\t\t});\n\t\t\t\t\tcallback(null, session);\n\t\t\t\t}\n\t\t\t);\n\n\t\tjest\n\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t.mockImplementation(() => {\n\t\t\t\treturn new CognitoUser({\n\t\t\t\t\tPool: new CognitoUserPool({\n\t\t\t\t\t\tClientId: authOptions.userPoolWebClientId,\n\t\t\t\t\t\tUserPoolId: authOptions.userPoolId,\n\t\t\t\t\t}),\n\t\t\t\t\tUsername: 'username',\n\t\t\t\t});\n\t\t\t});\n\t\tconst user = await auth.currentUserPoolUser();\n\n\t\tawait auth.userSession(user);\n\t});",
            "file": "auth-refresh-token-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "cognitoIdentitySignOut user.getSession using ClientMetadata from config",
            "suites": [
                "Refresh token"
            ],
            "updatePoint": {
                "line": 108,
                "column": 76
            },
            "line": 108,
            "code": "\tit('cognitoIdentitySignOut user.getSession using ClientMetadata from config', async () => {\n\t\t// configure with client metadata\n\t\tconst auth = new Auth(authOptions);\n\n\t\texpect.assertions(2);\n\n\t\tjest.spyOn(CognitoUser.prototype, 'getSession').mockImplementation(\n\t\t\t// @ts-ignore\n\t\t\t(\n\t\t\t\tcallback: (error: Error, session: CognitoUserSession) => void,\n\t\t\t\toptions: any\n\t\t\t) => {\n\t\t\t\texpect(options.clientMetadata).toEqual({\n\t\t\t\t\t...clientMetadata,\n\t\t\t\t});\n\t\t\t\tconst session = new CognitoUserSession({\n\t\t\t\t\tAccessToken: new CognitoAccessToken({ AccessToken: 'accesstoken' }),\n\t\t\t\t\tIdToken: new CognitoIdToken({ IdToken: 'Idtoken' }),\n\t\t\t\t});\n\t\t\t\tcallback(null, session);\n\t\t\t}\n\t\t);\n\n\t\tjest\n\t\t\t.spyOn(CognitoUser.prototype, 'globalSignOut')\n\t\t\t.mockImplementation(({ onSuccess, onFailure }) => {\n\t\t\t\tonSuccess('');\n\t\t\t});\n\n\t\tjest\n\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t.mockImplementation(() => {\n\t\t\t\treturn new CognitoUser({\n\t\t\t\t\tPool: new CognitoUserPool({\n\t\t\t\t\t\tClientId: authOptions.userPoolWebClientId,\n\t\t\t\t\t\tUserPoolId: authOptions.userPoolId,\n\t\t\t\t\t}),\n\t\t\t\t\tUsername: 'username',\n\t\t\t\t});\n\t\t\t});\n\t\tconst user = await auth.currentUserPoolUser();\n\n\t\t// @ts-ignore\n\t\tawait auth.cognitoIdentitySignOut({ global: true }, user);\n\t});",
            "file": "auth-refresh-token-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "currentUserPoolUser user.getUserData using ClientMetadata from config",
            "suites": [
                "Refresh token"
            ],
            "updatePoint": {
                "line": 154,
                "column": 74
            },
            "line": 154,
            "code": "\tit('currentUserPoolUser user.getUserData using ClientMetadata from config', async () => {\n\t\t// configure with client metadata\n\t\tconst auth = new Auth(authOptions);\n\n\t\texpect.assertions(1);\n\n\t\tjest.spyOn(CognitoUser.prototype, 'getSession').mockImplementation(\n\t\t\t// @ts-ignore\n\t\t\t(\n\t\t\t\tcallback: (error: Error, session: CognitoUserSession) => void,\n\t\t\t\toptions: any\n\t\t\t) => {\n\t\t\t\tconst session = new CognitoUserSession({\n\t\t\t\t\tAccessToken: new CognitoAccessToken({\n\t\t\t\t\t\tAccessToken:\n\t\t\t\t\t\t\t'a.ewogICJzdWIiOiAic3ViIiwKICAiZXZlbnRfaWQiOiAieHh4eHgiLAogICJ0b2tlbl91c2UiOiAiYWNjZXNzIiwKICAic2NvcGUiOiAiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLAogICJhdXRoX3RpbWUiOiAxNjExNzc2ODA3LAogICJpc3MiOiAiaHR0cHM6Ly9jb2duaXRvLWlkcC51cy1lYXN0LTEuYW1hem9uYXdzLmNvbS91cy1lYXN0LTFfenp6enp6enp6IiwKICAiZXhwIjogMTYxMTc4MDQwNywKICAiaWF0IjogMTYxMTc3NjgwNywKICAianRpIjogImFhYWFhIiwKICAiY2xpZW50X2lkIjogInh4eHh4eHh4IiwKICAidXNlcm5hbWUiOiAidXNlcm5hbWUiCn0.a',\n\t\t\t\t\t}),\n\t\t\t\t\tIdToken: new CognitoIdToken({ IdToken: 'Idtoken' }),\n\t\t\t\t});\n\t\t\t\tcallback(null, session);\n\t\t\t}\n\t\t);\n\n\t\tjest\n\t\t\t.spyOn(CognitoUser.prototype, 'getUserData')\n\t\t\t.mockImplementation((callback, params) => {\n\t\t\t\texpect(params.clientMetadata).toEqual(clientMetadata);\n\n\t\t\t\tcallback(null, {\n\t\t\t\t\tMFAOptions: [],\n\t\t\t\t\tPreferredMfaSetting: 'NOMFA',\n\t\t\t\t\tUserAttributes: [],\n\t\t\t\t\tUserMFASettingList: [],\n\t\t\t\t\tUsername: 'username',\n\t\t\t\t});\n\t\t\t});\n\n\t\tjest\n\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t.mockImplementation(() => {\n\t\t\t\treturn new CognitoUser({\n\t\t\t\t\tPool: new CognitoUserPool({\n\t\t\t\t\t\tClientId: authOptions.userPoolWebClientId,\n\t\t\t\t\t\tUserPoolId: authOptions.userPoolId,\n\t\t\t\t\t}),\n\t\t\t\t\tUsername: 'username',\n\t\t\t\t});\n\t\t\t});\n\n\t\tconst user = await auth.currentUserPoolUser();\n\t});",
            "file": "auth-refresh-token-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "getPreferredMFA user.getUserData using ClientMetadata from config",
            "suites": [
                "Refresh token"
            ],
            "updatePoint": {
                "line": 206,
                "column": 70
            },
            "line": 206,
            "code": "\tit('getPreferredMFA user.getUserData using ClientMetadata from config', async () => {\n\t\t// configure with client metadata\n\t\tconst auth = new Auth(authOptions);\n\n\t\texpect.assertions(2);\n\n\t\tjest.spyOn(CognitoUser.prototype, 'getSession').mockImplementation(\n\t\t\t// @ts-ignore\n\t\t\t(\n\t\t\t\tcallback: (error: Error, session: CognitoUserSession) => void,\n\t\t\t\toptions: any\n\t\t\t) => {\n\t\t\t\tconst session = new CognitoUserSession({\n\t\t\t\t\tAccessToken: new CognitoAccessToken({\n\t\t\t\t\t\tAccessToken:\n\t\t\t\t\t\t\t'a.ewogICJzdWIiOiAic3ViIiwKICAiZXZlbnRfaWQiOiAieHh4eHgiLAogICJ0b2tlbl91c2UiOiAiYWNjZXNzIiwKICAic2NvcGUiOiAiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLAogICJhdXRoX3RpbWUiOiAxNjExNzc2ODA3LAogICJpc3MiOiAiaHR0cHM6Ly9jb2duaXRvLWlkcC51cy1lYXN0LTEuYW1hem9uYXdzLmNvbS91cy1lYXN0LTFfenp6enp6enp6IiwKICAiZXhwIjogMTYxMTc4MDQwNywKICAiaWF0IjogMTYxMTc3NjgwNywKICAianRpIjogImFhYWFhIiwKICAiY2xpZW50X2lkIjogInh4eHh4eHh4IiwKICAidXNlcm5hbWUiOiAidXNlcm5hbWUiCn0.a',\n\t\t\t\t\t}),\n\t\t\t\t\tIdToken: new CognitoIdToken({ IdToken: 'Idtoken' }),\n\t\t\t\t});\n\t\t\t\tcallback(null, session);\n\t\t\t}\n\t\t);\n\n\t\tjest\n\t\t\t.spyOn(CognitoUser.prototype, 'getUserData')\n\t\t\t.mockImplementation((callback, params) => {\n\t\t\t\texpect(params.clientMetadata).toEqual(clientMetadata);\n\n\t\t\t\tcallback(null, {\n\t\t\t\t\tMFAOptions: [],\n\t\t\t\t\tPreferredMfaSetting: 'NOMFA',\n\t\t\t\t\tUserAttributes: [],\n\t\t\t\t\tUserMFASettingList: [],\n\t\t\t\t\tUsername: 'username',\n\t\t\t\t});\n\t\t\t});\n\n\t\tjest\n\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t.mockImplementation(() => {\n\t\t\t\treturn new CognitoUser({\n\t\t\t\t\tPool: new CognitoUserPool({\n\t\t\t\t\t\tClientId: authOptions.userPoolWebClientId,\n\t\t\t\t\t\tUserPoolId: authOptions.userPoolId,\n\t\t\t\t\t}),\n\t\t\t\t\tUsername: 'username',\n\t\t\t\t});\n\t\t\t});\n\n\t\tconst user = await auth.currentUserPoolUser();\n\n\t\tawait auth.getPreferredMFA(user);\n\t});",
            "file": "auth-refresh-token-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "setPreferredMFA user.getUserData using ClientMetadata from config",
            "suites": [
                "Refresh token"
            ],
            "updatePoint": {
                "line": 260,
                "column": 70
            },
            "line": 260,
            "code": "\tit('setPreferredMFA user.getUserData using ClientMetadata from config', async () => {\n\t\t// configure with client metadata\n\t\tconst auth = new Auth(authOptions);\n\n\t\texpect.assertions(3);\n\n\t\tjest.spyOn(CognitoUser.prototype, 'getSession').mockImplementation(\n\t\t\t// @ts-ignore\n\t\t\t(\n\t\t\t\tcallback: (error: Error, session: CognitoUserSession) => void,\n\t\t\t\toptions: any\n\t\t\t) => {\n\t\t\t\tconst session = new CognitoUserSession({\n\t\t\t\t\tAccessToken: new CognitoAccessToken({\n\t\t\t\t\t\tAccessToken:\n\t\t\t\t\t\t\t'a.ewogICJzdWIiOiAic3ViIiwKICAiZXZlbnRfaWQiOiAieHh4eHgiLAogICJ0b2tlbl91c2UiOiAiYWNjZXNzIiwKICAic2NvcGUiOiAiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLAogICJhdXRoX3RpbWUiOiAxNjExNzc2ODA3LAogICJpc3MiOiAiaHR0cHM6Ly9jb2duaXRvLWlkcC51cy1lYXN0LTEuYW1hem9uYXdzLmNvbS91cy1lYXN0LTFfenp6enp6enp6IiwKICAiZXhwIjogMTYxMTc4MDQwNywKICAiaWF0IjogMTYxMTc3NjgwNywKICAianRpIjogImFhYWFhIiwKICAiY2xpZW50X2lkIjogInh4eHh4eHh4IiwKICAidXNlcm5hbWUiOiAidXNlcm5hbWUiCn0.a',\n\t\t\t\t\t}),\n\t\t\t\t\tIdToken: new CognitoIdToken({ IdToken: 'Idtoken' }),\n\t\t\t\t});\n\t\t\t\tcallback(null, session);\n\t\t\t}\n\t\t);\n\n\t\tjest\n\t\t\t.spyOn(CognitoUser.prototype, 'getUserData')\n\t\t\t.mockImplementation((callback, params) => {\n\t\t\t\texpect(params.clientMetadata).toEqual(clientMetadata);\n\n\t\t\t\tcallback(null, {\n\t\t\t\t\tMFAOptions: [],\n\t\t\t\t\tPreferredMfaSetting: 'NOMFA',\n\t\t\t\t\tUserAttributes: [],\n\t\t\t\t\tUserMFASettingList: [],\n\t\t\t\t\tUsername: 'username',\n\t\t\t\t});\n\t\t\t});\n\n\t\tjest\n\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t.mockImplementation(() => {\n\t\t\t\treturn new CognitoUser({\n\t\t\t\t\tPool: new CognitoUserPool({\n\t\t\t\t\t\tClientId: authOptions.userPoolWebClientId,\n\t\t\t\t\t\tUserPoolId: authOptions.userPoolId,\n\t\t\t\t\t}),\n\t\t\t\t\tUsername: 'username',\n\t\t\t\t});\n\t\t\t});\n\n\t\tjest\n\t\t\t.spyOn(CognitoUser.prototype, 'setUserMfaPreference')\n\t\t\t.mockImplementation(\n\t\t\t\t(smsMfaSettings, softwareTokenMfaSettings, callback) => {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t);\n\n\t\tconst user = await auth.currentUserPoolUser();\n\n\t\tawait auth.setPreferredMFA(user, 'SMS');\n\t});",
            "file": "auth-refresh-token-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case with object attr",
            "suites": [
                "auth unit test",
                "signUp"
            ],
            "updatePoint": {
                "line": 323,
                "column": 35
            },
            "line": 323,
            "code": "\t\ttest('happy case with object attr', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUserPool.prototype, 'signUp');\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst attrs = {\n\t\t\t\tusername: 'username',\n\t\t\t\tpassword: 'password',\n\t\t\t\tattributes: {\n\t\t\t\t\temail: 'email',\n\t\t\t\t\tphone_number: 'phone_number',\n\t\t\t\t\totherAttrs: 'otherAttrs',\n\t\t\t\t},\n\t\t\t};\n\t\t\texpect(await auth.signUp(attrs)).toBe('signUpResult');\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case clientMetadata default",
            "suites": [
                "auth unit test",
                "signUp"
            ],
            "updatePoint": {
                "line": 341,
                "column": 41
            },
            "line": 341,
            "code": "\t\ttest('happy case clientMetadata default', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUserPool.prototype, 'signUp');\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\n\t\t\tconst attrs = {\n\t\t\t\tusername: 'username',\n\t\t\t\tpassword: 'password',\n\t\t\t\tattributes: {\n\t\t\t\t\temail: 'email',\n\t\t\t\t\tphone_number: 'phone_number',\n\t\t\t\t\totherAttrs: 'otherAttrs',\n\t\t\t\t},\n\t\t\t};\n\t\t\tawait auth.signUp(attrs);\n\n\t\t\texpect(await CognitoUserPool.prototype.signUp).toBeCalledWith(\n\t\t\t\tattrs.username,\n\t\t\t\tattrs.password,\n\t\t\t\t[\n\t\t\t\t\t{ Name: 'email', Value: 'email' },\n\t\t\t\t\t{ Name: 'phone_number', Value: 'phone_number' },\n\t\t\t\t\t{ Name: 'otherAttrs', Value: 'otherAttrs' },\n\t\t\t\t],\n\t\t\t\tnull,\n\t\t\t\tjasmine.any(Function),\n\t\t\t\t{ foo: 'bar' }\n\t\t\t);\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case clientMetadata parameter",
            "suites": [
                "auth unit test",
                "signUp"
            ],
            "updatePoint": {
                "line": 371,
                "column": 43
            },
            "line": 371,
            "code": "\t\ttest('happy case clientMetadata parameter', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUserPool.prototype, 'signUp');\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\n\t\t\tconst attrs = {\n\t\t\t\tusername: 'username',\n\t\t\t\tpassword: 'password',\n\t\t\t\tattributes: {\n\t\t\t\t\temail: 'email',\n\t\t\t\t\tphone_number: 'phone_number',\n\t\t\t\t\totherAttrs: 'otherAttrs',\n\t\t\t\t},\n\t\t\t\tclientMetadata: {\n\t\t\t\t\tcustom: 'value',\n\t\t\t\t},\n\t\t\t};\n\t\t\tawait auth.signUp(attrs);\n\n\t\t\texpect(await CognitoUserPool.prototype.signUp).toBeCalledWith(\n\t\t\t\tattrs.username,\n\t\t\t\tattrs.password,\n\t\t\t\t[\n\t\t\t\t\t{ Name: 'email', Value: 'email' },\n\t\t\t\t\t{ Name: 'phone_number', Value: 'phone_number' },\n\t\t\t\t\t{ Name: 'otherAttrs', Value: 'otherAttrs' },\n\t\t\t\t],\n\t\t\t\tnull,\n\t\t\t\tjasmine.any(Function),\n\t\t\t\t{ custom: 'value' }\n\t\t\t);\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "object attr with null username",
            "suites": [
                "auth unit test",
                "signUp"
            ],
            "updatePoint": {
                "line": 404,
                "column": 38
            },
            "line": 404,
            "code": "\t\ttest('object attr with null username', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst attrs = {\n\t\t\t\tusername: null,\n\t\t\t\tpassword: 'password',\n\t\t\t\tattributes: {\n\t\t\t\t\temail: 'email',\n\t\t\t\t\tphone_number: 'phone_number',\n\t\t\t\t\totherAttrs: 'otherAttrs',\n\t\t\t\t},\n\t\t\t};\n\t\t\texpect.assertions(1);\n\t\t\texpect(auth.signUp(attrs).then()).rejects.toThrow(AuthError);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "callback error",
            "suites": [
                "auth unit test",
                "signUp"
            ],
            "updatePoint": {
                "line": 420,
                "column": 22
            },
            "line": 420,
            "code": "\t\ttest('callback error', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUserPool.prototype, 'signUp')\n\t\t\t\t.mockImplementationOnce(\n\t\t\t\t\t(\n\t\t\t\t\t\tusername,\n\t\t\t\t\t\tpassword,\n\t\t\t\t\t\tsignUpAttributeList,\n\t\t\t\t\t\tvalidationData,\n\t\t\t\t\t\tcallback\n\t\t\t\t\t) => {\n\t\t\t\t\t\tcallback(new Error('err'), null);\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tconst attrs = {\n\t\t\t\t\tusername: 'username',\n\t\t\t\t\tpassword: 'password',\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\temail: 'email',\n\t\t\t\t\t\tphone_number: 'phone_number',\n\t\t\t\t\t\totherAttrs: 'otherAttrs',\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t\tawait auth.signUp(attrs);\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toEqual(new Error('err'));\n\t\t\t}\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no config",
            "suites": [
                "auth unit test",
                "signUp"
            ],
            "updatePoint": {
                "line": 456,
                "column": 17
            },
            "line": 456,
            "code": "\t\ttest('no config', async () => {\n\t\t\tconst auth = new Auth(undefined);\n\t\t\tconst errorMessage = new NoUserPoolError(AuthErrorTypes.NoConfig);\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(\n\t\t\t\tauth.signUp('username', 'password', 'email', 'phone').then()\n\t\t\t).rejects.toThrow(NoUserPoolError);\n\t\t\texpect(\n\t\t\t\tauth.signUp('username', 'password', 'email', 'phone').then()\n\t\t\t).rejects.toEqual(errorMessage);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no user pool in config",
            "suites": [
                "auth unit test",
                "signUp"
            ],
            "updatePoint": {
                "line": 469,
                "column": 30
            },
            "line": 469,
            "code": "\t\ttest('no user pool in config', async () => {\n\t\t\tconst auth = new Auth(authOptionsWithNoUserPoolId);\n\t\t\tconst errorMessage = new NoUserPoolError(\n\t\t\t\tAuthErrorTypes.MissingAuthConfig\n\t\t\t);\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(\n\t\t\t\tauth.signUp('username', 'password', 'email', 'phone').then()\n\t\t\t).rejects.toThrow(NoUserPoolError);\n\t\t\texpect(\n\t\t\t\tauth.signUp('username', 'password', 'email', 'phone').then()\n\t\t\t).rejects.toEqual(errorMessage);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no username",
            "suites": [
                "auth unit test",
                "signUp"
            ],
            "updatePoint": {
                "line": 484,
                "column": 19
            },
            "line": 484,
            "code": "\t\ttest('no username', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\texpect.assertions(1);\n\t\t\texpect(\n\t\t\t\tauth.signUp(null, 'password', 'email', 'phone').then()\n\t\t\t).rejects.toThrow(AuthError);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no password",
            "suites": [
                "auth unit test",
                "signUp"
            ],
            "updatePoint": {
                "line": 492,
                "column": 19
            },
            "line": 492,
            "code": "\t\ttest('no password', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst errorMessage = new AuthError(AuthErrorTypes.EmptyPassword);\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(\n\t\t\t\tauth.signUp('username', null, 'email', 'phone').then()\n\t\t\t).rejects.toThrow(AuthError);\n\t\t\texpect(\n\t\t\t\tauth.signUp('username', null, 'email', 'phone').then()\n\t\t\t).rejects.toEqual(errorMessage);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "only username",
            "suites": [
                "auth unit test",
                "signUp"
            ],
            "updatePoint": {
                "line": 505,
                "column": 21
            },
            "line": 505,
            "code": "\t\ttest('only username', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst errorMessage = new AuthError(AuthErrorTypes.EmptyPassword);\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(auth.signUp('username').then()).rejects.toThrow(AuthError);\n\t\t\texpect(auth.signUp('username').then()).rejects.toEqual(errorMessage);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "confirmSignUp"
            ],
            "updatePoint": {
                "line": 516,
                "column": 18
            },
            "line": 516,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'confirmRegistration');\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.confirmSignUp('username', 'code')).toBe('Success');\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "with options",
            "suites": [
                "auth unit test",
                "confirmSignUp"
            ],
            "updatePoint": {
                "line": 526,
                "column": 20
            },
            "line": 526,
            "code": "\t\ttest('with options', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'confirmRegistration');\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(\n\t\t\t\tawait auth.confirmSignUp('username', 'code', {\n\t\t\t\t\tforceAliasCreation: false,\n\t\t\t\t})\n\t\t\t).toBe('Success');\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case clientMetadata default",
            "suites": [
                "auth unit test",
                "confirmSignUp"
            ],
            "updatePoint": {
                "line": 540,
                "column": 41
            },
            "line": 540,
            "code": "\t\ttest('happy case clientMetadata default', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'confirmRegistration');\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\t\t\tconst code = 'code';\n\n\t\t\tawait auth.confirmSignUp('username', code);\n\n\t\t\texpect(await CognitoUser.prototype.confirmRegistration).toBeCalledWith(\n\t\t\t\tcode,\n\t\t\t\tjasmine.any(Boolean),\n\t\t\t\tjasmine.any(Function),\n\t\t\t\t{\n\t\t\t\t\tfoo: 'bar',\n\t\t\t\t}\n\t\t\t);\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case clientMetadata parameter",
            "suites": [
                "auth unit test",
                "confirmSignUp"
            ],
            "updatePoint": {
                "line": 558,
                "column": 43
            },
            "line": 558,
            "code": "\t\ttest('happy case clientMetadata parameter', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'confirmRegistration');\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\t\t\tconst code = 'code';\n\n\t\t\tawait auth.confirmSignUp('username', code, {\n\t\t\t\tclientMetadata: { custom: 'value' },\n\t\t\t});\n\n\t\t\texpect(await CognitoUser.prototype.confirmRegistration).toBeCalledWith(\n\t\t\t\tcode,\n\t\t\t\tjasmine.any(Boolean),\n\t\t\t\tjasmine.any(Function),\n\t\t\t\t{\n\t\t\t\t\tcustom: 'value',\n\t\t\t\t}\n\t\t\t);\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "callback err",
            "suites": [
                "auth unit test",
                "confirmSignUp"
            ],
            "updatePoint": {
                "line": 578,
                "column": 20
            },
            "line": 578,
            "code": "\t\ttest('callback err', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'confirmRegistration')\n\t\t\t\t.mockImplementationOnce(\n\t\t\t\t\t(confirmationCode, forceAliasCreation, callback) => {\n\t\t\t\t\t\tcallback('err', null);\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait auth.confirmSignUp('username', 'code');\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toBe('err');\n\t\t\t}\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no user pool in config",
            "suites": [
                "auth unit test",
                "confirmSignUp"
            ],
            "updatePoint": {
                "line": 599,
                "column": 30
            },
            "line": 599,
            "code": "\t\ttest('no user pool in config', async () => {\n\t\t\tconst auth = new Auth(authOptionsWithNoUserPoolId);\n\t\t\tconst errorMessage = new NoUserPoolError(\n\t\t\t\tAuthErrorTypes.MissingAuthConfig\n\t\t\t);\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(auth.confirmSignUp('username', 'code').then()).rejects.toThrow(\n\t\t\t\tNoUserPoolError\n\t\t\t);\n\t\t\texpect(auth.confirmSignUp('username', 'code').then()).rejects.toEqual(\n\t\t\t\terrorMessage\n\t\t\t);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no user name",
            "suites": [
                "auth unit test",
                "confirmSignUp"
            ],
            "updatePoint": {
                "line": 614,
                "column": 20
            },
            "line": 614,
            "code": "\t\ttest('no user name', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst errorMessage = new AuthError(AuthErrorTypes.EmptyUsername);\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(auth.confirmSignUp(null, 'code').then()).rejects.toThrow(\n\t\t\t\tAuthError\n\t\t\t);\n\t\t\texpect(auth.confirmSignUp(null, 'code').then()).rejects.toEqual(\n\t\t\t\terrorMessage\n\t\t\t);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no code",
            "suites": [
                "auth unit test",
                "confirmSignUp"
            ],
            "updatePoint": {
                "line": 627,
                "column": 15
            },
            "line": 627,
            "code": "\t\ttest('no code', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst errorMessage = new AuthError(AuthErrorTypes.EmptyCode);\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(auth.confirmSignUp('username', null).then()).rejects.toThrow(\n\t\t\t\tAuthError\n\t\t\t);\n\t\t\texpect(auth.confirmSignUp('username', null).then()).rejects.toEqual(\n\t\t\t\terrorMessage\n\t\t\t);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "resendSignUp"
            ],
            "updatePoint": {
                "line": 642,
                "column": 18
            },
            "line": 642,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'resendConfirmationCode');\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.resendSignUp('username')).toMatchObject({\n\t\t\t\tCodeDeliveryDetails: {\n\t\t\t\t\tAttributeName: 'email',\n\t\t\t\t\tDeliveryMedium: 'EMAIL',\n\t\t\t\t\tDestination: 'amplify@*****.com',\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case clientMetadata default",
            "suites": [
                "auth unit test",
                "resendSignUp"
            ],
            "updatePoint": {
                "line": 658,
                "column": 41
            },
            "line": 658,
            "code": "\t\ttest('happy case clientMetadata default', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'resendConfirmationCode');\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\n\t\t\tawait auth.resendSignUp('username');\n\n\t\t\texpect(await CognitoUser.prototype.resendConfirmationCode).toBeCalledWith(\n\t\t\t\tjasmine.any(Function),\n\t\t\t\t{ foo: 'bar' }\n\t\t\t);\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case clientMetadata parameter",
            "suites": [
                "auth unit test",
                "resendSignUp"
            ],
            "updatePoint": {
                "line": 671,
                "column": 43
            },
            "line": 671,
            "code": "\t\ttest('happy case clientMetadata parameter', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'resendConfirmationCode');\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\n\t\t\tawait auth.resendSignUp('username', { custom: 'value' });\n\n\t\t\texpect(await CognitoUser.prototype.resendConfirmationCode).toBeCalledWith(\n\t\t\t\tjasmine.any(Function),\n\t\t\t\t{ custom: 'value' }\n\t\t\t);\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "callback err",
            "suites": [
                "auth unit test",
                "resendSignUp"
            ],
            "updatePoint": {
                "line": 684,
                "column": 20
            },
            "line": 684,
            "code": "\t\ttest('callback err', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'resendConfirmationCode')\n\t\t\t\t.mockImplementationOnce(callback => {\n\t\t\t\t\tcallback(new Error('err'), null);\n\t\t\t\t});\n\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait auth.resendSignUp('username');\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toEqual(new Error('err'));\n\t\t\t}\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no user pool in config",
            "suites": [
                "auth unit test",
                "resendSignUp"
            ],
            "updatePoint": {
                "line": 703,
                "column": 30
            },
            "line": 703,
            "code": "\t\ttest('no user pool in config', async () => {\n\t\t\tconst auth = new Auth(authOptionsWithNoUserPoolId);\n\t\t\tconst errorMessage = new NoUserPoolError(\n\t\t\t\tAuthErrorTypes.MissingAuthConfig\n\t\t\t);\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(auth.resendSignUp('username').then()).rejects.toThrow(\n\t\t\t\tNoUserPoolError\n\t\t\t);\n\t\t\texpect(auth.resendSignUp('username').then()).rejects.toEqual(\n\t\t\t\terrorMessage\n\t\t\t);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no username",
            "suites": [
                "auth unit test",
                "resendSignUp"
            ],
            "updatePoint": {
                "line": 718,
                "column": 19
            },
            "line": 718,
            "code": "\t\ttest('no username', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst errorMessage = new AuthError(AuthErrorTypes.EmptyUsername);\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(auth.resendSignUp(null).then()).rejects.toThrow(AuthError);\n\t\t\texpect(auth.resendSignUp(null).then()).rejects.toEqual(errorMessage);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "token events",
            "suites": [
                "auth unit test",
                "events"
            ],
            "updatePoint": {
                "line": 729,
                "column": 20
            },
            "line": 729,
            "code": "\t\ttest('token events', async () => {\n\t\t\texpect.assertions(2);\n\n\t\t\t// calling the `wrappedCallback` (a node callback) manually lets us trigger hub events\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst callback: NodeCallback.Any = (error, result) => {};\n\t\t\tconst wrappedCallback = auth.wrapRefreshSessionCallback(callback);\n\n\t\t\t// saving a reference to this fn's return before triggering `wrappedCallback` lets us capture the payload\n\t\t\tconst captureEvent = () => {\n\t\t\t\treturn new Promise(resolve => {\n\t\t\t\t\tHub.listen('auth', capsule => {\n\t\t\t\t\t\tswitch (capsule.payload.event) {\n\t\t\t\t\t\t\tcase 'tokenRefresh': {\n\t\t\t\t\t\t\t\treturn resolve(true);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcase 'tokenRefresh_failure': {\n\t\t\t\t\t\t\t\treturn resolve(capsule.payload.data);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t// for successful token refresh\n\t\t\tconst successEventPending = captureEvent();\n\t\t\twrappedCallback(undefined, true);\n\n\t\t\t// for failed token refresh\n\t\t\tconst syntheticError = new Error();\n\t\t\tconst failureEventPending = captureEvent();\n\t\t\twrappedCallback(syntheticError, undefined);\n\n\t\t\t// gather the payloads\n\t\t\tconst [successEvent, failureEvent] = await Promise.all([\n\t\t\t\tsuccessEventPending,\n\t\t\t\tfailureEventPending,\n\t\t\t]);\n\n\t\t\t// make assertions\n\t\t\texpect(successEvent).toBeTruthy();\n\t\t\texpect(failureEvent).toBe(syntheticError);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case with password",
            "suites": [
                "auth unit test",
                "signIn"
            ],
            "updatePoint": {
                "line": 780,
                "column": 32
            },
            "line": 780,
            "code": "\t\ttest('happy case with password', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'authenticateUser')\n\t\t\t\t.mockImplementationOnce((authenticationDetails, callback) => {\n\t\t\t\t\tcallback.onSuccess(session);\n\t\t\t\t});\n\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(auth, 'currentUserPoolUser')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve(user);\n\t\t\t\t});\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(await auth.signIn('username', 'password')).toEqual(user);\n\t\t\texpect(spyon2).toBeCalled();\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case clientMetadata default",
            "suites": [
                "auth unit test",
                "signIn"
            ],
            "updatePoint": {
                "line": 807,
                "column": 41
            },
            "line": 807,
            "code": "\t\ttest('happy case clientMetadata default', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'authenticateUser');\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\n\t\t\tawait auth.signIn('username', 'password');\n\n\t\t\texpect(await CognitoUser.prototype.authenticateUser).toBeCalledWith(\n\t\t\t\t{\n\t\t\t\t\tusername: 'username',\n\t\t\t\t\tpassword: 'password',\n\t\t\t\t\tvalidationData: {},\n\t\t\t\t\tclientMetadata: { foo: 'bar' },\n\t\t\t\t\tauthParameters: {},\n\t\t\t\t},\n\t\t\t\tauthCallbacks\n\t\t\t);\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case clientMetadata parameter",
            "suites": [
                "auth unit test",
                "signIn"
            ],
            "updatePoint": {
                "line": 826,
                "column": 43
            },
            "line": 826,
            "code": "\t\ttest('happy case clientMetadata parameter', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'authenticateUser');\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\n\t\t\tawait auth.signIn('username', 'password', { custom: 'value' });\n\n\t\t\texpect(await CognitoUser.prototype.authenticateUser).toBeCalledWith(\n\t\t\t\t{\n\t\t\t\t\tusername: 'username',\n\t\t\t\t\tpassword: 'password',\n\t\t\t\t\tvalidationData: {},\n\t\t\t\t\tclientMetadata: { custom: 'value' },\n\t\t\t\t\tauthParameters: {},\n\t\t\t\t},\n\t\t\t\tauthCallbacks\n\t\t\t);\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case validationData parameter",
            "suites": [
                "auth unit test",
                "signIn"
            ],
            "updatePoint": {
                "line": 845,
                "column": 43
            },
            "line": 845,
            "code": "\t\ttest('happy case validationData parameter', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUserPool.prototype, 'signUp');\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\n\t\t\tconst attrs: SignUpParams = {\n\t\t\t\tusername: 'username',\n\t\t\t\tpassword: 'password',\n\t\t\t\tattributes: {\n\t\t\t\t\temail: 'email',\n\t\t\t\t\tphone_number: 'phone_number',\n\t\t\t\t\totherAttrs: 'otherAttrs',\n\t\t\t\t},\n\t\t\t\tclientMetadata: {\n\t\t\t\t\tcustom: 'value',\n\t\t\t\t},\n\t\t\t\tvalidationData: {\n\t\t\t\t\tfoo: 'bar',\n\t\t\t\t\ttest: '123',\n\t\t\t\t},\n\t\t\t};\n\t\t\tawait auth.signUp(attrs);\n\n\t\t\texpect(await spyon).toBeCalledWith(\n\t\t\t\tattrs.username,\n\t\t\t\tattrs.password,\n\t\t\t\t[\n\t\t\t\t\t{ Name: 'email', Value: 'email' },\n\t\t\t\t\t{ Name: 'phone_number', Value: 'phone_number' },\n\t\t\t\t\t{ Name: 'otherAttrs', Value: 'otherAttrs' },\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t{ Name: 'foo', Value: 'bar' },\n\t\t\t\t\t{ Name: 'test', Value: '123' },\n\t\t\t\t],\n\t\t\t\tjasmine.any(Function),\n\t\t\t\t{ custom: 'value' }\n\t\t\t);\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "throw error if failed to call currentUserPoolUser after signing in",
            "suites": [
                "auth unit test",
                "signIn"
            ],
            "updatePoint": {
                "line": 885,
                "column": 74
            },
            "line": 885,
            "code": "\t\ttest('throw error if failed to call currentUserPoolUser after signing in', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'authenticateUser')\n\t\t\t\t.mockImplementationOnce((authenticationDetails, callback) => {\n\t\t\t\t\tcallback.onSuccess(session);\n\t\t\t\t});\n\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(auth, 'currentUserPoolUser')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.reject('User is disabled.');\n\t\t\t\t});\n\t\t\texpect.assertions(2);\n\t\t\ttry {\n\t\t\t\tawait auth.signIn('username', 'password');\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toBe('User is disabled.');\n\t\t\t\texpect(spyon2).toBeCalled();\n\t\t\t}\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case using cookie storage",
            "suites": [
                "auth unit test",
                "signIn"
            ],
            "updatePoint": {
                "line": 915,
                "column": 39
            },
            "line": 915,
            "code": "\t\ttest('happy case using cookie storage', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'authenticateUser')\n\t\t\t\t.mockImplementationOnce((_authenticationDetails, callback) => {\n\t\t\t\t\tcallback.onSuccess(session);\n\t\t\t\t});\n\n\t\t\tconst auth = new Auth({\n\t\t\t\t...authOptions,\n\t\t\t\tcookieStorage: { domain: '.example.com' },\n\t\t\t});\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t\tStorage: new CookieStorage({ domain: '.yourdomain.com' }),\n\t\t\t});\n\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(auth, 'currentUserPoolUser')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve(user);\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.signIn('username', 'password')).toEqual(user);\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "onFailure",
            "suites": [
                "auth unit test",
                "signIn"
            ],
            "updatePoint": {
                "line": 945,
                "column": 17
            },
            "line": 945,
            "code": "\t\ttest('onFailure', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'authenticateUser')\n\t\t\t\t.mockImplementationOnce((authenticationDetails, callback) => {\n\t\t\t\t\tcallback.onFailure('err');\n\t\t\t\t});\n\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait auth.signIn('username', 'password');\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toBe('err');\n\t\t\t}\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "mfaRequired",
            "suites": [
                "auth unit test",
                "signIn"
            ],
            "updatePoint": {
                "line": 964,
                "column": 19
            },
            "line": 964,
            "code": "\t\ttest('mfaRequired', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'authenticateUser')\n\t\t\t\t.mockImplementationOnce((authenticationDetails, callback) => {\n\t\t\t\t\tcallback.mfaRequired('challengeName', 'challengeParam');\n\t\t\t\t});\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\t\t\tconst userAfterSignedIn = Object.assign({}, user, {\n\t\t\t\tchallengeName: 'challengeName',\n\t\t\t\tchallengeParam: 'challengeParam',\n\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.signIn('username', 'password')).toEqual(\n\t\t\t\tuserAfterSignedIn\n\t\t\t);\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "mfaSetup",
            "suites": [
                "auth unit test",
                "signIn"
            ],
            "updatePoint": {
                "line": 988,
                "column": 16
            },
            "line": 988,
            "code": "\t\ttest('mfaSetup', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'authenticateUser')\n\t\t\t\t.mockImplementationOnce((authenticationDetails, callback) => {\n\t\t\t\t\tcallback.mfaSetup('challengeName', 'challengeParam');\n\t\t\t\t});\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\t\t\tconst userAfterSignedIn = Object.assign({}, user, {\n\t\t\t\tchallengeName: 'challengeName',\n\t\t\t\tchallengeParam: 'challengeParam',\n\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.signIn('username', 'password')).toEqual(\n\t\t\t\tuserAfterSignedIn\n\t\t\t);\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "totpRequired",
            "suites": [
                "auth unit test",
                "signIn"
            ],
            "updatePoint": {
                "line": 1012,
                "column": 20
            },
            "line": 1012,
            "code": "\t\ttest('totpRequired', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'authenticateUser')\n\t\t\t\t.mockImplementationOnce((authenticationDetails, callback) => {\n\t\t\t\t\tcallback.totpRequired('challengeName', 'challengeParam');\n\t\t\t\t});\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\t\t\tconst userAfterSignedIn = Object.assign({}, user, {\n\t\t\t\tchallengeName: 'challengeName',\n\t\t\t\tchallengeParam: 'challengeParam',\n\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.signIn('username', 'password')).toEqual(\n\t\t\t\tuserAfterSignedIn\n\t\t\t);\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "selectMFAType",
            "suites": [
                "auth unit test",
                "signIn"
            ],
            "updatePoint": {
                "line": 1036,
                "column": 21
            },
            "line": 1036,
            "code": "\t\ttest('selectMFAType', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'authenticateUser')\n\t\t\t\t.mockImplementationOnce((authenticationDetails, callback) => {\n\t\t\t\t\tcallback.selectMFAType('challengeName', 'challengeParam');\n\t\t\t\t});\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\t\t\tconst userAfterSignedIn = Object.assign({}, user, {\n\t\t\t\tchallengeName: 'challengeName',\n\t\t\t\tchallengeParam: 'challengeParam',\n\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.signIn('username', 'password')).toEqual(\n\t\t\t\tuserAfterSignedIn\n\t\t\t);\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "newPasswordRequired",
            "suites": [
                "auth unit test",
                "signIn"
            ],
            "updatePoint": {
                "line": 1060,
                "column": 27
            },
            "line": 1060,
            "code": "\t\ttest('newPasswordRequired', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'authenticateUser')\n\t\t\t\t.mockImplementationOnce((authenticationDetails, callback) => {\n\t\t\t\t\tcallback.newPasswordRequired('userAttributes', 'requiredAttributes');\n\t\t\t\t});\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\t\t\tconst userAfterSignedIn = Object.assign({}, user, {\n\t\t\t\tchallengeName: 'NEW_PASSWORD_REQUIRED',\n\t\t\t\tchallengeParam: {\n\t\t\t\t\trequiredAttributes: 'requiredAttributes',\n\t\t\t\t\tuserAttributes: 'userAttributes',\n\t\t\t\t},\n\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.signIn('username', 'password')).toEqual(\n\t\t\t\tuserAfterSignedIn\n\t\t\t);\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "customChallenge",
            "suites": [
                "auth unit test",
                "signIn"
            ],
            "updatePoint": {
                "line": 1087,
                "column": 23
            },
            "line": 1087,
            "code": "\t\ttest('customChallenge', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'authenticateUser')\n\t\t\t\t.mockImplementationOnce((authenticationDetails, callback) => {\n\t\t\t\t\tcallback.customChallenge('challengeParam');\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(CognitoUser.prototype as any, 'setAuthenticationFlowType')\n\t\t\t\t.mockImplementationOnce(type => {});\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\t\t\tconst userAfterSignedIn = Object.assign({}, user, {\n\t\t\t\tchallengeName: 'CUSTOM_CHALLENGE',\n\t\t\t\tchallengeParam: 'challengeParam',\n\t\t\t});\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(await auth.signIn('username')).toEqual(userAfterSignedIn);\n\t\t\texpect(spyon2).toBeCalledWith('CUSTOM_AUTH');\n\n\t\t\tspyon2.mockClear();\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no userPool",
            "suites": [
                "auth unit test",
                "signIn"
            ],
            "updatePoint": {
                "line": 1114,
                "column": 19
            },
            "line": 1114,
            "code": "\t\ttest('no userPool', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'authenticateUser');\n\n\t\t\t// @ts-ignore\n\t\t\tconst auth = new Auth(authOptionsWithNoUserPoolId);\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait auth.signIn('username', 'password');\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).not.toBeNull();\n\t\t\t}\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no username",
            "suites": [
                "auth unit test",
                "signIn"
            ],
            "updatePoint": {
                "line": 1130,
                "column": 19
            },
            "line": 1130,
            "code": "\t\ttest('no username', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'authenticateUser');\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait auth.signIn(null, 'password');\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).not.toBeNull();\n\t\t\t}\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "confirmSignIn"
            ],
            "updatePoint": {
                "line": 1146,
                "column": 18
            },
            "line": 1146,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'sendMFACode')\n\t\t\t\t.mockImplementationOnce((code, callback) => {\n\t\t\t\t\tcallback.onSuccess(session);\n\t\t\t\t});\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.confirmSignIn(user, 'code', null)).toEqual(user);\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case clientMetadata default",
            "suites": [
                "auth unit test",
                "confirmSignIn"
            ],
            "updatePoint": {
                "line": 1164,
                "column": 41
            },
            "line": 1164,
            "code": "\t\ttest('happy case clientMetadata default', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'sendMFACode');\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\t\t\tconst code = 'code';\n\n\t\t\tawait auth.confirmSignIn(user, code);\n\n\t\t\texpect(await CognitoUser.prototype.sendMFACode).toBeCalledWith(\n\t\t\t\tcode,\n\t\t\t\t{\n\t\t\t\t\tonSuccess: jasmine.any(Function),\n\t\t\t\t\tonFailure: jasmine.any(Function),\n\t\t\t\t},\n\t\t\t\tundefined,\n\t\t\t\t{ foo: 'bar' }\n\t\t\t);\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case clientMetadata parameter",
            "suites": [
                "auth unit test",
                "confirmSignIn"
            ],
            "updatePoint": {
                "line": 1187,
                "column": 43
            },
            "line": 1187,
            "code": "\t\ttest('happy case clientMetadata parameter', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'sendMFACode');\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\t\t\tconst code = 'code';\n\n\t\t\tawait auth.confirmSignIn(user, code, 'SMS_MFA', { custom: 'value' });\n\n\t\t\texpect(await CognitoUser.prototype.sendMFACode).toBeCalledWith(\n\t\t\t\tcode,\n\t\t\t\t{\n\t\t\t\t\tonSuccess: jasmine.any(Function),\n\t\t\t\t\tonFailure: jasmine.any(Function),\n\t\t\t\t},\n\t\t\t\t'SMS_MFA',\n\t\t\t\t{ custom: 'value' }\n\t\t\t);\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "onFailure",
            "suites": [
                "auth unit test",
                "confirmSignIn"
            ],
            "updatePoint": {
                "line": 1210,
                "column": 17
            },
            "line": 1210,
            "code": "\t\ttest('onFailure', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'sendMFACode')\n\t\t\t\t.mockImplementationOnce((code, callback) => {\n\t\t\t\t\tcallback.onFailure('err');\n\t\t\t\t});\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\ttry {\n\t\t\t\tawait auth.confirmSignIn(user, 'code', null);\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toBe('err');\n\t\t\t}\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no code",
            "suites": [
                "auth unit test",
                "confirmSignIn"
            ],
            "updatePoint": {
                "line": 1231,
                "column": 15
            },
            "line": 1231,
            "code": "\t\ttest('no code', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'sendMFACode');\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait auth.confirmSignIn(user, null, null);\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).not.toBeNull();\n\t\t\t}\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "completeNewPassword"
            ],
            "updatePoint": {
                "line": 1252,
                "column": 18
            },
            "line": 1252,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'completeNewPasswordChallenge')\n\t\t\t\t.mockImplementationOnce((password, requiredAttributes, callback) => {\n\t\t\t\t\tcallback.onSuccess(session);\n\t\t\t\t});\n\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.completeNewPassword(user, 'password', {})).toEqual(\n\t\t\t\tuser\n\t\t\t);\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case clientMetadata default",
            "suites": [
                "auth unit test",
                "completeNewPassword"
            ],
            "updatePoint": {
                "line": 1273,
                "column": 41
            },
            "line": 1273,
            "code": "\t\ttest('happy case clientMetadata default', async () => {\n\t\t\tconst spyon = jest.spyOn(\n\t\t\t\tCognitoUser.prototype,\n\t\t\t\t'completeNewPasswordChallenge'\n\t\t\t);\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tawait auth.completeNewPassword(user, 'password', {});\n\n\t\t\texpect(\n\t\t\t\tawait CognitoUser.prototype.completeNewPasswordChallenge\n\t\t\t).toBeCalledWith(\n\t\t\t\t'password',\n\t\t\t\t{},\n\t\t\t\t{\n\t\t\t\t\tonSuccess: jasmine.any(Function),\n\t\t\t\t\tonFailure: jasmine.any(Function),\n\t\t\t\t\tmfaRequired: jasmine.any(Function),\n\t\t\t\t\tmfaSetup: jasmine.any(Function),\n\t\t\t\t\ttotpRequired: jasmine.any(Function),\n\t\t\t\t},\n\t\t\t\t{ foo: 'bar' }\n\t\t\t);\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case clientMetadata default",
            "suites": [
                "auth unit test",
                "completeNewPassword"
            ],
            "updatePoint": {
                "line": 1303,
                "column": 41
            },
            "line": 1303,
            "code": "\t\ttest('happy case clientMetadata default', async () => {\n\t\t\tconst spyon = jest.spyOn(\n\t\t\t\tCognitoUser.prototype,\n\t\t\t\t'completeNewPasswordChallenge'\n\t\t\t);\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tawait auth.completeNewPassword(user, 'password', {}, { custom: 'value' });\n\n\t\t\texpect(\n\t\t\t\tawait CognitoUser.prototype.completeNewPasswordChallenge\n\t\t\t).toBeCalledWith(\n\t\t\t\t'password',\n\t\t\t\t{},\n\t\t\t\t{\n\t\t\t\t\tonSuccess: jasmine.any(Function),\n\t\t\t\t\tonFailure: jasmine.any(Function),\n\t\t\t\t\tmfaRequired: jasmine.any(Function),\n\t\t\t\t\tmfaSetup: jasmine.any(Function),\n\t\t\t\t\ttotpRequired: jasmine.any(Function),\n\t\t\t\t},\n\t\t\t\t{ custom: 'value' }\n\t\t\t);\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "on Failure",
            "suites": [
                "auth unit test",
                "completeNewPassword"
            ],
            "updatePoint": {
                "line": 1333,
                "column": 18
            },
            "line": 1333,
            "code": "\t\ttest('on Failure', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'completeNewPasswordChallenge')\n\t\t\t\t.mockImplementationOnce((password, requiredAttributes, callback) => {\n\t\t\t\t\tcallback.onFailure('err');\n\t\t\t\t});\n\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait auth.completeNewPassword(user, 'password', {});\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toBe('err');\n\t\t\t}\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "mfaRequired",
            "suites": [
                "auth unit test",
                "completeNewPassword"
            ],
            "updatePoint": {
                "line": 1356,
                "column": 19
            },
            "line": 1356,
            "code": "\t\ttest('mfaRequired', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'completeNewPasswordChallenge')\n\t\t\t\t.mockImplementationOnce((password, requiredAttributes, callback) => {\n\t\t\t\t\tcallback.mfaRequired('challengeName', 'challengeParam');\n\t\t\t\t});\n\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.completeNewPassword(user, 'password', {})).toBe(user);\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "mfaSetup",
            "suites": [
                "auth unit test",
                "completeNewPassword"
            ],
            "updatePoint": {
                "line": 1375,
                "column": 16
            },
            "line": 1375,
            "code": "\t\ttest('mfaSetup', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'completeNewPasswordChallenge')\n\t\t\t\t.mockImplementationOnce((password, requiredAttributes, callback) => {\n\t\t\t\t\tcallback.mfaSetup('challengeName', 'challengeParam');\n\t\t\t\t});\n\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.completeNewPassword(user, 'password', {})).toBe(user);\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no password",
            "suites": [
                "auth unit test",
                "completeNewPassword"
            ],
            "updatePoint": {
                "line": 1394,
                "column": 19
            },
            "line": 1394,
            "code": "\t\ttest('no password', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tconst errorMessage = new AuthError(AuthErrorTypes.EmptyPassword);\n\n\t\t\texpect.assertions(2);\n\t\t\tawait expect(\n\t\t\t\tauth.completeNewPassword(user, null, {}).then()\n\t\t\t).rejects.toThrow(AuthError);\n\t\t\tawait expect(\n\t\t\t\tauth.completeNewPassword(user, null, {}).then()\n\t\t\t).rejects.toEqual(errorMessage);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "userAttributes"
            ],
            "updatePoint": {
                "line": 1414,
                "column": 18
            },
            "line": 1414,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Auth.prototype, 'userSession')\n\t\t\t\t.mockImplementationOnce(user => {\n\t\t\t\t\treturn new Promise((res: any, rej) => {\n\t\t\t\t\t\tres('session');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst spyon2 = jest.spyOn(CognitoUser.prototype, 'getUserAttributes');\n\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.userAttributes(user)).toBe('attributes');\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "get userattributes failed",
            "suites": [
                "auth unit test",
                "userAttributes"
            ],
            "updatePoint": {
                "line": 1438,
                "column": 33
            },
            "line": 1438,
            "code": "\t\ttest('get userattributes failed', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Auth.prototype, 'userSession')\n\t\t\t\t.mockImplementationOnce(user => {\n\t\t\t\t\treturn new Promise((res: any, rej) => {\n\t\t\t\t\t\tres('session');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'getUserAttributes')\n\t\t\t\t.mockImplementationOnce(callback => {\n\t\t\t\t\tcallback(new Error('err'));\n\t\t\t\t});\n\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait auth.userAttributes(user);\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toEqual(new Error('err'));\n\t\t\t}\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "currentSession"
            ],
            "updatePoint": {
                "line": 1472,
                "column": 18
            },
            "line": 1472,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(auth, 'currentUserPoolUser')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve(user);\n\t\t\t\t});\n\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(Auth.prototype, 'userSession')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres(session);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.currentSession()).toEqual(session);\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no current session",
            "suites": [
                "auth unit test",
                "currentSession"
            ],
            "updatePoint": {
                "line": 1499,
                "column": 26
            },
            "line": 1499,
            "code": "\t\ttest('no current session', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(auth, 'currentUserPoolUser')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve(user);\n\t\t\t\t});\n\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(auth, 'userSession')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.reject('cannot get the session');\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait auth.currentSession();\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toBe('cannot get the session');\n\t\t\t}\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no current user",
            "suites": [
                "auth unit test",
                "currentSession"
            ],
            "updatePoint": {
                "line": 1530,
                "column": 23
            },
            "line": 1530,
            "code": "\t\ttest('no current user', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(auth, 'currentUserPoolUser')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.reject('no current user');\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait auth.currentSession();\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toBe('no current user');\n\t\t\t}\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no UserPool",
            "suites": [
                "auth unit test",
                "currentSession"
            ],
            "updatePoint": {
                "line": 1549,
                "column": 19
            },
            "line": 1549,
            "code": "\t\ttest('no UserPool', async () => {\n\t\t\tconst auth = new Auth({\n\t\t\t\tuserPoolId: undefined,\n\t\t\t\tuserPoolWebClientId: 'awsUserPoolsWebClientId',\n\t\t\t\tregion: 'region',\n\t\t\t\tidentityPoolId: 'awsCognitoIdentityPoolId',\n\t\t\t\tmandatorySignIn: false,\n\t\t\t});\n\t\t\tconst errorMessage = new NoUserPoolError(\n\t\t\t\tAuthErrorTypes.MissingAuthConfig\n\t\t\t);\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(auth.currentSession().then()).rejects.toThrow(NoUserPoolError);\n\t\t\texpect(auth.currentSession().then()).rejects.toEqual(errorMessage);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case with source userpool",
            "suites": [
                "auth unit test",
                "currentAuthenticatedUser"
            ],
            "updatePoint": {
                "line": 1568,
                "column": 39
            },
            "line": 1568,
            "code": "\t\ttest('happy case with source userpool', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Auth.prototype, 'currentUserPoolUser')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres(user);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.currentAuthenticatedUser()).toEqual(user);\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case with source federation",
            "suites": [
                "auth unit test",
                "currentAuthenticatedUser"
            ],
            "updatePoint": {
                "line": 1588,
                "column": 41
            },
            "line": 1588,
            "code": "\t\ttest('happy case with source federation', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(StorageHelper.prototype, 'getStorage')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tsetItem() {},\n\t\t\t\t\t\tgetItem() {\n\t\t\t\t\t\t\treturn JSON.stringify({\n\t\t\t\t\t\t\t\tuser: {\n\t\t\t\t\t\t\t\t\tname: 'federated user',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttoken: '12345',\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tremoveItem() {},\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.currentAuthenticatedUser()).toStrictEqual({\n\t\t\t\tname: 'federated user',\n\t\t\t\ttoken: '12345',\n\t\t\t});\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "userSession test"
            ],
            "updatePoint": {
                "line": 1623,
                "column": 18
            },
            "line": 1623,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'getSession')\n\t\t\t\t.mockImplementationOnce((callback: any) => {\n\t\t\t\t\tcallback(null, session);\n\t\t\t\t});\n\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.userSession(user)).toEqual(session);\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "callback error",
            "suites": [
                "auth unit test",
                "userSession test"
            ],
            "updatePoint": {
                "line": 1642,
                "column": 22
            },
            "line": 1642,
            "code": "\t\ttest('callback error', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'getSession')\n\t\t\t\t.mockImplementationOnce((callback: any) => {\n\t\t\t\t\tcallback('err', null);\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait auth.userSession(user);\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toBe('err');\n\t\t\t}\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no user",
            "suites": [
                "auth unit test",
                "userSession test"
            ],
            "updatePoint": {
                "line": 1665,
                "column": 15
            },
            "line": 1665,
            "code": "\t\ttest('no user', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = null;\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait auth.userSession(user);\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).not.toBeNull();\n\t\t\t}\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "with federated info",
            "suites": [
                "auth unit test",
                "currentUserCredentials test"
            ],
            "updatePoint": {
                "line": 1679,
                "column": 27
            },
            "line": 1679,
            "code": "\t\ttest('with federated info', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(StorageHelper.prototype, 'getStorage')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tsetItem() {},\n\t\t\t\t\t\tgetItem() {\n\t\t\t\t\t\t\treturn JSON.stringify({\n\t\t\t\t\t\t\t\tprovider: 'google',\n\t\t\t\t\t\t\t\ttoken: 'token',\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tremoveItem() {},\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(Credentials, 'refreshFederatedToken')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve('cred');\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.currentUserCredentials()).toBe('cred');\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "with cognito session",
            "suites": [
                "auth unit test",
                "currentUserCredentials test"
            ],
            "updatePoint": {
                "line": 1710,
                "column": 28
            },
            "line": 1710,
            "code": "\t\ttest('with cognito session', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(StorageHelper.prototype, 'getStorage')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tsetItem() {},\n\t\t\t\t\t\tgetItem() {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tremoveItem() {},\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(auth, 'currentSession')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve('session' as any);\n\t\t\t\t});\n\n\t\t\tconst spyon3 = jest\n\t\t\t\t.spyOn(Credentials, 'set')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve('cred' as any);\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.currentUserCredentials()).toBe('cred');\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t\tspyon3.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "with guest",
            "suites": [
                "auth unit test",
                "currentUserCredentials test"
            ],
            "updatePoint": {
                "line": 1744,
                "column": 18
            },
            "line": 1744,
            "code": "\t\ttest('with guest', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(StorageHelper.prototype, 'getStorage')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tsetItem() {},\n\t\t\t\t\t\tgetItem() {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tremoveItem() {},\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(auth, 'currentSession')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.reject('err' as any);\n\t\t\t\t});\n\n\t\t\tconst spyon3 = jest\n\t\t\t\t.spyOn(Credentials, 'set')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve('cred' as any);\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.currentUserCredentials()).toBe('cred');\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t\tspyon3.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "json parse error",
            "suites": [
                "auth unit test",
                "currentUserCredentials test"
            ],
            "updatePoint": {
                "line": 1778,
                "column": 24
            },
            "line": 1778,
            "code": "\t\ttest('json parse error', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(StorageHelper.prototype, 'getStorage')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tsetItem() {},\n\t\t\t\t\t\tgetItem() {\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tremoveItem() {},\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(auth, 'currentSession')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve('session') as any;\n\t\t\t\t});\n\n\t\t\tconst spyon3 = jest\n\t\t\t\t.spyOn(Credentials, 'set')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve('cred' as any);\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.currentUserCredentials()).toBe('cred');\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t\tspyon3.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "verifyUserAttribute test"
            ],
            "updatePoint": {
                "line": 1826,
                "column": 18
            },
            "line": 1826,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst spyon = jest.spyOn(\n\t\t\t\tCognitoUser.prototype,\n\t\t\t\t'getAttributeVerificationCode'\n\t\t\t);\n\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\tawait auth.verifyUserAttribute(user, 'email');\n\t\t\texpect(spyon).toBeCalled();\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "onFailure",
            "suites": [
                "auth unit test",
                "verifyUserAttribute test"
            ],
            "updatePoint": {
                "line": 1845,
                "column": 17
            },
            "line": 1845,
            "code": "\t\ttest('onFailure', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'getAttributeVerificationCode')\n\t\t\t\t.mockImplementationOnce((attr, callback) => {\n\t\t\t\t\tcallback.onFailure('err' as any);\n\t\t\t\t});\n\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait auth.verifyUserAttribute(user, 'email');\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toBe('err');\n\t\t\t}\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "verifyUserAttributeSubmit"
            ],
            "updatePoint": {
                "line": 1870,
                "column": 18
            },
            "line": 1870,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'verifyAttribute');\n\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(\n\t\t\t\tawait auth.verifyUserAttributeSubmit(user, 'attribute', 'code')\n\t\t\t).toBe('success');\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "onFailure",
            "suites": [
                "auth unit test",
                "verifyUserAttributeSubmit"
            ],
            "updatePoint": {
                "line": 1887,
                "column": 17
            },
            "line": 1887,
            "code": "\t\ttest('onFailure', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'verifyAttribute')\n\t\t\t\t.mockImplementationOnce((attr, code, callback) => {\n\t\t\t\t\tcallback.onFailure('err' as any);\n\t\t\t\t});\n\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait auth.verifyUserAttributeSubmit(user, 'email', 'code');\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toBe('err');\n\t\t\t}\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "code empty",
            "suites": [
                "auth unit test",
                "verifyUserAttributeSubmit"
            ],
            "updatePoint": {
                "line": 1910,
                "column": 18
            },
            "line": 1910,
            "code": "\t\ttest('code empty', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\t\t\tconst errorMessage = new AuthError(AuthErrorTypes.EmptyCode);\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(\n\t\t\t\tauth.verifyUserAttributeSubmit(user, 'email', null).then()\n\t\t\t).rejects.toThrow(AuthError);\n\t\t\texpect(\n\t\t\t\tauth.verifyUserAttributeSubmit(user, 'email', null).then()\n\t\t\t).rejects.toEqual(errorMessage);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "verifyCurrentUserAttribute test"
            ],
            "updatePoint": {
                "line": 1929,
                "column": 18
            },
            "line": 1929,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Auth.prototype, 'currentUserPoolUser')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres(user);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(Auth.prototype, 'verifyUserAttribute')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres();\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tawait auth.verifyCurrentUserAttribute('attr');\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(spyon).toBeCalled();\n\t\t\texpect(spyon2).toBeCalledWith(user, 'attr');\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "verifyCurrentUserAttributeSubmit test"
            ],
            "updatePoint": {
                "line": 1964,
                "column": 18
            },
            "line": 1964,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Auth.prototype, 'currentUserPoolUser')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres(user);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(Auth.prototype, 'verifyUserAttributeSubmit')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres();\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tawait auth.verifyCurrentUserAttributeSubmit('attr', 'code');\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(spyon).toBeCalled();\n\t\t\texpect(spyon2).toBeCalledWith(user, 'attr', 'code');\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "signOut test"
            ],
            "updatePoint": {
                "line": 2011,
                "column": 18
            },
            "line": 2011,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'clear')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn user;\n\t\t\t\t});\n\n\t\t\tawait auth.signOut();\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(spyon).toBeCalled();\n\t\t\texpect(spyon2).toBeCalled();\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case for source userpool",
            "suites": [
                "auth unit test",
                "signOut test"
            ],
            "updatePoint": {
                "line": 2040,
                "column": 38
            },
            "line": 2040,
            "code": "\t\ttest('happy case for source userpool', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\t\t\tauth['credentials_source'] = 'aws';\n\t\t\tauth['credentials'] = {\n\t\t\t\tIdentityPoolId: 'identityPoolId',\n\t\t\t};\n\n\t\t\tconst spyonAuth = jest\n\t\t\t\t.spyOn(Auth.prototype, 'currentUserCredentials')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn user;\n\t\t\t\t});\n\t\t\tconst spyon2 = jest.spyOn(CognitoUser.prototype, 'signOut');\n\t\t\t// @ts-ignore\n\n\t\t\tawait auth.signOut();\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(spyon2).toBeCalled();\n\n\t\t\tspyonAuth.mockClear();\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case for globalSignOut",
            "suites": [
                "auth unit test",
                "signOut test"
            ],
            "updatePoint": {
                "line": 2076,
                "column": 36
            },
            "line": 2076,
            "code": "\t\ttest('happy case for globalSignOut', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tconst spyonAuth = jest\n\t\t\t\t.spyOn(Credentials, 'clear')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t});\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn user;\n\t\t\t\t});\n\t\t\tconst spyon2 = jest.spyOn(CognitoUser.prototype, 'globalSignOut');\n\n\t\t\tawait auth.signOut({ global: true });\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(spyon2).toBeCalled();\n\n\t\t\tspyonAuth.mockClear();\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case for no userpool",
            "suites": [
                "auth unit test",
                "signOut test"
            ],
            "updatePoint": {
                "line": 2105,
                "column": 34
            },
            "line": 2105,
            "code": "\t\ttest('happy case for no userpool', async () => {\n\t\t\t// @ts-ignore\n\t\t\tconst auth = new Auth(authOptionsWithNoUserPoolId);\n\n\t\t\texpect(await auth.signOut()).toBeUndefined();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no User in userpool",
            "suites": [
                "auth unit test",
                "signOut test"
            ],
            "updatePoint": {
                "line": 2112,
                "column": 27
            },
            "line": 2112,
            "code": "\t\ttest('no User in userpool', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn null;\n\t\t\t\t});\n\t\t\texpect(await auth.signOut()).toBeUndefined();\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "get guest credentials failed",
            "suites": [
                "auth unit test",
                "signOut test"
            ],
            "updatePoint": {
                "line": 2125,
                "column": 36
            },
            "line": 2125,
            "code": "\t\ttest('get guest credentials failed', async () => {\n\t\t\tconst auth = new Auth(authOptionsWithNoUserPoolId);\n\n\t\t\texpect(await auth.signOut()).toBeUndefined();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "changePassword"
            ],
            "updatePoint": {
                "line": 2133,
                "column": 18
            },
            "line": 2133,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\t\t\tconst oldPassword = 'oldPassword1';\n\t\t\tconst newPassword = 'newPassword1.';\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Auth.prototype, 'userSession')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres(session);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.changePassword(user, oldPassword, newPassword)).toBe(\n\t\t\t\t'SUCCESS'\n\t\t\t);\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case clientMetadata default",
            "suites": [
                "auth unit test",
                "changePassword"
            ],
            "updatePoint": {
                "line": 2158,
                "column": 41
            },
            "line": 2158,
            "code": "\t\ttest('happy case clientMetadata default', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'changePassword');\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\t\t\tconst oldPassword = 'oldPassword1';\n\t\t\tconst newPassword = 'newPassword1.';\n\n\t\t\tawait auth.changePassword(user, oldPassword, newPassword);\n\n\t\t\texpect(await CognitoUser.prototype.changePassword).toBeCalledWith(\n\t\t\t\toldPassword,\n\t\t\t\tnewPassword,\n\t\t\t\tjasmine.any(Function),\n\t\t\t\t{\n\t\t\t\t\tfoo: 'bar',\n\t\t\t\t}\n\t\t\t);\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case clientMetadata parameter",
            "suites": [
                "auth unit test",
                "changePassword"
            ],
            "updatePoint": {
                "line": 2181,
                "column": 43
            },
            "line": 2181,
            "code": "\t\ttest('happy case clientMetadata parameter', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'changePassword');\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\t\t\tconst oldPassword = 'oldPassword1';\n\t\t\tconst newPassword = 'newPassword1.';\n\n\t\t\tawait auth.changePassword(user, oldPassword, newPassword, {\n\t\t\t\tcustom: 'value',\n\t\t\t});\n\n\t\t\texpect(await CognitoUser.prototype.changePassword).toBeCalledWith(\n\t\t\t\toldPassword,\n\t\t\t\tnewPassword,\n\t\t\t\tjasmine.any(Function),\n\t\t\t\t{\n\t\t\t\t\tcustom: 'value',\n\t\t\t\t}\n\t\t\t);\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "forgotPassword"
            ],
            "updatePoint": {
                "line": 2208,
                "column": 18
            },
            "line": 2208,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'forgotPassword');\n\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.forgotPassword('username')).toBeUndefined();\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case clientMetadata default",
            "suites": [
                "auth unit test",
                "forgotPassword"
            ],
            "updatePoint": {
                "line": 2219,
                "column": 41
            },
            "line": 2219,
            "code": "\t\ttest('happy case clientMetadata default', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'forgotPassword');\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\n\t\t\tawait auth.forgotPassword('username');\n\n\t\t\texpect(await CognitoUser.prototype.forgotPassword).toBeCalledWith(\n\t\t\t\t{\n\t\t\t\t\tinputVerificationCode: jasmine.any(Function),\n\t\t\t\t\tonFailure: jasmine.any(Function),\n\t\t\t\t\tonSuccess: jasmine.any(Function),\n\t\t\t\t},\n\t\t\t\t{ foo: 'bar' }\n\t\t\t);\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case clientMetadata parameter",
            "suites": [
                "auth unit test",
                "forgotPassword"
            ],
            "updatePoint": {
                "line": 2236,
                "column": 43
            },
            "line": 2236,
            "code": "\t\ttest('happy case clientMetadata parameter', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'forgotPassword');\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\n\t\t\tawait auth.forgotPassword('username', { custom: 'value' });\n\n\t\t\texpect(await CognitoUser.prototype.forgotPassword).toBeCalledWith(\n\t\t\t\t{\n\t\t\t\t\tinputVerificationCode: jasmine.any(Function),\n\t\t\t\t\tonFailure: jasmine.any(Function),\n\t\t\t\t\tonSuccess: jasmine.any(Function),\n\t\t\t\t},\n\t\t\t\t{ custom: 'value' }\n\t\t\t);\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "onFailure",
            "suites": [
                "auth unit test",
                "forgotPassword"
            ],
            "updatePoint": {
                "line": 2253,
                "column": 17
            },
            "line": 2253,
            "code": "\t\ttest('onFailure', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'forgotPassword')\n\t\t\t\t.mockImplementationOnce(callback => {\n\t\t\t\t\tcallback.onFailure(new Error('err'));\n\t\t\t\t});\n\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait auth.forgotPassword('username');\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toEqual(new Error('err'));\n\t\t\t}\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "inputVerificationCode",
            "suites": [
                "auth unit test",
                "forgotPassword"
            ],
            "updatePoint": {
                "line": 2272,
                "column": 29
            },
            "line": 2272,
            "code": "\t\ttest('inputVerificationCode', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'forgotPassword')\n\t\t\t\t.mockImplementationOnce(callback => {\n\t\t\t\t\tcallback.inputVerificationCode('data');\n\t\t\t\t});\n\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.forgotPassword('username')).toBe('data');\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no user pool id",
            "suites": [
                "auth unit test",
                "forgotPassword"
            ],
            "updatePoint": {
                "line": 2287,
                "column": 23
            },
            "line": 2287,
            "code": "\t\ttest('no user pool id', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'forgotPassword');\n\n\t\t\tconst auth = new Auth(authOptionsWithNoUserPoolId);\n\t\t\tconst errorMessage = new NoUserPoolError(\n\t\t\t\tAuthErrorTypes.MissingAuthConfig\n\t\t\t);\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(auth.forgotPassword('username').then()).rejects.toThrow(\n\t\t\t\tNoUserPoolError\n\t\t\t);\n\t\t\texpect(auth.forgotPassword('username').then()).rejects.toEqual(\n\t\t\t\terrorMessage\n\t\t\t);\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no username",
            "suites": [
                "auth unit test",
                "forgotPassword"
            ],
            "updatePoint": {
                "line": 2306,
                "column": 19
            },
            "line": 2306,
            "code": "\t\ttest('no username', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'forgotPassword');\n\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait auth.forgotPassword(null);\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).not.toBeNull();\n\t\t\t}\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "forgotPasswordSubmit"
            ],
            "updatePoint": {
                "line": 2322,
                "column": 18
            },
            "line": 2322,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'confirmPassword');\n\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(\n\t\t\t\tawait auth.forgotPasswordSubmit('username', 'code', 'password')\n\t\t\t).toBeUndefined();\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "forgotPasswordSubmit"
            ],
            "updatePoint": {
                "line": 2335,
                "column": 18
            },
            "line": 2335,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'confirmPassword');\n\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.forgotPassword('username')).toBeUndefined();\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case clientMetadata default",
            "suites": [
                "auth unit test",
                "forgotPasswordSubmit"
            ],
            "updatePoint": {
                "line": 2346,
                "column": 41
            },
            "line": 2346,
            "code": "\t\ttest('happy case clientMetadata default', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'forgotPassword');\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\t\t\tconst username = 'username';\n\t\t\tconst code = 'code';\n\t\t\tconst password = 'password';\n\n\t\t\tawait auth.forgotPasswordSubmit(username, code, password);\n\n\t\t\texpect(await CognitoUser.prototype.confirmPassword).toBeCalledWith(\n\t\t\t\tcode,\n\t\t\t\tpassword,\n\t\t\t\t{\n\t\t\t\t\tonFailure: jasmine.any(Function),\n\t\t\t\t\tonSuccess: jasmine.any(Function),\n\t\t\t\t},\n\t\t\t\t{ foo: 'bar' }\n\t\t\t);\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case clientMetadata parameter",
            "suites": [
                "auth unit test",
                "forgotPasswordSubmit"
            ],
            "updatePoint": {
                "line": 2367,
                "column": 43
            },
            "line": 2367,
            "code": "\t\ttest('happy case clientMetadata parameter', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'forgotPassword');\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\t\t\tconst username = 'username';\n\t\t\tconst code = 'code';\n\t\t\tconst password = 'password';\n\n\t\t\tawait auth.forgotPasswordSubmit(username, code, password, {\n\t\t\t\tcustom: 'value',\n\t\t\t});\n\n\t\t\texpect(await CognitoUser.prototype.confirmPassword).toBeCalledWith(\n\t\t\t\tcode,\n\t\t\t\tpassword,\n\t\t\t\t{\n\t\t\t\t\tonFailure: jasmine.any(Function),\n\t\t\t\t\tonSuccess: jasmine.any(Function),\n\t\t\t\t},\n\t\t\t\t{ custom: 'value' }\n\t\t\t);\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "confirmPassword failed",
            "suites": [
                "auth unit test",
                "forgotPasswordSubmit"
            ],
            "updatePoint": {
                "line": 2390,
                "column": 30
            },
            "line": 2390,
            "code": "\t\ttest('confirmPassword failed', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'confirmPassword')\n\t\t\t\t.mockImplementationOnce((code, password, callback) => {\n\t\t\t\t\tcallback.onFailure(new Error('err'));\n\t\t\t\t});\n\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait auth.forgotPasswordSubmit('username', 'code', 'password');\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toEqual(new Error('err'));\n\t\t\t}\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no user pool in config",
            "suites": [
                "auth unit test",
                "forgotPasswordSubmit"
            ],
            "updatePoint": {
                "line": 2409,
                "column": 30
            },
            "line": 2409,
            "code": "\t\ttest('no user pool in config', async () => {\n\t\t\tconst auth = new Auth(authOptionsWithNoUserPoolId);\n\t\t\tconst errorMessage = new NoUserPoolError(\n\t\t\t\tAuthErrorTypes.MissingAuthConfig\n\t\t\t);\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(\n\t\t\t\tauth.forgotPasswordSubmit('username', 'code', 'password').then()\n\t\t\t).rejects.toThrow(NoUserPoolError);\n\t\t\texpect(\n\t\t\t\tauth.forgotPasswordSubmit('username', 'code', 'password').then()\n\t\t\t).rejects.toEqual(errorMessage);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no username",
            "suites": [
                "auth unit test",
                "forgotPasswordSubmit"
            ],
            "updatePoint": {
                "line": 2424,
                "column": 19
            },
            "line": 2424,
            "code": "\t\ttest('no username', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst errorMessage = new AuthError(AuthErrorTypes.EmptyUsername);\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(\n\t\t\t\tauth.forgotPasswordSubmit(null, 'code', 'password').then()\n\t\t\t).rejects.toThrow(AuthError);\n\t\t\texpect(\n\t\t\t\tauth.forgotPasswordSubmit(null, 'code', 'password').then()\n\t\t\t).rejects.toEqual(errorMessage);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no code",
            "suites": [
                "auth unit test",
                "forgotPasswordSubmit"
            ],
            "updatePoint": {
                "line": 2437,
                "column": 15
            },
            "line": 2437,
            "code": "\t\ttest('no code', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst errorMessage = new AuthError(AuthErrorTypes.EmptyCode);\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(\n\t\t\t\tauth.forgotPasswordSubmit('username', null, 'password').then()\n\t\t\t).rejects.toThrow(AuthError);\n\t\t\texpect(\n\t\t\t\tauth.forgotPasswordSubmit('username', null, 'password').then()\n\t\t\t).rejects.toEqual(errorMessage);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no password",
            "suites": [
                "auth unit test",
                "forgotPasswordSubmit"
            ],
            "updatePoint": {
                "line": 2450,
                "column": 19
            },
            "line": 2450,
            "code": "\t\ttest('no password', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst errorMessage = new AuthError(AuthErrorTypes.EmptyPassword);\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(\n\t\t\t\tauth.forgotPasswordSubmit('username', 'code', null).then()\n\t\t\t).rejects.toThrow(AuthError);\n\t\t\texpect(\n\t\t\t\tauth.forgotPasswordSubmit('username', 'code', null).then()\n\t\t\t).rejects.toEqual(errorMessage);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case with aws or userpool source",
            "suites": [
                "auth unit test",
                "currentUserInfo test"
            ],
            "updatePoint": {
                "line": 2465,
                "column": 46
            },
            "line": 2465,
            "code": "\t\ttest('happy case with aws or userpool source', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Auth.prototype, 'currentUserPoolUser')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres(user);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(Auth.prototype, 'userAttributes')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\tauth['credentials'] = {\n\t\t\t\t\t\tIdentityPoolId: 'identityPoolId',\n\t\t\t\t\t\tIdentityId: 'identityId',\n\t\t\t\t\t};\n\t\t\t\t\tauth['credentials']['identityId'] = 'identityId';\n\t\t\t\t\treturn new Promise((res: any, rej) => {\n\t\t\t\t\t\tres([\n\t\t\t\t\t\t\t{ Name: 'email', Value: 'email' },\n\t\t\t\t\t\t\t{ Name: 'phone_number', Value: 'phone_number' },\n\t\t\t\t\t\t\t{ Name: 'email_verified', Value: 'false' },\n\t\t\t\t\t\t\t{ Name: 'phone_number_verified', Value: 'true' },\n\t\t\t\t\t\t\t{ Name: 'sub', Value: '123-456789' },\n\t\t\t\t\t\t]);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst spyon3 = jest\n\t\t\t\t.spyOn(auth, 'currentCredentials')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve({\n\t\t\t\t\t\tidentityId: 'identityId',\n\t\t\t\t\t} as any);\n\t\t\t\t});\n\n\t\t\tconst spyon4 = jest\n\t\t\t\t.spyOn(Credentials, 'getCredSource')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn 'aws';\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.currentUserInfo()).toEqual({\n\t\t\t\tusername: 'username',\n\t\t\t\tid: 'identityId',\n\t\t\t\tattributes: {\n\t\t\t\t\temail: 'email',\n\t\t\t\t\tphone_number: 'phone_number',\n\t\t\t\t\temail_verified: false,\n\t\t\t\t\tphone_number_verified: true,\n\t\t\t\t\tsub: '123-456789',\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t\tspyon3.mockClear();\n\t\t\tspyon4.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "return empty object if error happens",
            "suites": [
                "auth unit test",
                "currentUserInfo test"
            ],
            "updatePoint": {
                "line": 2532,
                "column": 44
            },
            "line": 2532,
            "code": "\t\ttest('return empty object if error happens', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Auth.prototype, 'currentUserPoolUser')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres({\n\t\t\t\t\t\t\tusername: 'username',\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(Auth.prototype, 'userAttributes')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\trej('err');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst spyon3 = jest\n\t\t\t\t.spyOn(Auth.prototype, 'currentCredentials')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve({\n\t\t\t\t\t\tIdentityPoolId: 'identityPoolId',\n\t\t\t\t\t\tidentityId: 'identityId',\n\t\t\t\t\t} as any);\n\t\t\t\t});\n\n\t\t\tconst spyon4 = jest\n\t\t\t\t.spyOn(Credentials, 'getCredSource')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn 'aws';\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.currentUserInfo()).toEqual({});\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t\tspyon3.mockClear();\n\t\t\tspyon4.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no current userpool user",
            "suites": [
                "auth unit test",
                "currentUserInfo test"
            ],
            "updatePoint": {
                "line": 2581,
                "column": 32
            },
            "line": 2581,
            "code": "\t\ttest('no current userpool user', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\t\t\tauth['credentials_source'] = 'aws';\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Auth.prototype, 'currentUserPoolUser')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres(null);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(Credentials, 'getCredSource')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn 'aws';\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.currentUserInfo()).toBeNull();\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "federated user",
            "suites": [
                "auth unit test",
                "currentUserInfo test"
            ],
            "updatePoint": {
                "line": 2610,
                "column": 22
            },
            "line": 2610,
            "code": "\t\ttest('federated user', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\t\t\tauth['user'] = 'federated_user';\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'getCredSource')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn 'federated';\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.currentUserInfo()).toBe('federated_user');\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "updateUserAttributes test"
            ],
            "updatePoint": {
                "line": 2632,
                "column": 18
            },
            "line": 2632,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tconst attributes = {\n\t\t\t\temail: 'email',\n\t\t\t\tphone_number: 'phone_number',\n\t\t\t\tsub: 'sub',\n\t\t\t};\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Auth.prototype, 'userSession')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res, rej) => {\n\t\t\t\t\t\tres(session);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.updateUserAttributes(user, attributes)).toBe('SUCCESS');\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case clientMetadata default",
            "suites": [
                "auth unit test",
                "updateUserAttributes test"
            ],
            "updatePoint": {
                "line": 2660,
                "column": 41
            },
            "line": 2660,
            "code": "\t\ttest('happy case clientMetadata default', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'updateAttributes');\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tawait auth.updateUserAttributes(user, {});\n\n\t\t\texpect(await CognitoUser.prototype.updateAttributes).toBeCalledWith(\n\t\t\t\t[],\n\t\t\t\tjasmine.any(Function),\n\t\t\t\t{ foo: 'bar' }\n\t\t\t);\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case clientMetadata parameter",
            "suites": [
                "auth unit test",
                "updateUserAttributes test"
            ],
            "updatePoint": {
                "line": 2678,
                "column": 43
            },
            "line": 2678,
            "code": "\t\ttest('happy case clientMetadata parameter', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'updateAttributes');\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tawait auth.updateUserAttributes(user, {}, { custom: 'value' });\n\n\t\t\texpect(await CognitoUser.prototype.updateAttributes).toBeCalledWith(\n\t\t\t\t[],\n\t\t\t\tjasmine.any(Function),\n\t\t\t\t{ custom: 'value' }\n\t\t\t);\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "deleteUserAttributes test"
            ],
            "updatePoint": {
                "line": 2698,
                "column": 18
            },
            "line": 2698,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tconst attributeNames = ['email', 'phone_number'];\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Auth.prototype, 'userSession')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise(res => {\n\t\t\t\t\t\tres(session);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.deleteUserAttributes(user, attributeNames)).toBe(\n\t\t\t\t'SUCCESS'\n\t\t\t);\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case to call with expected attributes",
            "suites": [
                "auth unit test",
                "deleteUserAttributes test"
            ],
            "updatePoint": {
                "line": 2724,
                "column": 51
            },
            "line": 2724,
            "code": "\t\ttest('happy case to call with expected attributes', async () => {\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'deleteAttributes');\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tawait auth.deleteUserAttributes(user, ['email', 'phone_number']);\n\n\t\t\texpect(await CognitoUser.prototype.deleteAttributes).toBeCalledWith(\n\t\t\t\t['email', 'phone_number'],\n\t\t\t\tjasmine.any(Function)\n\t\t\t);\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "Happy path should delete a user",
            "suites": [
                "auth unit test",
                "delete user test suite"
            ],
            "updatePoint": {
                "line": 2748,
                "column": 39
            },
            "line": 2748,
            "code": "\t\ttest('Happy path should delete a user', async () => {\n\t\t\tconst spy1 = jest\n\t\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn user;\n\t\t\t\t});\n\t\t\tconst spy2 = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'getSession')\n\t\t\t\t.mockImplementation((callback: any) => {\n\t\t\t\t\treturn callback(null, session);\n\t\t\t\t});\n\n\t\t\texpect(await auth.deleteUser()).toBe('SUCCESS');\n\t\t\t// TODO: test session cleared properly\n\t\t\tspy1.mockClear();\n\t\t\tspy2.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no user pool should throw error",
            "suites": [
                "auth unit test",
                "delete user test suite"
            ],
            "updatePoint": {
                "line": 2766,
                "column": 39
            },
            "line": 2766,
            "code": "\t\ttest('no user pool should throw error', async () => {\n\t\t\tconst noUserPoolAuth = new Auth(authOptionsWithNoUserPoolId);\n\t\t\ttry {\n\t\t\t\tawait noUserPoolAuth.deleteUser();\n\t\t\t} catch (error) {\n\t\t\t\texpect(error).toEqual(new Error('Cognito User pool does not exist'));\n\t\t\t}\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no user should throw error",
            "suites": [
                "auth unit test",
                "delete user test suite"
            ],
            "updatePoint": {
                "line": 2775,
                "column": 34
            },
            "line": 2775,
            "code": "\t\ttest('no user should throw error', async () => {\n\t\t\tconst spy1 = jest\n\t\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn null;\n\t\t\t\t});\n\n\t\t\ttry {\n\t\t\t\tawait auth.deleteUser();\n\t\t\t} catch (error) {\n\t\t\t\texpect(error).toEqual(new Error('No current user.'));\n\t\t\t}\n\t\t\tspy1.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no session should throw error",
            "suites": [
                "auth unit test",
                "delete user test suite"
            ],
            "updatePoint": {
                "line": 2790,
                "column": 37
            },
            "line": 2790,
            "code": "\t\ttest('no session should throw error', async () => {\n\t\t\tconst spy1 = jest\n\t\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn user;\n\t\t\t\t});\n\t\t\tconst spy2 = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'getSession')\n\t\t\t\t.mockImplementation((callback: any) => {\n\t\t\t\t\treturn callback(new Error('no session'), null);\n\t\t\t\t});\n\n\t\t\ttry {\n\t\t\t\tawait auth.deleteUser();\n\t\t\t} catch (error) {\n\t\t\t\texpect(error).toEqual(Error('no session'));\n\t\t\t}\n\n\t\t\tspy1.mockClear();\n\t\t\tspy2.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "cognito deleteUser call fails...",
            "suites": [
                "auth unit test",
                "delete user test suite"
            ],
            "updatePoint": {
                "line": 2812,
                "column": 40
            },
            "line": 2812,
            "code": "\t\ttest('cognito deleteUser call fails...', async () => {\n\t\t\tconst spy1 = jest\n\t\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn user;\n\t\t\t\t});\n\t\t\tconst spy2 = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'getSession')\n\t\t\t\t.mockImplementation((callback: any) => {\n\t\t\t\t\treturn callback(null, session);\n\t\t\t\t});\n\t\t\tconst spy3 = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'deleteUser')\n\t\t\t\t.mockImplementationOnce((callback: any) => {\n\t\t\t\t\treturn callback(new Error('Cognito deleteUser error'), null);\n\t\t\t\t});\n\n\t\t\ttry {\n\t\t\t\tawait auth.deleteUser();\n\t\t\t} catch (error) {\n\t\t\t\texpect(error).toEqual(Error('Cognito deleteUser error'));\n\t\t\t}\n\n\t\t\tspy1.mockClear();\n\t\t\tspy2.mockClear();\n\t\t\tspy3.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "No Identity Pool and No User Pool",
            "suites": [
                "auth unit test",
                "federatedSignIn test"
            ],
            "updatePoint": {
                "line": 2842,
                "column": 41
            },
            "line": 2842,
            "code": "\t\ttest('No Identity Pool and No User Pool', async () => {\n\t\t\tconst options: AuthOptions = {};\n\n\t\t\tconst auth = new Auth(options);\n\n\t\t\tlet error;\n\t\t\ttry {\n\t\t\t\tawait auth.federatedSignIn(\n\t\t\t\t\t'google',\n\t\t\t\t\t{ token: 'token', expires_at: 1234 },\n\t\t\t\t\t{ name: 'username' }\n\t\t\t\t);\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\n\t\t\texpect(error).toEqual(\n\t\t\t\tnew Error(\n\t\t\t\t\t'Federation requires either a User Pool or Identity Pool in config'\n\t\t\t\t)\n\t\t\t);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "No User Pool",
            "suites": [
                "auth unit test",
                "federatedSignIn test"
            ],
            "updatePoint": {
                "line": 2865,
                "column": 20
            },
            "line": 2865,
            "code": "\t\ttest('No User Pool', async () => {\n\t\t\tconst options: AuthOptions = {};\n\n\t\t\tconst auth = new Auth(options);\n\n\t\t\tlet error;\n\t\t\ttry {\n\t\t\t\tawait auth.federatedSignIn();\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\n\t\t\texpect(error).toEqual(\n\t\t\t\tnew Error(\n\t\t\t\t\t'Federation requires either a User Pool or Identity Pool in config'\n\t\t\t\t)\n\t\t\t);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "Identity Pool Missing Tokens",
            "suites": [
                "auth unit test",
                "federatedSignIn test"
            ],
            "updatePoint": {
                "line": 2884,
                "column": 36
            },
            "line": 2884,
            "code": "\t\ttest('Identity Pool Missing Tokens', async () => {\n\t\t\tconst options: AuthOptions = {\n\t\t\t\tregion: 'region',\n\t\t\t\tidentityPoolId: 'awsCognitoIdentityPoolId',\n\t\t\t};\n\n\t\t\tconst auth = new Auth(options);\n\n\t\t\tlet error;\n\t\t\ttry {\n\t\t\t\tawait auth.federatedSignIn();\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\n\t\t\texpect(error).toEqual(\n\t\t\t\tnew Error(\n\t\t\t\t\t'Federation with Identity Pools requires tokens passed as arguments'\n\t\t\t\t)\n\t\t\t);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "Identity Pools Only",
            "suites": [
                "auth unit test",
                "federatedSignIn test"
            ],
            "updatePoint": {
                "line": 2906,
                "column": 27
            },
            "line": 2906,
            "code": "\t\ttest('Identity Pools Only', async () => {\n\t\t\tconst options: AuthOptions = {\n\t\t\t\tregion: 'region',\n\t\t\t\tidentityPoolId: 'awsCognitoIdentityPoolId',\n\t\t\t};\n\n\t\t\tconst auth = new Auth(options);\n\t\t\tlet user = null;\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'set')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\tuser = { name: 'username', email: 'xxx@email.com' };\n\t\t\t\t\treturn Promise.resolve('cred' as any);\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(Auth.prototype, 'currentAuthenticatedUser')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\tif (!user) return Promise.reject('error');\n\t\t\t\t\telse return Promise.resolve(user);\n\t\t\t\t});\n\n\t\t\tawait auth.federatedSignIn(\n\t\t\t\t'google',\n\t\t\t\t{ token: 'token', expires_at: 1234 },\n\t\t\t\t{ name: 'username' }\n\t\t\t);\n\n\t\t\texpect(spyon).toBeCalled();\n\t\t\texpect(spyon2).toBeCalled();\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "User Pools Only",
            "suites": [
                "auth unit test",
                "federatedSignIn test"
            ],
            "updatePoint": {
                "line": 2939,
                "column": 23
            },
            "line": 2939,
            "code": "\t\ttest('User Pools Only', async () => {\n\t\t\tconst urlOpener = jest.fn();\n\n\t\t\tconst options: AuthOptions = {\n\t\t\t\tregion: 'region',\n\t\t\t\tuserPoolId: 'userPoolId',\n\t\t\t\toauth: {\n\t\t\t\t\tdomain: 'mydomain.auth.us-east-1.amazoncognito.com',\n\t\t\t\t\tscope: ['aws.cognito.signin.user.admin'],\n\t\t\t\t\tredirectSignIn: 'http://localhost:3000/',\n\t\t\t\t\tredirectSignOut: 'http://localhost:3000/',\n\t\t\t\t\tresponseType: 'code',\n\t\t\t\t\turlOpener,\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst auth = new Auth(options);\n\n\t\t\tconst spyon3 = jest.spyOn(OAuth.prototype, 'oauthSignIn');\n\n\t\t\tawait auth.federatedSignIn();\n\n\t\t\texpect(spyon3).toBeCalled();\n\t\t\tspyon3.mockClear();\n\t\t\texpect(urlOpener).toBeCalled();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "User Pools and Identity Pools",
            "suites": [
                "auth unit test",
                "federatedSignIn test"
            ],
            "updatePoint": {
                "line": 2966,
                "column": 37
            },
            "line": 2966,
            "code": "\t\ttest('User Pools and Identity Pools', async () => {\n\t\t\tconst urlOpener = jest.fn();\n\n\t\t\tconst options: AuthOptions = {\n\t\t\t\tregion: 'region',\n\t\t\t\tidentityPoolId: 'awsCognitoIdentityPoolId',\n\t\t\t\tuserPoolId: 'userPoolId',\n\t\t\t\toauth: {\n\t\t\t\t\tdomain: 'mydomain.auth.us-east-1.amazoncognito.com',\n\t\t\t\t\tscope: ['aws.cognito.signin.user.admin'],\n\t\t\t\t\tredirectSignIn: 'http://localhost:3000/',\n\t\t\t\t\tredirectSignOut: 'http://localhost:3000/',\n\t\t\t\t\tresponseType: 'code',\n\t\t\t\t\turlOpener,\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst auth = new Auth(options);\n\n\t\t\tconst spyon3 = jest.spyOn(OAuth.prototype, 'oauthSignIn');\n\n\t\t\tlet user = null;\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Credentials, 'set')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\tuser = { name: 'username', email: 'xxx@email.com' };\n\t\t\t\t\treturn Promise.resolve('cred' as any);\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(Auth.prototype, 'currentAuthenticatedUser')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\tif (!user) return Promise.reject('error');\n\t\t\t\t\telse return Promise.resolve(user);\n\t\t\t\t});\n\n\t\t\tawait auth.federatedSignIn(\n\t\t\t\t'google',\n\t\t\t\t{ token: 'token', expires_at: 1234 },\n\t\t\t\t{ name: 'username' }\n\t\t\t);\n\n\t\t\texpect(spyon).toBeCalled();\n\t\t\texpect(spyon2).toBeCalled();\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\n\t\t\texpect(spyon3).not.toBeCalled();\n\t\t\tspyon3.mockClear();\n\t\t\texpect(urlOpener).not.toBeCalled();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "User Pools Code Flow",
            "suites": [
                "auth unit test",
                "handleAuthResponse test"
            ],
            "updatePoint": {
                "line": 3037,
                "column": 28
            },
            "line": 3037,
            "code": "\t\ttest('User Pools Code Flow', async () => {\n\t\t\tconst options: AuthOptions = {\n\t\t\t\tregion: 'region',\n\t\t\t\tuserPoolId: 'userPoolId',\n\t\t\t\toauth: {\n\t\t\t\t\tdomain: 'mydomain.auth.us-east-1.amazoncognito.com',\n\t\t\t\t\tscope: ['aws.cognito.signin.user.admin'],\n\t\t\t\t\tredirectSignIn: 'http://localhost:3000/',\n\t\t\t\t\tredirectSignOut: 'http://localhost:3000/',\n\t\t\t\t\tresponseType: 'code',\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst auth = new Auth(options);\n\n\t\t\tconst handleAuthResponseSpy = jest\n\t\t\t\t.spyOn(OAuth.prototype, 'handleAuthResponse')\n\t\t\t\t.mockReturnValueOnce({ idToken: '' } as any);\n\t\t\tjest\n\t\t\t\t.spyOn(CognitoUserSession.prototype, 'getIdToken')\n\t\t\t\t.mockReturnValueOnce({ decodePayload: () => ({}) } as any);\n\t\t\tjest.spyOn(Credentials, 'set').mockImplementationOnce(c => c);\n\t\t\t(auth as any).createCognitoUser = jest.fn(() => ({\n\t\t\t\tgetUsername: jest.fn(),\n\t\t\t\tsetSignInUserSession: jest.fn(),\n\t\t\t}));\n\t\t\t// Mock to help assert invocation order of other spies\n\t\t\tconst trackSpies = jest.fn();\n\t\t\tconst replaceStateSpy = jest\n\t\t\t\t.spyOn(window.history, 'replaceState')\n\t\t\t\t.mockImplementation((stateObj, title, url) => {\n\t\t\t\t\ttrackSpies(\n\t\t\t\t\t\t`window.history.replaceState(${JSON.stringify(\n\t\t\t\t\t\t\tstateObj\n\t\t\t\t\t\t)}, ${JSON.stringify(title)}, '${url}')`\n\t\t\t\t\t);\n\t\t\t\t\treturn this;\n\t\t\t\t});\n\t\t\tconst hubSpy = jest\n\t\t\t\t.spyOn(Hub, 'dispatch')\n\t\t\t\t.mockImplementation((channel, { event }) =>\n\t\t\t\t\t// payload.data isn't necessary for tracking order of dispatch events\n\t\t\t\t\ttrackSpies(\n\t\t\t\t\t\t`Hub.dispatch('${channel}', { data: ..., event: '${event}' })`\n\t\t\t\t\t)\n\t\t\t\t);\n\n\t\t\tconst code = 'XXXX-YYY-ZZZ';\n\t\t\tconst state = 'STATEABC';\n\t\t\tconst url = `${\n\t\t\t\t(options.oauth as AwsCognitoOAuthOpts).redirectSignIn\n\t\t\t}?code=${code}&state=${state}`;\n\n\t\t\t(oauthStorage.getState as jest.Mock<any>).mockReturnValueOnce(state);\n\t\t\tawait (auth as any)._handleAuthResponse(url);\n\n\t\t\texpect(handleAuthResponseSpy).toHaveBeenCalledWith(url);\n\t\t\texpect(replaceStateSpy).toHaveBeenCalledWith(\n\t\t\t\t{},\n\t\t\t\tnull,\n\t\t\t\t(options.oauth as AwsCognitoOAuthOpts).redirectSignIn\n\t\t\t);\n\n\t\t\t// replaceState should be called *prior* to `signIn` dispatch,\n\t\t\t// so that customers can override with a new value\n\t\t\texpect(trackSpies.mock.calls).toMatchInlineSnapshot(`\n\t\t\tArray [\n\t\t\t  Array [\n\t\t\t    \"Hub.dispatch('auth', { data: ..., event: 'parsingCallbackUrl' })\",\n\t\t\t  ],\n\t\t\t  Array [\n\t\t\t    \"window.history.replaceState({}, null, 'http://localhost:3000/')\",\n\t\t\t  ],\n\t\t\t  Array [\n\t\t\t    \"Hub.dispatch('auth', { data: ..., event: 'signIn' })\",\n\t\t\t  ],\n\t\t\t  Array [\n\t\t\t    \"Hub.dispatch('auth', { data: ..., event: 'cognitoHostedUI' })\",\n\t\t\t  ],\n\t\t\t]\n\t\t`);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "User Pools Implicit Flow",
            "suites": [
                "auth unit test",
                "handleAuthResponse test"
            ],
            "updatePoint": {
                "line": 3120,
                "column": 32
            },
            "line": 3120,
            "code": "\t\ttest('User Pools Implicit Flow', async () => {\n\t\t\tconst options: AuthOptions = {\n\t\t\t\tregion: 'region',\n\t\t\t\tuserPoolId: 'userPoolId',\n\t\t\t\toauth: {\n\t\t\t\t\tdomain: 'mydomain.auth.us-east-1.amazoncognito.com',\n\t\t\t\t\tscope: ['aws.cognito.signin.user.admin'],\n\t\t\t\t\tredirectSignIn: 'http://localhost:3000/',\n\t\t\t\t\tredirectSignOut: 'http://localhost:3000/',\n\t\t\t\t\tresponseType: 'token',\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst auth = new Auth(options);\n\n\t\t\tconst handleAuthResponseSpy = jest\n\t\t\t\t.spyOn(OAuth.prototype, 'handleAuthResponse')\n\t\t\t\t.mockReturnValueOnce({ idToken: '' } as any);\n\t\t\tjest\n\t\t\t\t.spyOn(CognitoUserSession.prototype, 'getIdToken')\n\t\t\t\t.mockReturnValueOnce({ decodePayload: () => ({}) } as any);\n\t\t\tjest.spyOn(Credentials, 'set').mockImplementationOnce(c => c);\n\t\t\t(auth as any).createCognitoUser = jest.fn(() => ({\n\t\t\t\tgetUsername: jest.fn(),\n\t\t\t\tsetSignInUserSession: jest.fn(),\n\t\t\t}));\n\t\t\tconst replaceStateSpy = jest\n\t\t\t\t.spyOn(window.history, 'replaceState')\n\t\t\t\t.mockReturnThis();\n\n\t\t\tconst token = 'XXXX.YYY.ZZZ';\n\t\t\tconst state = 'STATEABC';\n\t\t\tconst url = `${\n\t\t\t\t(options.oauth as AwsCognitoOAuthOpts).redirectSignIn\n\t\t\t}#access_token=${token}&state=${state}`;\n\n\t\t\tawait (auth as any)._handleAuthResponse(url);\n\n\t\t\texpect(handleAuthResponseSpy).toHaveBeenCalledWith(url);\n\t\t\texpect(replaceStateSpy).toHaveBeenCalledWith(\n\t\t\t\t{},\n\t\t\t\tnull,\n\t\t\t\t(options.oauth as AwsCognitoOAuthOpts).redirectSignIn\n\t\t\t);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "No User Pools",
            "suites": [
                "auth unit test",
                "handleAuthResponse test"
            ],
            "updatePoint": {
                "line": 3166,
                "column": 21
            },
            "line": 3166,
            "code": "\t\ttest('No User Pools', async () => {\n\t\t\tconst urlOpener = jest.fn();\n\n\t\t\tconst options: AuthOptions = {};\n\n\t\t\tconst auth = new Auth(options);\n\n\t\t\tlet error;\n\t\t\ttry {\n\t\t\t\tawait (auth as any)._handleAuthResponse(' ');\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\n\t\t\texpect(error).toEqual(\n\t\t\t\tnew Error('OAuth responses require a User Pool defined in config')\n\t\t\t);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "User Pools and Identity Pools",
            "suites": [
                "auth unit test",
                "handleAuthResponse test"
            ],
            "updatePoint": {
                "line": 3185,
                "column": 37
            },
            "line": 3185,
            "code": "\t\ttest('User Pools and Identity Pools', async () => {\n\t\t\tconst options: AuthOptions = {\n\t\t\t\tregion: 'region',\n\t\t\t\tuserPoolId: 'userPoolId',\n\t\t\t\toauth: {\n\t\t\t\t\tdomain: 'mydomain.auth.us-east-1.amazoncognito.com',\n\t\t\t\t\tscope: ['aws.cognito.signin.user.admin'],\n\t\t\t\t\tredirectSignIn: 'http://localhost:3000/',\n\t\t\t\t\tredirectSignOut: 'http://localhost:3000/',\n\t\t\t\t\tresponseType: 'code',\n\t\t\t\t},\n\t\t\t\tidentityPoolId: 'awsCognitoIdentityPoolId',\n\t\t\t};\n\n\t\t\tconst auth = new Auth(options);\n\n\t\t\tconst handleAuthResponseSpy = jest\n\t\t\t\t.spyOn(OAuth.prototype, 'handleAuthResponse')\n\t\t\t\t.mockReturnValueOnce({ idToken: '' } as any);\n\t\t\tjest\n\t\t\t\t.spyOn(CognitoUserSession.prototype, 'getIdToken')\n\t\t\t\t.mockReturnValueOnce({ decodePayload: () => ({}) } as any);\n\t\t\tjest.spyOn(Credentials, 'set').mockImplementationOnce(c => c);\n\t\t\t(auth as any).createCognitoUser = jest.fn(() => ({\n\t\t\t\tgetUsername: jest.fn(),\n\t\t\t\tsetSignInUserSession: jest.fn(),\n\t\t\t}));\n\t\t\tconst replaceStateSpy = jest\n\t\t\t\t.spyOn(window.history, 'replaceState')\n\t\t\t\t.mockReturnThis();\n\n\t\t\tconst code = 'XXXX-YYY-ZZZ';\n\t\t\tconst url = `${\n\t\t\t\t(options.oauth as AwsCognitoOAuthOpts).redirectSignIn\n\t\t\t}?code=${code}`;\n\t\t\tawait (auth as any)._handleAuthResponse(url);\n\n\t\t\texpect(handleAuthResponseSpy).toHaveBeenCalledWith(url);\n\t\t\texpect(replaceStateSpy).toHaveBeenCalledWith(\n\t\t\t\t{},\n\t\t\t\tnull,\n\t\t\t\t(options.oauth as AwsCognitoOAuthOpts).redirectSignIn\n\t\t\t);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case with unverified",
            "suites": [
                "auth unit test",
                "verifiedContact test"
            ],
            "updatePoint": {
                "line": 3232,
                "column": 34
            },
            "line": 3232,
            "code": "\t\ttest('happy case with unverified', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Auth.prototype, 'userAttributes')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res: any, rej) => {\n\t\t\t\t\t\tres([\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tName: 'email',\n\t\t\t\t\t\t\t\tValue: 'email@amazon.com',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tName: 'phone_number',\n\t\t\t\t\t\t\t\tValue: '+12345678901',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\texpect(await auth.verifiedContact(user)).toEqual({\n\t\t\t\tunverified: { email: 'email@amazon.com', phone_number: '+12345678901' },\n\t\t\t\tverified: {},\n\t\t\t});\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case with verified",
            "suites": [
                "auth unit test",
                "verifiedContact test"
            ],
            "updatePoint": {
                "line": 3264,
                "column": 32
            },
            "line": 3264,
            "code": "\t\ttest('happy case with verified', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Auth.prototype, 'userAttributes')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res: any, rej) => {\n\t\t\t\t\t\tres([\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tName: 'email',\n\t\t\t\t\t\t\t\tValue: 'email@amazon.com',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tName: 'phone_number',\n\t\t\t\t\t\t\t\tValue: '+12345678901',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tName: 'email_verified',\n\t\t\t\t\t\t\t\tValue: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tName: 'phone_number_verified',\n\t\t\t\t\t\t\t\tValue: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\texpect(await auth.verifiedContact(user)).toEqual({\n\t\t\t\tunverified: {},\n\t\t\t\tverified: { email: 'email@amazon.com', phone_number: '+12345678901' },\n\t\t\t});\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case with verified as strings",
            "suites": [
                "auth unit test",
                "verifiedContact test"
            ],
            "updatePoint": {
                "line": 3304,
                "column": 43
            },
            "line": 3304,
            "code": "\t\ttest('happy case with verified as strings', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(Auth.prototype, 'userAttributes')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new Promise((res: any, rej) => {\n\t\t\t\t\t\tres([\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tName: 'email',\n\t\t\t\t\t\t\t\tValue: 'email@amazon.com',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tName: 'phone_number',\n\t\t\t\t\t\t\t\tValue: '+12345678901',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tName: 'email_verified',\n\t\t\t\t\t\t\t\tValue: 'true',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tName: 'phone_number_verified',\n\t\t\t\t\t\t\t\tValue: 'True',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\texpect(await auth.verifiedContact(user)).toEqual({\n\t\t\t\tunverified: {},\n\t\t\t\tverified: { email: 'email@amazon.com', phone_number: '+12345678901' },\n\t\t\t});\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "currentUserPoolUser test"
            ],
            "updatePoint": {
                "line": 3346,
                "column": 18
            },
            "line": 3346,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn user;\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'getSession')\n\t\t\t\t.mockImplementation((callback: any) => {\n\t\t\t\t\treturn callback(null, session);\n\t\t\t\t});\n\n\t\t\tconst spyon3 = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'getUserData')\n\t\t\t\t.mockImplementationOnce((callback: any) => {\n\t\t\t\t\tconst data = {\n\t\t\t\t\t\tPreferredMfaSetting: 'SMS',\n\t\t\t\t\t\tUserAttributes: [{ Name: 'address', Value: 'xxxx' }],\n\t\t\t\t\t};\n\t\t\t\t\tcallback(null, data);\n\t\t\t\t});\n\n\t\t\tconst spyon4 = jest\n\t\t\t\t.spyOn(CognitoUserSession.prototype, 'getAccessToken')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new CognitoAccessToken({ AccessToken: 'accessToken' });\n\t\t\t\t});\n\n\t\t\tconst spyon5 = jest\n\t\t\t\t.spyOn(CognitoAccessToken.prototype, 'decodePayload')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn { scope: USER_ADMIN_SCOPE };\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(await auth.currentUserPoolUser()).toBe(\n\t\t\t\tObject.assign(user, {\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\taddress: 'xxxx',\n\t\t\t\t\t},\n\t\t\t\t\tpreferredMFA: 'SMS',\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t\tspyon3.mockClear();\n\t\t\tspyon4.mockClear();\n\t\t\tspyon5.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no current user",
            "suites": [
                "auth unit test",
                "currentUserPoolUser test"
            ],
            "updatePoint": {
                "line": 3403,
                "column": 23
            },
            "line": 3403,
            "code": "\t\ttest('no current user', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn null;\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait auth.currentUserPoolUser();\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toBe('No current user');\n\t\t\t}\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "No userPool in config",
            "suites": [
                "auth unit test",
                "currentUserPoolUser test"
            ],
            "updatePoint": {
                "line": 3426,
                "column": 29
            },
            "line": 3426,
            "code": "\t\ttest('No userPool in config', async () => {\n\t\t\tconst auth = new Auth(authOptionsWithNoUserPoolId);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\t\t\tconst errorMessage = new NoUserPoolError(AuthErrorTypes.EmptyCode);\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(auth.currentUserPoolUser().then()).rejects.toThrow(\n\t\t\t\tNoUserPoolError\n\t\t\t);\n\t\t\texpect(auth.currentUserPoolUser().then()).rejects.toEqual(errorMessage);\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "get session error",
            "suites": [
                "auth unit test",
                "currentUserPoolUser test"
            ],
            "updatePoint": {
                "line": 3441,
                "column": 25
            },
            "line": 3441,
            "code": "\t\ttest('get session error', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn user;\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'getSession')\n\t\t\t\t.mockImplementation((callback: any) => {\n\t\t\t\t\treturn callback('err', null);\n\t\t\t\t});\n\n\t\t\tconst spyon3 = jest.spyOn(CognitoUser.prototype, 'getUserData');\n\n\t\t\texpect.assertions(2);\n\t\t\ttry {\n\t\t\t\tawait auth.currentUserPoolUser();\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toBe('err');\n\t\t\t\texpect(spyon3).not.toBeCalled();\n\t\t\t}\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t\tspyon3.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "get user data error because of user is deleted or disabled",
            "suites": [
                "auth unit test",
                "currentUserPoolUser test"
            ],
            "updatePoint": {
                "line": 3474,
                "column": 66
            },
            "line": 3474,
            "code": "\t\ttest('get user data error because of user is deleted or disabled', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn user;\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'getSession')\n\t\t\t\t.mockImplementation((callback: any) => {\n\t\t\t\t\treturn callback(null, session);\n\t\t\t\t});\n\t\t\tconst spyon3 = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'getUserData')\n\t\t\t\t.mockImplementationOnce((callback: any) => {\n\t\t\t\t\tcallback(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmessage: 'User is disabled.',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tnull\n\t\t\t\t\t);\n\t\t\t\t});\n\n\t\t\tconst spyon4 = jest\n\t\t\t\t.spyOn(CognitoUserSession.prototype, 'getAccessToken')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new CognitoAccessToken({ AccessToken: 'accessToken' });\n\t\t\t\t});\n\n\t\t\tconst spyon5 = jest\n\t\t\t\t.spyOn(CognitoAccessToken.prototype, 'decodePayload')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn { scope: USER_ADMIN_SCOPE };\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait auth.currentUserPoolUser();\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toEqual({\n\t\t\t\t\tmessage: 'User is disabled.',\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t\tspyon3.mockClear();\n\t\t\tspyon4.mockClear();\n\t\t\tspyon5.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "bypass the error if the user is not deleted or disabled",
            "suites": [
                "auth unit test",
                "currentUserPoolUser test"
            ],
            "updatePoint": {
                "line": 3530,
                "column": 63
            },
            "line": 3530,
            "code": "\t\ttest('bypass the error if the user is not deleted or disabled', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn user;\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'getSession')\n\t\t\t\t.mockImplementation((callback: any) => {\n\t\t\t\t\treturn callback(null, session);\n\t\t\t\t});\n\t\t\tconst spyon3 = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'getUserData')\n\t\t\t\t.mockImplementationOnce((callback: any) => {\n\t\t\t\t\tcallback(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmessage: 'other error',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tnull\n\t\t\t\t\t);\n\t\t\t\t});\n\n\t\t\tconst spyon4 = jest\n\t\t\t\t.spyOn(CognitoUserSession.prototype, 'getAccessToken')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new CognitoAccessToken({ AccessToken: 'accessToken' });\n\t\t\t\t});\n\n\t\t\tconst spyon5 = jest\n\t\t\t\t.spyOn(CognitoAccessToken.prototype, 'decodePayload')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn { scope: USER_ADMIN_SCOPE };\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\n\t\t\texpect(await auth.currentUserPoolUser()).toEqual(user);\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t\tspyon3.mockClear();\n\t\t\tspyon4.mockClear();\n\t\t\tspyon5.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "directly return the user if no permission(scope) to get the user data",
            "suites": [
                "auth unit test",
                "currentUserPoolUser test"
            ],
            "updatePoint": {
                "line": 3581,
                "column": 77
            },
            "line": 3581,
            "code": "\t\ttest('directly return the user if no permission(scope) to get the user data', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn user;\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'getSession')\n\t\t\t\t.mockImplementation((callback: any) => {\n\t\t\t\t\treturn callback(null, session);\n\t\t\t\t});\n\n\t\t\tconst spyon3 = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'getUserData')\n\t\t\t\t.mockImplementationOnce((callback: any) => {\n\t\t\t\t\tconst data = {\n\t\t\t\t\t\tPreferredMfaSetting: 'SMS',\n\t\t\t\t\t\tUserAttributes: [{ Name: 'address', Value: 'xxxx' }],\n\t\t\t\t\t};\n\t\t\t\t\tcallback(null, data);\n\t\t\t\t});\n\n\t\t\tconst spyon4 = jest\n\t\t\t\t.spyOn(CognitoUserSession.prototype, 'getAccessToken')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new CognitoAccessToken({ AccessToken: 'accessToken' });\n\t\t\t\t});\n\n\t\t\tconst spyon5 = jest\n\t\t\t\t.spyOn(CognitoAccessToken.prototype, 'decodePayload')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn { scope: '' };\n\t\t\t\t});\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(spyon3).not.toBeCalled();\n\t\t\texpect(await auth.currentUserPoolUser()).toBe(user);\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t\tspyon3.mockClear();\n\t\t\tspyon4.mockClear();\n\t\t\tspyon5.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "sendCustomChallengeAnswer"
            ],
            "updatePoint": {
                "line": 3634,
                "column": 18
            },
            "line": 3634,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'sendCustomChallengeAnswer')\n\t\t\t\t.mockImplementationOnce((challengeResponses, callback) => {\n\t\t\t\t\tcallback.onSuccess(session);\n\t\t\t\t});\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\t\t\tconst userAfterCustomChallengeAnswer = Object.assign(\n\t\t\t\tnew CognitoUser({\n\t\t\t\t\tUsername: 'username',\n\t\t\t\t\tPool: userPool,\n\t\t\t\t}),\n\t\t\t\t{\n\t\t\t\t\tchallengeName: 'CUSTOM_CHALLENGE',\n\t\t\t\t\tchallengeParam: 'challengeParam',\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(auth, 'currentUserPoolUser')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve(user);\n\t\t\t\t});\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(\n\t\t\t\tawait auth.sendCustomChallengeAnswer(\n\t\t\t\t\tuserAfterCustomChallengeAnswer,\n\t\t\t\t\t'challengeResponse'\n\t\t\t\t)\n\t\t\t).toEqual(user);\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case clientMetadata default",
            "suites": [
                "auth unit test",
                "sendCustomChallengeAnswer"
            ],
            "updatePoint": {
                "line": 3674,
                "column": 41
            },
            "line": 3674,
            "code": "\t\ttest('happy case clientMetadata default', async () => {\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\n\t\t\tconst spyon = jest.spyOn(\n\t\t\t\tCognitoUser.prototype,\n\t\t\t\t'sendCustomChallengeAnswer'\n\t\t\t);\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(auth, 'currentUserPoolUser')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve(user);\n\t\t\t\t});\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tawait auth.sendCustomChallengeAnswer(user, 'answer');\n\n\t\t\texpect(\n\t\t\t\tawait CognitoUser.prototype.sendCustomChallengeAnswer\n\t\t\t).toBeCalledWith('answer', authCallbacks, { foo: 'bar' });\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case clientMetadata parameter",
            "suites": [
                "auth unit test",
                "sendCustomChallengeAnswer"
            ],
            "updatePoint": {
                "line": 3699,
                "column": 43
            },
            "line": 3699,
            "code": "\t\ttest('happy case clientMetadata parameter', async () => {\n\t\t\tconst auth = new Auth(authOptionsWithClientMetadata);\n\n\t\t\tconst spyon = jest.spyOn(\n\t\t\t\tCognitoUser.prototype,\n\t\t\t\t'sendCustomChallengeAnswer'\n\t\t\t);\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(auth, 'currentUserPoolUser')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve(user);\n\t\t\t\t});\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\n\t\t\tawait auth.sendCustomChallengeAnswer(user, 'answer', { custom: 'value' });\n\n\t\t\texpect(\n\t\t\t\tawait CognitoUser.prototype.sendCustomChallengeAnswer\n\t\t\t).toBeCalledWith('answer', authCallbacks, { custom: 'value' });\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "customChallenge",
            "suites": [
                "auth unit test",
                "sendCustomChallengeAnswer"
            ],
            "updatePoint": {
                "line": 3724,
                "column": 23
            },
            "line": 3724,
            "code": "\t\ttest('customChallenge', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'sendCustomChallengeAnswer')\n\t\t\t\t.mockImplementationOnce((challengeResponses, callback) => {\n\t\t\t\t\tcallback.customChallenge('challengeParam');\n\t\t\t\t});\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst user = new CognitoUser({\n\t\t\t\tUsername: 'username',\n\t\t\t\tPool: userPool,\n\t\t\t});\n\t\t\tconst userAfterCustomChallengeAnswer = Object.assign(\n\t\t\t\tnew CognitoUser({\n\t\t\t\t\tUsername: 'username',\n\t\t\t\t\tPool: userPool,\n\t\t\t\t}),\n\t\t\t\t{\n\t\t\t\t\tchallengeName: 'CUSTOM_CHALLENGE',\n\t\t\t\t\tchallengeParam: 'challengeParam',\n\t\t\t\t}\n\t\t\t);\n\n\t\t\texpect.assertions(1);\n\t\t\texpect(\n\t\t\t\tawait auth.sendCustomChallengeAnswer(\n\t\t\t\t\tuserAfterCustomChallengeAnswer,\n\t\t\t\t\t'challengeResponse'\n\t\t\t\t)\n\t\t\t).toEqual(userAfterCustomChallengeAnswer);\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "onFailure",
            "suites": [
                "auth unit test",
                "sendCustomChallengeAnswer"
            ],
            "updatePoint": {
                "line": 3757,
                "column": 17
            },
            "line": 3757,
            "code": "\t\ttest('onFailure', async () => {\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'sendCustomChallengeAnswer')\n\t\t\t\t.mockImplementationOnce((challengeResponses, callback) => {\n\t\t\t\t\tcallback.onFailure('err');\n\t\t\t\t});\n\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst userAfterCustomChallengeAnswer = Object.assign(\n\t\t\t\tnew CognitoUser({\n\t\t\t\t\tUsername: 'username',\n\t\t\t\t\tPool: userPool,\n\t\t\t\t}),\n\t\t\t\t{\n\t\t\t\t\tchallengeName: 'CUSTOM_CHALLENGE',\n\t\t\t\t\tchallengeParam: 'challengeParam',\n\t\t\t\t}\n\t\t\t);\n\n\t\t\texpect.assertions(1);\n\t\t\ttry {\n\t\t\t\tawait auth.sendCustomChallengeAnswer(\n\t\t\t\t\tuserAfterCustomChallengeAnswer,\n\t\t\t\t\t'challengeResponse'\n\t\t\t\t);\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toBe('err');\n\t\t\t}\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "no userPool",
            "suites": [
                "auth unit test",
                "sendCustomChallengeAnswer"
            ],
            "updatePoint": {
                "line": 3789,
                "column": 19
            },
            "line": 3789,
            "code": "\t\ttest('no userPool', async () => {\n\t\t\tconst spyon = jest.spyOn(\n\t\t\t\tCognitoUser.prototype,\n\t\t\t\t'sendCustomChallengeAnswer'\n\t\t\t);\n\n\t\t\tconst auth = new Auth(authOptionsWithNoUserPoolId);\n\t\t\tconst userAfterCustomChallengeAnswer = Object.assign(\n\t\t\t\tnew CognitoUser({\n\t\t\t\t\tUsername: 'username',\n\t\t\t\t\tPool: userPool,\n\t\t\t\t}),\n\t\t\t\t{\n\t\t\t\t\tchallengeName: 'CUSTOM_CHALLENGE',\n\t\t\t\t\tchallengeParam: 'challengeParam',\n\t\t\t\t}\n\t\t\t);\n\t\t\tconst errorMessage = new NoUserPoolError(\n\t\t\t\tAuthErrorTypes.MissingAuthConfig\n\t\t\t);\n\n\t\t\texpect.assertions(2);\n\t\t\texpect(\n\t\t\t\tauth\n\t\t\t\t\t.sendCustomChallengeAnswer(\n\t\t\t\t\t\tuserAfterCustomChallengeAnswer,\n\t\t\t\t\t\t'challengeResponse'\n\t\t\t\t\t)\n\t\t\t\t\t.then()\n\t\t\t).rejects.toThrow(AuthError);\n\n\t\t\texpect(\n\t\t\t\tauth\n\t\t\t\t\t.sendCustomChallengeAnswer(\n\t\t\t\t\t\tuserAfterCustomChallengeAnswer,\n\t\t\t\t\t\t'challengeResponse'\n\t\t\t\t\t)\n\t\t\t\t\t.then()\n\t\t\t).rejects.toEqual(errorMessage);\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "remember device happy path",
            "suites": [
                "auth unit test",
                "Device Tracking"
            ],
            "updatePoint": {
                "line": 3834,
                "column": 34
            },
            "line": 3834,
            "code": "\t\ttest('remember device happy path', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUserSession.prototype, 'getAccessToken')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new CognitoAccessToken({ AccessToken: 'accessToken' });\n\t\t\t\t});\n\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(CognitoAccessToken.prototype, 'decodePayload')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn { scope: '' };\n\t\t\t\t});\n\n\t\t\tconst spyOnCognito = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'setDeviceStatusRemembered')\n\t\t\t\t.mockImplementationOnce(\n\t\t\t\t\t(obj: {\n\t\t\t\t\t\tonSuccess: (success: string) => void;\n\t\t\t\t\t\tonFailure: (err: any) => void;\n\t\t\t\t\t}) => {\n\t\t\t\t\t\tobj.onSuccess('SUCCESS');\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\tawait auth.rememberDevice().then(res => {\n\t\t\t\texpect(spyOnCognito).toBeCalled();\n\t\t\t});\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t\tspyOnCognito.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "forget device happy path",
            "suites": [
                "auth unit test",
                "Device Tracking"
            ],
            "updatePoint": {
                "line": 3867,
                "column": 32
            },
            "line": 3867,
            "code": "\t\ttest('forget device happy path', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUserSession.prototype, 'getAccessToken')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new CognitoAccessToken({ AccessToken: 'accessToken' });\n\t\t\t\t});\n\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(CognitoAccessToken.prototype, 'decodePayload')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn { scope: '' };\n\t\t\t\t});\n\n\t\t\tconst spyOnCognito = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'forgetDevice')\n\t\t\t\t.mockImplementationOnce(\n\t\t\t\t\t(obj: {\n\t\t\t\t\t\tonSuccess: (success: string) => void;\n\t\t\t\t\t\tonFailure: (err: any) => void;\n\t\t\t\t\t}) => {\n\t\t\t\t\t\tobj.onSuccess('SUCCESS');\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\tawait auth.forgetDevice().then(res => {\n\t\t\t\texpect(spyOnCognito).toBeCalled();\n\t\t\t});\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t\tspyOnCognito.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "list devices with no devices from Cognito happy path",
            "suites": [
                "auth unit test",
                "Device Tracking"
            ],
            "updatePoint": {
                "line": 3902,
                "column": 60
            },
            "line": 3902,
            "code": "\t\ttest('list devices with no devices from Cognito happy path', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUserSession.prototype, 'getAccessToken')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new CognitoAccessToken({ AccessToken: 'accessToken' });\n\t\t\t\t});\n\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(CognitoAccessToken.prototype, 'decodePayload')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn { scope: '' };\n\t\t\t\t});\n\n\t\t\tconst spyOnCognito = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'listDevices')\n\t\t\t\t.mockImplementationOnce(\n\t\t\t\t\t(\n\t\t\t\t\t\tMAX_DEVICES,\n\t\t\t\t\t\tnone: string,\n\t\t\t\t\t\tobj: {\n\t\t\t\t\t\t\tonSuccess: (success: Object) => void;\n\t\t\t\t\t\t\tonFailure: (err: any) => void;\n\t\t\t\t\t\t}\n\t\t\t\t\t) => {\n\t\t\t\t\t\tobj.onSuccess({ Devices: [] });\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\tawait auth.fetchDevices().then(res => {\n\t\t\t\texpect(spyOnCognito).toBeCalled();\n\t\t\t});\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t\tspyOnCognito.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "list devices with mock devices from Cognito happy path",
            "suites": [
                "auth unit test",
                "Device Tracking"
            ],
            "updatePoint": {
                "line": 3941,
                "column": 62
            },
            "line": 3941,
            "code": "\t\ttest('list devices with mock devices from Cognito happy path', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUserSession.prototype, 'getAccessToken')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn new CognitoAccessToken({ AccessToken: 'accessToken' });\n\t\t\t\t});\n\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(CognitoAccessToken.prototype, 'decodePayload')\n\t\t\t\t.mockImplementation(() => {\n\t\t\t\t\treturn { scope: '' };\n\t\t\t\t});\n\n\t\t\tconst spyOnCognito = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'listDevices')\n\t\t\t\t.mockImplementationOnce(\n\t\t\t\t\t(\n\t\t\t\t\t\tMAX_DEVICES,\n\t\t\t\t\t\tnone: string,\n\t\t\t\t\t\tobj: {\n\t\t\t\t\t\t\tonSuccess: (success: Object) => void;\n\t\t\t\t\t\t\tonFailure: (err: any) => void;\n\t\t\t\t\t\t}\n\t\t\t\t\t) => {\n\t\t\t\t\t\tobj.onSuccess({\n\t\t\t\t\t\t\tDevices: mockDeviceArray,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\tawait auth.fetchDevices().then(res => {\n\t\t\t\texpect(res).toMatchObject(transformedMockData);\n\t\t\t\texpect(spyOnCognito).toBeCalled();\n\t\t\t});\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t\tspyOnCognito.mockClear();\n\t\t});",
            "file": "auth-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "hosted UI in progress, signIn success",
            "suites": [
                "Hosted UI tests"
            ],
            "updatePoint": {
                "line": 199,
                "column": 44
            },
            "line": 199,
            "code": "\ttest('hosted UI in progress, signIn success', done => {\n\t\tconst auth = new Auth(authOptionsWithOAuth);\n\t\tconst user = new CognitoUser({\n\t\t\tUsername: 'username',\n\t\t\tPool: userPool,\n\t\t});\n\t\tconst spyonGetCurrentUser = jest\n\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t.mockImplementationOnce(() => {\n\t\t\t\treturn user;\n\t\t\t});\n\t\tjest\n\t\t\t.spyOn(CognitoUser.prototype, 'getSession')\n\t\t\t.mockImplementation((callback: any) => {\n\t\t\t\treturn callback(null, session);\n\t\t\t});\n\n\t\tjest\n\t\t\t.spyOn(CognitoUser.prototype, 'getUserData')\n\t\t\t.mockImplementationOnce((callback: any) => {\n\t\t\t\tconst data = {\n\t\t\t\t\tPreferredMfaSetting: 'SMS',\n\t\t\t\t\tUserAttributes: [{ Name: 'address', Value: 'xxxx' }],\n\t\t\t\t};\n\t\t\t\tcallback(null, data);\n\t\t\t});\n\n\t\tjest\n\t\t\t.spyOn(CognitoUserSession.prototype, 'getAccessToken')\n\t\t\t.mockImplementationOnce(() => {\n\t\t\t\treturn new CognitoAccessToken({ AccessToken: 'accessToken' });\n\t\t\t});\n\n\t\tjest\n\t\t\t.spyOn(CognitoAccessToken.prototype, 'decodePayload')\n\t\t\t.mockImplementation(() => {\n\t\t\t\treturn { scope: '' };\n\t\t\t});\n\n\t\texpect.assertions(2);\n\n\t\t(auth as any).oAuthFlowInProgress = true;\n\n\t\tauth.currentUserPoolUser().then(resUser => {\n\t\t\texpect(resUser).toEqual(user);\n\t\t\texpect(spyonGetCurrentUser).toBeCalledTimes(1);\n\t\t\tdone();\n\t\t});\n\n\t\tsetTimeout(() => {\n\t\t\tHub.dispatch('auth', {\n\t\t\t\tevent: 'cognitoHostedUI',\n\t\t\t});\n\t\t}, 0);\n\t});",
            "file": "hosted-ui.test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "globalSignOut hosted ui on browser, timeout reject",
            "suites": [
                "Hosted UI tests"
            ],
            "updatePoint": {
                "line": 255,
                "column": 57
            },
            "line": 255,
            "code": "\ttest('globalSignOut hosted ui on browser, timeout reject', async () => {\n\t\tjest.spyOn(StorageHelper.prototype, 'getStorage').mockImplementation(() => {\n\t\t\treturn {\n\t\t\t\tsetItem() {},\n\t\t\t\tgetItem() {\n\t\t\t\t\treturn 'true';\n\t\t\t\t},\n\t\t\t\tremoveItem() {},\n\t\t\t};\n\t\t});\n\n\t\tjest.spyOn(JS, 'browserOrNode').mockImplementation(() => ({\n\t\t\tisBrowser: true,\n\t\t\tisNode: false,\n\t\t}));\n\n\t\tconst auth = new Auth(authOptionsWithOAuth);\n\n\t\tconst user = new CognitoUser({\n\t\t\tUsername: 'username',\n\t\t\tPool: userPool,\n\t\t});\n\n\t\tjest.spyOn(Credentials, 'clear').mockImplementationOnce(() => {\n\t\t\treturn Promise.resolve();\n\t\t});\n\n\t\tjest\n\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t.mockImplementationOnce(() => {\n\t\t\t\treturn user;\n\t\t\t});\n\n\t\tconst spyGlobalSignOut = jest\n\t\t\t.spyOn(CognitoUser.prototype, 'globalSignOut')\n\t\t\t.mockImplementation(({ onSuccess }) => {\n\t\t\t\tonSuccess('success');\n\t\t\t});\n\n\t\t(auth as any)._oAuthHandler = {\n\t\t\tsignOut: () => {\n\t\t\t\t// testing timeout\n\t\t\t\treturn new Promise(() => {});\n\t\t\t},\n\t\t};\n\n\t\texpect.assertions(2);\n\n\t\ttry {\n\t\t\tawait auth.signOut({ global: true });\n\t\t} catch (err) {\n\t\t\texpect(err).toEqual('Signout timeout fail');\n\t\t}\n\n\t\texpect(spyGlobalSignOut).toBeCalled();\n\t});",
            "file": "hosted-ui.test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "globalSignOut hosted ui on node, resolve undefined",
            "suites": [
                "Hosted UI tests"
            ],
            "updatePoint": {
                "line": 311,
                "column": 57
            },
            "line": 311,
            "code": "\ttest('globalSignOut hosted ui on node, resolve undefined', async () => {\n\t\tjest.spyOn(StorageHelper.prototype, 'getStorage').mockImplementation(() => {\n\t\t\treturn {\n\t\t\t\tsetItem() {},\n\t\t\t\tgetItem() {\n\t\t\t\t\treturn 'true';\n\t\t\t\t},\n\t\t\t\tremoveItem() {},\n\t\t\t};\n\t\t});\n\n\t\tjest.spyOn(JS, 'browserOrNode').mockImplementation(() => ({\n\t\t\tisBrowser: false,\n\t\t\tisNode: true,\n\t\t}));\n\n\t\tconst auth = new Auth(authOptionsWithOAuth);\n\n\t\tconst user = new CognitoUser({\n\t\t\tUsername: 'username',\n\t\t\tPool: userPool,\n\t\t});\n\n\t\tjest.spyOn(Credentials, 'clear').mockImplementationOnce(() => {\n\t\t\treturn Promise.resolve();\n\t\t});\n\n\t\tjest\n\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t.mockImplementationOnce(() => {\n\t\t\t\treturn user;\n\t\t\t});\n\n\t\tconst spyGlobalSignOut = jest\n\t\t\t.spyOn(CognitoUser.prototype, 'globalSignOut')\n\t\t\t.mockImplementation(({ onSuccess }) => {\n\t\t\t\tonSuccess('success');\n\t\t\t});\n\n\t\t(auth as any)._oAuthHandler = {\n\t\t\tsignOut: () => {\n\t\t\t\t// testing timeout\n\t\t\t\treturn new Promise(() => {});\n\t\t\t},\n\t\t};\n\n\t\texpect.assertions(2);\n\n\t\tconst result = await auth.signOut({ global: true });\n\t\texpect(result).toBe(undefined);\n\n\t\texpect(spyGlobalSignOut).toBeCalled();\n\t});",
            "file": "hosted-ui.test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "SignOut hosted ui on node, resolve undefined",
            "suites": [
                "Hosted UI tests"
            ],
            "updatePoint": {
                "line": 365,
                "column": 51
            },
            "line": 365,
            "code": "\ttest('SignOut hosted ui on node, resolve undefined', async () => {\n\t\tjest.spyOn(StorageHelper.prototype, 'getStorage').mockImplementation(() => {\n\t\t\treturn {\n\t\t\t\tsetItem() {},\n\t\t\t\tgetItem() {\n\t\t\t\t\treturn 'true';\n\t\t\t\t},\n\t\t\t\tremoveItem() {},\n\t\t\t};\n\t\t});\n\n\t\tjest.spyOn(JS, 'browserOrNode').mockImplementation(() => ({\n\t\t\tisBrowser: false,\n\t\t\tisNode: true,\n\t\t}));\n\n\t\tconst auth = new Auth(authOptionsWithOAuth);\n\n\t\tconst user = new CognitoUser({\n\t\t\tUsername: 'username',\n\t\t\tPool: userPool,\n\t\t});\n\n\t\tjest.spyOn(Credentials, 'clear').mockImplementationOnce(() => {\n\t\t\treturn Promise.resolve();\n\t\t});\n\n\t\tjest\n\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t.mockImplementationOnce(() => {\n\t\t\t\treturn user;\n\t\t\t});\n\n\t\t(auth as any)._oAuthHandler = {\n\t\t\tsignOut: () => {\n\t\t\t\t// testing timeout\n\t\t\t\treturn new Promise(() => {});\n\t\t\t},\n\t\t};\n\n\t\texpect.assertions(1);\n\n\t\tconst signoutResult = await auth.signOut({ global: false }); // return undefined on node\n\t\texpect(signoutResult).toBe(undefined);\n\t});",
            "file": "hosted-ui.test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "SignOut hosted ui on WebBrowser, timeout reject",
            "suites": [
                "Hosted UI tests"
            ],
            "updatePoint": {
                "line": 411,
                "column": 54
            },
            "line": 411,
            "code": "\ttest('SignOut hosted ui on WebBrowser, timeout reject', async () => {\n\t\tjest.spyOn(StorageHelper.prototype, 'getStorage').mockImplementation(() => {\n\t\t\treturn {\n\t\t\t\tsetItem() {},\n\t\t\t\tgetItem() {\n\t\t\t\t\treturn 'true';\n\t\t\t\t},\n\t\t\t\tremoveItem() {},\n\t\t\t};\n\t\t});\n\n\t\tjest.spyOn(JS, 'browserOrNode').mockImplementation(() => ({\n\t\t\tisBrowser: true,\n\t\t\tisNode: false,\n\t\t}));\n\n\t\tconst auth = new Auth(authOptionsWithOAuth);\n\n\t\tconst user = new CognitoUser({\n\t\t\tUsername: 'username',\n\t\t\tPool: userPool,\n\t\t});\n\n\t\tjest.spyOn(Credentials, 'clear').mockImplementationOnce(() => {\n\t\t\treturn Promise.resolve();\n\t\t});\n\n\t\tjest\n\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t.mockImplementationOnce(() => {\n\t\t\t\treturn user;\n\t\t\t});\n\n\t\t(auth as any)._oAuthHandler = {\n\t\t\tsignOut: () => {\n\t\t\t\t// testing timeout\n\t\t\t\treturn new Promise(() => {});\n\t\t\t},\n\t\t};\n\n\t\texpect.assertions(1);\n\n\t\ttry {\n\t\t\tawait auth.signOut({ global: false });\n\t\t} catch (err) {\n\t\t\texpect(err).toEqual('Signout timeout fail');\n\t\t}\n\t});",
            "file": "hosted-ui.test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "globalSignOut hosted ui, url opener",
            "suites": [
                "Hosted UI tests"
            ],
            "updatePoint": {
                "line": 460,
                "column": 42
            },
            "line": 460,
            "code": "\ttest('globalSignOut hosted ui, url opener', done => {\n\t\tjest.spyOn(StorageHelper.prototype, 'getStorage').mockImplementation(() => {\n\t\t\treturn {\n\t\t\t\tsetItem() {},\n\t\t\t\tgetItem() {\n\t\t\t\t\treturn 'true';\n\t\t\t\t},\n\t\t\t\tremoveItem() {},\n\t\t\t};\n\t\t});\n\n\t\tconst urlOpener = jest.fn(\n\t\t\t(url: string, redirectUrl: string): Promise<any> => {\n\t\t\t\treturn new Promise(() => {\n\t\t\t\t\treturn new Promise(() => {\n\t\t\t\t\t\texpect(url).toEqual(\n\t\t\t\t\t\t\t'https://xxxxxxxxxxxx-xxxxxx-xxx.auth.us-west-2.amazoncognito.com/logout?client_id=awsUserPoolsWebClientId&logout_uri=http%3A%2F%2Flocalhost%3A4200%2F'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tdone();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t\tconst options = {\n\t\t\t...authOptionsWithOAuth,\n\t\t};\n\t\toptions.oauth.urlOpener = urlOpener;\n\n\t\tconst auth = new Auth(options);\n\n\t\tconst user = new CognitoUser({\n\t\t\tUsername: 'username',\n\t\t\tPool: userPool,\n\t\t});\n\n\t\tjest.spyOn(Credentials, 'clear').mockImplementationOnce(() => {\n\t\t\treturn Promise.resolve();\n\t\t});\n\n\t\tjest\n\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t.mockImplementationOnce(() => {\n\t\t\t\treturn user;\n\t\t\t});\n\n\t\texpect.assertions(1);\n\n\t\tauth.signOut({ global: true });\n\t});",
            "file": "hosted-ui.test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "SignOut hosted ui, urlOpener",
            "suites": [
                "Hosted UI tests"
            ],
            "updatePoint": {
                "line": 511,
                "column": 35
            },
            "line": 511,
            "code": "\ttest('SignOut hosted ui, urlOpener', done => {\n\t\tjest.spyOn(StorageHelper.prototype, 'getStorage').mockImplementation(() => {\n\t\t\treturn {\n\t\t\t\tsetItem() {},\n\t\t\t\tgetItem() {\n\t\t\t\t\treturn 'true';\n\t\t\t\t},\n\t\t\t\tremoveItem() {},\n\t\t\t};\n\t\t});\n\n\t\tconst urlOpener = jest.fn(\n\t\t\t(url: string): Promise<any> => {\n\t\t\t\treturn new Promise(() => {\n\t\t\t\t\texpect(url).toEqual(\n\t\t\t\t\t\t'https://xxxxxxxxxxxx-xxxxxx-xxx.auth.us-west-2.amazoncognito.com/logout?client_id=awsUserPoolsWebClientId&logout_uri=http%3A%2F%2Flocalhost%3A4200%2F'\n\t\t\t\t\t);\n\n\t\t\t\t\tdone();\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t\tconst options = {\n\t\t\t...authOptionsWithOAuth,\n\t\t};\n\t\toptions.oauth.urlOpener = urlOpener;\n\n\t\tconst auth = new Auth(options);\n\n\t\tconst user = new CognitoUser({\n\t\t\tUsername: 'username',\n\t\t\tPool: userPool,\n\t\t});\n\n\t\tjest.spyOn(Credentials, 'clear').mockImplementationOnce(() => {\n\t\t\treturn Promise.resolve();\n\t\t});\n\n\t\tjest\n\t\t\t.spyOn(CognitoUserPool.prototype, 'getCurrentUser')\n\t\t\t.mockImplementationOnce(() => {\n\t\t\t\treturn user;\n\t\t\t});\n\n\t\texpect.assertions(1);\n\n\t\tauth.signOut({ global: true });\n\t});",
            "file": "hosted-ui.test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "nothing happens for the code flow when the code query parameter is not specified",
            "suites": [
                "OAuth",
                "handleAuthResponse"
            ],
            "updatePoint": {
                "line": 39,
                "column": 88
            },
            "line": 39,
            "code": "\t\ttest('nothing happens for the code flow when the code query parameter is not specified', async () => {\n\t\t\tconst currentUrl = 'https://test.com';\n\t\t\tconst config = {\n\t\t\t\tdomain: '',\n\t\t\t\tclientID: '',\n\t\t\t\tscope: '',\n\t\t\t\tredirectUri: '',\n\t\t\t\taudience: '',\n\t\t\t\tresponseType: 'code',\n\t\t\t\treturnTo: '',\n\t\t\t\tredirectSignIn: currentUrl,\n\t\t\t};\n\t\t\tconst oAuth = new OAuth({\n\t\t\t\tscopes: [],\n\t\t\t\tconfig,\n\t\t\t\tcognitoClientId: '',\n\t\t\t});\n\n\t\t\tconst handleResponse = await oAuth.handleAuthResponse(currentUrl);\n\t\t\texpect(handleResponse).toEqual({ state: undefined });\n\t\t});",
            "file": "oauth-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "accessToken, refreshToken, and idToken for the code flow are returned when the code query parameter is specified",
            "suites": [
                "OAuth",
                "handleAuthResponse"
            ],
            "updatePoint": {
                "line": 60,
                "column": 120
            },
            "line": 60,
            "code": "\t\ttest('accessToken, refreshToken, and idToken for the code flow are returned when the code query parameter is specified', async () => {\n\t\t\tconst currentUrl = 'https://test.com';\n\t\t\tconst config = {\n\t\t\t\tdomain: '',\n\t\t\t\tclientID: '',\n\t\t\t\tscope: '',\n\t\t\t\tredirectUri: '',\n\t\t\t\taudience: '',\n\t\t\t\tresponseType: 'code',\n\t\t\t\treturnTo: '',\n\t\t\t\tredirectSignIn: currentUrl,\n\t\t\t};\n\t\t\tconst oAuth = new OAuth({\n\t\t\t\tscopes: [],\n\t\t\t\tconfig,\n\t\t\t\tcognitoClientId: '',\n\t\t\t});\n\t\t\tconst mockAccessToken = 'mockAccessToken';\n\t\t\tconst mockRefreshToken = 'mockRefreshToken';\n\t\t\tconst mockIdToken = 'mockIdToken';\n\n\t\t\tfetchMockReturn({\n\t\t\t\taccess_token: mockAccessToken,\n\t\t\t\trefresh_token: mockRefreshToken,\n\t\t\t\tid_token: mockIdToken,\n\t\t\t});\n\n\t\t\tconst handleResponse = await oAuth.handleAuthResponse(\n\t\t\t\t`${currentUrl}?code=12345`\n\t\t\t);\n\t\t\texpect(handleResponse).toEqual({\n\t\t\t\tstate: undefined,\n\t\t\t\taccessToken: mockAccessToken,\n\t\t\t\trefreshToken: mockRefreshToken,\n\t\t\t\tidToken: mockIdToken,\n\t\t\t});\n\t\t});",
            "file": "oauth-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "nothing happens for the code flow when the current URL is different than the redirect URL",
            "suites": [
                "OAuth",
                "handleAuthResponse"
            ],
            "updatePoint": {
                "line": 97,
                "column": 97
            },
            "line": 97,
            "code": "\t\ttest('nothing happens for the code flow when the current URL is different than the redirect URL', async () => {\n\t\t\tconst config = {\n\t\t\t\tdomain: '',\n\t\t\t\tclientID: '',\n\t\t\t\tscope: '',\n\t\t\t\tredirectUri: '',\n\t\t\t\taudience: '',\n\t\t\t\tresponseType: 'code',\n\t\t\t\treturnTo: '',\n\t\t\t\tredirectSignIn: 'https://test.com',\n\t\t\t};\n\t\t\tconst oAuth = new OAuth({\n\t\t\t\tscopes: [],\n\t\t\t\tconfig,\n\t\t\t\tcognitoClientId: '',\n\t\t\t});\n\n\t\t\tconst handleResponse = await oAuth.handleAuthResponse(\n\t\t\t\t'https://test2.com'\n\t\t\t);\n\t\t\texpect(handleResponse).toEqual({ state: undefined });\n\t\t});",
            "file": "oauth-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "an error is thrown for the code flow when there is an error calling the token endpoint",
            "suites": [
                "OAuth",
                "handleAuthResponse"
            ],
            "updatePoint": {
                "line": 119,
                "column": 94
            },
            "line": 119,
            "code": "\t\ttest('an error is thrown for the code flow when there is an error calling the token endpoint', async () => {\n\t\t\tconst currentUrl = 'https://test.com';\n\t\t\tconst config = {\n\t\t\t\tdomain: '',\n\t\t\t\tclientID: '',\n\t\t\t\tscope: '',\n\t\t\t\tredirectUri: '',\n\t\t\t\taudience: '',\n\t\t\t\tresponseType: 'code',\n\t\t\t\treturnTo: '',\n\t\t\t\tredirectSignIn: currentUrl,\n\t\t\t};\n\t\t\tconst oAuth = new OAuth({\n\t\t\t\tscopes: [],\n\t\t\t\tconfig,\n\t\t\t\tcognitoClientId: '',\n\t\t\t});\n\t\t\tconst mockError = 'mock error';\n\t\t\tfetchMockReturn({\n\t\t\t\terror: mockError,\n\t\t\t});\n\n\t\t\ttry {\n\t\t\t\tawait oAuth.handleAuthResponse(`${currentUrl}?code=12345`);\n\t\t\t\tfail('error not thrown');\n\t\t\t} catch (err) {\n\t\t\t\texpect(err.message).toBe(mockError);\n\t\t\t}\n\t\t});",
            "file": "oauth-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "Tokens are returned when the currentUrl has three slashes",
            "suites": [
                "OAuth",
                "handleAuthResponse"
            ],
            "updatePoint": {
                "line": 148,
                "column": 65
            },
            "line": 148,
            "code": "\t\ttest('Tokens are returned when the currentUrl has three slashes', async () => {\n\t\t\tconst redirectSignIn = 'myapp://';\n\t\t\tconst currentUrl = 'myapp:///';\n\n\t\t\tconst config = {\n\t\t\t\tdomain: '',\n\t\t\t\tclientID: '',\n\t\t\t\tscope: '',\n\t\t\t\tredirectUri: '',\n\t\t\t\taudience: '',\n\t\t\t\tresponseType: 'code',\n\t\t\t\treturnTo: '',\n\t\t\t\tredirectSignIn,\n\t\t\t};\n\t\t\tconst oAuth = new OAuth({\n\t\t\t\tscopes: [],\n\t\t\t\tconfig,\n\t\t\t\tcognitoClientId: '',\n\t\t\t});\n\t\t\tconst mockAccessToken = 'mockAccessToken';\n\t\t\tconst mockRefreshToken = 'mockRefreshToken';\n\t\t\tconst mockIdToken = 'mockIdToken';\n\n\t\t\tfetchMockReturn({\n\t\t\t\taccess_token: mockAccessToken,\n\t\t\t\trefresh_token: mockRefreshToken,\n\t\t\t\tid_token: mockIdToken,\n\t\t\t});\n\n\t\t\tconst handleResponse = await oAuth.handleAuthResponse(\n\t\t\t\t`${currentUrl}?code=12345`\n\t\t\t);\n\t\t\texpect(handleResponse).toEqual({\n\t\t\t\tstate: undefined,\n\t\t\t\taccessToken: mockAccessToken,\n\t\t\t\trefreshToken: mockRefreshToken,\n\t\t\t\tidToken: mockIdToken,\n\t\t\t});\n\t\t});",
            "file": "oauth-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "getMFAOptions test"
            ],
            "updatePoint": {
                "line": 232,
                "column": 18
            },
            "line": 232,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'getMFAOptions');\n\t\t\texpect(await auth.getMFAOptions(user)).toBe('mfaOptions');\n\t\t\texpect(spyon).toBeCalled();\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "totp-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "err case",
            "suites": [
                "auth unit test",
                "getMFAOptions test"
            ],
            "updatePoint": {
                "line": 242,
                "column": 16
            },
            "line": 242,
            "code": "\t\ttest('err case', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'getMFAOptions')\n\t\t\t\t.mockImplementationOnce(callback => {\n\t\t\t\t\tcallback(new Error('err'), null);\n\t\t\t\t});\n\t\t\ttry {\n\t\t\t\tawait auth.getMFAOptions(user);\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toEqual(new Error('err'));\n\t\t\t}\n\t\t\texpect(spyon).toBeCalled();\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "totp-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "disableMFA test"
            ],
            "updatePoint": {
                "line": 261,
                "column": 18
            },
            "line": 261,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'disableMFA');\n\t\t\texpect(await auth.disableSMS(user)).toBe('Success');\n\t\t\texpect(spyon).toBeCalled();\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "totp-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "err case",
            "suites": [
                "auth unit test",
                "disableMFA test"
            ],
            "updatePoint": {
                "line": 271,
                "column": 16
            },
            "line": 271,
            "code": "\t\ttest('err case', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'disableMFA')\n\t\t\t\t.mockImplementationOnce(callback => {\n\t\t\t\t\tcallback(new Error('err'), null);\n\t\t\t\t});\n\t\t\ttry {\n\t\t\t\tawait auth.disableSMS(user);\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toEqual(new Error('err'));\n\t\t\t}\n\t\t\texpect(spyon).toBeCalled();\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "totp-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "enableMFA test"
            ],
            "updatePoint": {
                "line": 290,
                "column": 18
            },
            "line": 290,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'enableMFA');\n\t\t\texpect(await auth.enableSMS(user)).toBe('Success');\n\t\t\texpect(spyon).toBeCalled();\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "totp-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "err case",
            "suites": [
                "auth unit test",
                "enableMFA test"
            ],
            "updatePoint": {
                "line": 300,
                "column": 16
            },
            "line": 300,
            "code": "\t\ttest('err case', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'enableMFA')\n\t\t\t\t.mockImplementationOnce(callback => {\n\t\t\t\t\tcallback(new Error('err'), null);\n\t\t\t\t});\n\t\t\ttry {\n\t\t\t\tawait auth.enableSMS(user);\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toEqual(new Error('err'));\n\t\t\t}\n\t\t\texpect(spyon).toBeCalled();\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "totp-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "setupTOTP test"
            ],
            "updatePoint": {
                "line": 319,
                "column": 18
            },
            "line": 319,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'associateSoftwareToken');\n\t\t\texpect(await auth.setupTOTP(user)).toBe('secretCode');\n\t\t\texpect(spyon).toBeCalled();\n\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "totp-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "err case",
            "suites": [
                "auth unit test",
                "setupTOTP test"
            ],
            "updatePoint": {
                "line": 329,
                "column": 16
            },
            "line": 329,
            "code": "\t\ttest('err case', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'associateSoftwareToken')\n\t\t\t\t.mockImplementationOnce(callback => {\n\t\t\t\t\tcallback.onFailure('err');\n\t\t\t\t});\n\t\t\ttry {\n\t\t\t\tawait auth.setupTOTP(user);\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toBe('err');\n\t\t\t}\n\t\t\texpect(spyon).toBeCalled();\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "totp-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "verifyTotpToken test"
            ],
            "updatePoint": {
                "line": 348,
                "column": 18
            },
            "line": 348,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'verifySoftwareToken');\n\t\t\tconst spyon2 = jest.spyOn(CognitoUser.prototype, 'getUsername');\n\n\t\t\texpect(await auth.verifyTotpToken(user, 'challengeAnswer')).toBe(\n\t\t\t\t'Success'\n\t\t\t);\n\n\t\t\texpect(spyon).toBeCalled();\n\t\t\texpect(spyon2).toBeCalled();\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t});",
            "file": "totp-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "err case",
            "suites": [
                "auth unit test",
                "verifyTotpToken test"
            ],
            "updatePoint": {
                "line": 365,
                "column": 16
            },
            "line": 365,
            "code": "\t\ttest('err case', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'verifySoftwareToken')\n\t\t\t\t.mockImplementationOnce((challengeAnswer, device, callback) => {\n\t\t\t\t\tcallback.onFailure(new Error('err'));\n\t\t\t\t});\n\t\t\ttry {\n\t\t\t\tawait auth.verifyTotpToken(user, 'challengeAnswer');\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toEqual(new Error('err'));\n\t\t\t}\n\t\t\texpect(spyon).toBeCalled();\n\t\t\tspyon.mockClear();\n\t\t});",
            "file": "totp-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "setPreferredMFA test"
            ],
            "updatePoint": {
                "line": 384,
                "column": 18
            },
            "line": 384,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst spyon = jest.spyOn(CognitoUser.prototype, 'setUserMfaPreference');\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(Auth.prototype, 'getPreferredMFA')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve('SMS_MFA');\n\t\t\t\t});\n\t\t\texpect(await auth.setPreferredMFA(user, 'TOTP')).toBe('Success');\n\t\t\texpect(spyon).toBeCalled();\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t});",
            "file": "totp-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "totp not setup but TOTP chosed",
            "suites": [
                "auth unit test",
                "setPreferredMFA test"
            ],
            "updatePoint": {
                "line": 402,
                "column": 38
            },
            "line": 402,
            "code": "\t\ttest('totp not setup but TOTP chosed', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'setUserMfaPreference')\n\t\t\t\t.mockImplementationOnce((smsMfaSettings, totpMfaSettings, callback) => {\n\t\t\t\t\tconst err = {\n\t\t\t\t\t\tmessage: 'User has not verified software token mfa',\n\t\t\t\t\t};\n\t\t\t\t\tcallback(new Error('err'), null);\n\t\t\t\t});\n\t\t\tconst spyon2 = jest\n\t\t\t\t.spyOn(Auth.prototype, 'getPreferredMFA')\n\t\t\t\t.mockImplementationOnce(() => {\n\t\t\t\t\treturn Promise.resolve('SMS_MFA');\n\t\t\t\t});\n\n\t\t\ttry {\n\t\t\t\tawait auth.setPreferredMFA(user, 'TOTP');\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).not.toBeNull();\n\t\t\t}\n\t\t\texpect(spyon).toBeCalled();\n\n\t\t\tspyon.mockClear();\n\t\t\tspyon2.mockClear();\n\t\t});",
            "file": "totp-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "incorrect mfa type",
            "suites": [
                "auth unit test",
                "setPreferredMFA test"
            ],
            "updatePoint": {
                "line": 430,
                "column": 26
            },
            "line": 430,
            "code": "\t\ttest('incorrect mfa type', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\t\t\ttry {\n\t\t\t\t// using <any> to allow us to pass an incorrect value\n\t\t\t\tawait auth.setPreferredMFA(user, 'incorrect mfa type' as any);\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).not.toBeNull();\n\t\t\t}\n\t\t});",
            "file": "totp-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "happy case",
            "suites": [
                "auth unit test",
                "getPreferredMFA test"
            ],
            "updatePoint": {
                "line": 442,
                "column": 18
            },
            "line": 442,
            "code": "\t\ttest('happy case', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\texpect(await auth.getPreferredMFA(user)).toBe('SMS_MFA');\n\t\t});",
            "file": "totp-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "error case",
            "suites": [
                "auth unit test",
                "getPreferredMFA test"
            ],
            "updatePoint": {
                "line": 448,
                "column": 18
            },
            "line": 448,
            "code": "\t\ttest('error case', async () => {\n\t\t\tconst auth = new Auth(authOptions);\n\n\t\t\tconst spyon = jest\n\t\t\t\t.spyOn(CognitoUser.prototype, 'getUserData')\n\t\t\t\t.mockImplementationOnce(callback => {\n\t\t\t\t\tcallback(new Error('err'), null);\n\t\t\t\t});\n\t\t\ttry {\n\t\t\t\tawait auth.getPreferredMFA(user);\n\t\t\t} catch (e) {\n\t\t\t\texpect(e).toBe(new Error('err'));\n\t\t\t}\n\t\t});",
            "file": "totp-unit-test.ts",
            "skipped": false,
            "dir": "packages/auth/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "AuthenticatorComponentCore: "
            ],
            "updatePoint": {
                "line": 18,
                "column": 26,
                "index": 767
            },
            "line": 18,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/authenticator/authenticator.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a subscribe method",
            "suites": [
                "AuthenticatorComponentCore: "
            ],
            "updatePoint": {
                "line": 21,
                "column": 39,
                "index": 859
            },
            "line": 21,
            "code": "  it('...should have a subscribe method', () => {\n    expect(component.subscribe).toBeTruthy();\n  });",
            "file": "components/authenticator/authenticator.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a shouldHide method",
            "suites": [
                "AuthenticatorComponentCore: "
            ],
            "updatePoint": {
                "line": 24,
                "column": 40,
                "index": 962
            },
            "line": 24,
            "code": "  it('...should have a shouldHide method', () => {\n    expect(component.shouldHide).toBeTruthy();\n  });",
            "file": "components/authenticator/authenticator.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...the shouldHide method should return false when receiving a value not in the hide array",
            "suites": [
                "AuthenticatorComponentCore: "
            ],
            "updatePoint": {
                "line": 27,
                "column": 95,
                "index": 1121
            },
            "line": 27,
            "code": "  it('...the shouldHide method should return false when receiving a value not in the hide array', () => {\n    component.hide = ['value one', 'value two'];\n    expect(component.shouldHide('value three')).toEqual(false);\n  });",
            "file": "components/authenticator/authenticator.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...the shouldHide method should return true when receiving a value in the hide array",
            "suites": [
                "AuthenticatorComponentCore: "
            ],
            "updatePoint": {
                "line": 31,
                "column": 90,
                "index": 1341
            },
            "line": 31,
            "code": "  it('...the shouldHide method should return true when receiving a value in the hide array', () => {\n    component.hide = ['value one', 'value two'];\n    expect(component.shouldHide('value two')).toEqual(true);\n  });",
            "file": "components/authenticator/authenticator.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "AuthenticatorIonicComponent: "
            ],
            "updatePoint": {
                "line": 18,
                "column": 26,
                "index": 793
            },
            "line": 18,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/authenticator/authenticator.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a subscribe method",
            "suites": [
                "AuthenticatorIonicComponent: "
            ],
            "updatePoint": {
                "line": 21,
                "column": 39,
                "index": 885
            },
            "line": 21,
            "code": "  it('...should have a subscribe method', () => {\n    expect(component.subscribe).toBeTruthy();\n  });",
            "file": "components/authenticator/authenticator.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a shouldHide method",
            "suites": [
                "AuthenticatorIonicComponent: "
            ],
            "updatePoint": {
                "line": 24,
                "column": 40,
                "index": 988
            },
            "line": 24,
            "code": "  it('...should have a shouldHide method', () => {\n    expect(component.shouldHide).toBeTruthy();\n  });",
            "file": "components/authenticator/authenticator.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...the shouldHide method should return false when receiving a value not in the hide array",
            "suites": [
                "AuthenticatorIonicComponent: "
            ],
            "updatePoint": {
                "line": 27,
                "column": 95,
                "index": 1147
            },
            "line": 27,
            "code": "  it('...the shouldHide method should return false when receiving a value not in the hide array', () => {\n    component.hide = ['value one', 'value two'];\n    expect(component.shouldHide('value three')).toEqual(false);\n  });",
            "file": "components/authenticator/authenticator.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...the shouldHide method should return true when receiving a value in the hide array",
            "suites": [
                "AuthenticatorIonicComponent: "
            ],
            "updatePoint": {
                "line": 31,
                "column": 90,
                "index": 1367
            },
            "line": 31,
            "code": "  it('...the shouldHide method should return true when receiving a value in the hide array', () => {\n    component.hide = ['value one', 'value two'];\n    expect(component.shouldHide('value two')).toEqual(true);\n  });",
            "file": "components/authenticator/authenticator.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "ConfirmSignInComponentCore: "
            ],
            "updatePoint": {
                "line": 42,
                "column": 26,
                "index": 1676
            },
            "line": 42,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a setCode method",
            "suites": [
                "ConfirmSignInComponentCore: "
            ],
            "updatePoint": {
                "line": 45,
                "column": 37,
                "index": 1766
            },
            "line": 45,
            "code": "  it('...should have a setCode method', () => {\n    expect(component.setCode).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a code property that is initally undefined",
            "suites": [
                "ConfirmSignInComponentCore: "
            ],
            "updatePoint": {
                "line": 48,
                "column": 63,
                "index": 1890
            },
            "line": 48,
            "code": "  it('...should have a code property that is initally undefined', () => {\n    expect(component.code).toBeUndefined();\n  });",
            "file": "components/authenticator/confirm-sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...the setCode method should set the component's code property",
            "suites": [
                "ConfirmSignInComponentCore: "
            ],
            "updatePoint": {
                "line": 51,
                "column": 68,
                "index": 2019
            },
            "line": 51,
            "code": "  it(\"...the setCode method should set the component's code property\", () => {\n    component.setCode('200');\n    expect(component.code).toEqual('200');\n  });",
            "file": "components/authenticator/confirm-sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onConfirm method",
            "suites": [
                "ConfirmSignInComponentCore: "
            ],
            "updatePoint": {
                "line": 55,
                "column": 40,
                "index": 2149
            },
            "line": 55,
            "code": "  it('...should have an onConfirm method', () => {\n    expect(component.onConfirm).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call confirmSignIn within the onConfirm method",
            "suites": [
                "ConfirmSignInComponentCore: "
            ],
            "updatePoint": {
                "line": 58,
                "column": 62,
                "index": 2274
            },
            "line": 58,
            "code": "  it('...should call confirmSignIn within the onConfirm method', () => {\n    component._authState = {\n      user: {\n        challengeName: 'test-challange-name'\n      },\n      state: 'test-state'\n    };\n    const callingAuthState = component.onConfirm();\n    expect(service.auth().confirmSignIn).toBeCalled();\n  });",
            "file": "components/authenticator/confirm-sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSignIn method",
            "suites": [
                "ConfirmSignInComponentCore: "
            ],
            "updatePoint": {
                "line": 68,
                "column": 39,
                "index": 2567
            },
            "line": 68,
            "code": "  it('...should have an onSignIn method', () => {\n    expect(component.onSignIn).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call setAuthState within the onSignIn method",
            "suites": [
                "ConfirmSignInComponentCore: "
            ],
            "updatePoint": {
                "line": 71,
                "column": 60,
                "index": 2689
            },
            "line": 71,
            "code": "  it('...should call setAuthState within the onSignIn method', () => {\n    const callingAuthState = component.onSignIn();\n    expect(service.setAuthState).toBeCalled();\n  });",
            "file": "components/authenticator/confirm-sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a _setError method",
            "suites": [
                "ConfirmSignInComponentCore: "
            ],
            "updatePoint": {
                "line": 75,
                "column": 39,
                "index": 2843
            },
            "line": 75,
            "code": "  it('...should have a _setError method', () => {\n    expect(component._setError).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should not display if _show is not set",
            "suites": [
                "ConfirmSignInComponentCore: "
            ],
            "updatePoint": {
                "line": 78,
                "column": 47,
                "index": 2953
            },
            "line": 78,
            "code": "  it('...should not display if _show is not set', () => {\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-container');\n    expect(rootEl).toBeFalsy();\n  });",
            "file": "components/authenticator/confirm-sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should display if _show is set",
            "suites": [
                "ConfirmSignInComponentCore: "
            ],
            "updatePoint": {
                "line": 82,
                "column": 39,
                "index": 3132
            },
            "line": 82,
            "code": "  it('...should display if _show is set', () => {\n    fixtureComponent._show = true;\n    fixture.detectChanges();\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-container');\n    expect(rootEl).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onConfirm when button is clicked",
            "suites": [
                "ConfirmSignInComponentCore: "
            ],
            "updatePoint": {
                "line": 88,
                "column": 53,
                "index": 3390
            },
            "line": 88,
            "code": "  it('...should call onConfirm when button is clicked', () => {\n    fixtureComponent._show = true;\n    fixtureComponent._authState = {\n      state: 'confirmSignIn',\n      user: {}\n    };\n    fixture.detectChanges();\n    const button = fixture.debugElement.nativeElement.querySelector('.amplify-form-button');\n    button.click();\n    expect(onConfirmSpy).toHaveBeenCalled();\n    expect(confirmSignInSpy).toHaveBeenCalled();\n  });",
            "file": "components/authenticator/confirm-sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onSignIn when \"a\" tag is clicked",
            "suites": [
                "ConfirmSignInComponentCore: "
            ],
            "updatePoint": {
                "line": 100,
                "column": 53,
                "index": 3819
            },
            "line": 100,
            "code": "  it('...should call onSignIn when \"a\" tag is clicked', () => {\n    fixtureComponent._show = true;\n    fixture.detectChanges();\n    const a = fixture.debugElement.nativeElement.querySelector('.amplify-form-link');\n    a.click();\n    expect(onSignInSpy).toHaveBeenCalled();\n  });",
            "file": "components/authenticator/confirm-sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "ConfirmSignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 62,
                "column": 26,
                "index": 2165
            },
            "line": 62,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a setCode method",
            "suites": [
                "ConfirmSignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 65,
                "column": 37,
                "index": 2255
            },
            "line": 65,
            "code": "  it('...should have a setCode method', () => {\n    expect(component.setCode).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a code property that is initally undefined",
            "suites": [
                "ConfirmSignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 68,
                "column": 63,
                "index": 2379
            },
            "line": 68,
            "code": "  it('...should have a code property that is initally undefined', () => {\n    expect(component.code).toBeUndefined();\n  });",
            "file": "components/authenticator/confirm-sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...the setCode method should set the component's code property",
            "suites": [
                "ConfirmSignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 71,
                "column": 68,
                "index": 2508
            },
            "line": 71,
            "code": "  it(\"...the setCode method should set the component's code property\", () => {\n    component.setCode('200');\n    expect(component.code).toEqual('200');\n  });",
            "file": "components/authenticator/confirm-sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onConfirm method",
            "suites": [
                "ConfirmSignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 75,
                "column": 40,
                "index": 2638
            },
            "line": 75,
            "code": "  it('...should have an onConfirm method', () => {\n    expect(component.onConfirm).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call confirmSignIn within the onConfirm method",
            "suites": [
                "ConfirmSignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 78,
                "column": 62,
                "index": 2763
            },
            "line": 78,
            "code": "  it('...should call confirmSignIn within the onConfirm method', () => {\n    component._authState = {\n      user: {\n        challengeName: 'test-challange-name'\n      },\n      state: 'test-state'\n    };\n    const callingAuthState = component.onConfirm();\n    expect(service.auth().confirmSignIn).toBeCalled();\n  });",
            "file": "components/authenticator/confirm-sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSignIn method",
            "suites": [
                "ConfirmSignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 88,
                "column": 39,
                "index": 3056
            },
            "line": 88,
            "code": "  it('...should have an onSignIn method', () => {\n    expect(component.onSignIn).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call setAuthState within the onSignIn method",
            "suites": [
                "ConfirmSignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 91,
                "column": 60,
                "index": 3178
            },
            "line": 91,
            "code": "  it('...should call setAuthState within the onSignIn method', () => {\n    const callingAuthState = component.onSignIn();\n    expect(service.setAuthState).toBeCalled();\n  });",
            "file": "components/authenticator/confirm-sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a _setError method",
            "suites": [
                "ConfirmSignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 95,
                "column": 39,
                "index": 3332
            },
            "line": 95,
            "code": "  it('...should have a _setError method', () => {\n    expect(component._setError).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should not display if _show is not set",
            "suites": [
                "ConfirmSignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 98,
                "column": 47,
                "index": 3442
            },
            "line": 98,
            "code": "  it('...should not display if _show is not set', () => {\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-form-container');\n    expect(rootEl).toBeFalsy();\n  });",
            "file": "components/authenticator/confirm-sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should display if _show is set",
            "suites": [
                "ConfirmSignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 102,
                "column": 39,
                "index": 3626
            },
            "line": 102,
            "code": "  it('...should display if _show is set', () => {\n    fixtureComponent._show = true;\n    fixture.detectChanges();\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-form-container');\n    expect(rootEl).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onConfirm when button is clicked",
            "suites": [
                "ConfirmSignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 108,
                "column": 53,
                "index": 3889
            },
            "line": 108,
            "code": "  it('...should call onConfirm when button is clicked', () => {\n    fixtureComponent._show = true;\n    fixtureComponent._authState = {\n      state: 'confirmSignIn',\n      user: {}\n    };\n    fixture.detectChanges();\n    const button = fixture.debugElement.nativeElement.querySelector('ion-button');\n    button.click();\n    expect(onConfirmSpy).toHaveBeenCalled();\n    expect(confirmSignInSpy).toHaveBeenCalled();\n  });",
            "file": "components/authenticator/confirm-sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "ConfirmSignUpComponentCore: "
            ],
            "updatePoint": {
                "line": 39,
                "column": 26,
                "index": 1518
            },
            "line": 39,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onConfirm method",
            "suites": [
                "ConfirmSignUpComponentCore: "
            ],
            "updatePoint": {
                "line": 42,
                "column": 40,
                "index": 1611
            },
            "line": 42,
            "code": "  it('...should have an onConfirm method', () => {\n    expect(component.onConfirm).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onResend method",
            "suites": [
                "ConfirmSignUpComponentCore: "
            ],
            "updatePoint": {
                "line": 45,
                "column": 39,
                "index": 1713
            },
            "line": 45,
            "code": "  it('...should have an onResend method', () => {\n    expect(component.onResend).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSignIn method",
            "suites": [
                "ConfirmSignUpComponentCore: "
            ],
            "updatePoint": {
                "line": 48,
                "column": 39,
                "index": 1814
            },
            "line": 48,
            "code": "  it('...should have an onSignIn method', () => {\n    expect(component.onSignIn).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an setCode method",
            "suites": [
                "ConfirmSignUpComponentCore: "
            ],
            "updatePoint": {
                "line": 51,
                "column": 38,
                "index": 1914
            },
            "line": 51,
            "code": "  it('...should have an setCode method', () => {\n    expect(component.setCode).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an setUsername method",
            "suites": [
                "ConfirmSignUpComponentCore: "
            ],
            "updatePoint": {
                "line": 54,
                "column": 42,
                "index": 2017
            },
            "line": 54,
            "code": "  it('...should have an setUsername method', () => {\n    expect(component.setUsername).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should not display if _show is not set",
            "suites": [
                "ConfirmSignUpComponentCore: "
            ],
            "updatePoint": {
                "line": 57,
                "column": 47,
                "index": 2129
            },
            "line": 57,
            "code": "  it('...should not display if _show is not set', () => {\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-container');\n    expect(rootEl).toBeFalsy();\n  });",
            "file": "components/authenticator/confirm-sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should display if _show is set",
            "suites": [
                "ConfirmSignUpComponentCore: "
            ],
            "updatePoint": {
                "line": 61,
                "column": 39,
                "index": 2308
            },
            "line": 61,
            "code": "  it('...should display if _show is set', () => {\n    fixtureComponent._show = true;\n    fixture.detectChanges();\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-container');\n    expect(rootEl).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onConfirm when button is clicked",
            "suites": [
                "ConfirmSignUpComponentCore: "
            ],
            "updatePoint": {
                "line": 67,
                "column": 53,
                "index": 2566
            },
            "line": 67,
            "code": "  it('...should call onConfirm when button is clicked', () => {\n    fixtureComponent._show = true;\n    fixtureComponent._authState = {\n      state: 'confirmSignIn',\n      user: {}\n    };\n    fixture.detectChanges();\n    const button = fixture.debugElement.nativeElement.querySelector('.amplify-form-button');\n    button.click();\n    expect(onConfirmSpy).toHaveBeenCalled();\n    expect(confirmSignUpSpy).toHaveBeenCalled();\n  });",
            "file": "components/authenticator/confirm-sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onSignIn when \"a\" tag is clicked",
            "suites": [
                "ConfirmSignUpComponentCore: "
            ],
            "updatePoint": {
                "line": 79,
                "column": 53,
                "index": 2995
            },
            "line": 79,
            "code": "  it('...should call onSignIn when \"a\" tag is clicked', () => {\n    fixtureComponent._show = true;\n    fixture.detectChanges();\n    const parent = fixture.debugElement.nativeElement.querySelector('.amplify-form-actions-left');\n    const a = parent.querySelector('.amplify-form-link');\n    a.click();\n    expect(onSignInSpy).toHaveBeenCalled();\n  });",
            "file": "components/authenticator/confirm-sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "ConfirmSignUpComponentIonic: "
            ],
            "updatePoint": {
                "line": 39,
                "column": 26,
                "index": 1560
            },
            "line": 39,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-up.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onConfirm method",
            "suites": [
                "ConfirmSignUpComponentIonic: "
            ],
            "updatePoint": {
                "line": 42,
                "column": 40,
                "index": 1653
            },
            "line": 42,
            "code": "  it('...should have an onConfirm method', () => {\n    expect(component.onConfirm).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-up.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onResend method",
            "suites": [
                "ConfirmSignUpComponentIonic: "
            ],
            "updatePoint": {
                "line": 45,
                "column": 39,
                "index": 1755
            },
            "line": 45,
            "code": "  it('...should have an onResend method', () => {\n    expect(component.onResend).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-up.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSignIn method",
            "suites": [
                "ConfirmSignUpComponentIonic: "
            ],
            "updatePoint": {
                "line": 48,
                "column": 39,
                "index": 1856
            },
            "line": 48,
            "code": "  it('...should have an onSignIn method', () => {\n    expect(component.onSignIn).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-up.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an setCode method",
            "suites": [
                "ConfirmSignUpComponentIonic: "
            ],
            "updatePoint": {
                "line": 51,
                "column": 38,
                "index": 1956
            },
            "line": 51,
            "code": "  it('...should have an setCode method', () => {\n    expect(component.setCode).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-up.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an setUsername method",
            "suites": [
                "ConfirmSignUpComponentIonic: "
            ],
            "updatePoint": {
                "line": 54,
                "column": 42,
                "index": 2059
            },
            "line": 54,
            "code": "  it('...should have an setUsername method', () => {\n    expect(component.setUsername).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-up.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should not display if _show is not set",
            "suites": [
                "ConfirmSignUpComponentIonic: "
            ],
            "updatePoint": {
                "line": 57,
                "column": 47,
                "index": 2171
            },
            "line": 57,
            "code": "  it('...should not display if _show is not set', () => {\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-authenticator-ionic');\n    expect(rootEl).toBeFalsy();\n  });",
            "file": "components/authenticator/confirm-sign-up.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should display if _show is set",
            "suites": [
                "ConfirmSignUpComponentIonic: "
            ],
            "updatePoint": {
                "line": 61,
                "column": 39,
                "index": 2360
            },
            "line": 61,
            "code": "  it('...should display if _show is set', () => {\n    fixtureComponent._show = true;\n    fixture.detectChanges();\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-authenticator-ionic');\n    expect(rootEl).toBeTruthy();\n  });",
            "file": "components/authenticator/confirm-sign-up.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onConfirm when ion-button is clicked",
            "suites": [
                "ConfirmSignUpComponentIonic: "
            ],
            "updatePoint": {
                "line": 67,
                "column": 57,
                "index": 2632
            },
            "line": 67,
            "code": "  it('...should call onConfirm when ion-button is clicked', () => {\n    fixtureComponent._show = true;\n    fixture.detectChanges();\n    const button = fixture.debugElement.nativeElement.querySelector('ion-button');\n    button.click();\n    expect(onConfirmSpy).toHaveBeenCalled();\n    expect(confirmSignUpSpy).toHaveBeenCalled();\n  });",
            "file": "components/authenticator/confirm-sign-up.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "ForgotPasswordComponentCore: "
            ],
            "updatePoint": {
                "line": 46,
                "column": 26,
                "index": 1976
            },
            "line": 46,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/authenticator/forgot-password.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSend method",
            "suites": [
                "ForgotPasswordComponentCore: "
            ],
            "updatePoint": {
                "line": 49,
                "column": 37,
                "index": 2066
            },
            "line": 49,
            "code": "  it('...should have an onSend method', () => {\n    expect(component.onSend).toBeTruthy();\n  });",
            "file": "components/authenticator/forgot-password.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSignIn method",
            "suites": [
                "ForgotPasswordComponentCore: "
            ],
            "updatePoint": {
                "line": 52,
                "column": 39,
                "index": 2165
            },
            "line": 52,
            "code": "  it('...should have an onSignIn method', () => {\n    expect(component.onSignIn).toBeTruthy();\n  });",
            "file": "components/authenticator/forgot-password.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSubmit method",
            "suites": [
                "ForgotPasswordComponentCore: "
            ],
            "updatePoint": {
                "line": 55,
                "column": 39,
                "index": 2266
            },
            "line": 55,
            "code": "  it('...should have an onSubmit method', () => {\n    expect(component.onSubmit).toBeTruthy();\n  });",
            "file": "components/authenticator/forgot-password.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an setCode method",
            "suites": [
                "ForgotPasswordComponentCore: "
            ],
            "updatePoint": {
                "line": 58,
                "column": 38,
                "index": 2366
            },
            "line": 58,
            "code": "  it('...should have an setCode method', () => {\n    expect(component.setCode).toBeTruthy();\n  });",
            "file": "components/authenticator/forgot-password.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an _setError method",
            "suites": [
                "ForgotPasswordComponentCore: "
            ],
            "updatePoint": {
                "line": 61,
                "column": 40,
                "index": 2467
            },
            "line": 61,
            "code": "  it('...should have an _setError method', () => {\n    expect(component._setError).toBeTruthy();\n  });",
            "file": "components/authenticator/forgot-password.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should not display if _show is not set",
            "suites": [
                "ForgotPasswordComponentCore: "
            ],
            "updatePoint": {
                "line": 64,
                "column": 47,
                "index": 2577
            },
            "line": 64,
            "code": "  it('...should not display if _show is not set', () => {\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-container');\n    expect(rootEl).toBeFalsy();\n  });",
            "file": "components/authenticator/forgot-password.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should display if _show is set",
            "suites": [
                "ForgotPasswordComponentCore: "
            ],
            "updatePoint": {
                "line": 68,
                "column": 39,
                "index": 2756
            },
            "line": 68,
            "code": "  it('...should display if _show is set', () => {\n    fixtureComponent._show = true;\n    fixture.detectChanges();\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-container');\n    expect(rootEl).toBeTruthy();\n  });",
            "file": "components/authenticator/forgot-password.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onSend when button is clicked and !codeSent",
            "suites": [
                "ForgotPasswordComponentCore: "
            ],
            "updatePoint": {
                "line": 74,
                "column": 64,
                "index": 3025
            },
            "line": 74,
            "code": "  it('...should call onSend when button is clicked and !codeSent', () => {\n    fixtureComponent._show = true;\n    fixtureComponent._authState = {\n      state: 'requireNewPassword',\n      user: {}\n    };\n    fixture.detectChanges();\n    const button = fixture.debugElement.nativeElement.querySelector('.amplify-form-button');\n    button.click();\n    expect(forgotPasswordSpy).not.toHaveBeenCalled();\n    expect(onSendSpy).toHaveBeenCalled();\n    fixtureComponent.username = 'username';\n    fixture.detectChanges();\n    button.click();\n    expect(forgotPasswordSpy).toHaveBeenCalled();\n  });",
            "file": "components/authenticator/forgot-password.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onSubmit when button is clicked and codeSent",
            "suites": [
                "ForgotPasswordComponentCore: "
            ],
            "updatePoint": {
                "line": 90,
                "column": 65,
                "index": 3616
            },
            "line": 90,
            "code": "  it('...should call onSubmit when button is clicked and codeSent', () => {\n    fixtureComponent._show = true;\n    fixtureComponent.code_sent = true;\n    fixtureComponent._authState = {\n      state: 'requireNewPassword',\n      user: {}\n    };\n    fixture.detectChanges();\n    const button = fixture.debugElement.nativeElement.querySelector('.amplify-form-button');\n    button.click();\n    expect(onSubmitSpy).toHaveBeenCalled();\n    expect(forgotPasswordSubmitSpy).toHaveBeenCalled();\n  });",
            "file": "components/authenticator/forgot-password.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onSend when a tag is clicked and codeSent",
            "suites": [
                "ForgotPasswordComponentCore: "
            ],
            "updatePoint": {
                "line": 103,
                "column": 62,
                "index": 4104
            },
            "line": 103,
            "code": "  it('...should call onSend when a tag is clicked and codeSent', () => {\n    fixtureComponent._show = true;\n    fixtureComponent.code_sent = true;\n    fixtureComponent._authState = {\n      state: 'requireNewPassword',\n      user: {}\n    };\n    fixture.detectChanges();\n    const a = fixture.debugElement.nativeElement.querySelector('.amplify-form-link');\n    a.click();\n    expect(onSendSpy).toHaveBeenCalled();\n    expect(forgotPasswordSpy).toHaveBeenCalled();\n  });",
            "file": "components/authenticator/forgot-password.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onSignIn when a tag is clicked and !codeSent",
            "suites": [
                "ForgotPasswordComponentCore: "
            ],
            "updatePoint": {
                "line": 116,
                "column": 65,
                "index": 4575
            },
            "line": 116,
            "code": "  it('...should call onSignIn when a tag is clicked and !codeSent', () => {\n    fixtureComponent._show = true;\n    fixtureComponent._authState = {\n      state: 'requireNewPassword',\n      user: {}\n    };\n    fixture.detectChanges();\n    const a = fixture.debugElement.nativeElement.querySelector('.amplify-form-link');\n    a.click();\n    expect(onSignInSpy).toHaveBeenCalled();\n  });",
            "file": "components/authenticator/forgot-password.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "ForgotPasswordComponentIonic: "
            ],
            "updatePoint": {
                "line": 43,
                "column": 26,
                "index": 1751
            },
            "line": 43,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/authenticator/forgot-password.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSend method",
            "suites": [
                "ForgotPasswordComponentIonic: "
            ],
            "updatePoint": {
                "line": 46,
                "column": 37,
                "index": 1841
            },
            "line": 46,
            "code": "  it('...should have an onSend method', () => {\n    expect(component.onSend).toBeTruthy();\n  });",
            "file": "components/authenticator/forgot-password.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSignIn method",
            "suites": [
                "ForgotPasswordComponentIonic: "
            ],
            "updatePoint": {
                "line": 49,
                "column": 39,
                "index": 1940
            },
            "line": 49,
            "code": "  it('...should have an onSignIn method', () => {\n    expect(component.onSignIn).toBeTruthy();\n  });",
            "file": "components/authenticator/forgot-password.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSubmit method",
            "suites": [
                "ForgotPasswordComponentIonic: "
            ],
            "updatePoint": {
                "line": 52,
                "column": 39,
                "index": 2041
            },
            "line": 52,
            "code": "  it('...should have an onSubmit method', () => {\n    expect(component.onSubmit).toBeTruthy();\n  });",
            "file": "components/authenticator/forgot-password.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an setCode method",
            "suites": [
                "ForgotPasswordComponentIonic: "
            ],
            "updatePoint": {
                "line": 55,
                "column": 38,
                "index": 2141
            },
            "line": 55,
            "code": "  it('...should have an setCode method', () => {\n    expect(component.setCode).toBeTruthy();\n  });",
            "file": "components/authenticator/forgot-password.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an _setError method",
            "suites": [
                "ForgotPasswordComponentIonic: "
            ],
            "updatePoint": {
                "line": 58,
                "column": 40,
                "index": 2242
            },
            "line": 58,
            "code": "  it('...should have an _setError method', () => {\n    expect(component._setError).toBeTruthy();\n  });",
            "file": "components/authenticator/forgot-password.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should not display if _show is not set",
            "suites": [
                "ForgotPasswordComponentIonic: "
            ],
            "updatePoint": {
                "line": 61,
                "column": 47,
                "index": 2352
            },
            "line": 61,
            "code": "  it('...should not display if _show is not set', () => {\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-authenticator-ionic');\n    expect(rootEl).toBeFalsy();\n  });",
            "file": "components/authenticator/forgot-password.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should display if _show is set",
            "suites": [
                "ForgotPasswordComponentIonic: "
            ],
            "updatePoint": {
                "line": 65,
                "column": 39,
                "index": 2541
            },
            "line": 65,
            "code": "  it('...should display if _show is set', () => {\n    fixtureComponent._show = true;\n    fixture.detectChanges();\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-authenticator-ionic');\n    expect(rootEl).toBeTruthy();\n  });",
            "file": "components/authenticator/forgot-password.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onSend when button is clicked and !codeSent",
            "suites": [
                "ForgotPasswordComponentIonic: "
            ],
            "updatePoint": {
                "line": 71,
                "column": 64,
                "index": 2820
            },
            "line": 71,
            "code": "  it('...should call onSend when button is clicked and !codeSent', () => {\n    fixtureComponent._show = true;\n    fixtureComponent._authState = {\n      state: 'requireNewPassword',\n      user: {}\n    };\n    fixture.detectChanges();\n    const button = fixture.debugElement.nativeElement.querySelector('ion-button');\n    button.click();\n    expect(forgotPasswordSpy).not.toHaveBeenCalled();\n    expect(onSendSpy).toHaveBeenCalled();\n    fixtureComponent.username = 'username';\n    fixture.detectChanges();\n    button.click();\n    expect(forgotPasswordSpy).toHaveBeenCalled();\n  });",
            "file": "components/authenticator/forgot-password.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onSubmit when button is clicked and codeSent",
            "suites": [
                "ForgotPasswordComponentIonic: "
            ],
            "updatePoint": {
                "line": 87,
                "column": 65,
                "index": 3401
            },
            "line": 87,
            "code": "  it('...should call onSubmit when button is clicked and codeSent', () => {\n    fixtureComponent._show = true;\n    fixtureComponent.code_sent = true;\n    fixtureComponent._authState = {\n      state: 'requireNewPassword',\n      user: {}\n    };\n    fixture.detectChanges();\n    const button = fixture.debugElement.nativeElement.querySelector('ion-button');\n    button.click();\n    expect(onSubmitSpy).toHaveBeenCalled();\n    expect(forgotPasswordSubmitSpy).toHaveBeenCalled();\n  });",
            "file": "components/authenticator/forgot-password.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "GreetingsComponentCore: "
            ],
            "updatePoint": {
                "line": 36,
                "column": 26,
                "index": 1354
            },
            "line": 36,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/authenticator/greetings.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSignOut method",
            "suites": [
                "GreetingsComponentCore: "
            ],
            "updatePoint": {
                "line": 39,
                "column": 40,
                "index": 1447
            },
            "line": 39,
            "code": "  it('...should have an onSignOut method', () => {\n    expect(component.onSignOut).toBeTruthy();\n  });",
            "file": "components/authenticator/greetings.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a setAuthState method",
            "suites": [
                "GreetingsComponentCore: "
            ],
            "updatePoint": {
                "line": 42,
                "column": 42,
                "index": 1552
            },
            "line": 42,
            "code": "  it('...should have a setAuthState method', () => {\n    expect(component.setAuthState).toBeTruthy();\n  });",
            "file": "components/authenticator/greetings.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a subscribe method",
            "suites": [
                "GreetingsComponentCore: "
            ],
            "updatePoint": {
                "line": 45,
                "column": 39,
                "index": 1657
            },
            "line": 45,
            "code": "  it('...should have a subscribe method', () => {\n    expect(component.subscribe).toBeTruthy();\n  });",
            "file": "components/authenticator/greetings.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should not display if _show is not set",
            "suites": [
                "GreetingsComponentCore: "
            ],
            "updatePoint": {
                "line": 48,
                "column": 47,
                "index": 1767
            },
            "line": 48,
            "code": "  it('...should not display if _show is not set', () => {\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-greeting');\n    expect(rootEl).toBeFalsy();\n  });",
            "file": "components/authenticator/greetings.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should display if _show is set",
            "suites": [
                "GreetingsComponentCore: "
            ],
            "updatePoint": {
                "line": 52,
                "column": 39,
                "index": 1945
            },
            "line": 52,
            "code": "  it('...should display if _show is set', () => {\n    fixtureComponent.signedIn = true;\n    fixture.detectChanges();\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-greeting');\n    expect(rootEl).toBeTruthy();\n  });",
            "file": "components/authenticator/greetings.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onSignOut when \"a\" tag is clicked",
            "suites": [
                "GreetingsComponentCore: "
            ],
            "updatePoint": {
                "line": 58,
                "column": 54,
                "index": 2206
            },
            "line": 58,
            "code": "  it('...should call onSignOut when \"a\" tag is clicked', () => {\n    fixtureComponent.signedIn = true;\n    fixtureComponent.authState = {\n      state: 'signedIn',\n      user: {}\n    };\n    fixture.detectChanges();\n    const a = fixture.debugElement.nativeElement.querySelector('a');\n    a.click();\n    expect(onSignOutSpy).toHaveBeenCalled();\n    expect(signOutSpy).toHaveBeenCalled();\n  });",
            "file": "components/authenticator/greetings.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "GreetingsComponentCore: "
            ],
            "updatePoint": {
                "line": 37,
                "column": 26,
                "index": 1424
            },
            "line": 37,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/authenticator/greetings.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSignOut method",
            "suites": [
                "GreetingsComponentCore: "
            ],
            "updatePoint": {
                "line": 40,
                "column": 40,
                "index": 1517
            },
            "line": 40,
            "code": "  it('...should have an onSignOut method', () => {\n    expect(component.onSignOut).toBeTruthy();\n  });",
            "file": "components/authenticator/greetings.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a setAuthState method",
            "suites": [
                "GreetingsComponentCore: "
            ],
            "updatePoint": {
                "line": 43,
                "column": 42,
                "index": 1622
            },
            "line": 43,
            "code": "  it('...should have a setAuthState method', () => {\n    expect(component.setAuthState).toBeTruthy();\n  });",
            "file": "components/authenticator/greetings.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a subscribe method",
            "suites": [
                "GreetingsComponentCore: "
            ],
            "updatePoint": {
                "line": 46,
                "column": 39,
                "index": 1727
            },
            "line": 46,
            "code": "  it('...should have a subscribe method', () => {\n    expect(component.subscribe).toBeTruthy();\n  });",
            "file": "components/authenticator/greetings.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should not display if _show is not set",
            "suites": [
                "GreetingsComponentCore: "
            ],
            "updatePoint": {
                "line": 49,
                "column": 47,
                "index": 1837
            },
            "line": 49,
            "code": "  it('...should not display if _show is not set', () => {\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-greeting');\n    expect(rootEl).toBeFalsy();\n  });",
            "file": "components/authenticator/greetings.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should display if _show is set",
            "suites": [
                "GreetingsComponentCore: "
            ],
            "updatePoint": {
                "line": 53,
                "column": 39,
                "index": 2015
            },
            "line": 53,
            "code": "  it('...should display if _show is set', () => {\n    fixtureComponent.signedIn = true;\n    fixture.detectChanges();\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-greeting');\n    expect(rootEl).toBeTruthy();\n  });",
            "file": "components/authenticator/greetings.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "PhoneFieldComponentCore: "
            ],
            "updatePoint": {
                "line": 34,
                "column": 26,
                "index": 1211
            },
            "line": 34,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/authenticator/phone-field.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "PhoneFieldComponentIonic: "
            ],
            "updatePoint": {
                "line": 33,
                "column": 26,
                "index": 1206
            },
            "line": 33,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/authenticator/phone-field.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "RequireNewPasswordComponentCore: "
            ],
            "updatePoint": {
                "line": 40,
                "column": 26,
                "index": 1592
            },
            "line": 40,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/authenticator/require-new-password.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSignIn method",
            "suites": [
                "RequireNewPasswordComponentCore: "
            ],
            "updatePoint": {
                "line": 43,
                "column": 39,
                "index": 1684
            },
            "line": 43,
            "code": "  it('...should have an onSignIn method', () => {\n    expect(component.onSignIn).toBeTruthy();\n  });",
            "file": "components/authenticator/require-new-password.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSubmit method",
            "suites": [
                "RequireNewPasswordComponentCore: "
            ],
            "updatePoint": {
                "line": 46,
                "column": 39,
                "index": 1785
            },
            "line": 46,
            "code": "  it('...should have an onSubmit method', () => {\n    expect(component.onSubmit).toBeTruthy();\n  });",
            "file": "components/authenticator/require-new-password.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a setPassword method",
            "suites": [
                "RequireNewPasswordComponentCore: "
            ],
            "updatePoint": {
                "line": 49,
                "column": 41,
                "index": 1888
            },
            "line": 49,
            "code": "  it('...should have a setPassword method', () => {\n    expect(component.setPassword).toBeTruthy();\n  });",
            "file": "components/authenticator/require-new-password.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a _setError method",
            "suites": [
                "RequireNewPasswordComponentCore: "
            ],
            "updatePoint": {
                "line": 52,
                "column": 39,
                "index": 1992
            },
            "line": 52,
            "code": "  it('...should have a _setError method', () => {\n    expect(component._setError).toBeTruthy();\n  });",
            "file": "components/authenticator/require-new-password.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should not display if _show is not set",
            "suites": [
                "RequireNewPasswordComponentCore: "
            ],
            "updatePoint": {
                "line": 55,
                "column": 47,
                "index": 2102
            },
            "line": 55,
            "code": "  it('...should not display if _show is not set', () => {\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-container');\n    expect(rootEl).toBeFalsy();\n  });",
            "file": "components/authenticator/require-new-password.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should display if _show is set",
            "suites": [
                "RequireNewPasswordComponentCore: "
            ],
            "updatePoint": {
                "line": 59,
                "column": 39,
                "index": 2281
            },
            "line": 59,
            "code": "  it('...should display if _show is set', () => {\n    fixtureComponent._show = true;\n    fixture.detectChanges();\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-container');\n    expect(rootEl).toBeTruthy();\n  });",
            "file": "components/authenticator/require-new-password.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onSubmit when button is clicked",
            "suites": [
                "RequireNewPasswordComponentCore: "
            ],
            "updatePoint": {
                "line": 65,
                "column": 52,
                "index": 2538
            },
            "line": 65,
            "code": "  it('...should call onSubmit when button is clicked', () => {\n    fixtureComponent._show = true;\n    fixtureComponent.authState = {\n      state: 'requireNewPassword',\n      user: {\n        challengeParam: {}\n      }\n    };\n    fixture.detectChanges();\n    const button = fixture.debugElement.nativeElement.querySelector('button');\n    button.click();\n    expect(onSubmitSpy).toHaveBeenCalled();\n    expect(completeNewPasswordSpy).toHaveBeenCalled();\n  });",
            "file": "components/authenticator/require-new-password.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onSignIn when \"a\" tag is clicked",
            "suites": [
                "RequireNewPasswordComponentCore: "
            ],
            "updatePoint": {
                "line": 79,
                "column": 53,
                "index": 2996
            },
            "line": 79,
            "code": "  it('...should call onSignIn when \"a\" tag is clicked', () => {\n    fixtureComponent._show = true;\n    fixture.detectChanges();\n    const a = fixture.debugElement.nativeElement.querySelector('a');\n    a.click();\n    expect(onSignInSpy).toHaveBeenCalled();\n  });",
            "file": "components/authenticator/require-new-password.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "SignInComponentCore: "
            ],
            "updatePoint": {
                "line": 46,
                "column": 26,
                "index": 1895
            },
            "line": 46,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onForgotPassword method",
            "suites": [
                "SignInComponentCore: "
            ],
            "updatePoint": {
                "line": 49,
                "column": 47,
                "index": 1995
            },
            "line": 49,
            "code": "  it('...should have an onForgotPassword method', () => {\n    expect(component.onForgotPassword).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call setAuthState within the onForgotPassword method",
            "suites": [
                "SignInComponentCore: "
            ],
            "updatePoint": {
                "line": 52,
                "column": 68,
                "index": 2133
            },
            "line": 52,
            "code": "  it('...should call setAuthState within the onForgotPassword method', () => {\n    component.username = 'test-username2';\n    const callingAuthState = component.onForgotPassword();\n    expect(service.setAuthState).toBeCalled();\n  });",
            "file": "components/authenticator/sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSignIn method",
            "suites": [
                "SignInComponentCore: "
            ],
            "updatePoint": {
                "line": 57,
                "column": 39,
                "index": 2338
            },
            "line": 57,
            "code": "  it('...should have an onSignIn method', () => {\n    expect(component.onSignIn).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call signIn within the onSignUp method",
            "suites": [
                "SignInComponentCore: "
            ],
            "updatePoint": {
                "line": 60,
                "column": 54,
                "index": 2454
            },
            "line": 60,
            "code": "  it('...should call signIn within the onSignUp method', () => {\n    component.username = 'test-username3';\n    component.password = 'test-password3';\n    const callingAuthState = component.onSignIn();\n    expect(signInSpy).toBeCalled();\n  });",
            "file": "components/authenticator/sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSignUp method",
            "suites": [
                "SignInComponentCore: "
            ],
            "updatePoint": {
                "line": 66,
                "column": 39,
                "index": 2683
            },
            "line": 66,
            "code": "  it('...should have an onSignUp method', () => {\n    expect(component.onSignUp).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call setAuthState within the onSignUp method",
            "suites": [
                "SignInComponentCore: "
            ],
            "updatePoint": {
                "line": 69,
                "column": 60,
                "index": 2805
            },
            "line": 69,
            "code": "  it('...should call setAuthState within the onSignUp method', () => {\n    component.username = 'test-username2';\n    const callingAuthState = component.onSignUp();\n    expect(service.setAuthState).toBeCalled();\n  });",
            "file": "components/authenticator/sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a setPassword method",
            "suites": [
                "SignInComponentCore: "
            ],
            "updatePoint": {
                "line": 74,
                "column": 41,
                "index": 3004
            },
            "line": 74,
            "code": "  it('...should have a setPassword method', () => {\n    expect(component.setPassword).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should set this.password with the setPassword method",
            "suites": [
                "SignInComponentCore: "
            ],
            "updatePoint": {
                "line": 77,
                "column": 61,
                "index": 3130
            },
            "line": 77,
            "code": "  it('...should set this.password with the setPassword method', () => {\n    component.setPassword('my-test-password');\n    expect(component.password).toEqual('my-test-password');\n  });",
            "file": "components/authenticator/sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a setUsername method",
            "suites": [
                "SignInComponentCore: "
            ],
            "updatePoint": {
                "line": 81,
                "column": 41,
                "index": 3295
            },
            "line": 81,
            "code": "  it('...should have a setUsername method', () => {\n    expect(component.setUsername).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should set this.username with the setUsername method",
            "suites": [
                "SignInComponentCore: "
            ],
            "updatePoint": {
                "line": 84,
                "column": 61,
                "index": 3421
            },
            "line": 84,
            "code": "  it('...should set this.username with the setUsername method', () => {\n    component.setUsername('my-test-name');\n    expect(component.username).toEqual('my-test-name');\n  });",
            "file": "components/authenticator/sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should not display if _show is not set",
            "suites": [
                "SignInComponentCore: "
            ],
            "updatePoint": {
                "line": 88,
                "column": 47,
                "index": 3584
            },
            "line": 88,
            "code": "  it('...should not display if _show is not set', () => {\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-container');\n    expect(rootEl).toBeFalsy();\n  });",
            "file": "components/authenticator/sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should display if _show is set",
            "suites": [
                "SignInComponentCore: "
            ],
            "updatePoint": {
                "line": 92,
                "column": 39,
                "index": 3763
            },
            "line": 92,
            "code": "  it('...should display if _show is set', () => {\n    fixtureComponent._show = true;\n    fixture.detectChanges();\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-container');\n    expect(rootEl).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onSignIn when button is clicked",
            "suites": [
                "SignInComponentCore: "
            ],
            "updatePoint": {
                "line": 98,
                "column": 52,
                "index": 4020
            },
            "line": 98,
            "code": "  it('...should call onSignIn when button is clicked', () => {\n    fixtureComponent._show = true;\n    fixture.detectChanges();\n    const button = fixture.debugElement.nativeElement.querySelector('.amplify-form-button');\n    button.click();\n    expect(onSignInSpy).toHaveBeenCalled();\n    expect(signInSpy).toHaveBeenCalled();\n  });",
            "file": "components/authenticator/sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onSignUp when \"No account?\" element is clicked",
            "suites": [
                "SignInComponentCore: "
            ],
            "updatePoint": {
                "line": 106,
                "column": 67,
                "index": 4367
            },
            "line": 106,
            "code": "  it('...should call onSignUp when \"No account?\" element is clicked', () => {\n    fixtureComponent._show = true;\n    fixture.detectChanges();\n    const parent = fixture.debugElement.nativeElement.querySelector('.amplify-form-signup');\n    const a = parent.querySelector('.amplify-form-link');\n    a.click();\n    expect(onSignUpSpy).toHaveBeenCalled();\n  });",
            "file": "components/authenticator/sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onForgotPassword when \"Forgot password?\" element is clicked",
            "suites": [
                "SignInComponentCore: "
            ],
            "updatePoint": {
                "line": 114,
                "column": 80,
                "index": 4738
            },
            "line": 114,
            "code": "  it('...should call onForgotPassword when \"Forgot password?\" element is clicked', () => {\n    fixtureComponent._show = true;\n    fixture.detectChanges();\n    const parent = fixture.debugElement.nativeElement.querySelector('.amplify-form-action');\n    const a = parent.querySelector('.amplify-form-link');\n    a.click();\n    expect(onForgotPasswordSpy).toHaveBeenCalled();\n  });",
            "file": "components/authenticator/sign-in.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "SignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 44,
                "column": 26,
                "index": 1705
            },
            "line": 44,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onForgotPassword method",
            "suites": [
                "SignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 47,
                "column": 47,
                "index": 1805
            },
            "line": 47,
            "code": "  it('...should have an onForgotPassword method', () => {\n    expect(component.onForgotPassword).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call setAuthState within the onForgotPassword method",
            "suites": [
                "SignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 50,
                "column": 68,
                "index": 1943
            },
            "line": 50,
            "code": "  it('...should call setAuthState within the onForgotPassword method', () => {\n    component.username = 'test-username2';\n    const callingAuthState = component.onForgotPassword();\n    expect(service.setAuthState).toBeCalled();\n    setAuthStateSpy.mockRestore();\n  });",
            "file": "components/authenticator/sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSignIn method",
            "suites": [
                "SignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 56,
                "column": 39,
                "index": 2183
            },
            "line": 56,
            "code": "  it('...should have an onSignIn method', () => {\n    expect(component.onSignIn).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call signIn within the onSignUp method",
            "suites": [
                "SignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 59,
                "column": 54,
                "index": 2299
            },
            "line": 59,
            "code": "  it('...should call signIn within the onSignUp method', () => {\n    component.username = 'test-username3';\n    component.password = 'test-password3';\n    const callingAuthState = component.onSignIn();\n    expect(signInSpy).toBeCalled();\n  });",
            "file": "components/authenticator/sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSignUp method",
            "suites": [
                "SignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 65,
                "column": 39,
                "index": 2528
            },
            "line": 65,
            "code": "  it('...should have an onSignUp method', () => {\n    expect(component.onSignUp).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call setAuthState within the onSignUp method",
            "suites": [
                "SignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 68,
                "column": 60,
                "index": 2650
            },
            "line": 68,
            "code": "  it('...should call setAuthState within the onSignUp method', () => {\n    component.username = 'test-username2';\n    const callingAuthState = component.onSignUp();\n    expect(service.setAuthState).toBeCalled();\n    setAuthStateSpy.mockRestore();\n  });",
            "file": "components/authenticator/sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a setPassword method",
            "suites": [
                "SignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 74,
                "column": 41,
                "index": 2884
            },
            "line": 74,
            "code": "  it('...should have a setPassword method', () => {\n    expect(component.setPassword).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should set this.password with the setPassword method",
            "suites": [
                "SignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 77,
                "column": 61,
                "index": 3010
            },
            "line": 77,
            "code": "  it('...should set this.password with the setPassword method', () => {\n    component.setPassword('my-test-password');\n    expect(component.password).toEqual('my-test-password');\n  });",
            "file": "components/authenticator/sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a setUsername method",
            "suites": [
                "SignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 81,
                "column": 41,
                "index": 3175
            },
            "line": 81,
            "code": "  it('...should have a setUsername method', () => {\n    expect(component.setUsername).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should set this.username with the setUsername method",
            "suites": [
                "SignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 84,
                "column": 61,
                "index": 3301
            },
            "line": 84,
            "code": "  it('...should set this.username with the setUsername method', () => {\n    component.setUsername('my-test-name');\n    expect(component.username).toEqual('my-test-name');\n  });",
            "file": "components/authenticator/sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should not display if _show is not set",
            "suites": [
                "SignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 88,
                "column": 47,
                "index": 3464
            },
            "line": 88,
            "code": "  it('...should not display if _show is not set', () => {\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-authenticator');\n    expect(rootEl).toBeFalsy();\n  });",
            "file": "components/authenticator/sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should display if _show is set",
            "suites": [
                "SignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 92,
                "column": 39,
                "index": 3647
            },
            "line": 92,
            "code": "  it('...should display if _show is set', () => {\n    fixtureComponent._show = true;\n    fixture.detectChanges();\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-authenticator');\n    expect(rootEl).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onSignIn when button is clicked",
            "suites": [
                "SignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 98,
                "column": 52,
                "index": 3908
            },
            "line": 98,
            "code": "  it('...should call onSignIn when button is clicked', () => {\n    fixtureComponent._show = true;\n    fixture.detectChanges();\n    const button = fixture.debugElement.nativeElement.querySelector('ion-button');\n    button.click();\n    expect(onSignInSpy).toHaveBeenCalled();\n    expect(signInSpy).toHaveBeenCalled();\n  });",
            "file": "components/authenticator/sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onSignUp when \"No account?\" element is clicked",
            "suites": [
                "SignInComponentIonic: "
            ],
            "updatePoint": {
                "line": 106,
                "column": 67,
                "index": 4245
            },
            "line": 106,
            "code": "  it('...should call onSignUp when \"No account?\" element is clicked', () => {\n    fixtureComponent._show = true;\n    fixture.detectChanges();\n    const parent = fixture.debugElement.nativeElement.querySelector('.amplify-form-signup');\n    const a = parent.querySelector('.amplify-form-link');\n    a.click();\n    expect(onSignUpSpy).toHaveBeenCalled();\n  });",
            "file": "components/authenticator/sign-in.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "SignUpComponentCore (basics): "
            ],
            "updatePoint": {
                "line": 23,
                "column": 26,
                "index": 1082
            },
            "line": 23,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onConfirmSignUp method",
            "suites": [
                "SignUpComponentCore (basics): "
            ],
            "updatePoint": {
                "line": 26,
                "column": 46,
                "index": 1181
            },
            "line": 26,
            "code": "  it('...should have an onConfirmSignUp method', () => {\n    expect(component.onConfirmSignUp).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSignIn method",
            "suites": [
                "SignUpComponentCore (basics): "
            ],
            "updatePoint": {
                "line": 29,
                "column": 39,
                "index": 1289
            },
            "line": 29,
            "code": "  it('...should have an onSignIn method', () => {\n    expect(component.onSignIn).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSignUp method",
            "suites": [
                "SignUpComponentCore (basics): "
            ],
            "updatePoint": {
                "line": 32,
                "column": 39,
                "index": 1390
            },
            "line": 32,
            "code": "  it('...should have an onSignUp method', () => {\n    expect(component.onSignUp).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an sortFields method",
            "suites": [
                "SignUpComponentCore (basics): "
            ],
            "updatePoint": {
                "line": 35,
                "column": 41,
                "index": 1493
            },
            "line": 35,
            "code": "  it('...should have an sortFields method', () => {\n    expect(component.sortFields).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created with 4 default signUpFields",
            "suites": [
                "SignUpComponentCore (methods and UI): "
            ],
            "updatePoint": {
                "line": 72,
                "column": 54,
                "index": 2678
            },
            "line": 72,
            "code": "  it('...should be created with 4 default signUpFields', () => {\n    expect(component.signUpFields.length).toBe(4);\n    expect(component.signUpFields.find(e => e.key === 'username')).toBeTruthy();\n    expect(component.signUpFields.find(e => e.key === 'password')).toBeTruthy();\n    expect(component.signUpFields.find(e => e.key === 'email')).toBeTruthy();\n    expect(component.signUpFields.find(e => e.key === 'phone_number')).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should insert fields passed via signUpConfig",
            "suites": [
                "SignUpComponentCore (methods and UI): ",
                "...with component ngOnInit..."
            ],
            "updatePoint": {
                "line": 90,
                "column": 55,
                "index": 3410
            },
            "line": 90,
            "code": "    it('...should insert fields passed via signUpConfig', () => {\n      expect(component.signUpFields.length).toBe(5);\n      expect(component.signUpFields.find(e => e.key === 'username')).toBeTruthy();\n      expect(component.signUpFields.find(e => e.key === 'password')).toBeTruthy();\n      expect(component.signUpFields.find(e => e.key === 'email')).toBeTruthy();\n      expect(component.signUpFields.find(e => e.key === 'phone_number')).toBeTruthy();\n      expect(component.signUpFields.find(e => e.key === 'testkey')).toBeTruthy();\n    });",
            "file": "components/authenticator/sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should insert only passed fields when hideDefaults is true",
            "suites": [
                "SignUpComponentCore (methods and UI): ",
                "...with component ngOnInit..."
            ],
            "updatePoint": {
                "line": 110,
                "column": 69,
                "index": 4256
            },
            "line": 110,
            "code": "    it('...should insert only passed fields when hideDefaults is true', () => {\n      component.signUpConfig = {\n        hideDefaults: true,\n        signUpFields: [{\n          key: 'testkey',\n          label: 'testlabel'\n        }]\n      };\n      expect(component.signUpFields.length).toBe(1);\n    });",
            "file": "components/authenticator/sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should exclude hiddentDefaults",
            "suites": [
                "SignUpComponentCore (methods and UI): ",
                "...with component ngOnInit..."
            ],
            "updatePoint": {
                "line": 129,
                "column": 41,
                "index": 4763
            },
            "line": 129,
            "code": "    it('...should exclude hiddentDefaults', () => {\n      expect(component.defaultSignUpFields.length).toBe(3);\n    });",
            "file": "components/authenticator/sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should order fields by display order",
            "suites": [
                "SignUpComponentCore (methods and UI): ",
                "...with component ngOnInit..."
            ],
            "updatePoint": {
                "line": 149,
                "column": 47,
                "index": 5305
            },
            "line": 149,
            "code": "    it('...should order fields by display order', () => {\n      expect(component.signUpFields[5].key).toBe('testkey1');\n      expect(component.signUpFields[4].key).toBe('testkey2');\n    });",
            "file": "components/authenticator/sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should not display if _show is not set",
            "suites": [
                "SignUpComponentCore (methods and UI): ",
                "...with component ngOnInit..."
            ],
            "updatePoint": {
                "line": 154,
                "column": 47,
                "index": 5501
            },
            "line": 154,
            "code": "  it('...should not display if _show is not set', () => {\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-container');\n    expect(rootEl).toBeFalsy();\n  });",
            "file": "components/authenticator/sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should display if _show is set",
            "suites": [
                "SignUpComponentCore (methods and UI): ",
                "...with component ngOnInit..."
            ],
            "updatePoint": {
                "line": 158,
                "column": 39,
                "index": 5680
            },
            "line": 158,
            "code": "  it('...should display if _show is set', () => {\n    fixtureComponent._show = true;\n    fixture.detectChanges();\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-container');\n    expect(rootEl).toBeTruthy();\n  }); // tslint:disable:max-line-length",
            "file": "components/authenticator/sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onSignUp when button is clicked (but signUp will not be called if validation does not pass)",
            "suites": [
                "SignUpComponentCore (methods and UI): ",
                "...with component ngOnInit..."
            ],
            "updatePoint": {
                "line": 165,
                "column": 112,
                "index": 6032
            },
            "line": 165,
            "code": "  it('...should call onSignUp when button is clicked (but signUp will not be called if validation does not pass)', () => {\n    fixtureComponent._show = true;\n    fixture.detectChanges();\n    const button = fixture.debugElement.nativeElement.querySelector('button');\n    button.click();\n    expect(onSignUpSpy).toHaveBeenCalled();\n    expect(signUpSpy).not.toHaveBeenCalled();\n  });",
            "file": "components/authenticator/sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onSignUp when button is clicked and signUp will be called since validation passes",
            "suites": [
                "SignUpComponentCore (methods and UI): ",
                "...with component ngOnInit..."
            ],
            "updatePoint": {
                "line": 173,
                "column": 102,
                "index": 6404
            },
            "line": 173,
            "code": "  it('...should call onSignUp when button is clicked and signUp will be called since validation passes', () => {\n    fixtureComponent._show = true;\n    fixtureComponent.user = {\n      username: 'testusername',\n      password: 'testpassword',\n      email: 'testemail'\n    };\n    fixtureComponent.country_code = '1';\n    fixtureComponent.local_phone_number = '123';\n    fixture.detectChanges();\n    const button = fixture.debugElement.nativeElement.querySelector('button');\n    button.click();\n    expect(onSignUpSpy).toHaveBeenCalled();\n    expect(signUpSpy).toHaveBeenCalled();\n  });",
            "file": "components/authenticator/sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onSignIn when \"amplify-form-link\" is clicked",
            "suites": [
                "SignUpComponentCore (methods and UI): ",
                "...with component ngOnInit..."
            ],
            "updatePoint": {
                "line": 188,
                "column": 65,
                "index": 6951
            },
            "line": 188,
            "code": "  it('...should call onSignIn when \"amplify-form-link\" is clicked', () => {\n    fixtureComponent._show = true;\n    fixture.detectChanges();\n    const a = fixture.debugElement.nativeElement.querySelector('.amplify-form-link');\n    a.click();\n    expect(onSignInSpy).toHaveBeenCalled();\n  });",
            "file": "components/authenticator/sign-up.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "SignUpComponentCore: "
            ],
            "updatePoint": {
                "line": 40,
                "column": 26,
                "index": 1530
            },
            "line": 40,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-up.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onConfirmSignUp method",
            "suites": [
                "SignUpComponentCore: "
            ],
            "updatePoint": {
                "line": 43,
                "column": 46,
                "index": 1629
            },
            "line": 43,
            "code": "  it('...should have an onConfirmSignUp method', () => {\n    expect(component.onConfirmSignUp).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-up.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSignIn method",
            "suites": [
                "SignUpComponentCore: "
            ],
            "updatePoint": {
                "line": 46,
                "column": 39,
                "index": 1737
            },
            "line": 46,
            "code": "  it('...should have an onSignIn method', () => {\n    expect(component.onSignIn).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-up.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSignUp method",
            "suites": [
                "SignUpComponentCore: "
            ],
            "updatePoint": {
                "line": 49,
                "column": 39,
                "index": 1838
            },
            "line": 49,
            "code": "  it('...should have an onSignUp method', () => {\n    expect(component.onSignUp).toBeTruthy();\n  });",
            "file": "components/authenticator/sign-up.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should not display if _show is not set",
            "suites": [
                "SignUpComponentCore: "
            ],
            "updatePoint": {
                "line": 52,
                "column": 47,
                "index": 1947
            },
            "line": 52,
            "code": "  it('...should not display if _show is not set', () => {\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-authenticator');\n    expect(rootEl).toBeFalsy();\n  });",
            "file": "components/authenticator/sign-up.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should display if _show is set",
            "suites": [
                "SignUpComponentCore: "
            ],
            "updatePoint": {
                "line": 56,
                "column": 39,
                "index": 2130
            },
            "line": 56,
            "code": "  it('...should display if _show is set', () => {\n    fixtureComponent._show = true;\n    fixture.detectChanges();\n    const rootEl = fixture.debugElement.nativeElement.querySelector('.amplify-authenticator');\n    expect(rootEl).toBeTruthy();\n  }); // tslint:disable:max-line-length",
            "file": "components/authenticator/sign-up.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onSignUp when button is clicked (but signUp will not be called if validation does not pass)",
            "suites": [
                "SignUpComponentCore: "
            ],
            "updatePoint": {
                "line": 63,
                "column": 112,
                "index": 2486
            },
            "line": 63,
            "code": "  it('...should call onSignUp when button is clicked (but signUp will not be called if validation does not pass)', () => {\n    fixtureComponent._show = true;\n    fixture.detectChanges();\n    const button = fixture.debugElement.nativeElement.querySelector('ion-button');\n    button.click();\n    expect(onSignUpSpy).toHaveBeenCalled();\n    expect(signUpSpy).not.toHaveBeenCalled();\n  });",
            "file": "components/authenticator/sign-up.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should call onSignUp when button is clicked and signUp will be called since validation passes",
            "suites": [
                "SignUpComponentCore: "
            ],
            "updatePoint": {
                "line": 71,
                "column": 102,
                "index": 2862
            },
            "line": 71,
            "code": "  it('...should call onSignUp when button is clicked and signUp will be called since validation passes', () => {\n    fixtureComponent._show = true;\n    fixtureComponent.user = {\n      username: 'testusername',\n      password: 'testpassword',\n      email: 'testemail'\n    };\n    fixtureComponent.country_code = '1';\n    fixtureComponent.local_phone_number = '123';\n    fixture.detectChanges();\n    const button = fixture.debugElement.nativeElement.querySelector('ion-button');\n    button.click();\n    expect(onSignUpSpy).toHaveBeenCalled();\n    expect(signUpSpy).toHaveBeenCalled();\n  });",
            "file": "components/authenticator/sign-up.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "UsernameFieldComponentCore: "
            ],
            "updatePoint": {
                "line": 33,
                "column": 26,
                "index": 1322
            },
            "line": 33,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/authenticator/username-field.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "UsernameFieldComponentCore: "
            ],
            "updatePoint": {
                "line": 34,
                "column": 26,
                "index": 1395
            },
            "line": 34,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/authenticator/username-field.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "FormComponent:"
            ],
            "updatePoint": {
                "line": 11,
                "column": 26,
                "index": 315
            },
            "line": 11,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/common/form.component.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have not have a default title",
            "suites": [
                "FormComponent:"
            ],
            "updatePoint": {
                "line": 14,
                "column": 45,
                "index": 413
            },
            "line": 14,
            "code": "  it('...should have not have a default title', () => {\n    expect(component.title).toBeUndefined();\n  });",
            "file": "components/common/form.component.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "ChatbotComponentIonic: "
            ],
            "updatePoint": {
                "line": 19,
                "column": 26,
                "index": 768
            },
            "line": 19,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/interactions/chatbot.component.core.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a performOnComplete method",
            "suites": [
                "ChatbotComponentIonic: "
            ],
            "updatePoint": {
                "line": 22,
                "column": 47,
                "index": 868
            },
            "line": 22,
            "code": "  it('...should have a performOnComplete method', () => {\n    expect(component.performOnComplete).toBeTruthy();\n  });",
            "file": "components/interactions/chatbot.component.core.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onInputChange method",
            "suites": [
                "ChatbotComponentIonic: "
            ],
            "updatePoint": {
                "line": 25,
                "column": 44,
                "index": 983
            },
            "line": 25,
            "code": "  it('...should have an onInputChange method', () => {\n    expect(component.onInputChange).toBeTruthy();\n  });",
            "file": "components/interactions/chatbot.component.core.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSubmit method",
            "suites": [
                "ChatbotComponentIonic: "
            ],
            "updatePoint": {
                "line": 28,
                "column": 39,
                "index": 1089
            },
            "line": 28,
            "code": "  it('...should have an onSubmit method', () => {\n    expect(component.onSubmit).toBeTruthy();\n  });",
            "file": "components/interactions/chatbot.component.core.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "ChatbotComponentIonic: "
            ],
            "updatePoint": {
                "line": 19,
                "column": 26,
                "index": 765
            },
            "line": 19,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/interactions/chatbot.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a performOnComplete method",
            "suites": [
                "ChatbotComponentIonic: "
            ],
            "updatePoint": {
                "line": 22,
                "column": 47,
                "index": 865
            },
            "line": 22,
            "code": "  it('...should have a performOnComplete method', () => {\n    expect(component.performOnComplete).toBeTruthy();\n  });",
            "file": "components/interactions/chatbot.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onInputChange method",
            "suites": [
                "ChatbotComponentIonic: "
            ],
            "updatePoint": {
                "line": 25,
                "column": 44,
                "index": 980
            },
            "line": 25,
            "code": "  it('...should have an onInputChange method', () => {\n    expect(component.onInputChange).toBeTruthy();\n  });",
            "file": "components/interactions/chatbot.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onSubmit method",
            "suites": [
                "ChatbotComponentIonic: "
            ],
            "updatePoint": {
                "line": 28,
                "column": 39,
                "index": 1086
            },
            "line": 28,
            "code": "  it('...should have an onSubmit method', () => {\n    expect(component.onSubmit).toBeTruthy();\n  });",
            "file": "components/interactions/chatbot.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "S3AlbumComponentCore: "
            ],
            "updatePoint": {
                "line": 15,
                "column": 26,
                "index": 506
            },
            "line": 15,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/storage/s3-album.component.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "S3ImageComponentCore: "
            ],
            "updatePoint": {
                "line": 18,
                "column": 26,
                "index": 736
            },
            "line": 18,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/storage/s3-image.component.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "SumerianSceneComponentCore: "
            ],
            "updatePoint": {
                "line": 15,
                "column": 26,
                "index": 531
            },
            "line": 15,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/xr/sumerian-scene.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a enterVR method",
            "suites": [
                "SumerianSceneComponentCore: "
            ],
            "updatePoint": {
                "line": 18,
                "column": 37,
                "index": 621
            },
            "line": 18,
            "code": "  it('...should have a enterVR method', () => {\n    expect(component.toggleVRPresentation).toBeTruthy();\n  });",
            "file": "components/xr/sumerian-scene.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an loadAndStartScene method",
            "suites": [
                "SumerianSceneComponentCore: "
            ],
            "updatePoint": {
                "line": 21,
                "column": 48,
                "index": 743
            },
            "line": 21,
            "code": "  it('...should have an loadAndStartScene method', () => {\n    expect(component.loadAndStartScene).toBeTruthy();\n  });",
            "file": "components/xr/sumerian-scene.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an maximize method",
            "suites": [
                "SumerianSceneComponentCore: "
            ],
            "updatePoint": {
                "line": 24,
                "column": 39,
                "index": 853
            },
            "line": 24,
            "code": "  it('...should have an maximize method', () => {\n    expect(component.maximize).toBeTruthy();\n  });",
            "file": "components/xr/sumerian-scene.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an minimize method",
            "suites": [
                "SumerianSceneComponentCore: "
            ],
            "updatePoint": {
                "line": 27,
                "column": 39,
                "index": 954
            },
            "line": 27,
            "code": "  it('...should have an minimize method', () => {\n    expect(component.minimize).toBeTruthy();\n  });",
            "file": "components/xr/sumerian-scene.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an setMuted method",
            "suites": [
                "SumerianSceneComponentCore: "
            ],
            "updatePoint": {
                "line": 30,
                "column": 39,
                "index": 1055
            },
            "line": 30,
            "code": "  it('...should have an setMuted method', () => {\n    expect(component.setMuted).toBeTruthy();\n  });",
            "file": "components/xr/sumerian-scene.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onFullscreenChange method",
            "suites": [
                "SumerianSceneComponentCore: "
            ],
            "updatePoint": {
                "line": 33,
                "column": 49,
                "index": 1166
            },
            "line": 33,
            "code": "  it('...should have an onFullscreenChange method', () => {\n    expect(component.onFullscreenChange).toBeTruthy();\n  });",
            "file": "components/xr/sumerian-scene.component.core.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be created",
            "suites": [
                "SumerianSceneComponentIonic: "
            ],
            "updatePoint": {
                "line": 15,
                "column": 26,
                "index": 535
            },
            "line": 15,
            "code": "  it('...should be created', () => {\n    expect(component).toBeTruthy();\n  });",
            "file": "components/xr/sumerian-scene.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have a enterVR method",
            "suites": [
                "SumerianSceneComponentIonic: "
            ],
            "updatePoint": {
                "line": 18,
                "column": 37,
                "index": 625
            },
            "line": 18,
            "code": "  it('...should have a enterVR method', () => {\n    expect(component.toggleVRPresentation).toBeTruthy();\n  });",
            "file": "components/xr/sumerian-scene.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an loadAndStartScene method",
            "suites": [
                "SumerianSceneComponentIonic: "
            ],
            "updatePoint": {
                "line": 21,
                "column": 48,
                "index": 747
            },
            "line": 21,
            "code": "  it('...should have an loadAndStartScene method', () => {\n    expect(component.loadAndStartScene).toBeTruthy();\n  });",
            "file": "components/xr/sumerian-scene.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an maximize method",
            "suites": [
                "SumerianSceneComponentIonic: "
            ],
            "updatePoint": {
                "line": 24,
                "column": 39,
                "index": 857
            },
            "line": 24,
            "code": "  it('...should have an maximize method', () => {\n    expect(component.maximize).toBeTruthy();\n  });",
            "file": "components/xr/sumerian-scene.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an minimize method",
            "suites": [
                "SumerianSceneComponentIonic: "
            ],
            "updatePoint": {
                "line": 27,
                "column": 39,
                "index": 958
            },
            "line": 27,
            "code": "  it('...should have an minimize method', () => {\n    expect(component.minimize).toBeTruthy();\n  });",
            "file": "components/xr/sumerian-scene.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an setMuted method",
            "suites": [
                "SumerianSceneComponentIonic: "
            ],
            "updatePoint": {
                "line": 30,
                "column": 39,
                "index": 1059
            },
            "line": 30,
            "code": "  it('...should have an setMuted method', () => {\n    expect(component.setMuted).toBeTruthy();\n  });",
            "file": "components/xr/sumerian-scene.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should have an onFullscreenChange method",
            "suites": [
                "SumerianSceneComponentIonic: "
            ],
            "updatePoint": {
                "line": 33,
                "column": 49,
                "index": 1170
            },
            "line": 33,
            "code": "  it('...should have an onFullscreenChange method', () => {\n    expect(component.onFullscreenChange).toBeTruthy();\n  });",
            "file": "components/xr/sumerian-scene.component.ionic.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "should be created",
            "suites": [
                "AuthDecorator"
            ],
            "updatePoint": {
                "line": 9,
                "column": 23,
                "index": 276
            },
            "line": 9,
            "code": "  it('should be created', () => {\n    expect(authDecorator).toBeTruthy();\n  });",
            "file": "providers/auth.decorator.spec.ts",
            "skipped": false,
            "dir": "packages/aws-amplify-angular/src/__tests__"
        },
        {
            "name": "...should be named \"amplify\"",
            "suites": [
                "Amplify (root vue)"
            ],
            "updatePoint": {
                "line": 14,
                "column": 34,
                "index": 476
            },
            "line": 14,
            "code": "  it('...should be named \"amplify\"', () => {\n    expect(vm.$options.name).toEqual('amplify');\n  });",
            "file": "Amplify.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should import the AmplifyEventBus",
            "suites": [
                "Amplify (root vue)"
            ],
            "updatePoint": {
                "line": 17,
                "column": 42,
                "index": 584
            },
            "line": 17,
            "code": "  it('...should import the AmplifyEventBus', () => {\n    expect(vm.$options.AmplifyEventBus).toEqual(AmplifyEventBus);\n  });",
            "file": "Amplify.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should use the amplify plugin with passed modules",
            "suites": [
                "Amplify (root vue)"
            ],
            "updatePoint": {
                "line": 20,
                "column": 58,
                "index": 725
            },
            "line": 20,
            "code": "  it('...should use the amplify plugin with passed modules', () => {\n    expect(vm.$Amplify).toBeTruthy();\n  });",
            "file": "Amplify.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...the plugin install should fail if modules are not passed",
            "suites": [
                "AmplifyPlugin edge case..."
            ],
            "updatePoint": {
                "line": 12,
                "column": 65,
                "index": 384
            },
            "line": 12,
            "code": "  it('...the plugin install should fail if modules are not passed', () => {\n    expect(vm.$Amplify).toBeFalsy();\n  });",
            "file": "AmplifyPlugin.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "has a mounted hook",
            "suites": [
                "Authenticator"
            ],
            "updatePoint": {
                "line": 15,
                "column": 24,
                "index": 662
            },
            "line": 15,
            "code": "  it('has a mounted hook', () => {\n    expect(typeof Authenticator.mounted).toBe('function');\n  });",
            "file": "Authenticator.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "sets the correct default data",
            "suites": [
                "Authenticator"
            ],
            "updatePoint": {
                "line": 18,
                "column": 35,
                "index": 773
            },
            "line": 18,
            "code": "  it('sets the correct default data', () => {\n    expect(typeof Authenticator.data).toBe('function');\n    const defaultData = Authenticator.data();\n    expect(defaultData.user.username).toBe(null);\n    expect(defaultData.logger).toEqual({});\n    expect(defaultData.displayMap).toEqual({});\n    expect(defaultData.error).toEqual('');\n  });",
            "file": "Authenticator.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should use the amplify plugin with passed modules",
            "suites": [
                "Authenticator",
                "...when it is mounted..."
            ],
            "updatePoint": {
                "line": 32,
                "column": 63,
                "index": 1344
            },
            "line": 32,
            "code": "    it('...it should use the amplify plugin with passed modules', () => {\n      expect(wrapper.vm.$Amplify).toBeTruthy();\n    });",
            "file": "Authenticator.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should be named Authenticator",
            "suites": [
                "Authenticator",
                "...when it is mounted..."
            ],
            "updatePoint": {
                "line": 35,
                "column": 43,
                "index": 1454
            },
            "line": 35,
            "code": "    it('...it should be named Authenticator', () => {\n      expect(wrapper.vm.$options.name).toEqual('Authenticator');\n    });",
            "file": "Authenticator.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should instantiate a logger with the name of the component",
            "suites": [
                "Authenticator",
                "...when it is mounted..."
            ],
            "updatePoint": {
                "line": 38,
                "column": 72,
                "index": 1610
            },
            "line": 38,
            "code": "    it('...it should instantiate a logger with the name of the component', () => {\n      expect(wrapper.vm.logger.name).toEqual(wrapper.vm.$options.name);\n    });",
            "file": "Authenticator.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have an updateDisplayMap method",
            "suites": [
                "Authenticator",
                "...when it is mounted..."
            ],
            "updatePoint": {
                "line": 41,
                "column": 52,
                "index": 1753
            },
            "line": 41,
            "code": "    it('...it should have an updateDisplayMap method', () => {\n      expect(wrapper.vm.updateDisplayMap).toBeTruthy();\n    });",
            "file": "Authenticator.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a setError method",
            "suites": [
                "Authenticator",
                "...when it is mounted..."
            ],
            "updatePoint": {
                "line": 44,
                "column": 43,
                "index": 1871
            },
            "line": 44,
            "code": "    it('...it should have a setError method', () => {\n      expect(wrapper.vm.setError).toBeTruthy();\n    });",
            "file": "Authenticator.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should call GetUser",
            "suites": [
                "Authenticator",
                "...when it is mounted..."
            ],
            "updatePoint": {
                "line": 47,
                "column": 33,
                "index": 1971
            },
            "line": 47,
            "code": "    it('...it should call GetUser', () => {\n      expect(dependency).toBeCalledWith(AmplifyMocks);\n    });",
            "file": "Authenticator.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should call updateDisplayMap",
            "suites": [
                "Authenticator",
                "...when it is mounted and displaying components..."
            ],
            "updatePoint": {
                "line": 72,
                "column": 42,
                "index": 2771
            },
            "line": 72,
            "code": "    it('...it should call updateDisplayMap', () => {\n      expect(wrapper.vm.updateDisplayMap).toBeCalled();\n    });",
            "file": "Authenticator.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should display the signIn component based on displayMap",
            "suites": [
                "Authenticator",
                "...when it is mounted and displaying components..."
            ],
            "updatePoint": {
                "line": 75,
                "column": 69,
                "index": 2915
            },
            "line": 75,
            "code": "    it('...it should display the signIn component based on displayMap', () => {\n      mockDisplayMap.showSignIn = true;\n      wrapper.vm.displayMap = mockDisplayMap;\n      const el = wrapper.find(components.SignIn).element;\n      expect(el).toBeTruthy();\n    });",
            "file": "Authenticator.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should display the signUp component based on displayMap",
            "suites": [
                "Authenticator",
                "...when it is mounted and displaying components..."
            ],
            "updatePoint": {
                "line": 81,
                "column": 69,
                "index": 3178
            },
            "line": 81,
            "code": "    it('...it should display the signUp component based on displayMap', () => {\n      mockDisplayMap.showSignUp = true;\n      wrapper.vm.displayMap = mockDisplayMap;\n      const el = wrapper.find(components.SignUp).element;\n      expect(el).toBeTruthy();\n    });",
            "file": "Authenticator.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should display the confirmSignUp component based on displayMap",
            "suites": [
                "Authenticator",
                "...when it is mounted and displaying components..."
            ],
            "updatePoint": {
                "line": 87,
                "column": 76,
                "index": 3448
            },
            "line": 87,
            "code": "    it('...it should display the confirmSignUp component based on displayMap', () => {\n      mockDisplayMap.showConfirmSignUp = true;\n      wrapper.vm.displayMap = mockDisplayMap;\n      const el = wrapper.find(components.ConfirmSignUp).element;\n      expect(el).toBeTruthy();\n    });",
            "file": "Authenticator.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should display the ConfirmSignIn component based on displayMap",
            "suites": [
                "Authenticator",
                "...when it is mounted and displaying components..."
            ],
            "updatePoint": {
                "line": 93,
                "column": 76,
                "index": 3732
            },
            "line": 93,
            "code": "    it('...it should display the ConfirmSignIn component based on displayMap', () => {\n      mockDisplayMap.showConfirmSignIn = true;\n      wrapper.vm.displayMap = mockDisplayMap;\n      const el = wrapper.find(components.ConfirmSignIn).element;\n      expect(el).toBeTruthy();\n    });",
            "file": "Authenticator.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should display the ForgotPassword component based on displayMap",
            "suites": [
                "Authenticator",
                "...when it is mounted and displaying components..."
            ],
            "updatePoint": {
                "line": 99,
                "column": 77,
                "index": 4017
            },
            "line": 99,
            "code": "    it('...it should display the ForgotPassword component based on displayMap', () => {\n      mockDisplayMap.showForgotPassword = true;\n      wrapper.vm.displayMap = mockDisplayMap;\n      const el = wrapper.find(components.ForgotPassword).element;\n      expect(el).toBeTruthy();\n    });",
            "file": "Authenticator.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should set user and options data on localUser event emission",
            "suites": [
                "Authenticator",
                "...when it is mounted and displaying components..."
            ],
            "updatePoint": {
                "line": 105,
                "column": 71,
                "index": 4298
            },
            "line": 105,
            "code": "    it('...should set user and options data on localUser event emission', () => {\n      const testUser = {\n        username: 'IAMEMITTED'\n      };\n      AmplifyEventBus.$emit('localUser', testUser);\n      expect(wrapper.vm.user.username).toEqual(testUser.username);\n    });",
            "file": "Authenticator.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "has a mounted hook",
            "suites": [
                "Chatbot"
            ],
            "updatePoint": {
                "line": 13,
                "column": 24,
                "index": 502
            },
            "line": 13,
            "code": "  it('has a mounted hook', () => {\n    expect(typeof Chatbot.mounted).toBe('function');\n  });",
            "file": "Chatbot.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "sets the correct default data",
            "suites": [
                "Chatbot"
            ],
            "updatePoint": {
                "line": 16,
                "column": 35,
                "index": 607
            },
            "line": 16,
            "code": "  it('sets the correct default data', () => {\n    expect(typeof Chatbot.data).toBe('function');\n    const defaultData = Chatbot.data();\n    expect(defaultData.inputText).toBe('');\n    expect(defaultData.messages.length).toEqual(0);\n    expect(defaultData.logger).toEqual({});\n    expect(defaultData.error).toEqual('');\n  });",
            "file": "Chatbot.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should use the amplify plugin with passed modules",
            "suites": [
                "Chatbot",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 35,
                "column": 63,
                "index": 1294
            },
            "line": 35,
            "code": "    it('...it should use the amplify plugin with passed modules', () => {\n      expect(wrapper.vm.$Amplify).toBeTruthy();\n    });",
            "file": "Chatbot.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should be named Chatbot",
            "suites": [
                "Chatbot",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 38,
                "column": 37,
                "index": 1398
            },
            "line": 38,
            "code": "    it('...it should be named Chatbot', () => {\n      expect(wrapper.vm.$options.name).toEqual('Chatbot');\n    });",
            "file": "Chatbot.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should instantiate a logger with the name of the component",
            "suites": [
                "Chatbot",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 41,
                "column": 72,
                "index": 1548
            },
            "line": 41,
            "code": "    it('...it should instantiate a logger with the name of the component', () => {\n      expect(wrapper.vm.logger.name).toEqual(wrapper.vm.$options.name);\n    });",
            "file": "Chatbot.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a performOnComplete method",
            "suites": [
                "Chatbot",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 44,
                "column": 52,
                "index": 1691
            },
            "line": 44,
            "code": "    it('...it should have a performOnComplete method', () => {\n      expect(wrapper.vm.performOnComplete).toBeTruthy();\n    });",
            "file": "Chatbot.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a keymonitor method",
            "suites": [
                "Chatbot",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 47,
                "column": 45,
                "index": 1812
            },
            "line": 47,
            "code": "    it('...it should have a keymonitor method', () => {\n      expect(wrapper.vm.keymonitor).toBeTruthy();\n    });",
            "file": "Chatbot.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have an onSubmit method",
            "suites": [
                "Chatbot",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 50,
                "column": 44,
                "index": 1925
            },
            "line": 50,
            "code": "    it('...it should have an onSubmit method', () => {\n      expect(wrapper.vm.onSubmit).toBeTruthy();\n    });",
            "file": "Chatbot.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a setError method",
            "suites": [
                "Chatbot",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 53,
                "column": 43,
                "index": 2035
            },
            "line": 53,
            "code": "    it('...it should have a setError method', () => {\n      expect(wrapper.vm.setError).toBeTruthy();\n    });",
            "file": "Chatbot.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...have default options",
            "suites": [
                "Chatbot",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 56,
                "column": 31,
                "index": 2133
            },
            "line": 56,
            "code": "    it('...have default options', () => {\n      expect(wrapper.vm.options.clearComplete).toEqual(true);\n      expect(wrapper.vm.options.botTitle).toEqual('Chatbot');\n    });",
            "file": "Chatbot.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should return immediately when onSubmit is called without inputText",
            "suites": [
                "Chatbot",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 60,
                "column": 78,
                "index": 2354
            },
            "line": 60,
            "code": "    it('...should return immediately when onSubmit is called without inputText', () => {\n      wrapper.vm.onSubmit({});\n      expect(wrapper.vm.$Amplify.Interactions.send).not.toHaveBeenCalled();\n    });",
            "file": "Chatbot.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call $Amplify.Interactions.send when onSubmit is called with inputText",
            "suites": [
                "Chatbot",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 64,
                "column": 88,
                "index": 2568
            },
            "line": 64,
            "code": "    it('...should call $Amplify.Interactions.send when onSubmit is called with inputText', () => {\n      wrapper.vm.inputText = 'i exist';\n      wrapper.vm.onSubmit({});\n      expect(wrapper.vm.$Amplify.Interactions.send).toHaveBeenCalled();\n    });",
            "file": "Chatbot.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should emit chatComplete when performOnComplete method called",
            "suites": [
                "Chatbot",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 69,
                "column": 72,
                "index": 2802
            },
            "line": 69,
            "code": "    it('...should emit chatComplete when performOnComplete method called', () => {\n      testState = 0;\n      AmplifyEventBus.$on('chatComplete', val => {\n        if (val === wrapper.vm.options.botTitle) {\n          testState = 3;\n        }\n      });\n      wrapper.vm.performOnComplete();\n      expect(testState).toEqual(3);\n    });",
            "file": "Chatbot.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should emit clear messages when performOnComplete method and clearComplete is true",
            "suites": [
                "Chatbot",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 79,
                "column": 93,
                "index": 3156
            },
            "line": 79,
            "code": "    it('...should emit clear messages when performOnComplete method and clearComplete is true', () => {\n      // eslint-disable-line\n      wrapper.vm.messages = ['messages'];\n      wrapper.vm.performOnComplete();\n      expect(wrapper.vm.messages).toEqual([]);\n    });",
            "file": "Chatbot.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should not call onSubmit when keymonitor is called with key other than Enter",
            "suites": [
                "Chatbot",
                "...when only onSubmit is mocked"
            ],
            "updatePoint": {
                "line": 110,
                "column": 87,
                "index": 3968
            },
            "line": 110,
            "code": "    it('...should not call onSubmit when keymonitor is called with key other than Enter', () => {\n      wrapper.vm.keymonitor({\n        key: 'r'\n      });\n      expect(mockOnSubmit).not.toHaveBeenCalled();\n    });",
            "file": "Chatbot.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call onSubmit when keymonitor is called with Enter",
            "suites": [
                "Chatbot",
                "...when only onSubmit is mocked"
            ],
            "updatePoint": {
                "line": 116,
                "column": 68,
                "index": 4163
            },
            "line": 116,
            "code": "    it('...should call onSubmit when keymonitor is called with Enter', () => {\n      wrapper.vm.keymonitor({\n        key: 'enter'\n      });\n      expect(mockOnSubmit).toHaveBeenCalled();\n    });",
            "file": "Chatbot.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should not set the error property",
            "suites": [
                "Chatbot",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 153,
                "column": 44,
                "index": 5119
            },
            "line": 153,
            "code": "    it('...should not set the error property', () => {\n      expect(wrapper.vm.error).toEqual('');\n      expect(mockSetError).not.toHaveBeenCalled();\n    });",
            "file": "Chatbot.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call onSubmit with inputText when submit button is clicked",
            "suites": [
                "Chatbot",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 157,
                "column": 76,
                "index": 5309
            },
            "line": 157,
            "code": "    it('...should call onSubmit with inputText when submit button is clicked', () => {\n      const el = wrapper.find('#interactions-submit-button');\n      wrapper.vm.inputText = 'talk to me, robot';\n      el.trigger('click');\n      expect(mockOnSubmit).toHaveBeenCalledWith('talk to me, robot');\n    });",
            "file": "Chatbot.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call keymonitor when key events occur in input",
            "suites": [
                "Chatbot",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 163,
                "column": 64,
                "index": 5601
            },
            "line": 163,
            "code": "    it('...should call keymonitor when key events occur in input', () => {\n      const input = wrapper.find('.amplify-interactions-actions > input');\n      input.trigger('keyup', {\n        keyCode: 40\n      });\n      expect(mockKeymonitor).toHaveBeenCalled();\n    });",
            "file": "Chatbot.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "has a mounted hook",
            "suites": [
                "ConfirmSignIn"
            ],
            "updatePoint": {
                "line": 13,
                "column": 24,
                "index": 514
            },
            "line": 13,
            "code": "  it('has a mounted hook', () => {\n    expect(typeof ConfirmSignIn.mounted).toBe('function');\n  });",
            "file": "ConfirmSignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "sets the correct default data",
            "suites": [
                "ConfirmSignIn"
            ],
            "updatePoint": {
                "line": 16,
                "column": 35,
                "index": 625
            },
            "line": 16,
            "code": "  it('sets the correct default data', () => {\n    expect(typeof ConfirmSignIn.data).toBe('function');\n    const defaultData = ConfirmSignIn.data();\n    expect(defaultData.code).toBe('');\n    expect(defaultData.logger).toEqual({});\n    expect(defaultData.error).toEqual('');\n  });",
            "file": "ConfirmSignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should use the amplify plugin with passed modules",
            "suites": [
                "ConfirmSignIn",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 34,
                "column": 63,
                "index": 1244
            },
            "line": 34,
            "code": "    it('...it should use the amplify plugin with passed modules', () => {\n      expect(wrapper.vm.$Amplify).toBeTruthy();\n    });",
            "file": "ConfirmSignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should be named ConfirmSignIn",
            "suites": [
                "ConfirmSignIn",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 37,
                "column": 43,
                "index": 1354
            },
            "line": 37,
            "code": "    it('...it should be named ConfirmSignIn', () => {\n      expect(wrapper.vm.$options.name).toEqual('ConfirmSignIn');\n    });",
            "file": "ConfirmSignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should instantiate a logger with the name of the component",
            "suites": [
                "ConfirmSignIn",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 40,
                "column": 72,
                "index": 1510
            },
            "line": 40,
            "code": "    it('...it should instantiate a logger with the name of the component', () => {\n      expect(wrapper.vm.logger.name).toEqual(wrapper.vm.$options.name);\n    });",
            "file": "ConfirmSignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should have a submit method",
            "suites": [
                "ConfirmSignIn",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 43,
                "column": 38,
                "index": 1639
            },
            "line": 43,
            "code": "    it('...should have a submit method', () => {\n      expect(wrapper.vm.submit).toBeTruthy();\n    });",
            "file": "ConfirmSignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should have a signIn method",
            "suites": [
                "ConfirmSignIn",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 46,
                "column": 38,
                "index": 1742
            },
            "line": 46,
            "code": "    it('...should have a signIn method', () => {\n      expect(wrapper.vm.signIn).toBeTruthy();\n    });",
            "file": "ConfirmSignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a setError method",
            "suites": [
                "ConfirmSignIn",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 49,
                "column": 43,
                "index": 1850
            },
            "line": 49,
            "code": "    it('...it should have a setError method', () => {\n      expect(wrapper.vm.setError).toBeTruthy();\n    });",
            "file": "ConfirmSignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...have default options",
            "suites": [
                "ConfirmSignIn",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 52,
                "column": 31,
                "index": 1948
            },
            "line": 52,
            "code": "    it('...have default options', () => {\n      expect(wrapper.vm.options.header).toEqual('i18n Confirm Sign In');\n      expect(Object.keys(wrapper.vm.options.user).length).toEqual(0);\n    });",
            "file": "ConfirmSignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should set the error property when a valid user is not received",
            "suites": [
                "ConfirmSignIn",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 56,
                "column": 74,
                "index": 2184
            },
            "line": 56,
            "code": "    it('...should set the error property when a valid user is not received', () => {\n      expect(wrapper.vm.error).toEqual('i18n Valid user not received.');\n    });",
            "file": "ConfirmSignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call Auth.confirmSignIn when submit function is called",
            "suites": [
                "ConfirmSignIn",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 59,
                "column": 72,
                "index": 2348
            },
            "line": 59,
            "code": "    it('...should call Auth.confirmSignIn when submit function is called', () => {\n      wrapper.vm.submit();\n      expect(AmplifyMocks.Auth.confirmSignIn).toHaveBeenCalled();\n    });",
            "file": "ConfirmSignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call emit the authState event when signIn function is called",
            "suites": [
                "ConfirmSignIn",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 63,
                "column": 78,
                "index": 2538
            },
            "line": 63,
            "code": "    it('...should call emit the authState event when signIn function is called', () => {\n      AmplifyEventBus.$on('authState', () => {\n        testState = 'eventsAreEmitting';\n      });\n      expect(testState).toBeUndefined();\n      wrapper.vm.signIn();\n      expect(testState).toEqual('eventsAreEmitting');\n    });",
            "file": "ConfirmSignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should not set the error property",
            "suites": [
                "ConfirmSignIn",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 97,
                "column": 44,
                "index": 3441
            },
            "line": 97,
            "code": "    it('...should not set the error property', () => {\n      expect(wrapper.vm.error).toEqual('');\n      expect(mockSetError).not.toHaveBeenCalled();\n    });",
            "file": "ConfirmSignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should render the header from props",
            "suites": [
                "ConfirmSignIn",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 101,
                "column": 46,
                "index": 3601
            },
            "line": 101,
            "code": "    it('...should render the header from props', () => {\n      const el = wrapper.find(`.${AmplifyUI.sectionHeader}`).element;\n      expect(el.textContent).toEqual(header);\n    });",
            "file": "ConfirmSignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should not call submit when submit button is clicked but code is not present",
            "suites": [
                "ConfirmSignIn",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 105,
                "column": 87,
                "index": 3823
            },
            "line": 105,
            "code": "    it('...should not call submit when submit button is clicked but code is not present', () => {\n      const el = wrapper.find('button');\n      el.trigger('click');\n      expect(mockSubmit).not.toHaveBeenCalled();\n    });",
            "file": "ConfirmSignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call submit when submit button is clicked and code is present",
            "suites": [
                "ConfirmSignIn",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 110,
                "column": 79,
                "index": 4038
            },
            "line": 110,
            "code": "    it('...should call submit when submit button is clicked and code is present', () => {\n      const el = wrapper.find('button');\n      wrapper.vm.code = 123456;\n      el.trigger('click');\n      expect(mockSubmit).toHaveBeenCalled();\n    });",
            "file": "ConfirmSignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call signIn when signIn button is clicked",
            "suites": [
                "ConfirmSignIn",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 116,
                "column": 59,
                "index": 4261
            },
            "line": 116,
            "code": "    it('...should call signIn when signIn button is clicked', () => {\n      const el = wrapper.find(`.${AmplifyUI.sectionFooterSecondaryContent} > .${AmplifyUI.a}`);\n      el.trigger('click');\n      expect(mockSignIn).toHaveBeenCalled();\n    });",
            "file": "ConfirmSignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "has a mounted hook",
            "suites": [
                "ConfirmSignUp"
            ],
            "updatePoint": {
                "line": 13,
                "column": 24,
                "index": 514
            },
            "line": 13,
            "code": "  it('has a mounted hook', () => {\n    expect(typeof ConfirmSignUp.mounted).toBe('function');\n  });",
            "file": "ConfirmSignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "sets the correct default data",
            "suites": [
                "ConfirmSignUp"
            ],
            "updatePoint": {
                "line": 16,
                "column": 35,
                "index": 625
            },
            "line": 16,
            "code": "  it('sets the correct default data', () => {\n    expect(typeof ConfirmSignUp.data).toBe('function');\n    const defaultData = ConfirmSignUp.data();\n    expect(defaultData.code).toBe('');\n    expect(defaultData.logger).toEqual({});\n    expect(defaultData.error).toEqual('');\n  });",
            "file": "ConfirmSignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should use the amplify plugin with passed modules",
            "suites": [
                "ConfirmSignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 36,
                "column": 63,
                "index": 1287
            },
            "line": 36,
            "code": "    it('...it should use the amplify plugin with passed modules', () => {\n      expect(wrapper.vm.$Amplify).toBeTruthy();\n    });",
            "file": "ConfirmSignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should be named ConfirmSignUp",
            "suites": [
                "ConfirmSignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 39,
                "column": 43,
                "index": 1397
            },
            "line": 39,
            "code": "    it('...it should be named ConfirmSignUp', () => {\n      expect(wrapper.vm.$options.name).toEqual('ConfirmSignUp');\n    });",
            "file": "ConfirmSignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should instantiate a logger with the name of the component",
            "suites": [
                "ConfirmSignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 42,
                "column": 72,
                "index": 1553
            },
            "line": 42,
            "code": "    it('...it should instantiate a logger with the name of the component', () => {\n      expect(wrapper.vm.logger.name).toEqual(wrapper.vm.$options.name);\n    });",
            "file": "ConfirmSignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a confirm method",
            "suites": [
                "ConfirmSignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 45,
                "column": 42,
                "index": 1686
            },
            "line": 45,
            "code": "    it('...it should have a confirm method', () => {\n      expect(wrapper.vm.confirm).toBeTruthy();\n    });",
            "file": "ConfirmSignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should have a resend method",
            "suites": [
                "ConfirmSignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 48,
                "column": 38,
                "index": 1790
            },
            "line": 48,
            "code": "    it('...should have a resend method', () => {\n      expect(wrapper.vm.resend).toBeTruthy();\n    });",
            "file": "ConfirmSignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should have a signIn method",
            "suites": [
                "ConfirmSignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 51,
                "column": 38,
                "index": 1893
            },
            "line": 51,
            "code": "    it('...should have a signIn method', () => {\n      expect(wrapper.vm.signIn).toBeTruthy();\n    });",
            "file": "ConfirmSignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a setError method",
            "suites": [
                "ConfirmSignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 54,
                "column": 43,
                "index": 2001
            },
            "line": 54,
            "code": "    it('...it should have a setError method', () => {\n      expect(wrapper.vm.setError).toBeTruthy();\n    });",
            "file": "ConfirmSignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...have default options",
            "suites": [
                "ConfirmSignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 57,
                "column": 31,
                "index": 2099
            },
            "line": 57,
            "code": "    it('...have default options', () => {\n      expect(wrapper.vm.options.header).toEqual('i18n Confirm Sign Up');\n      expect(wrapper.vm.options.username).toEqual('');\n    });",
            "file": "ConfirmSignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should set the error property when a valid username is not received",
            "suites": [
                "ConfirmSignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 61,
                "column": 78,
                "index": 2324
            },
            "line": 61,
            "code": "    it('...should set the error property when a valid username is not received', () => {\n      expect(wrapper.vm.error).toEqual('i18n Valid username not received.');\n    });",
            "file": "ConfirmSignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call Auth.confirmSignUp when confirm method is called",
            "suites": [
                "ConfirmSignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 64,
                "column": 71,
                "index": 2491
            },
            "line": 64,
            "code": "    it('...should call Auth.confirmSignUp when confirm method is called', () => {\n      wrapper.vm.confirm();\n      expect(wrapper.vm.$Amplify.Auth.confirmSignUp).toBeCalled();\n    });",
            "file": "ConfirmSignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call Auth.resendSignUp when confirm method is called",
            "suites": [
                "ConfirmSignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 68,
                "column": 70,
                "index": 2675
            },
            "line": 68,
            "code": "    it('...should call Auth.resendSignUp when confirm method is called', () => {\n      wrapper.vm.resend();\n      expect(wrapper.vm.$Amplify.Auth.resendSignUp).toBeCalledWith(wrapper.vm.options.username);\n    });",
            "file": "ConfirmSignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should emit authState when signIn method called",
            "suites": [
                "ConfirmSignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 72,
                "column": 58,
                "index": 2876
            },
            "line": 72,
            "code": "    it('...should emit authState when signIn method called', () => {\n      testState = 0;\n      AmplifyEventBus.$on('authState', val => {\n        if (val === 'signIn') {\n          testState = 1;\n        }\n      });\n      wrapper.vm.signIn();\n      expect(testState).toEqual(1);\n    });",
            "file": "ConfirmSignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should not set the error property",
            "suites": [
                "ConfirmSignUp",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 108,
                "column": 44,
                "index": 3786
            },
            "line": 108,
            "code": "    it('...should not set the error property', () => {\n      expect(wrapper.vm.error).toEqual('');\n      expect(mockSetError).not.toHaveBeenCalled();\n    });",
            "file": "ConfirmSignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should render the header from props",
            "suites": [
                "ConfirmSignUp",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 112,
                "column": 46,
                "index": 3946
            },
            "line": 112,
            "code": "    it('...should render the header from props', () => {\n      const el = wrapper.find(`.${AmplifyUI.sectionHeader}`).element;\n      expect(el.textContent).toEqual(header);\n    });",
            "file": "ConfirmSignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call confirm when confirm button is clicked",
            "suites": [
                "ConfirmSignUp",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 116,
                "column": 61,
                "index": 4142
            },
            "line": 116,
            "code": "    it('...should call confirm when confirm button is clicked', () => {\n      const el = wrapper.find('button');\n      el.trigger('click');\n      expect(mockConfirm).toHaveBeenCalled();\n    });",
            "file": "ConfirmSignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call resend when resend is clicked",
            "suites": [
                "ConfirmSignUp",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 121,
                "column": 52,
                "index": 4327
            },
            "line": 121,
            "code": "    it('...should call resend when resend is clicked', () => {\n      const el = wrapper.find(`.${AmplifyUI.hint} > .${AmplifyUI.a}`);\n      el.trigger('click');\n      expect(mockResend).toHaveBeenCalled();\n    });",
            "file": "ConfirmSignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call signIn when signIn button is clicked",
            "suites": [
                "ConfirmSignUp",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 126,
                "column": 59,
                "index": 4548
            },
            "line": 126,
            "code": "    it('...should call signIn when signIn button is clicked', () => {\n      const el = wrapper.find(`span > .${AmplifyUI.a}`);\n      el.trigger('click');\n      expect(mockSignIn).toHaveBeenCalled();\n    });",
            "file": "ConfirmSignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "has a beforeMount hook",
            "suites": [
                "Connect"
            ],
            "updatePoint": {
                "line": 11,
                "column": 28,
                "index": 391
            },
            "line": 11,
            "code": "  it('has a beforeMount hook', () => {\n    expect(typeof Connect.beforeMount).toBe('function');\n  });",
            "file": "Connect.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "has a beforeDestroy book",
            "suites": [
                "Connect"
            ],
            "updatePoint": {
                "line": 14,
                "column": 30,
                "index": 495
            },
            "line": 14,
            "code": "  it('has a beforeDestroy book', () => {\n    expect(typeof Connect.beforeDestroy).toBe('function');\n  });",
            "file": "Connect.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "sets the correct default data",
            "suites": [
                "Connect"
            ],
            "updatePoint": {
                "line": 17,
                "column": 35,
                "index": 606
            },
            "line": 17,
            "code": "  it('sets the correct default data', () => {\n    expect(typeof Connect.data).toBe('function');\n    const defaultData = Connect.data();\n    expect(defaultData.data).toEqual({});\n    expect(defaultData.logger).toEqual({});\n    expect(defaultData.errors).toEqual([]);\n    expect(defaultData.loading).toEqual(false);\n    expect(defaultData.watchedSubscription).toEqual(null);\n    expect(defaultData.isMutation).toEqual(false);\n    expect(defaultData.internalMutation).toEqual(null);\n  });",
            "file": "Connect.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "has a mounted hook",
            "suites": [
                "ForgotPassword"
            ],
            "updatePoint": {
                "line": 13,
                "column": 24,
                "index": 517
            },
            "line": 13,
            "code": "  it('has a mounted hook', () => {\n    expect(typeof ForgotPassword.mounted).toBe('function');\n  });",
            "file": "ForgotPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "sets the correct default data",
            "suites": [
                "ForgotPassword"
            ],
            "updatePoint": {
                "line": 16,
                "column": 35,
                "index": 629
            },
            "line": 16,
            "code": "  it('sets the correct default data', () => {\n    expect(typeof ForgotPassword.data).toBe('function');\n    const defaultData = ForgotPassword.data();\n    expect(defaultData.code).toBe('');\n    expect(defaultData.logger).toEqual({});\n    expect(defaultData.error).toEqual('');\n  });",
            "file": "ForgotPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should use the amplify plugin with passed modules",
            "suites": [
                "ForgotPassword",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 35,
                "column": 63,
                "index": 1277
            },
            "line": 35,
            "code": "    it('...it should use the amplify plugin with passed modules', () => {\n      expect(wrapper.vm.$Amplify).toBeTruthy();\n    });",
            "file": "ForgotPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should be named ForgotPassword",
            "suites": [
                "ForgotPassword",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 38,
                "column": 44,
                "index": 1388
            },
            "line": 38,
            "code": "    it('...it should be named ForgotPassword', () => {\n      expect(wrapper.vm.$options.name).toEqual('ForgotPassword');\n    });",
            "file": "ForgotPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should instantiate a logger with the name of the component",
            "suites": [
                "ForgotPassword",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 41,
                "column": 72,
                "index": 1545
            },
            "line": 41,
            "code": "    it('...it should instantiate a logger with the name of the component', () => {\n      expect(wrapper.vm.logger.name).toEqual(wrapper.vm.$options.name);\n    });",
            "file": "ForgotPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have an send method",
            "suites": [
                "ForgotPassword",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 44,
                "column": 40,
                "index": 1676
            },
            "line": 44,
            "code": "    it('...it should have an send method', () => {\n      expect(wrapper.vm.verify).toBeTruthy();\n    });",
            "file": "ForgotPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should have a submit method",
            "suites": [
                "ForgotPassword",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 47,
                "column": 38,
                "index": 1779
            },
            "line": 47,
            "code": "    it('...should have a submit method', () => {\n      expect(wrapper.vm.submit).toBeTruthy();\n    });",
            "file": "ForgotPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should have a signIn method",
            "suites": [
                "ForgotPassword",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 50,
                "column": 38,
                "index": 1882
            },
            "line": 50,
            "code": "    it('...should have a signIn method', () => {\n      expect(wrapper.vm.signIn).toBeTruthy();\n    });",
            "file": "ForgotPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a setError method",
            "suites": [
                "ForgotPassword",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 53,
                "column": 43,
                "index": 1990
            },
            "line": 53,
            "code": "    it('...it should have a setError method', () => {\n      expect(wrapper.vm.setError).toBeTruthy();\n    });",
            "file": "ForgotPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...have default options",
            "suites": [
                "ForgotPassword",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 56,
                "column": 31,
                "index": 2088
            },
            "line": 56,
            "code": "    it('...have default options', () => {\n      expect(wrapper.vm.options.header).toEqual('i18n Reset your password');\n    });",
            "file": "ForgotPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call Auth.forgotPassword when submit method is called",
            "suites": [
                "ForgotPassword",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 59,
                "column": 71,
                "index": 2255
            },
            "line": 59,
            "code": "    it('...should call Auth.forgotPassword when submit method is called', () => {\n      wrapper.vm.submit();\n      expect(wrapper.vm.$Amplify.Auth.forgotPassword).toBeCalledWith(wrapper.vm.forgotPwUsername);\n    });",
            "file": "ForgotPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should set the local error variable when setError is called",
            "suites": [
                "ForgotPassword",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 63,
                "column": 70,
                "index": 2470
            },
            "line": 63,
            "code": "    it('...should set the local error variable when setError is called', () => {\n      wrapper.vm.setError('I messed up');\n      expect(wrapper.vm.error).toEqual('i18n I messed up');\n    });",
            "file": "ForgotPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call Auth.forgotPasswordSubmit when verify method is called",
            "suites": [
                "ForgotPassword",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 67,
                "column": 77,
                "index": 2668
            },
            "line": 67,
            "code": "    it('...should call Auth.forgotPasswordSubmit when verify method is called', () => {\n      wrapper.vm.verify();\n      expect(wrapper.vm.$Amplify.Auth.forgotPasswordSubmit).toBeCalledWith(wrapper.vm.forgotPwUsername, wrapper.vm.password, wrapper.vm.code);\n    });",
            "file": "ForgotPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should emit authState when signIn method called",
            "suites": [
                "ForgotPassword",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 71,
                "column": 58,
                "index": 2915
            },
            "line": 71,
            "code": "    it('...should emit authState when signIn method called', () => {\n      testState = 0;\n      AmplifyEventBus.$on('authState', val => {\n        if (val === 'signIn') {\n          testState = 1;\n        }\n      });\n      wrapper.vm.signIn();\n      expect(testState).toEqual(1);\n    });",
            "file": "ForgotPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should not set the error property",
            "suites": [
                "ForgotPassword",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 105,
                "column": 44,
                "index": 3769
            },
            "line": 105,
            "code": "    it('...should not set the error property', () => {\n      expect(wrapper.vm.error).toEqual('');\n      expect(mockSetError).not.toHaveBeenCalled();\n    });",
            "file": "ForgotPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should render the header from props",
            "suites": [
                "ForgotPassword",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 109,
                "column": 46,
                "index": 3929
            },
            "line": 109,
            "code": "    it('...should render the header from props', () => {\n      const el = wrapper.find(`.${AmplifyUI.sectionHeader}`).element;\n      expect(el.textContent).toEqual(header);\n    });",
            "file": "ForgotPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call signIn when signIn button is clicked",
            "suites": [
                "ForgotPassword",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 113,
                "column": 59,
                "index": 4123
            },
            "line": 113,
            "code": "    it('...should call signIn when signIn button is clicked', () => {\n      const el = wrapper.find(`.${AmplifyUI.sectionFooterSecondaryContent} > .${AmplifyUI.a}`);\n      el.trigger('click');\n      expect(mockSignIn).toHaveBeenCalled();\n    });",
            "file": "ForgotPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should exist",
            "suites": [
                "GetUser Service..."
            ],
            "updatePoint": {
                "line": 4,
                "column": 21,
                "index": 168
            },
            "line": 4,
            "code": "  it('...should exist', () => {\n    expect(getUser).toBeTruthy();\n  });",
            "file": "GetUser.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call Auth.currentAuthenticatedUser",
            "suites": [
                "GetUser Service..."
            ],
            "updatePoint": {
                "line": 7,
                "column": 50,
                "index": 269
            },
            "line": 7,
            "code": "  it('...should call Auth.currentAuthenticatedUser', () => {\n    getUser(AmplifyMocks);\n    expect(AmplifyMocks.Auth.currentAuthenticatedUser).toBeCalled();\n  });",
            "file": "GetUser.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should return null if no user",
            "suites": [
                "GetUser Service..."
            ],
            "updatePoint": {
                "line": 11,
                "column": 38,
                "index": 420
            },
            "line": 11,
            "code": "  it('...should return null if no user', async () => {\n    const tempMock = Object.assign(AmplifyMocks, {\n      Auth: {\n        currentAuthenticatedUser: jest.fn(() => Promise.resolve(null))\n      }\n    });\n    const res = await getUser(tempMock);\n    expect(res).toEqual(null);\n  });",
            "file": "GetUser.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should returnan error if currentAuthenticatedUser rejects",
            "suites": [
                "GetUser Service..."
            ],
            "updatePoint": {
                "line": 20,
                "column": 66,
                "index": 733
            },
            "line": 20,
            "code": "  it('...should returnan error if currentAuthenticatedUser rejects', async () => {\n    const tempMockFail = Object.assign(AmplifyMocks, {\n      Auth: {\n        currentAuthenticatedUser: jest.fn(() => Promise.reject(new Error('I rejected')))\n      }\n    });\n    const res = await getUser(tempMockFail);\n    expect(res).toBeInstanceOf(Error);\n  });",
            "file": "GetUser.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "sets the correct default data",
            "suites": [
                "PhoneField"
            ],
            "updatePoint": {
                "line": 24,
                "column": 35,
                "index": 746
            },
            "line": 24,
            "code": "  it('sets the correct default data', () => {\n    expect(typeof PhoneField.data).toBe('function');\n    const defaultData = PhoneField.data();\n    expect(defaultData.countryCode).toEqual('1');\n    expect(defaultData.local_phone_number).toEqual('');\n    expect(defaultData.countries).toEqual(countries);\n  });",
            "file": "PhoneField.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "emit phone number changed when country code changed",
            "suites": [
                "PhoneField"
            ],
            "updatePoint": {
                "line": 31,
                "column": 57,
                "index": 1076
            },
            "line": 31,
            "code": "  it('emit phone number changed when country code changed', () => {\n    wrapper.findAll('select').at(0).trigger('change');\n    expect(mockPhoneNumberChanged).toBeCalled();\n  });",
            "file": "PhoneField.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "emit phone number changed when local phone numer changed",
            "suites": [
                "PhoneField"
            ],
            "updatePoint": {
                "line": 35,
                "column": 62,
                "index": 1259
            },
            "line": 35,
            "code": "  it('emit phone number changed when local phone numer changed', () => {\n    wrapper.findAll('input').at(0).trigger('keyup');\n    expect(mockPhoneNumberChanged).toBeCalled();\n  });",
            "file": "PhoneField.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "has a mounted hook",
            "suites": [
                "PhotoPicker"
            ],
            "updatePoint": {
                "line": 12,
                "column": 24,
                "index": 448
            },
            "line": 12,
            "code": "  it('has a mounted hook', () => {\n    expect(typeof PhotoPicker.mounted).toBe('function');\n  });",
            "file": "PhotoPicker.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "sets the correct default data",
            "suites": [
                "PhotoPicker"
            ],
            "updatePoint": {
                "line": 15,
                "column": 35,
                "index": 557
            },
            "line": 15,
            "code": "  it('sets the correct default data', () => {\n    expect(typeof PhotoPicker.data).toBe('function');\n    const defaultData = PhotoPicker.data();\n    expect(defaultData.file).toBe(null);\n    expect(defaultData.s3ImagePath).toEqual('');\n    expect(defaultData.photoUrl).toEqual('');\n    expect(defaultData.logger).toEqual({});\n    expect(defaultData.error).toEqual('');\n  });",
            "file": "PhotoPicker.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should use the amplify plugin with passed modules",
            "suites": [
                "PhotoPicker",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 36,
                "column": 63,
                "index": 1289
            },
            "line": 36,
            "code": "    it('...it should use the amplify plugin with passed modules', () => {\n      expect(wrapper.vm.$Amplify).toBeTruthy();\n    });",
            "file": "PhotoPicker.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should be named PhotoPicker",
            "suites": [
                "PhotoPicker",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 39,
                "column": 41,
                "index": 1397
            },
            "line": 39,
            "code": "    it('...it should be named PhotoPicker', () => {\n      expect(wrapper.vm.$options.name).toEqual('PhotoPicker');\n    });",
            "file": "PhotoPicker.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should instantiate a logger with the name of the component",
            "suites": [
                "PhotoPicker",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 42,
                "column": 72,
                "index": 1551
            },
            "line": 42,
            "code": "    it('...it should instantiate a logger with the name of the component', () => {\n      expect(wrapper.vm.logger.name).toEqual(wrapper.vm.$options.name);\n    });",
            "file": "PhotoPicker.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a pick method",
            "suites": [
                "PhotoPicker",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 45,
                "column": 39,
                "index": 1681
            },
            "line": 45,
            "code": "    it('...it should have a pick method', () => {\n      expect(wrapper.vm.pick).toBeTruthy();\n    });",
            "file": "PhotoPicker.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have an upload method",
            "suites": [
                "PhotoPicker",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 48,
                "column": 42,
                "index": 1786
            },
            "line": 48,
            "code": "    it('...it should have an upload method', () => {\n      expect(wrapper.vm.upload).toBeTruthy();\n    });",
            "file": "PhotoPicker.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a completeFileUpload method",
            "suites": [
                "PhotoPicker",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 51,
                "column": 53,
                "index": 1904
            },
            "line": 51,
            "code": "    it('...it should have a completeFileUpload method', () => {\n      expect(wrapper.vm.completeFileUpload).toBeTruthy();\n    });",
            "file": "PhotoPicker.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a setError method",
            "suites": [
                "PhotoPicker",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 54,
                "column": 43,
                "index": 2024
            },
            "line": 54,
            "code": "    it('...it should have a setError method', () => {\n      expect(wrapper.vm.setError).toBeTruthy();\n    });",
            "file": "PhotoPicker.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...have default options",
            "suites": [
                "PhotoPicker",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 57,
                "column": 31,
                "index": 2122
            },
            "line": 57,
            "code": "    it('...have default options', () => {\n      expect(wrapper.vm.options.header).toEqual('i18n File Upload');\n      expect(wrapper.vm.options.title).toEqual('i18n Upload');\n      expect(wrapper.vm.options.accept).toEqual('*/*');\n    });",
            "file": "PhotoPicker.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should have a upload method that calls Amplify.Auth.PhotoPicker",
            "suites": [
                "PhotoPicker",
                "...when the methods are not mocked..."
            ],
            "updatePoint": {
                "line": 65,
                "column": 74,
                "index": 2503
            },
            "line": 65,
            "code": "    it('...should have a upload method that calls Amplify.Auth.PhotoPicker', () => {\n      wrapper.vm.s3ImagePath = 'testPath';\n      wrapper.vm.file = {\n        type: 'fakeFile'\n      };\n      wrapper.vm.options.storageOptions = {\n        level: 'private',\n        contentType: 'fakeType'\n      };\n      wrapper.vm.upload();\n      expect(wrapper.vm.$Amplify.Storage.put).toHaveBeenCalledWith('testPath', {\n        type: 'fakeFile'\n      }, {\n        level: 'private',\n        contentType: 'fakeType'\n      });\n    });",
            "file": "PhotoPicker.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should not set the error property",
            "suites": [
                "PhotoPicker",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 108,
                "column": 44,
                "index": 3615
            },
            "line": 108,
            "code": "    it('...should not set the error property', () => {\n      expect(wrapper.vm.error).toEqual('');\n      expect(mockSetError).not.toHaveBeenCalled();\n    });",
            "file": "PhotoPicker.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should render the header from props",
            "suites": [
                "PhotoPicker",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 112,
                "column": 46,
                "index": 3775
            },
            "line": 112,
            "code": "    it('...should render the header from props', () => {\n      const el = wrapper.find(`.${AmplifyUI.sectionHeader}`).element;\n      expect(el.textContent).toEqual(header);\n    });",
            "file": "PhotoPicker.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...upload button should not appear when file is not picked",
            "suites": [
                "PhotoPicker",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 116,
                "column": 66,
                "index": 3976
            },
            "line": 116,
            "code": "    it('...upload button should not appear when file is not picked', () => {\n      const el = wrapper.find('button').element;\n      expect(el).toBeFalsy();\n    });",
            "file": "PhotoPicker.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should get the passed upload button text",
            "suites": [
                "PhotoPicker",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 120,
                "column": 51,
                "index": 4125
            },
            "line": 120,
            "code": "    it('...should get the passed upload button text', () => {\n      wrapper.vm.file = {\n        foo: 'bar'\n      };\n      const text = wrapper.find('button').text();\n      expect(text).toEqual(title);\n    });",
            "file": "PhotoPicker.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call completeFileUpload when upload is clicked",
            "suites": [
                "PhotoPicker",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 127,
                "column": 64,
                "index": 4347
            },
            "line": 127,
            "code": "    it('...should call completeFileUpload when upload is clicked', () => {\n      wrapper.vm.upload();\n      wrapper.vm.file = {\n        foo: 'bar'\n      };\n      wrapper.vm.s3ImageFile = 'testImage';\n      wrapper.vm.$Amplify.Storage.put('testPath', {\n        type: 'fakeFile'\n      }, {\n        contentType: 'fakeFile'\n      }).then(res => {\n        expect(mockCompleteFileUpload).toHaveBeenCalledWith(res.key);\n        expect(wrapper.vm.file).toBe(null);\n        expect(wrapper.vm.s3ImageFile).toBe(null);\n      }).catch(e => e);\n    });",
            "file": "PhotoPicker.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call pick when file input is activated",
            "suites": [
                "PhotoPicker",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 143,
                "column": 56,
                "index": 4879
            },
            "line": 143,
            "code": "    it('...should call pick when file input is activated', () => {\n      const el = wrapper.find('input');\n      el.trigger('change');\n      expect(mockPick).toBeCalled();\n    });",
            "file": "PhotoPicker.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "has a mounted hook",
            "suites": [
                "RequireNewPassword"
            ],
            "updatePoint": {
                "line": 13,
                "column": 24,
                "index": 529
            },
            "line": 13,
            "code": "  it('has a mounted hook', () => {\n    expect(typeof RequireNewPassword.mounted).toBe('function');\n  });",
            "file": "RequireNewPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "sets the correct default data",
            "suites": [
                "RequireNewPassword"
            ],
            "updatePoint": {
                "line": 16,
                "column": 35,
                "index": 645
            },
            "line": 16,
            "code": "  it('sets the correct default data', () => {\n    expect(typeof RequireNewPassword.data).toBe('function');\n    const defaultData = RequireNewPassword.data();\n    expect(defaultData.logger).toEqual({});\n    expect(defaultData.error).toEqual('');\n  });",
            "file": "RequireNewPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should use the amplify plugin with passed modules",
            "suites": [
                "RequireNewPassword",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 34,
                "column": 63,
                "index": 1266
            },
            "line": 34,
            "code": "    it('...it should use the amplify plugin with passed modules', () => {\n      console.log('wrapper', wrapper);\n      expect(wrapper.vm.$Amplify).toBeTruthy();\n    });",
            "file": "RequireNewPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should be named RequireNewPassword",
            "suites": [
                "RequireNewPassword",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 38,
                "column": 48,
                "index": 1420
            },
            "line": 38,
            "code": "    it('...it should be named RequireNewPassword', () => {\n      expect(wrapper.vm.$options.name).toEqual('RequireNewPassword');\n    });",
            "file": "RequireNewPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should instantiate a logger with the name of the component",
            "suites": [
                "RequireNewPassword",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 41,
                "column": 72,
                "index": 1581
            },
            "line": 41,
            "code": "    it('...it should instantiate a logger with the name of the component', () => {\n      expect(wrapper.vm.logger.name).toEqual(wrapper.vm.$options.name);\n    });",
            "file": "RequireNewPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a change method",
            "suites": [
                "RequireNewPassword",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 44,
                "column": 41,
                "index": 1713
            },
            "line": 44,
            "code": "    it('...it should have a change method', () => {\n      expect(wrapper.vm.change).toBeTruthy();\n    });",
            "file": "RequireNewPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should have a checkContact method",
            "suites": [
                "RequireNewPassword",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 47,
                "column": 44,
                "index": 1822
            },
            "line": 47,
            "code": "    it('...should have a checkContact method', () => {\n      expect(wrapper.vm.checkContact).toBeTruthy();\n    });",
            "file": "RequireNewPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should have a signIn method",
            "suites": [
                "RequireNewPassword",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 50,
                "column": 38,
                "index": 1931
            },
            "line": 50,
            "code": "    it('...should have a signIn method', () => {\n      expect(wrapper.vm.signIn).toBeTruthy();\n    });",
            "file": "RequireNewPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a setError method",
            "suites": [
                "RequireNewPassword",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 53,
                "column": 43,
                "index": 2039
            },
            "line": 53,
            "code": "    it('...it should have a setError method', () => {\n      expect(wrapper.vm.setError).toBeTruthy();\n    });",
            "file": "RequireNewPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...have default options",
            "suites": [
                "RequireNewPassword",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 56,
                "column": 31,
                "index": 2137
            },
            "line": 56,
            "code": "    it('...have default options', () => {\n      expect(wrapper.vm.options.header).toEqual('i18n Enter new password');\n    });",
            "file": "RequireNewPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call Auth.completeNewPassword when change method is called",
            "suites": [
                "RequireNewPassword",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 59,
                "column": 76,
                "index": 2308
            },
            "line": 59,
            "code": "    it('...should call Auth.completeNewPassword when change method is called', () => {\n      wrapper.vm.change();\n      expect(wrapper.vm.$Amplify.Auth.completeNewPassword).toBeCalled();\n    });",
            "file": "RequireNewPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should set the local error variable when setError is called",
            "suites": [
                "RequireNewPassword",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 63,
                "column": 70,
                "index": 2497
            },
            "line": 63,
            "code": "    it('...should set the local error variable when setError is called', () => {\n      wrapper.vm.setError('I messed up');\n      expect(wrapper.vm.error).toEqual('i18n I messed up');\n    });",
            "file": "RequireNewPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call Auth.forgotPasswordSubmit when checkContact method is called",
            "suites": [
                "RequireNewPassword",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 67,
                "column": 83,
                "index": 2701
            },
            "line": 67,
            "code": "    it('...should call Auth.forgotPasswordSubmit when checkContact method is called', () => {\n      wrapper.vm.checkContact();\n      expect(wrapper.vm.$Amplify.Auth.verifiedContact).toBeCalled();\n    });",
            "file": "RequireNewPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should not set the error property",
            "suites": [
                "RequireNewPassword",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 98,
                "column": 44,
                "index": 3524
            },
            "line": 98,
            "code": "    it('...should not set the error property', () => {\n      expect(wrapper.vm.error).toEqual('');\n      expect(mockSetError).not.toHaveBeenCalled();\n    });",
            "file": "RequireNewPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should render the header from props",
            "suites": [
                "RequireNewPassword",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 102,
                "column": 46,
                "index": 3684
            },
            "line": 102,
            "code": "    it('...should render the header from props', () => {\n      const el = wrapper.find(`.${AmplifyUI.sectionHeader}`).element;\n      expect(el.textContent).toEqual(header);\n    });",
            "file": "RequireNewPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call signIn when signIn button is clicked",
            "suites": [
                "RequireNewPassword",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 106,
                "column": 59,
                "index": 3878
            },
            "line": 106,
            "code": "    it('...should call signIn when signIn button is clicked', () => {\n      const el = wrapper.find(`.${AmplifyUI.sectionFooterSecondaryContent} > .${AmplifyUI.a}`);\n      el.trigger('click');\n      expect(mockSignIn).toHaveBeenCalled();\n    });",
            "file": "RequireNewPassword.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should use the amplify plugin with passed modules",
            "suites": [
                "S3Album",
                "...when it is mounted with props but methods not mocked..."
            ],
            "updatePoint": {
                "line": 26,
                "column": 63,
                "index": 924
            },
            "line": 26,
            "code": "    it('...it should use the amplify plugin with passed modules', () => {\n      expect(wrapper.vm.$Amplify).toBeTruthy();\n    });",
            "file": "S3Album.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should be named S3Album",
            "suites": [
                "S3Album",
                "...when it is mounted with props but methods not mocked..."
            ],
            "updatePoint": {
                "line": 29,
                "column": 37,
                "index": 1028
            },
            "line": 29,
            "code": "    it('...it should be named S3Album', () => {\n      expect(wrapper.vm.$options.name).toEqual('S3Album');\n    });",
            "file": "S3Album.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should instantiate a logger with the name of the component",
            "suites": [
                "S3Album",
                "...when it is mounted with props but methods not mocked..."
            ],
            "updatePoint": {
                "line": 32,
                "column": 72,
                "index": 1178
            },
            "line": 32,
            "code": "    it('...it should instantiate a logger with the name of the component', () => {\n      expect(wrapper.vm.logger.name).toEqual(wrapper.vm.$options.name);\n    });",
            "file": "S3Album.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a getImages method",
            "suites": [
                "S3Album",
                "...when it is mounted with props but methods not mocked..."
            ],
            "updatePoint": {
                "line": 35,
                "column": 44,
                "index": 1313
            },
            "line": 35,
            "code": "    it('...it should have a getImages method', () => {\n      expect(wrapper.vm.getImages).toBeTruthy();\n    });",
            "file": "S3Album.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a pushImage method",
            "suites": [
                "S3Album",
                "...when it is mounted with props but methods not mocked..."
            ],
            "updatePoint": {
                "line": 38,
                "column": 44,
                "index": 1425
            },
            "line": 38,
            "code": "    it('...it should have a pushImage method', () => {\n      expect(wrapper.vm.pushImage).toBeTruthy();\n    });",
            "file": "S3Album.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a setError method",
            "suites": [
                "S3Album",
                "...when it is mounted with props but methods not mocked..."
            ],
            "updatePoint": {
                "line": 41,
                "column": 43,
                "index": 1536
            },
            "line": 41,
            "code": "    it('...it should have a setError method', () => {\n      expect(wrapper.vm.setError).toBeTruthy();\n    });",
            "file": "S3Album.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call $Amplify.Storage.list when getImages is called",
            "suites": [
                "S3Album",
                "...when it is mounted with props but methods not mocked..."
            ],
            "updatePoint": {
                "line": 44,
                "column": 69,
                "index": 1672
            },
            "line": 44,
            "code": "    it('...should call $Amplify.Storage.list when getImages is called', () => {\n      expect(wrapper.vm.$Amplify.Storage.list).toHaveBeenCalled();\n    });",
            "file": "S3Album.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should not set the error property",
            "suites": [
                "S3Album",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 66,
                "column": 44,
                "index": 2268
            },
            "line": 66,
            "code": "    it('...should not set the error property', () => {\n      expect(wrapper.vm.error).toEqual('');\n      expect(mockSetError).not.toHaveBeenCalled();\n    });",
            "file": "S3Album.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call pushImage when fileUpload event occurs",
            "suites": [
                "S3Album",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 70,
                "column": 61,
                "index": 2443
            },
            "line": 70,
            "code": "    it('...should call pushImage when fileUpload event occurs', () => {\n      AmplifyEventBus.$emit('fileUpload', {\n        foo: 'bar'\n      });\n      expect(mockPushImage).toHaveBeenCalled();\n    });",
            "file": "S3Album.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should use the amplify plugin with passed modules",
            "suites": [
                "S3Image",
                "...when it is mounted with props but methods not mocked..."
            ],
            "updatePoint": {
                "line": 27,
                "column": 63,
                "index": 951
            },
            "line": 27,
            "code": "    it('...it should use the amplify plugin with passed modules', () => {\n      expect(wrapper.vm.$Amplify).toBeTruthy();\n    });",
            "file": "S3Image.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should be named S3Image",
            "suites": [
                "S3Image",
                "...when it is mounted with props but methods not mocked..."
            ],
            "updatePoint": {
                "line": 30,
                "column": 37,
                "index": 1055
            },
            "line": 30,
            "code": "    it('...it should be named S3Image', () => {\n      expect(wrapper.vm.$options.name).toEqual('S3Image');\n    });",
            "file": "S3Image.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should instantiate a logger with the name of the component",
            "suites": [
                "S3Image",
                "...when it is mounted with props but methods not mocked..."
            ],
            "updatePoint": {
                "line": 33,
                "column": 72,
                "index": 1205
            },
            "line": 33,
            "code": "    it('...it should instantiate a logger with the name of the component', () => {\n      expect(wrapper.vm.logger.name).toEqual(wrapper.vm.$options.name);\n    });",
            "file": "S3Image.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a getImage method",
            "suites": [
                "S3Image",
                "...when it is mounted with props but methods not mocked..."
            ],
            "updatePoint": {
                "line": 36,
                "column": 43,
                "index": 1339
            },
            "line": 36,
            "code": "    it('...it should have a getImage method', () => {\n      expect(wrapper.vm.getImage).toBeTruthy();\n    });",
            "file": "S3Image.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a blowUp method",
            "suites": [
                "S3Image",
                "...when it is mounted with props but methods not mocked..."
            ],
            "updatePoint": {
                "line": 39,
                "column": 41,
                "index": 1447
            },
            "line": 39,
            "code": "    it('...it should have a blowUp method', () => {\n      expect(wrapper.vm.blowUp).toBeTruthy();\n    });",
            "file": "S3Image.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a setError method",
            "suites": [
                "S3Image",
                "...when it is mounted with props but methods not mocked..."
            ],
            "updatePoint": {
                "line": 42,
                "column": 43,
                "index": 1555
            },
            "line": 42,
            "code": "    it('...it should have a setError method', () => {\n      expect(wrapper.vm.setError).toBeTruthy();\n    });",
            "file": "S3Image.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call $Amplify.Storage.get when getImages is called with imagePath",
            "suites": [
                "S3Image",
                "...when it is mounted with props but methods not mocked..."
            ],
            "updatePoint": {
                "line": 45,
                "column": 83,
                "index": 1705
            },
            "line": 45,
            "code": "    it('...should call $Amplify.Storage.get when getImages is called with imagePath', () => {\n      wrapper.vm.imagePath = 'testPath';\n      wrapper.vm.getImage();\n      expect(wrapper.vm.$Amplify.Storage.get).toHaveBeenCalled();\n    });",
            "file": "S3Image.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should not call window.open when blowUp is called",
            "suites": [
                "S3Image",
                "...when it is mounted with props but methods not mocked..."
            ],
            "updatePoint": {
                "line": 50,
                "column": 60,
                "index": 1920
            },
            "line": 50,
            "code": "    it('...should not call window.open when blowUp is called', () => {\n      wrapper.vm.blowUp();\n      expect(global.open).toHaveBeenCalled();\n    });",
            "file": "S3Image.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should not set the error property",
            "suites": [
                "S3Image",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 73,
                "column": 44,
                "index": 2510
            },
            "line": 73,
            "code": "    it('...should not set the error property', () => {\n      expect(wrapper.vm.error).toEqual('');\n      expect(mockSetError).not.toHaveBeenCalled();\n    });",
            "file": "S3Image.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call blowUp when image element is clicked",
            "suites": [
                "S3Image",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 77,
                "column": 59,
                "index": 2683
            },
            "line": 77,
            "code": "    it('...should call blowUp when image element is clicked', () => {\n      const el = wrapper.find('img');\n      el.trigger('click');\n      expect(mockBlowUp).toHaveBeenCalled();\n    });",
            "file": "S3Image.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "has a mounted hook",
            "suites": [
                "SetMFA"
            ],
            "updatePoint": {
                "line": 13,
                "column": 24,
                "index": 498
            },
            "line": 13,
            "code": "  it('has a mounted hook', () => {\n    expect(typeof SetMFA.mounted).toBe('function');\n  });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "sets the correct default data",
            "suites": [
                "SetMFA"
            ],
            "updatePoint": {
                "line": 16,
                "column": 35,
                "index": 602
            },
            "line": 16,
            "code": "  it('sets the correct default data', () => {\n    expect(typeof SetMFA.data).toBe('function');\n    const defaultData = SetMFA.data();\n    expect(defaultData.user).toBe(null);\n    expect(defaultData.mfaPreference).toBe(null);\n    expect(defaultData.token).toBe('');\n    expect(defaultData.displayTotpSetup).toBe(false);\n    expect(defaultData.logger).toEqual({});\n    expect(defaultData.error).toEqual('');\n  });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should use the amplify plugin with passed modules",
            "suites": [
                "SetMFA",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 37,
                "column": 63,
                "index": 1374
            },
            "line": 37,
            "code": "    it('...it should use the amplify plugin with passed modules', () => {\n      expect(wrapper.vm.$Amplify).toBeTruthy();\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should be named SetMFA",
            "suites": [
                "SetMFA",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 40,
                "column": 36,
                "index": 1477
            },
            "line": 40,
            "code": "    it('...it should be named SetMFA', () => {\n      expect(wrapper.vm.$options.name).toEqual('SetMfa');\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should instantiate a logger with the name of the component",
            "suites": [
                "SetMFA",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 43,
                "column": 72,
                "index": 1626
            },
            "line": 43,
            "code": "    it('...it should instantiate a logger with the name of the component', () => {\n      expect(wrapper.vm.logger.name).toEqual(wrapper.vm.$options.name);\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have an setup method",
            "suites": [
                "SetMFA",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 46,
                "column": 41,
                "index": 1758
            },
            "line": 46,
            "code": "    it('...it should have an setup method', () => {\n      expect(wrapper.vm.setup).toBeTruthy();\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should have a setUser method",
            "suites": [
                "SetMFA",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 49,
                "column": 39,
                "index": 1861
            },
            "line": 49,
            "code": "    it('...should have a setUser method', () => {\n      expect(wrapper.vm.setUser).toBeTruthy();\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should have a setMFA method",
            "suites": [
                "SetMFA",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 52,
                "column": 38,
                "index": 1965
            },
            "line": 52,
            "code": "    it('...should have a setMFA method', () => {\n      expect(wrapper.vm.setMFA).toBeTruthy();\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should have a verifyTotpToken method",
            "suites": [
                "SetMFA",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 55,
                "column": 47,
                "index": 2077
            },
            "line": 55,
            "code": "    it('...should have a verifyTotpToken method', () => {\n      expect(wrapper.vm.verifyTotpToken).toBeTruthy();\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a setError method",
            "suites": [
                "SetMFA",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 58,
                "column": 43,
                "index": 2194
            },
            "line": 58,
            "code": "    it('...it should have a setError method', () => {\n      expect(wrapper.vm.setError).toBeTruthy();\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...have default options",
            "suites": [
                "SetMFA",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 61,
                "column": 31,
                "index": 2292
            },
            "line": 61,
            "code": "    it('...have default options', () => {\n      expect(wrapper.vm.options.header).toEqual('Multifactor Authentication Preference');\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call Auth.setPreferredMFA when setMFA function is called",
            "suites": [
                "SetMFA",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 64,
                "column": 74,
                "index": 2475
            },
            "line": 64,
            "code": "    it('...should call Auth.setPreferredMFA when setMFA function is called', () => {\n      wrapper.vm.setMFA();\n      expect(wrapper.vm.$Amplify.Auth.setPreferredMFA).toHaveBeenCalledTimes(1);\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call Auth.verifyTotpToken when verifyTotpToken function is called",
            "suites": [
                "SetMFA",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 68,
                "column": 83,
                "index": 2685
            },
            "line": 68,
            "code": "    it('...should call Auth.verifyTotpToken when verifyTotpToken function is called', () => {\n      wrapper.vm.verifyTotpToken();\n      expect(wrapper.vm.$Amplify.Auth.verifyTotpToken).toHaveBeenCalledTimes(1);\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call Auth.setupTOTP when setup function is called",
            "suites": [
                "SetMFA",
                "...whent it is mounted with props but methods unmocked"
            ],
            "updatePoint": {
                "line": 89,
                "column": 67,
                "index": 3368
            },
            "line": 89,
            "code": "    it('...should call Auth.setupTOTP when setup function is called', async () => {\n      wrapper.vm.setup();\n      let testToken = `otpauth://totp/AWSCognito:${wrapper.vm.user.username}?secret=gibberish&issuer=AWSCognito`;\n      await expect(wrapper.vm.$Amplify.Auth.setupTOTP).toBeCalledWith(wrapper.vm.user);\n      expect(wrapper.vm.token).toEqual(testToken);\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should not set the error property",
            "suites": [
                "SetMFA",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 127,
                "column": 44,
                "index": 4598
            },
            "line": 127,
            "code": "    it('...should not set the error property', () => {\n      expect(wrapper.vm.error).toEqual('');\n      expect(mockSetError).not.toHaveBeenCalled();\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should render the header from props",
            "suites": [
                "SetMFA",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 131,
                "column": 46,
                "index": 4758
            },
            "line": 131,
            "code": "    it('...should render the header from props', () => {\n      const el = wrapper.find(`.${AmplifyUI.sectionHeader}`).element;\n      expect(el.firstChild.textContent.trim()).toEqual(testText);\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should render the mfaDescription from props",
            "suites": [
                "SetMFA",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 135,
                "column": 54,
                "index": 4967
            },
            "line": 135,
            "code": "    it('...should render the mfaDescription from props', () => {\n      const el = wrapper.find(`.${AmplifyUI.sectionHeader} > div`).element;\n      expect(el.textContent.trim()).toEqual(testText);\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should not render the sms radio button if sms is not in mfaTypes",
            "suites": [
                "SetMFA",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 139,
                "column": 75,
                "index": 5192
            },
            "line": 139,
            "code": "    it('...should not render the sms radio button if sms is not in mfaTypes', () => {\n      const el = wrapper.find(`.${AmplifyUI.sectionHeader} > div`).element;\n      expect(el.textContent.trim()).toEqual(testText);\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call setUser on mount",
            "suites": [
                "SetMFA",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 143,
                "column": 39,
                "index": 5381
            },
            "line": 143,
            "code": "    it('...should call setUser on mount', () => {\n      expect(mockSetUser).toHaveBeenCalled();\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should display setMFA button if !displayTotpSetup",
            "suites": [
                "SetMFA",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 146,
                "column": 60,
                "index": 5506
            },
            "line": 146,
            "code": "    it('...should display setMFA button if !displayTotpSetup', () => {\n      const el = wrapper.find('#setMfa').exists;\n      expect(el).toBeTruthy();\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should not display setMFA button if displayTotpSetup",
            "suites": [
                "SetMFA",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 150,
                "column": 63,
                "index": 5668
            },
            "line": 150,
            "code": "    it('...should not display setMFA button if displayTotpSetup', () => {\n      wrapper.vm.token = 'token';\n      wrapper.vm.displayTotpSetup = true;\n      const el = wrapper.find('#setMFA').element;\n      expect(el).toBeFalsy();\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call setMFA on setMFA button click",
            "suites": [
                "SetMFA",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 156,
                "column": 52,
                "index": 5895
            },
            "line": 156,
            "code": "    it('...should call setMFA on setMFA button click', () => {\n      const el = wrapper.find(`.${AmplifyUI.sectionFooterPrimaryContent} > button`);\n      el.trigger('click');\n      expect(mockSetMFA).toHaveBeenCalled();\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should display verifyTotpToken button if displayTotpSetup",
            "suites": [
                "SetMFA",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 161,
                "column": 68,
                "index": 6139
            },
            "line": 161,
            "code": "    it('...should display verifyTotpToken button if displayTotpSetup', () => {\n      wrapper.vm.token = 'token';\n      wrapper.vm.displayTotpSetup = true;\n      const el = wrapper.find('#verify').exists;\n      expect(el).toBeTruthy();\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should not display verifyTotpToken button if !displayTotpSetup",
            "suites": [
                "SetMFA",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 167,
                "column": 73,
                "index": 6387
            },
            "line": 167,
            "code": "    it('...should not display verifyTotpToken button if !displayTotpSetup', () => {\n      const el = wrapper.find('#verify').element;\n      expect(el).toBeFalsy();\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call verifyTotpToken on verifyTotpToken button click",
            "suites": [
                "SetMFA",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 171,
                "column": 70,
                "index": 6556
            },
            "line": 171,
            "code": "    it('...should call verifyTotpToken on verifyTotpToken button click', () => {\n      wrapper.vm.token = 'token';\n      wrapper.vm.displayTotpSetup = true;\n      const el = wrapper.find('#verify');\n      el.trigger('click');\n      expect(mockVerifyTotpToken).toHaveBeenCalled();\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...setup should be called when mfaPreference changes",
            "suites": [
                "SetMFA",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 178,
                "column": 60,
                "index": 6834
            },
            "line": 178,
            "code": "    it('...setup should be called when mfaPreference changes', () => {\n      wrapper.vm.mfaPreference = 'TOTP';\n      expect(mockSetup).toHaveBeenCalled();\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...Qrcode element should not exist if displayTotpSetup is false",
            "suites": [
                "SetMFA",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 182,
                "column": 71,
                "index": 7009
            },
            "line": 182,
            "code": "    it('...Qrcode element should not exist if displayTotpSetup is false', () => {\n      const qr = wrapper.find(`.${AmplifyUI.totpQrcode}`).exists();\n      expect(qr).toBeFalsy();\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...vQrcode element should exist if displayTotpSetup is true",
            "suites": [
                "SetMFA",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 186,
                "column": 67,
                "index": 7193
            },
            "line": 186,
            "code": "    it('...vQrcode element should exist if displayTotpSetup is true', () => {\n      wrapper.vm.token = 'testtoken';\n      wrapper.vm.displayTotpSetup = true;\n      const qr = wrapper.find(`.${AmplifyUI.totpQrcode}`).exists();\n      expect(qr).toBeTruthy();\n    });",
            "file": "SetMFA.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "has a mounted hook",
            "suites": [
                "SignIn"
            ],
            "updatePoint": {
                "line": 13,
                "column": 24,
                "index": 493
            },
            "line": 13,
            "code": "  it('has a mounted hook', () => {\n    expect(typeof SignIn.mounted).toBe('function');\n  });",
            "file": "SignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "sets the correct default data",
            "suites": [
                "SignIn"
            ],
            "updatePoint": {
                "line": 16,
                "column": 35,
                "index": 597
            },
            "line": 16,
            "code": "  it('sets the correct default data', () => {\n    expect(typeof SignIn.data).toBe('function');\n    const defaultData = SignIn.data();\n    expect(defaultData.password).toBe('');\n    expect(defaultData.logger).toEqual({});\n    expect(defaultData.error).toEqual('');\n  });",
            "file": "SignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should use the amplify plugin with passed modules",
            "suites": [
                "SignIn",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 35,
                "column": 63,
                "index": 1225
            },
            "line": 35,
            "code": "    it('...it should use the amplify plugin with passed modules', () => {\n      expect(wrapper.vm.$Amplify).toBeTruthy();\n    });",
            "file": "SignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should be named SignIn",
            "suites": [
                "SignIn",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 38,
                "column": 36,
                "index": 1328
            },
            "line": 38,
            "code": "    it('...it should be named SignIn', () => {\n      expect(wrapper.vm.$options.name).toEqual('SignIn');\n    });",
            "file": "SignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should instantiate a logger with the name of the component",
            "suites": [
                "SignIn",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 41,
                "column": 72,
                "index": 1477
            },
            "line": 41,
            "code": "    it('...it should instantiate a logger with the name of the component', () => {\n      expect(wrapper.vm.logger.name).toEqual(wrapper.vm.$options.name);\n    });",
            "file": "SignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a signIn method",
            "suites": [
                "SignIn",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 44,
                "column": 41,
                "index": 1609
            },
            "line": 44,
            "code": "    it('...it should have a signIn method', () => {\n      expect(wrapper.vm.signIn).toBeTruthy();\n    });",
            "file": "SignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should have a forgot method",
            "suites": [
                "SignIn",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 47,
                "column": 38,
                "index": 1712
            },
            "line": 47,
            "code": "    it('...should have a forgot method', () => {\n      expect(wrapper.vm.forgot).toBeTruthy();\n    });",
            "file": "SignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should have a signUp method",
            "suites": [
                "SignIn",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 50,
                "column": 38,
                "index": 1815
            },
            "line": 50,
            "code": "    it('...should have a signUp method', () => {\n      expect(wrapper.vm.signUp).toBeTruthy();\n    });",
            "file": "SignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a setError method",
            "suites": [
                "SignIn",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 53,
                "column": 43,
                "index": 1923
            },
            "line": 53,
            "code": "    it('...it should have a setError method', () => {\n      expect(wrapper.vm.setError).toBeTruthy();\n    });",
            "file": "SignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...have default options",
            "suites": [
                "SignIn",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 56,
                "column": 31,
                "index": 2021
            },
            "line": 56,
            "code": "    it('...have default options', () => {\n      expect(wrapper.vm.options.header).toEqual('i18n Sign in to your account');\n      expect(wrapper.vm.options.username).toEqual('');\n    });",
            "file": "SignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...have default options",
            "suites": [
                "SignIn",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 60,
                "column": 31,
                "index": 2207
            },
            "line": 60,
            "code": "    it('...have default options', () => {\n      expect(wrapper.vm.options.header).toEqual('i18n Sign in to your account');\n      expect(wrapper.vm.options.username).toEqual('');\n    });",
            "file": "SignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call Auth.signIn when signIn function is called",
            "suites": [
                "SignIn",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 64,
                "column": 65,
                "index": 2427
            },
            "line": 64,
            "code": "    it('...should call Auth.signIn when signIn function is called', () => {\n      wrapper.vm.signIn();\n      expect(wrapper.vm.$Amplify.Auth.signIn).toHaveBeenCalledTimes(1);\n    });",
            "file": "SignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should emit customConfirmSignIn state when signIn function is called and response indicates a custom challenge",
            "suites": [
                "SignIn",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 68,
                "column": 121,
                "index": 2666
            },
            "line": 68,
            "code": "    it('...should emit customConfirmSignIn state when signIn function is called and response indicates a custom challenge', async () => {\n      let customTestState = 0;\n      AmplifyEventBus.$on('authState', val => {\n        if (val === 'customConfirmSignIn') {\n          customTestState = 3;\n        }\n      });\n      await wrapper.vm.signIn();\n      expect(customTestState).toEqual(3);\n    });",
            "file": "SignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should emit authState when forgot method called",
            "suites": [
                "SignIn",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 78,
                "column": 58,
                "index": 2999
            },
            "line": 78,
            "code": "    it('...should emit authState when forgot method called', () => {\n      testState = 0;\n      AmplifyEventBus.$on('authState', val => {\n        if (val === 'forgotPassword') {\n          testState = 1;\n        }\n      });\n      wrapper.vm.forgot();\n      expect(testState).toEqual(1);\n    });",
            "file": "SignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should emit authState when signUp method called",
            "suites": [
                "SignIn",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 88,
                "column": 58,
                "index": 3293
            },
            "line": 88,
            "code": "    it('...should emit authState when signUp method called', () => {\n      testState = 0;\n      AmplifyEventBus.$on('authState', val => {\n        if (val === 'signUp') {\n          testState = 2;\n        }\n      });\n      wrapper.vm.signUp();\n      expect(testState).toEqual(2);\n    });",
            "file": "SignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should not set the error property",
            "suites": [
                "SignIn",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 123,
                "column": 44,
                "index": 4167
            },
            "line": 123,
            "code": "    it('...should not set the error property', () => {\n      expect(wrapper.vm.error).toEqual('');\n      expect(mockSetError).not.toHaveBeenCalled();\n    });",
            "file": "SignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should render the header from props",
            "suites": [
                "SignIn",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 127,
                "column": 46,
                "index": 4327
            },
            "line": 127,
            "code": "    it('...should render the header from props', () => {\n      const el = wrapper.find(`.${AmplifyUI.sectionHeader}`).element;\n      expect(el.textContent).toEqual(header);\n    });",
            "file": "SignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should get the passed username",
            "suites": [
                "SignIn",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 131,
                "column": 41,
                "index": 4503
            },
            "line": 131,
            "code": "    it('...should get the passed username', () => {\n      expect(wrapper.vm.options.username).toEqual('TestPerson');\n    });",
            "file": "SignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call signIn when signIn button is clicked",
            "suites": [
                "SignIn",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 134,
                "column": 59,
                "index": 4646
            },
            "line": 134,
            "code": "    it('...should call signIn when signIn button is clicked', () => {\n      const el = wrapper.find(`.${AmplifyUI.sectionFooterPrimaryContent} > button`);\n      el.trigger('click');\n      expect(mockSignIn).toHaveBeenCalled();\n    });",
            "file": "SignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should not call forgot when reset link is clicked",
            "suites": [
                "SignIn",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 139,
                "column": 60,
                "index": 4882
            },
            "line": 139,
            "code": "    it('...should not call forgot when reset link is clicked', () => {\n      const el = wrapper.find(`.${AmplifyUI.hint} > a`);\n      el.trigger('click');\n      expect(mockForgot).toHaveBeenCalled();\n    });",
            "file": "SignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call signUp when signUp link is clicked",
            "suites": [
                "SignIn",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 144,
                "column": 57,
                "index": 5087
            },
            "line": 144,
            "code": "    it('...should call signUp when signUp link is clicked', () => {\n      const el = wrapper.find(`.${AmplifyUI.sectionFooterSecondaryContent} > a`);\n      el.trigger('click');\n      expect(mockSignUp).toHaveBeenCalled();\n    });",
            "file": "SignIn.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "has a mounted hook",
            "suites": [
                "SignOut"
            ],
            "updatePoint": {
                "line": 12,
                "column": 24,
                "index": 442
            },
            "line": 12,
            "code": "  it('has a mounted hook', () => {\n    expect(typeof SignOut.mounted).toBe('function');\n  });",
            "file": "SignOut.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "sets the correct default data",
            "suites": [
                "SignOut"
            ],
            "updatePoint": {
                "line": 15,
                "column": 35,
                "index": 547
            },
            "line": 15,
            "code": "  it('sets the correct default data', () => {\n    expect(typeof SignOut.data).toBe('function');\n    const defaultData = SignOut.data();\n    expect(defaultData.show).toBe(false);\n    expect(defaultData.logger).toEqual({});\n    expect(defaultData.error).toEqual('');\n  });",
            "file": "SignOut.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should use the amplify plugin with passed modules",
            "suites": [
                "SignOut",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 31,
                "column": 63,
                "index": 1091
            },
            "line": 31,
            "code": "    it('...it should use the amplify plugin with passed modules', () => {\n      expect(wrapper.vm.$Amplify).toBeTruthy();\n    });",
            "file": "SignOut.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should be named SignOut",
            "suites": [
                "SignOut",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 34,
                "column": 37,
                "index": 1195
            },
            "line": 34,
            "code": "    it('...it should be named SignOut', () => {\n      expect(wrapper.vm.$options.name).toEqual('SignOut');\n    });",
            "file": "SignOut.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should instantiate a logger with the name of the component",
            "suites": [
                "SignOut",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 37,
                "column": 72,
                "index": 1345
            },
            "line": 37,
            "code": "    it('...it should instantiate a logger with the name of the component', () => {\n      expect(wrapper.vm.logger.name).toEqual(wrapper.vm.$options.name);\n    });",
            "file": "SignOut.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a signOut method",
            "suites": [
                "SignOut",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 40,
                "column": 42,
                "index": 1478
            },
            "line": 40,
            "code": "    it('...it should have a signOut method', () => {\n      expect(wrapper.vm.signOut).toBeTruthy();\n    });",
            "file": "SignOut.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a setError method",
            "suites": [
                "SignOut",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 43,
                "column": 43,
                "index": 1587
            },
            "line": 43,
            "code": "    it('...it should have a setError method', () => {\n      expect(wrapper.vm.setError).toBeTruthy();\n    });",
            "file": "SignOut.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...have default options",
            "suites": [
                "SignOut",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 46,
                "column": 31,
                "index": 1685
            },
            "line": 46,
            "code": "    it('...have default options', () => {\n      expect(wrapper.vm.options.msg).toEqual(null);\n      expect(wrapper.vm.options.signOutButton).toEqual('i18n Sign Out');\n    });",
            "file": "SignOut.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should have a signOut method that calls Amplify.Auth.SignOut",
            "suites": [
                "SignOut",
                "...when the methods are not mocked..."
            ],
            "updatePoint": {
                "line": 53,
                "column": 71,
                "index": 1996
            },
            "line": 53,
            "code": "    it('...should have a signOut method that calls Amplify.Auth.SignOut', () => {\n      wrapper.vm.signOut();\n      expect(wrapper.vm.$Amplify.Auth.signOut).toHaveBeenCalled();\n    });",
            "file": "SignOut.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should not set the error property",
            "suites": [
                "SignOut",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 79,
                "column": 44,
                "index": 2666
            },
            "line": 79,
            "code": "    it('...should not set the error property', () => {\n      expect(wrapper.vm.error).toEqual('');\n      expect(mockSetError).not.toHaveBeenCalled();\n    });",
            "file": "SignOut.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should render the msg from props",
            "suites": [
                "SignOut",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 83,
                "column": 43,
                "index": 2823
            },
            "line": 83,
            "code": "    it('...should render the msg from props', () => {\n      const el = wrapper.find(`.${AmplifyUI.inputLabel}`).element;\n      expect(el.textContent).toEqual(msg);\n    });",
            "file": "SignOut.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should get the passed signOut button text",
            "suites": [
                "SignOut",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 87,
                "column": 52,
                "index": 3004
            },
            "line": 87,
            "code": "    it('...should get the passed signOut button text', () => {\n      const text = wrapper.find('button').text();\n      expect(text).toEqual(signOutButton);\n    });",
            "file": "SignOut.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call SignOut when SignOut button is clicked",
            "suites": [
                "SignOut",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 91,
                "column": 61,
                "index": 3177
            },
            "line": 91,
            "code": "    it('...should call SignOut when SignOut button is clicked', () => {\n      const el = wrapper.find('button');\n      el.trigger('click');\n      expect(mockSignOut).toHaveBeenCalled();\n    });",
            "file": "SignOut.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "has a mounted hook",
            "suites": [
                "SignUp"
            ],
            "updatePoint": {
                "line": 14,
                "column": 24,
                "index": 632
            },
            "line": 14,
            "code": "  it('has a mounted hook', () => {\n    expect(typeof SignUp.mounted).toBe('function');\n  });",
            "file": "SignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "sets the correct default data",
            "suites": [
                "SignUp"
            ],
            "updatePoint": {
                "line": 17,
                "column": 35,
                "index": 736
            },
            "line": 17,
            "code": "  it('sets the correct default data', () => {\n    expect(typeof SignUp.data).toBe('function');\n    const defaultData = SignUp.data();\n    expect(defaultData.logger).toEqual({});\n    expect(defaultData.error).toEqual('');\n    expect(defaultData.phoneNumber).toEqual('');\n    expect(defaultData.defaultSignUpFields).toEqual(signUpWithUsername);\n  });",
            "file": "SignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should use the amplify plugin with passed modules",
            "suites": [
                "SignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 36,
                "column": 63,
                "index": 1435
            },
            "line": 36,
            "code": "    it('...it should use the amplify plugin with passed modules', () => {\n      expect(wrapper.vm.$Amplify).toBeTruthy();\n    });",
            "file": "SignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should be named SignUp",
            "suites": [
                "SignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 39,
                "column": 36,
                "index": 1538
            },
            "line": 39,
            "code": "    it('...it should be named SignUp', () => {\n      expect(wrapper.vm.$options.name).toEqual('SignUp');\n    });",
            "file": "SignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should instantiate a logger with the name of the component",
            "suites": [
                "SignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 42,
                "column": 72,
                "index": 1687
            },
            "line": 42,
            "code": "    it('...it should instantiate a logger with the name of the component', () => {\n      expect(wrapper.vm.logger.name).toEqual(wrapper.vm.$options.name);\n    });",
            "file": "SignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a signIn method",
            "suites": [
                "SignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 45,
                "column": 41,
                "index": 1819
            },
            "line": 45,
            "code": "    it('...it should have a signIn method', () => {\n      expect(wrapper.vm.signIn).toBeTruthy();\n    });",
            "file": "SignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should have a validate method",
            "suites": [
                "SignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 48,
                "column": 40,
                "index": 1924
            },
            "line": 48,
            "code": "    it('...should have a validate method', () => {\n      expect(wrapper.vm.validate).toBeTruthy();\n    });",
            "file": "SignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should have a signUp method",
            "suites": [
                "SignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 51,
                "column": 38,
                "index": 2029
            },
            "line": 51,
            "code": "    it('...should have a signUp method', () => {\n      expect(wrapper.vm.signUp).toBeTruthy();\n    });",
            "file": "SignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should have a clear method",
            "suites": [
                "SignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 54,
                "column": 37,
                "index": 2131
            },
            "line": 54,
            "code": "    it('...should have a clear method', () => {\n      expect(wrapper.vm.clear).toBeTruthy();\n    });",
            "file": "SignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should have a setError method",
            "suites": [
                "SignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 57,
                "column": 43,
                "index": 2238
            },
            "line": 57,
            "code": "    it('...it should have a setError method', () => {\n      expect(wrapper.vm.setError).toBeTruthy();\n    });",
            "file": "SignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...shoud render a phone field component",
            "suites": [
                "SignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 60,
                "column": 47,
                "index": 2352
            },
            "line": 60,
            "code": "    it('...shoud render a phone field component', () => {\n      const phoneField = wrapper.find(PhoneField);\n      expect(phoneField).toBeTruthy();\n      expect(phoneField.props()).toEqual({\n        defaultCountryCode: undefined,\n        invalid: undefined,\n        placeholder: 'Phone Number',\n        required: true\n      });\n    });",
            "file": "SignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...have default options",
            "suites": [
                "SignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 70,
                "column": 31,
                "index": 2672
            },
            "line": 70,
            "code": "    it('...have default options', () => {\n      expect(wrapper.vm.options.header).toEqual('i18n Create a new account');\n      expect(wrapper.vm.options.signUpFields).toEqual([{\n        label: 'Username',\n        key: 'username',\n        required: true,\n        placeholder: 'Username',\n        displayOrder: 1\n      }, {\n        label: 'Password',\n        key: 'password',\n        required: true,\n        placeholder: 'Password',\n        type: 'password',\n        displayOrder: 2\n      }, {\n        label: 'Email',\n        key: 'email',\n        required: true,\n        placeholder: 'Email',\n        type: 'email',\n        displayOrder: 3\n      }, {\n        label: 'Phone Number',\n        key: 'phone_number',\n        placeholder: 'Phone Number',\n        required: true,\n        displayOrder: 4\n      }]);\n    });",
            "file": "SignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should not call Auth.signUp when signUp method is called and fields are empty",
            "suites": [
                "SignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 100,
                "column": 91,
                "index": 3545
            },
            "line": 100,
            "code": "    it('...it should not call Auth.signUp when signUp method is called and fields are empty', () => {\n      // eslint-disable-line\n      wrapper.vm.signUp();\n      expect(wrapper.vm.$Amplify.Auth.signUp).not.toBeCalled();\n    });",
            "file": "SignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should call Auth.signUp when signUp method is called and fields are populated",
            "suites": [
                "SignUp",
                "...when it is mounted without props..."
            ],
            "updatePoint": {
                "line": 105,
                "column": 91,
                "index": 3775
            },
            "line": 105,
            "code": "    it('...it should call Auth.signUp when signUp method is called and fields are populated', () => {\n      // eslint-disable-line\n      wrapper.vm.options.signUpFields.forEach(el => {\n        el.value = 'iampopulated';\n      });\n      wrapper.vm.signUp();\n      expect(wrapper.vm.$Amplify.Auth.signUp).toBeCalled();\n    });",
            "file": "SignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should not set the error property",
            "suites": [
                "SignUp",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 141,
                "column": 44,
                "index": 4735
            },
            "line": 141,
            "code": "    it('...should not set the error property', () => {\n      expect(wrapper.vm.error).toEqual('');\n      expect(mockSetError).not.toHaveBeenCalled();\n    });",
            "file": "SignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should render the header from props",
            "suites": [
                "SignUp",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 145,
                "column": 46,
                "index": 4895
            },
            "line": 145,
            "code": "    it('...should render the header from props', () => {\n      const el = wrapper.find(`.${AmplifyUI.sectionHeader}`).element;\n      expect(el.textContent).toEqual(header);\n    });",
            "file": "SignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call signIn when signIn button is clicked",
            "suites": [
                "SignUp",
                "...when it is mounted with props..."
            ],
            "updatePoint": {
                "line": 149,
                "column": 59,
                "index": 5089
            },
            "line": 149,
            "code": "    it('...should call signIn when signIn button is clicked', () => {\n      const el = wrapper.find(`.${AmplifyUI.sectionFooterPrimaryContent} > button`);\n      el.trigger('click');\n      expect(mockSignUp).toHaveBeenCalled();\n    });",
            "file": "SignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should accept new signUpFields an add them to the default Array",
            "suites": [
                "SignUp",
                "...when signUpFields are passed..."
            ],
            "updatePoint": {
                "line": 192,
                "column": 74,
                "index": 6217
            },
            "line": 192,
            "code": "    it('...should accept new signUpFields an add them to the default Array', () => {\n      expect(wrapper.vm.options.signUpFields.length).toEqual(5);\n    });",
            "file": "SignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should overwrite existing fields from default array",
            "suites": [
                "SignUp",
                "...when signUpFields are passed..."
            ],
            "updatePoint": {
                "line": 195,
                "column": 62,
                "index": 6363
            },
            "line": 195,
            "code": "    it('...should overwrite existing fields from default array', () => {\n      const email = wrapper.vm.options.signUpFields.find(x => x.key === 'email');\n      expect(email.label).toEqual('Test Email');\n    });",
            "file": "SignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should accept new signUpFields an add them to the default Array",
            "suites": [
                "SignUp",
                "...when phone number field is customized..."
            ],
            "updatePoint": {
                "line": 233,
                "column": 74,
                "index": 7468
            },
            "line": 233,
            "code": "    it('...should accept new signUpFields an add them to the default Array', () => {\n      expect(wrapper.vm.options.signUpFields.length).toEqual(4);\n    });",
            "file": "SignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...shoud pass props to phone field",
            "suites": [
                "SignUp",
                "...when phone number field is customized..."
            ],
            "updatePoint": {
                "line": 236,
                "column": 42,
                "index": 7594
            },
            "line": 236,
            "code": "    it('...shoud pass props to phone field', () => {\n      const phoneField = wrapper.find(PhoneField);\n      expect(phoneField).toBeTruthy();\n      expect(phoneField.props()).toEqual({\n        defaultCountryCode: '86',\n        invalid: undefined,\n        placeholder: 'the placeholder',\n        required: false\n      });\n    });",
            "file": "SignUp.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...it should be named SumerianScene",
            "suites": [
                "SumerianScene",
                "mounted with props but methods not mocked..."
            ],
            "updatePoint": {
                "line": 21,
                "column": 43,
                "index": 683
            },
            "line": 21,
            "code": "    it('...it should be named SumerianScene', () => {\n      expect(wrapper.vm.$options.name).toEqual('SumerianScene');\n    });",
            "file": "SumerianScene.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call scene setup functions after scene load",
            "suites": [
                "SumerianScene",
                "mounted with props but methods not mocked..."
            ],
            "updatePoint": {
                "line": 24,
                "column": 61,
                "index": 828
            },
            "line": 24,
            "code": "    it('...should call scene setup functions after scene load', async () => {\n      await wrapper.vm.loadAndStartScene();\n      expect(wrapper.vm.$Amplify.XR.onSceneEvent).toHaveBeenCalled();\n      expect(wrapper.vm.$Amplify.XR.isVRCapable).toHaveBeenCalled();\n      expect(wrapper.vm.$Amplify.XR.isMuted).toHaveBeenCalled();\n      expect(wrapper.vm.$Amplify.XR.start).toHaveBeenCalled();\n      expect(wrapper.vm.$Amplify.XR.loadScene).toHaveBeenCalled();\n    });",
            "file": "SumerianScene.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call $Amplify.XR.setMuted after setMuted is called",
            "suites": [
                "SumerianScene",
                "mounted with props but methods not mocked..."
            ],
            "updatePoint": {
                "line": 32,
                "column": 68,
                "index": 1299
            },
            "line": 32,
            "code": "    it('...should call $Amplify.XR.setMuted after setMuted is called', () => {\n      expect(wrapper.vm.$Amplify.XR.setMuted).not.toHaveBeenCalled();\n      wrapper.vm.setMuted(true);\n      expect(wrapper.vm.$Amplify.XR.setMuted).toHaveBeenCalled();\n    });",
            "file": "SumerianScene.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should call toggle isVRPresentationActive after toggleVRPresentation is called",
            "suites": [
                "SumerianScene",
                "mounted with props but methods not mocked..."
            ],
            "updatePoint": {
                "line": 37,
                "column": 89,
                "index": 1576
            },
            "line": 37,
            "code": "    it('...should call toggle isVRPresentationActive after toggleVRPresentation is called', () => {\n      expect(wrapper.vm.isVRPresentationActive).toBeFalsy();\n      wrapper.vm.toggleVRPresentation();\n      expect(wrapper.vm.$Amplify.XR.enterVR).toHaveBeenCalled();\n      expect(wrapper.vm.isVRPresentationActive).toBeTruthy();\n      wrapper.vm.toggleVRPresentation();\n      expect(wrapper.vm.$Amplify.XR.exitVR).toHaveBeenCalled();\n    });",
            "file": "SumerianScene.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "...should have sceneName prop",
            "suites": [
                "SumerianScene",
                "mounted with props but methods not mocked..."
            ],
            "updatePoint": {
                "line": 45,
                "column": 37,
                "index": 1966
            },
            "line": 45,
            "code": "    it('...should have sceneName prop', () => {\n      expect(wrapper.vm.sceneName).toEqual('testSceneName');\n    });",
            "file": "SumerianScene.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "sets the correct default data",
            "suites": [
                "UsernameField"
            ],
            "updatePoint": {
                "line": 12,
                "column": 35,
                "index": 491
            },
            "line": 12,
            "code": "  it('sets the correct default data', () => {\n    expect(typeof UsernameField.data).toBe('function');\n    const defaultData = UsernameField.data();\n    expect(defaultData.username).toEqual('');\n    expect(defaultData.email).toEqual('');\n    expect(defaultData.phoneNumberRequired).toEqual(true);\n  });",
            "file": "UsernameField.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "only render email input",
            "suites": [
                "UsernameField",
                "when usernameAttributes is email"
            ],
            "updatePoint": {
                "line": 41,
                "column": 31,
                "index": 1465
            },
            "line": 41,
            "code": "    it('only render email input', () => {\n      expect(wrapper.findAll('input').length).toBe(1);\n      expect(wrapper.findAll(PhoneField).length).toBe(0);\n    });",
            "file": "UsernameField.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "trigger emailChanged when input is filled",
            "suites": [
                "UsernameField",
                "when usernameAttributes is email"
            ],
            "updatePoint": {
                "line": 45,
                "column": 49,
                "index": 1646
            },
            "line": 45,
            "code": "    it('trigger emailChanged when input is filled', () => {\n      wrapper.findAll('input').at(0).trigger('keyup');\n      expect(mockEmailChanged).toBeCalled();\n    });",
            "file": "UsernameField.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "only render email input",
            "suites": [
                "UsernameField",
                "when usernameAttributes is not defined"
            ],
            "updatePoint": {
                "line": 68,
                "column": 31,
                "index": 2341
            },
            "line": 68,
            "code": "    it('only render email input', () => {\n      expect(wrapper.findAll('input').length).toBe(1);\n      expect(wrapper.findAll(PhoneField).length).toBe(0);\n    });",
            "file": "UsernameField.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "trigger emailChanged when input is filled",
            "suites": [
                "UsernameField",
                "when usernameAttributes is not defined"
            ],
            "updatePoint": {
                "line": 72,
                "column": 49,
                "index": 2522
            },
            "line": 72,
            "code": "    it('trigger emailChanged when input is filled', () => {\n      wrapper.findAll('input').at(0).trigger('keyup');\n      expect(mockUsernameChanged).toBeCalled();\n    });",
            "file": "UsernameField.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "only render email input",
            "suites": [
                "UsernameField",
                "when usernameAttributes is phone_number"
            ],
            "updatePoint": {
                "line": 95,
                "column": 31,
                "index": 3226
            },
            "line": 95,
            "code": "    it('only render email input', () => {\n      expect(wrapper.findAll(PhoneField).length).toBe(1);\n    });",
            "file": "UsernameField.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "trigger emailChanged when input is filled",
            "suites": [
                "UsernameField",
                "when usernameAttributes is phone_number"
            ],
            "updatePoint": {
                "line": 98,
                "column": 49,
                "index": 3352
            },
            "line": 98,
            "code": "    it('trigger emailChanged when input is filled', () => {\n      wrapper.findAll(PhoneField).at(0).vm.$emit('phone-number-changed');\n      expect(mockPhoneNumberChanged).toBeCalled();\n    });",
            "file": "UsernameField.test.js",
            "skipped": false,
            "dir": "packages/aws-amplify-vue/__tests__"
        },
        {
            "name": "should match snapshot",
            "suites": [
                "aws-amplify",
                "import * keys"
            ],
            "updatePoint": {
                "line": 5,
                "column": 27
            },
            "line": 5,
            "code": "\t\tit('should match snapshot', () => {\n\t\t\texpect(Object.keys(exported)).toMatchInlineSnapshot(`\n\t\t\tArray [\n\t\t\t  \"Amplify\",\n\t\t\t  \"Analytics\",\n\t\t\t  \"AWSPinpointProvider\",\n\t\t\t  \"AWSKinesisProvider\",\n\t\t\t  \"AWSKinesisFirehoseProvider\",\n\t\t\t  \"AmazonPersonalizeProvider\",\n\t\t\t  \"Auth\",\n\t\t\t  \"Storage\",\n\t\t\t  \"StorageClass\",\n\t\t\t  \"API\",\n\t\t\t  \"APIClass\",\n\t\t\t  \"graphqlOperation\",\n\t\t\t  \"AuthModeStrategyType\",\n\t\t\t  \"DataStore\",\n\t\t\t  \"Predicates\",\n\t\t\t  \"SortDirection\",\n\t\t\t  \"syncExpression\",\n\t\t\t  \"PubSub\",\n\t\t\t  \"Cache\",\n\t\t\t  \"Interactions\",\n\t\t\t  \"a\",\n\t\t\t  \"button\",\n\t\t\t  \"signInButton\",\n\t\t\t  \"googleSignInButton\",\n\t\t\t  \"signInButtonIcon\",\n\t\t\t  \"auth0SignInButton\",\n\t\t\t  \"facebookSignInButton\",\n\t\t\t  \"amazonSignInButton\",\n\t\t\t  \"oAuthSignInButton\",\n\t\t\t  \"signInButtonContent\",\n\t\t\t  \"formContainer\",\n\t\t\t  \"formSection\",\n\t\t\t  \"formField\",\n\t\t\t  \"formRow\",\n\t\t\t  \"hint\",\n\t\t\t  \"input\",\n\t\t\t  \"inputLabel\",\n\t\t\t  \"label\",\n\t\t\t  \"radio\",\n\t\t\t  \"navBar\",\n\t\t\t  \"navRight\",\n\t\t\t  \"nav\",\n\t\t\t  \"navItem\",\n\t\t\t  \"photoPickerButton\",\n\t\t\t  \"photoPlaceholder\",\n\t\t\t  \"photoPlaceholderIcon\",\n\t\t\t  \"container\",\n\t\t\t  \"actionRow\",\n\t\t\t  \"sectionHeader\",\n\t\t\t  \"sectionHeaderHint\",\n\t\t\t  \"sectionBody\",\n\t\t\t  \"sectionHeaderContent\",\n\t\t\t  \"sectionFooter\",\n\t\t\t  \"sectionFooterPrimaryContent\",\n\t\t\t  \"sectionFooterSecondaryContent\",\n\t\t\t  \"selectInput\",\n\t\t\t  \"strike\",\n\t\t\t  \"strikeContent\",\n\t\t\t  \"toast\",\n\t\t\t  \"toastClose\",\n\t\t\t  \"totpQrcode\",\n\t\t\t  \"sumerianSceneContainer\",\n\t\t\t  \"sumerianScene\",\n\t\t\t  \"loadingOverlay\",\n\t\t\t  \"loadingContainer\",\n\t\t\t  \"loadingLogo\",\n\t\t\t  \"loadingSceneName\",\n\t\t\t  \"loadingBar\",\n\t\t\t  \"loadingBarFill\",\n\t\t\t  \"sceneErrorText\",\n\t\t\t  \"sceneBar\",\n\t\t\t  \"sceneName\",\n\t\t\t  \"sceneActions\",\n\t\t\t  \"actionButton\",\n\t\t\t  \"tooltip\",\n\t\t\t  \"actionIcon\",\n\t\t\t  \"autoShowTooltip\",\n\t\t\t  \"XR\",\n\t\t\t  \"Predictions\",\n\t\t\t  \"Logger\",\n\t\t\t  \"Hub\",\n\t\t\t  \"JS\",\n\t\t\t  \"ClientDevice\",\n\t\t\t  \"Signer\",\n\t\t\t  \"I18n\",\n\t\t\t  \"ServiceWorker\",\n\t\t\t  \"AWSCloudWatchProvider\",\n\t\t\t  \"withSSRContext\",\n\t\t\t  \"Geo\",\n\t\t\t  \"default\",\n\t\t\t]\n\t\t`);\n\t\t});",
            "file": "exports-test.ts",
            "skipped": false,
            "dir": "packages/aws-amplify/__tests__"
        },
        {
            "name": "should not require context (for client-side requests)",
            "suites": [
                "withSSRContext"
            ],
            "updatePoint": {
                "line": 6,
                "column": 58
            },
            "line": 6,
            "code": "\tit('should not require context (for client-side requests)', () => {\n\t\texpect(() => withSSRContext()).not.toThrow();\n\t});",
            "file": "withSSRContext-test.ts",
            "skipped": false,
            "dir": "packages/aws-amplify/__tests__"
        },
        {
            "name": "should create a new instance of Amplify",
            "suites": [
                "withSSRContext"
            ],
            "updatePoint": {
                "line": 10,
                "column": 44
            },
            "line": 10,
            "code": "\tit('should create a new instance of Amplify', () => {\n\t\tconst amplify = withSSRContext();\n\n\t\texpect(amplify).not.toBe(Amplify);\n\t});",
            "file": "withSSRContext-test.ts",
            "skipped": false,
            "dir": "packages/aws-amplify/__tests__"
        },
        {
            "name": "should extend the global Amplify config",
            "suites": [
                "withSSRContext"
            ],
            "updatePoint": {
                "line": 16,
                "column": 44
            },
            "line": 16,
            "code": "\tit('should extend the global Amplify config', () => {\n\t\t// ! Amplify is global across all tests, so we use a value that won't negatively affect others\n\t\tAmplify.configure({ TEST_VALUE: true });\n\t\texpect(Amplify.configure()).toEqual({ TEST_VALUE: true });\n\n\t\tconst amplify = withSSRContext();\n\t\texpect(amplify.configure({ TEST_VALUE2: true })).toEqual(\n\t\t\texpect.objectContaining({\n\t\t\t\tstorage: expect.any(UniversalStorage),\n\t\t\t\tTEST_VALUE: true,\n\t\t\t\tTEST_VALUE2: true,\n\t\t\t})\n\t\t);\n\t});",
            "file": "withSSRContext-test.ts",
            "skipped": false,
            "dir": "packages/aws-amplify/__tests__"
        },
        {
            "name": "should be a different instance than Amplify.Auth",
            "suites": [
                "withSSRContext",
                "API"
            ],
            "updatePoint": {
                "line": 32,
                "column": 54
            },
            "line": 32,
            "code": "\t\tit('should be a different instance than Amplify.Auth', () => {\n\t\t\texpect(withSSRContext().API).not.toBe(Amplify.API);\n\t\t});",
            "file": "withSSRContext-test.ts",
            "skipped": false,
            "dir": "packages/aws-amplify/__tests__"
        },
        {
            "name": "should use different Credentials than Amplify",
            "suites": [
                "withSSRContext",
                "API"
            ],
            "updatePoint": {
                "line": 36,
                "column": 51
            },
            "line": 36,
            "code": "\t\tit('should use different Credentials than Amplify', () => {\n\t\t\tconst amplify = withSSRContext();\n\t\t\tconst config = amplify.configure();\n\n\t\t\t// GraphQLAPI uses Credentials internally\n\t\t\texpect(Amplify.API._graphqlApi.Credentials).not.toBe(\n\t\t\t\tamplify.API._graphqlApi.Credentials\n\t\t\t);\n\n\t\t\t// RestAPI._api is a RestClient with Credentials\n\t\t\texpect(Amplify.API._restApi._api.Credentials).not.toBe(\n\t\t\t\tamplify.API._restApi._api.Credentials\n\t\t\t);\n\t\t});",
            "file": "withSSRContext-test.ts",
            "skipped": false,
            "dir": "packages/aws-amplify/__tests__"
        },
        {
            "name": "should be a different instance than Amplify.Auth",
            "suites": [
                "withSSRContext",
                "Auth"
            ],
            "updatePoint": {
                "line": 53,
                "column": 54
            },
            "line": 53,
            "code": "\t\tit('should be a different instance than Amplify.Auth', () => {\n\t\t\texpect(withSSRContext().Auth).not.toBe(Amplify.Auth);\n\t\t});",
            "file": "withSSRContext-test.ts",
            "skipped": false,
            "dir": "packages/aws-amplify/__tests__"
        },
        {
            "name": "should be created with UniversalStorage",
            "suites": [
                "withSSRContext",
                "Auth"
            ],
            "updatePoint": {
                "line": 57,
                "column": 45
            },
            "line": 57,
            "code": "\t\tit('should be created with UniversalStorage', () => {\n\t\t\texpect(withSSRContext().Auth._storage).toBeInstanceOf(UniversalStorage);\n\t\t});",
            "file": "withSSRContext-test.ts",
            "skipped": false,
            "dir": "packages/aws-amplify/__tests__"
        },
        {
            "name": "should use different Credentials than Amplify",
            "suites": [
                "withSSRContext",
                "Auth"
            ],
            "updatePoint": {
                "line": 61,
                "column": 51
            },
            "line": 61,
            "code": "\t\tit('should use different Credentials than Amplify', () => {\n\t\t\tconst amplify = withSSRContext();\n\n\t\t\texpect(Amplify.Auth.Credentials).not.toBe(amplify.Auth.Credentials);\n\t\t});",
            "file": "withSSRContext-test.ts",
            "skipped": false,
            "dir": "packages/aws-amplify/__tests__"
        },
        {
            "name": "should be a different instance than Amplify.DataStore",
            "suites": [
                "withSSRContext",
                "DataStore"
            ],
            "updatePoint": {
                "line": 69,
                "column": 59
            },
            "line": 69,
            "code": "\t\tit('should be a different instance than Amplify.DataStore', () => {\n\t\t\texpect(withSSRContext().DataStore).not.toBe(Amplify.DataStore);\n\t\t});",
            "file": "withSSRContext-test.ts",
            "skipped": false,
            "dir": "packages/aws-amplify/__tests__"
        },
        {
            "name": "should be the same instance as Amplify.I18n",
            "suites": [
                "withSSRContext",
                "I18n"
            ],
            "line": 76,
            "code": "\t\tit.skip('should be the same instance as Amplify.I18n', () => {",
            "file": "withSSRContext-test.ts",
            "skipped": true,
            "dir": "packages/aws-amplify/__tests__"
        }
    ],
    "error": "Cannot read properties of undefined (reading 'file')"
}