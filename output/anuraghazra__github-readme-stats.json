{"repo":"anuraghazra/github-readme-stats","url":"https://github.com/anuraghazra/github-readme-stats","branch":"master","configs":[{"package":"github-readme-stats","lang":"js","dir":"tests","framework":"jest","pattern":"**/*[._-]{test,spec,unittest,unit}.{ts,js}"}],"tests":[{"name":"should test the request","suites":["Test /api/"],"updatePoint":{"line":102,"column":29,"index":2202},"line":102,"code":"  it(\"should test the request\", async () => {\n    const {\n      req,\n      res\n    } = faker({}, data);\n    await api(req, res);\n    expect(res.setHeader).toBeCalledWith(\"Content-Type\", \"image/svg+xml\");\n    expect(res.send).toBeCalledWith(renderStatsCard(stats, {\n      ...req.query\n    }));\n  });","file":"api.test.js","skipped":false,"dir":"tests"},{"name":"should render error card on error","suites":["Test /api/"],"updatePoint":{"line":113,"column":39,"index":2511},"line":113,"code":"  it(\"should render error card on error\", async () => {\n    const {\n      req,\n      res\n    } = faker({}, error);\n    await api(req, res);\n    expect(res.setHeader).toBeCalledWith(\"Content-Type\", \"image/svg+xml\");\n    expect(res.send).toBeCalledWith(renderError(error.errors[0].message, \"Make sure the provided username is not an organization\"));\n  });","file":"api.test.js","skipped":false,"dir":"tests"},{"name":"should get the query options","suites":["Test /api/"],"updatePoint":{"line":122,"column":34,"index":2860},"line":122,"code":"  it(\"should get the query options\", async () => {\n    const {\n      req,\n      res\n    } = faker({\n      username: \"anuraghazra\",\n      hide: \"issues,prs,contribs\",\n      show_icons: true,\n      hide_border: true,\n      line_height: 100,\n      title_color: \"fff\",\n      icon_color: \"fff\",\n      text_color: \"fff\",\n      bg_color: \"fff\"\n    }, data);\n    await api(req, res);\n    expect(res.setHeader).toBeCalledWith(\"Content-Type\", \"image/svg+xml\");\n    expect(res.send).toBeCalledWith(renderStatsCard(stats, {\n      hide: [\"issues\", \"prs\", \"contribs\"],\n      show_icons: true,\n      hide_border: true,\n      line_height: 100,\n      title_color: \"fff\",\n      icon_color: \"fff\",\n      text_color: \"fff\",\n      bg_color: \"fff\"\n    }));\n  });","file":"api.test.js","skipped":false,"dir":"tests"},{"name":"should have proper cache","suites":["Test /api/"],"updatePoint":{"line":150,"column":30,"index":3597},"line":150,"code":"  it(\"should have proper cache\", async () => {\n    const {\n      req,\n      res\n    } = faker({}, data);\n    await api(req, res);\n    expect(res.setHeader.mock.calls).toEqual([[\"Content-Type\", \"image/svg+xml\"], [\"Cache-Control\", `public, max-age=${CONSTANTS.FOUR_HOURS}`]]);\n  });","file":"api.test.js","skipped":false,"dir":"tests"},{"name":"should set proper cache","suites":["Test /api/"],"updatePoint":{"line":158,"column":29,"index":3877},"line":158,"code":"  it(\"should set proper cache\", async () => {\n    const {\n      req,\n      res\n    } = faker({\n      cache_seconds: 15000\n    }, data);\n    await api(req, res);\n    expect(res.setHeader.mock.calls).toEqual([[\"Content-Type\", \"image/svg+xml\"], [\"Cache-Control\", `public, max-age=${15000}`]]);\n  });","file":"api.test.js","skipped":false,"dir":"tests"},{"name":"should not store cache when error","suites":["Test /api/"],"updatePoint":{"line":168,"column":39,"index":4184},"line":168,"code":"  it(\"should not store cache when error\", async () => {\n    const {\n      req,\n      res\n    } = faker({}, error);\n    await api(req, res);\n    expect(res.setHeader.mock.calls).toEqual([[\"Content-Type\", \"image/svg+xml\"], [\"Cache-Control\", `no-cache, no-store, must-revalidate`]]);\n  });","file":"api.test.js","skipped":false,"dir":"tests"},{"name":"should set proper cache with clamped values","suites":["Test /api/"],"updatePoint":{"line":176,"column":49,"index":4481},"line":176,"code":"  it(\"should set proper cache with clamped values\", async () => {\n    {\n      let {\n        req,\n        res\n      } = faker({\n        cache_seconds: 200000\n      }, data);\n      await api(req, res);\n      expect(res.setHeader.mock.calls).toEqual([[\"Content-Type\", \"image/svg+xml\"], [\"Cache-Control\", `public, max-age=${CONSTANTS.ONE_DAY}`]]);\n    }\n\n    // note i'm using block scoped vars\n    {\n      let {\n        req,\n        res\n      } = faker({\n        cache_seconds: 0\n      }, data);\n      await api(req, res);\n      expect(res.setHeader.mock.calls).toEqual([[\"Content-Type\", \"image/svg+xml\"], [\"Cache-Control\", `public, max-age=${CONSTANTS.FOUR_HOURS}`]]);\n    }\n    {\n      let {\n        req,\n        res\n      } = faker({\n        cache_seconds: -10000\n      }, data);\n      await api(req, res);\n      expect(res.setHeader.mock.calls).toEqual([[\"Content-Type\", \"image/svg+xml\"], [\"Cache-Control\", `public, max-age=${CONSTANTS.FOUR_HOURS}`]]);\n    }\n  });","file":"api.test.js","skipped":false,"dir":"tests"},{"name":"should add private contributions","suites":["Test /api/"],"updatePoint":{"line":210,"column":38,"index":5436},"line":210,"code":"  it(\"should add private contributions\", async () => {\n    const {\n      req,\n      res\n    } = faker({\n      username: \"anuraghazra\",\n      count_private: true\n    }, data);\n    await api(req, res);\n    expect(res.setHeader).toBeCalledWith(\"Content-Type\", \"image/svg+xml\");\n    expect(res.send).toBeCalledWith(renderStatsCard({\n      ...stats,\n      totalCommits: stats.totalCommits + 100,\n      rank: calculateRank({\n        totalCommits: stats.totalCommits + 100,\n        totalRepos: 1,\n        followers: 0,\n        contributions: stats.contributedTo,\n        stargazers: stats.totalStars,\n        prs: stats.totalPRs,\n        issues: stats.totalIssues\n      })\n    }, {}));\n  });","file":"api.test.js","skipped":false,"dir":"tests"},{"name":"should calculate rank correctly","suites":["Test calculateRank"],"updatePoint":{"line":4,"column":37,"index":170},"line":4,"code":"  it(\"should calculate rank correctly\", () => {\n    expect(calculateRank({\n      totalCommits: 100,\n      totalRepos: 5,\n      followers: 100,\n      contributions: 61,\n      stargazers: 400,\n      prs: 300,\n      issues: 200\n    })).toStrictEqual({\n      level: \"A+\",\n      score: 49.25629684876535\n    });\n  });","file":"calculateRank.test.js","skipped":false,"dir":"tests"},{"name":"should hide border","suites":["Card"],"updatePoint":{"line":8,"column":24,"index":345},"line":8,"code":"  it(\"should hide border\", () => {\n    const card = new Card({});\n    card.setHideBorder(true);\n    document.body.innerHTML = card.render(``);\n    expect(queryByTestId(document.body, \"card-bg\")).toHaveAttribute(\"stroke-opacity\", \"0\");\n  });","file":"card.test.js","skipped":false,"dir":"tests"},{"name":"should not hide border","suites":["Card"],"updatePoint":{"line":14,"column":28,"index":590},"line":14,"code":"  it(\"should not hide border\", () => {\n    const card = new Card({});\n    card.setHideBorder(false);\n    document.body.innerHTML = card.render(``);\n    expect(queryByTestId(document.body, \"card-bg\")).toHaveAttribute(\"stroke-opacity\", \"1\");\n  });","file":"card.test.js","skipped":false,"dir":"tests"},{"name":"should have a custom title","suites":["Card"],"updatePoint":{"line":20,"column":32,"index":840},"line":20,"code":"  it(\"should have a custom title\", () => {\n    const card = new Card({\n      customTitle: \"custom title\",\n      defaultTitle: \"default title\"\n    });\n    document.body.innerHTML = card.render(``);\n    expect(queryByTestId(document.body, \"card-title\")).toHaveTextContent(\"custom title\");\n  });","file":"card.test.js","skipped":false,"dir":"tests"},{"name":"should hide title","suites":["Card"],"updatePoint":{"line":28,"column":23,"index":1124},"line":28,"code":"  it(\"should hide title\", () => {\n    const card = new Card({});\n    card.setHideTitle(true);\n    document.body.innerHTML = card.render(``);\n    expect(queryByTestId(document.body, \"card-title\")).toBeNull();\n  });","file":"card.test.js","skipped":false,"dir":"tests"},{"name":"should not hide title","suites":["Card"],"updatePoint":{"line":34,"column":27,"index":1342},"line":34,"code":"  it(\"should not hide title\", () => {\n    const card = new Card({});\n    card.setHideTitle(false);\n    document.body.innerHTML = card.render(``);\n    expect(queryByTestId(document.body, \"card-title\")).toBeInTheDocument();\n  });","file":"card.test.js","skipped":false,"dir":"tests"},{"name":"title should have prefix icon","suites":["Card"],"updatePoint":{"line":40,"column":35,"index":1578},"line":40,"code":"  it(\"title should have prefix icon\", () => {\n    const card = new Card({\n      title: \"ok\",\n      titlePrefixIcon: icons.contribs\n    });\n    document.body.innerHTML = card.render(``);\n    expect(document.getElementsByClassName(\"icon\")[0]).toBeInTheDocument();\n  });","file":"card.test.js","skipped":false,"dir":"tests"},{"name":"title should not have prefix icon","suites":["Card"],"updatePoint":{"line":48,"column":39,"index":1850},"line":48,"code":"  it(\"title should not have prefix icon\", () => {\n    const card = new Card({\n      title: \"ok\"\n    });\n    document.body.innerHTML = card.render(``);\n    expect(document.getElementsByClassName(\"icon\")[0]).toBeUndefined();\n  });","file":"card.test.js","skipped":false,"dir":"tests"},{"name":"should have proper height, width","suites":["Card"],"updatePoint":{"line":55,"column":38,"index":2078},"line":55,"code":"  it(\"should have proper height, width\", () => {\n    const card = new Card({\n      height: 200,\n      width: 200,\n      title: \"ok\"\n    });\n    document.body.innerHTML = card.render(``);\n    expect(document.getElementsByTagName(\"svg\")[0]).toHaveAttribute(\"height\", \"200\");\n    expect(document.getElementsByTagName(\"svg\")[0]).toHaveAttribute(\"height\", \"200\");\n  });","file":"card.test.js","skipped":false,"dir":"tests"},{"name":"should have less height after title is hidden","suites":["Card"],"updatePoint":{"line":65,"column":51,"index":2456},"line":65,"code":"  it(\"should have less height after title is hidden\", () => {\n    const card = new Card({\n      height: 200,\n      title: \"ok\"\n    });\n    card.setHideTitle(true);\n    document.body.innerHTML = card.render(``);\n    expect(document.getElementsByTagName(\"svg\")[0]).toHaveAttribute(\"height\", \"170\");\n  });","file":"card.test.js","skipped":false,"dir":"tests"},{"name":"main-card-body should have proper when title is visible","suites":["Card"],"updatePoint":{"line":74,"column":61,"index":2769},"line":74,"code":"  it(\"main-card-body should have proper when title is visible\", () => {\n    const card = new Card({\n      height: 200\n    });\n    document.body.innerHTML = card.render(``);\n    expect(queryByTestId(document.body, \"main-card-body\")).toHaveAttribute(\"transform\", \"translate(0, 55)\");\n  });","file":"card.test.js","skipped":false,"dir":"tests"},{"name":"main-card-body should have proper position after title is hidden","suites":["Card"],"updatePoint":{"line":81,"column":70,"index":3066},"line":81,"code":"  it(\"main-card-body should have proper position after title is hidden\", () => {\n    const card = new Card({\n      height: 200\n    });\n    card.setHideTitle(true);\n    document.body.innerHTML = card.render(``);\n    expect(queryByTestId(document.body, \"main-card-body\")).toHaveAttribute(\"transform\", \"translate(0, 25)\");\n  });","file":"card.test.js","skipped":false,"dir":"tests"},{"name":"should render with correct colors","suites":["Card"],"updatePoint":{"line":89,"column":39,"index":3361},"line":89,"code":"  it(\"should render with correct colors\", () => {\n    // returns theme based colors with proper overrides and defaults\n    const {\n      titleColor,\n      textColor,\n      iconColor,\n      bgColor\n    } = getCardColors({\n      title_color: \"f00\",\n      icon_color: \"0f0\",\n      text_color: \"00f\",\n      bg_color: \"fff\",\n      theme: \"default\"\n    });\n    const card = new Card({\n      height: 200,\n      colors: {\n        titleColor,\n        textColor,\n        iconColor,\n        bgColor\n      }\n    });\n    document.body.innerHTML = card.render(``);\n    const styleTag = document.querySelector(\"style\");\n    const stylesObject = cssToObject(styleTag.innerHTML);\n    const headerClassStyles = stylesObject[\":host\"][\".header \"];\n    expect(headerClassStyles[\"fill\"].trim()).toBe(\"#f00\");\n    expect(queryByTestId(document.body, \"card-bg\")).toHaveAttribute(\"fill\", \"#fff\");\n  });","file":"card.test.js","skipped":false,"dir":"tests"},{"name":"should render gradient backgrounds","suites":["Card"],"updatePoint":{"line":119,"column":40,"index":4240},"line":119,"code":"  it(\"should render gradient backgrounds\", () => {\n    const {\n      titleColor,\n      textColor,\n      iconColor,\n      bgColor\n    } = getCardColors({\n      title_color: \"f00\",\n      icon_color: \"0f0\",\n      text_color: \"00f\",\n      bg_color: \"90,fff,000,f00\",\n      theme: \"default\"\n    });\n    const card = new Card({\n      height: 200,\n      colors: {\n        titleColor,\n        textColor,\n        iconColor,\n        bgColor\n      }\n    });\n    document.body.innerHTML = card.render(``);\n    expect(queryByTestId(document.body, \"card-bg\")).toHaveAttribute(\"fill\", \"url(#gradient)\");\n    expect(document.querySelector(\"defs #gradient\")).toHaveAttribute(\"gradientTransform\", \"rotate(90)\");\n    expect(document.querySelector(\"defs #gradient stop:nth-child(1)\")).toHaveAttribute(\"stop-color\", \"#fff\");\n    expect(document.querySelector(\"defs #gradient stop:nth-child(2)\")).toHaveAttribute(\"stop-color\", \"#000\");\n    expect(document.querySelector(\"defs #gradient stop:nth-child(3)\")).toHaveAttribute(\"stop-color\", \"#f00\");\n  });","file":"card.test.js","skipped":false,"dir":"tests"},{"name":"retrieve stats card","suites":["Fetch Cards"],"updatePoint":{"line":89,"column":27,"index":2071},"line":89,"code":"  test(\"retrieve stats card\", async () => {\n    expect(VERCEL_PREVIEW_URL).toBeDefined();\n\n    // Check if the Vercel preview instance stats card function is up and running.\n    await expect(axios.get(`${VERCEL_PREVIEW_URL}/api?username=${USER}`)).resolves.not.toThrow();\n\n    // Get local stats card.\n    const localStatsCardSVG = renderStatsCard(STATS_DATA);\n\n    // Get the Vercel preview stats card response.\n    const serverStatsSvg = await axios.get(`${VERCEL_PREVIEW_URL}/api?username=${USER}&${CACHE_BURST_STRING}`);\n\n    // Check if stats card from deployment matches the stats card from local.\n    expect(serverStatsSvg.data).toEqual(localStatsCardSVG);\n  }, 7000);","file":"e2e/e2e.test.js","skipped":false,"dir":"tests"},{"name":"retrieve language card","suites":["Fetch Cards"],"updatePoint":{"line":104,"column":30,"index":2750},"line":104,"code":"  test(\"retrieve language card\", async () => {\n    expect(VERCEL_PREVIEW_URL).toBeDefined();\n\n    // Check if the Vercel preview instance language card function is up and running.\n    console.log(`${VERCEL_PREVIEW_URL}/api/top-langs/?username=${USER}&${CACHE_BURST_STRING}`);\n    await expect(axios.get(`${VERCEL_PREVIEW_URL}/api/top-langs/?username=${USER}&${CACHE_BURST_STRING}`)).resolves.not.toThrow();\n\n    // Get local language card.\n    const localLanguageCardSVG = renderTopLanguages(LANGS_DATA);\n\n    // Get the Vercel preview language card response.\n    const severLanguageSVG = await axios.get(`${VERCEL_PREVIEW_URL}/api/top-langs/?username=${USER}&${CACHE_BURST_STRING}`);\n\n    // Check if language card from deployment matches the local language card.\n    expect(severLanguageSVG.data).toEqual(localLanguageCardSVG);\n  });","file":"e2e/e2e.test.js","skipped":false,"dir":"tests"},{"name":"retrieve WakaTime card","suites":["Fetch Cards"],"updatePoint":{"line":120,"column":30,"index":3586},"line":120,"code":"  test(\"retrieve WakaTime card\", async () => {\n    expect(VERCEL_PREVIEW_URL).toBeDefined();\n\n    // Check if the Vercel preview instance WakaTime function is up and running.\n    await expect(axios.get(`${VERCEL_PREVIEW_URL}/api/wakatime?username=${USER}`)).resolves.not.toThrow();\n\n    // Get local WakaTime card.\n    const localWakaCardSVG = renderWakatimeCard(WAKATIME_DATA);\n\n    // Get the Vercel preview WakaTime card response.\n    const serverWakaTimeSvg = await axios.get(`${VERCEL_PREVIEW_URL}/api/wakatime?username=${USER}&${CACHE_BURST_STRING}`);\n\n    // Check if WakaTime card from deployment matches the local WakaTime card.\n    expect(serverWakaTimeSvg.data).toEqual(localWakaCardSVG);\n  });","file":"e2e/e2e.test.js","skipped":false,"dir":"tests"},{"name":"retrieve repo card","suites":["Fetch Cards"],"updatePoint":{"line":135,"column":26,"index":4288},"line":135,"code":"  test(\"retrieve repo card\", async () => {\n    expect(VERCEL_PREVIEW_URL).toBeDefined();\n\n    // Check if the Vercel preview instance Repo function is up and running.\n    await expect(axios.get(`${VERCEL_PREVIEW_URL}/api/pin/?username=${USER}&repo=${REPO}&${CACHE_BURST_STRING}`)).resolves.not.toThrow();\n\n    // Get local repo card.\n    const localRepoCardSVG = renderRepoCard(REPOSITORY_DATA);\n\n    // Get the Vercel preview repo card response.\n    const serverRepoSvg = await axios.get(`${VERCEL_PREVIEW_URL}/api/pin/?username=${USER}&repo=${REPO}&${CACHE_BURST_STRING}`);\n\n    // Check if Repo card from deployment matches the local Repo card.\n    expect(serverRepoSvg.data).toEqual(localRepoCardSVG);\n  });","file":"e2e/e2e.test.js","skipped":false,"dir":"tests"},{"name":"should fetch correct user repo","suites":["Test fetchRepo"],"updatePoint":{"line":41,"column":36,"index":879},"line":41,"code":"  it(\"should fetch correct user repo\", async () => {\n    mock.onPost(\"https://api.github.com/graphql\").reply(200, data_user);\n    let repo = await fetchRepo(\"anuraghazra\", \"convoychat\");\n    expect(repo).toStrictEqual({\n      ...data_repo.repository,\n      starCount: data_repo.repository.stargazers.totalCount\n    });\n  });","file":"fetchRepo.test.js","skipped":false,"dir":"tests"},{"name":"should fetch correct org repo","suites":["Test fetchRepo"],"updatePoint":{"line":49,"column":35,"index":1203},"line":49,"code":"  it(\"should fetch correct org repo\", async () => {\n    mock.onPost(\"https://api.github.com/graphql\").reply(200, data_org);\n    let repo = await fetchRepo(\"anuraghazra\", \"convoychat\");\n    expect(repo).toStrictEqual({\n      ...data_repo.repository,\n      starCount: data_repo.repository.stargazers.totalCount\n    });\n  });","file":"fetchRepo.test.js","skipped":false,"dir":"tests"},{"name":"should throw error if user is found but repo is null","suites":["Test fetchRepo"],"updatePoint":{"line":57,"column":58,"index":1549},"line":57,"code":"  it(\"should throw error if user is found but repo is null\", async () => {\n    mock.onPost(\"https://api.github.com/graphql\").reply(200, {\n      data: {\n        user: {\n          repository: null\n        },\n        organization: null\n      }\n    });\n    await expect(fetchRepo(\"anuraghazra\", \"convoychat\")).rejects.toThrow(\"User Repository Not found\");\n  });","file":"fetchRepo.test.js","skipped":false,"dir":"tests"},{"name":"should throw error if org is found but repo is null","suites":["Test fetchRepo"],"updatePoint":{"line":68,"column":57,"index":1906},"line":68,"code":"  it(\"should throw error if org is found but repo is null\", async () => {\n    mock.onPost(\"https://api.github.com/graphql\").reply(200, {\n      data: {\n        user: null,\n        organization: {\n          repository: null\n        }\n      }\n    });\n    await expect(fetchRepo(\"anuraghazra\", \"convoychat\")).rejects.toThrow(\"Organization Repository Not found\");\n  });","file":"fetchRepo.test.js","skipped":false,"dir":"tests"},{"name":"should throw error if both user & org data not found","suites":["Test fetchRepo"],"updatePoint":{"line":79,"column":58,"index":2272},"line":79,"code":"  it(\"should throw error if both user & org data not found\", async () => {\n    mock.onPost(\"https://api.github.com/graphql\").reply(200, {\n      data: {\n        user: null,\n        organization: null\n      }\n    });\n    await expect(fetchRepo(\"anuraghazra\", \"convoychat\")).rejects.toThrow(\"Not found\");\n  });","file":"fetchRepo.test.js","skipped":false,"dir":"tests"},{"name":"should throw error if repository is private","suites":["Test fetchRepo"],"updatePoint":{"line":88,"column":49,"index":2571},"line":88,"code":"  it(\"should throw error if repository is private\", async () => {\n    mock.onPost(\"https://api.github.com/graphql\").reply(200, {\n      data: {\n        user: {\n          repository: {\n            ...data_repo,\n            isPrivate: true\n          }\n        },\n        organization: null\n      }\n    });\n    await expect(fetchRepo(\"anuraghazra\", \"convoychat\")).rejects.toThrow(\"User Repository Not found\");\n  });","file":"fetchRepo.test.js","skipped":false,"dir":"tests"},{"name":"should fetch correct stats","suites":["Test fetchStats"],"updatePoint":{"line":143,"column":32,"index":3187},"line":143,"code":"  it(\"should fetch correct stats\", async () => {\n    let stats = await fetchStats(\"anuraghazra\");\n    const rank = calculateRank({\n      totalCommits: 100,\n      totalRepos: 5,\n      followers: 100,\n      contributions: 61,\n      // stargazers: 400, // NOTE: Temporarily disable fetching of multiple pages. Done because of #2130.\n      stargazers: 300,\n      // NOTE: Temporarily disable fetching of multiple pages. Done because of #2130.\n      prs: 300,\n      issues: 200\n    });\n    expect(stats).toStrictEqual({\n      contributedTo: 61,\n      name: \"Anurag Hazra\",\n      totalCommits: 100,\n      totalIssues: 200,\n      totalPRs: 300,\n      // totalStars: 400, // NOTE: Temporarily disable fetching of multiple pages. Done because of #2130.\n      totalStars: 300,\n      // NOTE: Temporarily disable fetching of multiple pages. Done because of #2130.\n      rank\n    });\n  });","file":"fetchStats.test.js","skipped":false,"dir":"tests"},{"name":"should stop fetching when there are repos with zero stars","suites":["Test fetchStats"],"updatePoint":{"line":168,"column":63,"index":4096},"line":168,"code":"  it(\"should stop fetching when there are repos with zero stars\", async () => {\n    mock.reset();\n    mock.onPost(\"https://api.github.com/graphql\").replyOnce(200, data).onPost(\"https://api.github.com/graphql\").replyOnce(200, repositoriesWithZeroStarsData);\n    let stats = await fetchStats(\"anuraghazra\");\n    const rank = calculateRank({\n      totalCommits: 100,\n      totalRepos: 5,\n      followers: 100,\n      contributions: 61,\n      stargazers: 300,\n      prs: 300,\n      issues: 200\n    });\n    expect(stats).toStrictEqual({\n      contributedTo: 61,\n      name: \"Anurag Hazra\",\n      totalCommits: 100,\n      totalIssues: 200,\n      totalPRs: 300,\n      totalStars: 300,\n      rank\n    });\n  });","file":"fetchStats.test.js","skipped":false,"dir":"tests"},{"name":"should throw error","suites":["Test fetchStats"],"updatePoint":{"line":191,"column":24,"index":4759},"line":191,"code":"  it(\"should throw error\", async () => {\n    mock.reset();\n    mock.onPost(\"https://api.github.com/graphql\").reply(200, error);\n    await expect(fetchStats(\"anuraghazra\")).rejects.toThrow(\"Could not resolve to a User with the login of 'noname'.\");\n  });","file":"fetchStats.test.js","skipped":false,"dir":"tests"},{"name":"should fetch and add private contributions","suites":["Test fetchStats"],"updatePoint":{"line":196,"column":48,"index":5037},"line":196,"code":"  it(\"should fetch and add private contributions\", async () => {\n    let stats = await fetchStats(\"anuraghazra\", true);\n    const rank = calculateRank({\n      totalCommits: 150,\n      totalRepos: 5,\n      followers: 100,\n      contributions: 61,\n      // stargazers: 400, // NOTE: Temporarily disable fetching of multiple pages. Done because of #2130.\n      stargazers: 300,\n      // NOTE: Temporarily disable fetching of multiple pages. Done because of #2130.\n      prs: 300,\n      issues: 200\n    });\n    expect(stats).toStrictEqual({\n      contributedTo: 61,\n      name: \"Anurag Hazra\",\n      totalCommits: 150,\n      totalIssues: 200,\n      totalPRs: 300,\n      // totalStars: 400, // NOTE: Temporarily disable fetching of multiple pages. Done because of #2130.\n      totalStars: 300,\n      // NOTE: Temporarily disable fetching of multiple pages. Done because of #2130.\n      rank\n    });\n  });","file":"fetchStats.test.js","skipped":false,"dir":"tests"},{"name":"should fetch total commits","suites":["Test fetchStats"],"updatePoint":{"line":221,"column":32,"index":5921},"line":221,"code":"  it(\"should fetch total commits\", async () => {\n    mock.onGet(\"https://api.github.com/search/commits?q=author:anuraghazra\").reply(200, {\n      total_count: 1000\n    });\n    let stats = await fetchStats(\"anuraghazra\", true, true);\n    const rank = calculateRank({\n      totalCommits: 1050,\n      totalRepos: 5,\n      followers: 100,\n      contributions: 61,\n      // stargazers: 400, // NOTE: Temporarily disable fetching of multiple pages. Done because of #2130.\n      stargazers: 300,\n      // NOTE: Temporarily disable fetching of multiple pages. Done because of #2130.\n      prs: 300,\n      issues: 200\n    });\n    expect(stats).toStrictEqual({\n      contributedTo: 61,\n      name: \"Anurag Hazra\",\n      totalCommits: 1050,\n      totalIssues: 200,\n      totalPRs: 300,\n      // totalStars: 400, // NOTE: Temporarily disable fetching of multiple pages. Done because of #2130.\n      totalStars: 300,\n      // NOTE: Temporarily disable fetching of multiple pages. Done because of #2130.\n      rank\n    });\n  });","file":"fetchStats.test.js","skipped":false,"dir":"tests"},{"name":"should exclude stars of the `test-repo-1` repository","suites":["Test fetchStats"],"updatePoint":{"line":249,"column":58,"index":6961},"line":249,"code":"  it(\"should exclude stars of the `test-repo-1` repository\", async () => {\n    mock.onGet(\"https://api.github.com/search/commits?q=author:anuraghazra\").reply(200, {\n      total_count: 1000\n    });\n    let stats = await fetchStats(\"anuraghazra\", true, true, [\"test-repo-1\"]);\n    const rank = calculateRank({\n      totalCommits: 1050,\n      totalRepos: 5,\n      followers: 100,\n      contributions: 61,\n      // stargazers: 300, // NOTE: Temporarily disable fetching of multiple pages. Done because of #2130.\n      stargazers: 200,\n      // NOTE: Temporarily disable fetching of multiple pages. Done because of #2130.\n      prs: 300,\n      issues: 200\n    });\n    expect(stats).toStrictEqual({\n      contributedTo: 61,\n      name: \"Anurag Hazra\",\n      totalCommits: 1050,\n      totalIssues: 200,\n      totalPRs: 300,\n      // totalStars: 300, // NOTE: Temporarily disable fetching of multiple pages. Done because of #2130.\n      totalStars: 200,\n      // NOTE: Temporarily disable fetching of multiple pages. Done because of #2130.\n      rank\n    });\n  });","file":"fetchStats.test.js","skipped":false,"dir":"tests"},{"name":"should fetch correct language data","suites":["FetchTopLanguages"],"updatePoint":{"line":71,"column":40,"index":1581},"line":71,"code":"  it(\"should fetch correct language data\", async () => {\n    mock.onPost(\"https://api.github.com/graphql\").reply(200, data_langs);\n    let repo = await fetchTopLanguages(\"anuraghazra\");\n    expect(repo).toStrictEqual({\n      HTML: {\n        color: \"#0f0\",\n        name: \"HTML\",\n        size: 200\n      },\n      javascript: {\n        color: \"#0ff\",\n        name: \"javascript\",\n        size: 200\n      }\n    });\n  });","file":"fetchTopLanguages.test.js","skipped":false,"dir":"tests"},{"name":"should fetch correct language data while excluding the 'test-repo-1' repository","suites":["FetchTopLanguages"],"updatePoint":{"line":87,"column":85,"index":2042},"line":87,"code":"  it(\"should fetch correct language data while excluding the 'test-repo-1' repository\", async () => {\n    mock.onPost(\"https://api.github.com/graphql\").reply(200, data_langs);\n    let repo = await fetchTopLanguages(\"anuraghazra\", [\"test-repo-1\"]);\n    expect(repo).toStrictEqual({\n      HTML: {\n        color: \"#0f0\",\n        name: \"HTML\",\n        size: 100\n      },\n      javascript: {\n        color: \"#0ff\",\n        name: \"javascript\",\n        size: 200\n      }\n    });\n  });","file":"fetchTopLanguages.test.js","skipped":false,"dir":"tests"},{"name":"should throw error","suites":["FetchTopLanguages"],"updatePoint":{"line":103,"column":24,"index":2459},"line":103,"code":"  it(\"should throw error\", async () => {\n    mock.onPost(\"https://api.github.com/graphql\").reply(200, error);\n    await expect(fetchTopLanguages(\"anuraghazra\")).rejects.toThrow(\"Could not resolve to a User with the login of 'noname'.\");\n  });","file":"fetchTopLanguages.test.js","skipped":false,"dir":"tests"},{"name":"should fetch correct wakatime data","suites":["Wakatime fetcher"],"updatePoint":{"line":91,"column":40,"index":2322},"line":91,"code":"  it(\"should fetch correct wakatime data\", async () => {\n    const username = \"anuraghazra\";\n    mock.onGet(`https://wakatime.com/api/v1/users/${username}/stats/?is_including_today=true`).reply(200, wakaTimeData);\n    const repo = await fetchWakatimeStats({\n      username\n    });\n    expect(repo).toMatchInlineSnapshot(`\n      {\n        \"categories\": [\n          {\n            \"digital\": \"22:40\",\n            \"hours\": 22,\n            \"minutes\": 40,\n            \"name\": \"Coding\",\n            \"percent\": 100,\n            \"text\": \"22 hrs 40 mins\",\n            \"total_seconds\": 81643.570077,\n          },\n        ],\n        \"daily_average\": 16095,\n        \"daily_average_including_other_language\": 16329,\n        \"days_including_holidays\": 7,\n        \"days_minus_holidays\": 5,\n        \"editors\": [\n          {\n            \"digital\": \"22:40\",\n            \"hours\": 22,\n            \"minutes\": 40,\n            \"name\": \"VS Code\",\n            \"percent\": 100,\n            \"text\": \"22 hrs 40 mins\",\n            \"total_seconds\": 81643.570077,\n          },\n        ],\n        \"holidays\": 2,\n        \"human_readable_daily_average\": \"4 hrs 28 mins\",\n        \"human_readable_daily_average_including_other_language\": \"4 hrs 32 mins\",\n        \"human_readable_total\": \"22 hrs 21 mins\",\n        \"human_readable_total_including_other_language\": \"22 hrs 40 mins\",\n        \"id\": \"random hash\",\n        \"is_already_updating\": false,\n        \"is_coding_activity_visible\": true,\n        \"is_including_today\": false,\n        \"is_other_usage_visible\": true,\n        \"is_stuck\": false,\n        \"is_up_to_date\": true,\n        \"languages\": [\n          {\n            \"digital\": \"0:19\",\n            \"hours\": 0,\n            \"minutes\": 19,\n            \"name\": \"Other\",\n            \"percent\": 1.43,\n            \"text\": \"19 mins\",\n            \"total_seconds\": 1170.434361,\n          },\n          {\n            \"digital\": \"0:01\",\n            \"hours\": 0,\n            \"minutes\": 1,\n            \"name\": \"TypeScript\",\n            \"percent\": 0.1,\n            \"text\": \"1 min\",\n            \"total_seconds\": 83.293809,\n          },\n          {\n            \"digital\": \"0:00\",\n            \"hours\": 0,\n            \"minutes\": 0,\n            \"name\": \"YAML\",\n            \"percent\": 0.07,\n            \"text\": \"0 secs\",\n            \"total_seconds\": 54.975151,\n          },\n        ],\n        \"operating_systems\": [\n          {\n            \"digital\": \"22:40\",\n            \"hours\": 22,\n            \"minutes\": 40,\n            \"name\": \"Mac\",\n            \"percent\": 100,\n            \"text\": \"22 hrs 40 mins\",\n            \"total_seconds\": 81643.570077,\n          },\n        ],\n        \"percent_calculated\": 100,\n        \"range\": \"last_7_days\",\n        \"status\": \"ok\",\n        \"timeout\": 15,\n        \"total_seconds\": 80473.135716,\n        \"total_seconds_including_other_language\": 81643.570077,\n        \"user_id\": \"random hash\",\n        \"username\": \"anuraghazra\",\n        \"writes_only\": false,\n      }\n    `);\n  });","file":"fetchWakatime.test.js","skipped":false,"dir":"tests"},{"name":"should throw error","suites":["Wakatime fetcher"],"updatePoint":{"line":189,"column":24,"index":5261},"line":189,"code":"  it(\"should throw error\", async () => {\n    mock.onGet(/\\/https:\\/\\/wakatime\\.com\\/api/).reply(404, wakaTimeData);\n    await expect(fetchWakatimeStats(\"noone\")).rejects.toThrow('Missing params \"username\" make sure you pass the parameters in URL');\n  });","file":"fetchWakatime.test.js","skipped":false,"dir":"tests"},{"name":"should work with row & col layouts","suites":["flexLayout"],"updatePoint":{"line":3,"column":40,"index":125},"line":3,"code":"  it(\"should work with row & col layouts\", () => {\n    const layout = flexLayout({\n      items: [\"<text>1</text>\", \"<text>2</text>\"],\n      gap: 60\n    });\n    expect(layout).toStrictEqual([`<g transform=\"translate(0, 0)\"><text>1</text></g>`, `<g transform=\"translate(60, 0)\"><text>2</text></g>`]);\n    const columns = flexLayout({\n      items: [\"<text>1</text>\", \"<text>2</text>\"],\n      gap: 60,\n      direction: \"column\"\n    });\n    expect(columns).toStrictEqual([`<g transform=\"translate(0, 0)\"><text>1</text></g>`, `<g transform=\"translate(0, 60)\"><text>2</text></g>`]);\n  });","file":"flexLayout.test.js","skipped":false,"dir":"tests"},{"name":"should work with sizes","suites":["flexLayout"],"updatePoint":{"line":16,"column":28,"index":695},"line":16,"code":"  it(\"should work with sizes\", () => {\n    const layout = flexLayout({\n      items: [\"<text>1</text>\", \"<text>2</text>\", \"<text>3</text>\", \"<text>4</text>\"],\n      gap: 20,\n      sizes: [200, 100, 55, 25]\n    });\n    expect(layout).toStrictEqual([`<g transform=\"translate(0, 0)\"><text>1</text></g>`, `<g transform=\"translate(220, 0)\"><text>2</text></g>`, `<g transform=\"translate(340, 0)\"><text>3</text></g>`, `<g transform=\"translate(415, 0)\"><text>4</text></g>`]);\n  });","file":"flexLayout.test.js","skipped":false,"dir":"tests"},{"name":"should test the request","suites":["Test /api/pin"],"updatePoint":{"line":38,"column":29,"index":930},"line":38,"code":"  it(\"should test the request\", async () => {\n    const req = {\n      query: {\n        username: \"anuraghazra\",\n        repo: \"convoychat\"\n      }\n    };\n    const res = {\n      setHeader: jest.fn(),\n      send: jest.fn()\n    };\n    mock.onPost(\"https://api.github.com/graphql\").reply(200, data_user);\n    await pin(req, res);\n    expect(res.setHeader).toBeCalledWith(\"Content-Type\", \"image/svg+xml\");\n    expect(res.send).toBeCalledWith(renderRepoCard({\n      ...data_repo.repository,\n      starCount: data_repo.repository.stargazers.totalCount\n    }));\n  });","file":"pin.test.js","skipped":false,"dir":"tests"},{"name":"should get the query options","suites":["Test /api/pin"],"updatePoint":{"line":57,"column":34,"index":1496},"line":57,"code":"  it(\"should get the query options\", async () => {\n    const req = {\n      query: {\n        username: \"anuraghazra\",\n        repo: \"convoychat\",\n        title_color: \"fff\",\n        icon_color: \"fff\",\n        text_color: \"fff\",\n        bg_color: \"fff\",\n        full_name: \"1\"\n      }\n    };\n    const res = {\n      setHeader: jest.fn(),\n      send: jest.fn()\n    };\n    mock.onPost(\"https://api.github.com/graphql\").reply(200, data_user);\n    await pin(req, res);\n    expect(res.setHeader).toBeCalledWith(\"Content-Type\", \"image/svg+xml\");\n    expect(res.send).toBeCalledWith(renderRepoCard({\n      ...data_repo.repository,\n      starCount: data_repo.repository.stargazers.totalCount\n    }, {\n      ...req.query\n    }));\n  });","file":"pin.test.js","skipped":false,"dir":"tests"},{"name":"should render error card if user repo not found","suites":["Test /api/pin"],"updatePoint":{"line":83,"column":53,"index":2240},"line":83,"code":"  it(\"should render error card if user repo not found\", async () => {\n    const req = {\n      query: {\n        username: \"anuraghazra\",\n        repo: \"convoychat\"\n      }\n    };\n    const res = {\n      setHeader: jest.fn(),\n      send: jest.fn()\n    };\n    mock.onPost(\"https://api.github.com/graphql\").reply(200, {\n      data: {\n        user: {\n          repository: null\n        },\n        organization: null\n      }\n    });\n    await pin(req, res);\n    expect(res.setHeader).toBeCalledWith(\"Content-Type\", \"image/svg+xml\");\n    expect(res.send).toBeCalledWith(renderError(\"User Repository Not found\"));\n  });","file":"pin.test.js","skipped":false,"dir":"tests"},{"name":"should render error card if org repo not found","suites":["Test /api/pin"],"updatePoint":{"line":106,"column":52,"index":2851},"line":106,"code":"  it(\"should render error card if org repo not found\", async () => {\n    const req = {\n      query: {\n        username: \"anuraghazra\",\n        repo: \"convoychat\"\n      }\n    };\n    const res = {\n      setHeader: jest.fn(),\n      send: jest.fn()\n    };\n    mock.onPost(\"https://api.github.com/graphql\").reply(200, {\n      data: {\n        user: null,\n        organization: {\n          repository: null\n        }\n      }\n    });\n    await pin(req, res);\n    expect(res.setHeader).toBeCalledWith(\"Content-Type\", \"image/svg+xml\");\n    expect(res.send).toBeCalledWith(renderError(\"Organization Repository Not found\"));\n  });","file":"pin.test.js","skipped":false,"dir":"tests"},{"name":"should render correctly","suites":["Test renderRepoCard"],"updatePoint":{"line":21,"column":29,"index":665},"line":21,"code":"  it(\"should render correctly\", () => {\n    document.body.innerHTML = renderRepoCard(data_repo.repository);\n    const [header] = document.getElementsByClassName(\"header\");\n    expect(header).toHaveTextContent(\"convoychat\");\n    expect(header).not.toHaveTextContent(\"anuraghazra\");\n    expect(document.getElementsByClassName(\"description\")[0]).toHaveTextContent(\"Help us take over the world! React + TS + GraphQL Chat App\");\n    expect(queryByTestId(document.body, \"stargazers\")).toHaveTextContent(\"38k\");\n    expect(queryByTestId(document.body, \"forkcount\")).toHaveTextContent(\"100\");\n    expect(queryByTestId(document.body, \"lang-name\")).toHaveTextContent(\"TypeScript\");\n    expect(queryByTestId(document.body, \"lang-color\")).toHaveAttribute(\"fill\", \"#2b7489\");\n  });","file":"renderRepoCard.test.js","skipped":false,"dir":"tests"},{"name":"should display username in title (full repo name)","suites":["Test renderRepoCard"],"updatePoint":{"line":32,"column":55,"index":1460},"line":32,"code":"  it(\"should display username in title (full repo name)\", () => {\n    document.body.innerHTML = renderRepoCard(data_repo.repository, {\n      show_owner: true\n    });\n    expect(document.getElementsByClassName(\"header\")[0]).toHaveTextContent(\"anuraghazra/convoychat\");\n  });","file":"renderRepoCard.test.js","skipped":false,"dir":"tests"},{"name":"should trim header","suites":["Test renderRepoCard"],"updatePoint":{"line":38,"column":24,"index":1703},"line":38,"code":"  it(\"should trim header\", () => {\n    document.body.innerHTML = renderRepoCard({\n      ...data_repo.repository,\n      name: \"some-really-long-repo-name-for-test-purposes\"\n    });\n    expect(document.getElementsByClassName(\"header\")[0].textContent).toBe(\"some-really-long-repo-name-for-test...\");\n  });","file":"renderRepoCard.test.js","skipped":false,"dir":"tests"},{"name":"should trim description","suites":["Test renderRepoCard"],"updatePoint":{"line":45,"column":29,"index":2011},"line":45,"code":"  it(\"should trim description\", () => {\n    document.body.innerHTML = renderRepoCard({\n      ...data_repo.repository,\n      description: \"The quick brown fox jumps over the lazy dog is an English-language pangramâ€”a sentence that contains all of the letters of the English alphabet\"\n    });\n    expect(document.getElementsByClassName(\"description\")[0].children[0].textContent).toBe(\"The quick brown fox jumps over the lazy dog is an\");\n    expect(document.getElementsByClassName(\"description\")[0].children[1].textContent).toBe(\"English-language pangramâ€”a sentence that contains all\");\n\n    // Should not trim\n    document.body.innerHTML = renderRepoCard({\n      ...data_repo.repository,\n      description: \"Small text should not trim\"\n    });\n    expect(document.getElementsByClassName(\"description\")[0]).toHaveTextContent(\"Small text should not trim\");\n  });","file":"renderRepoCard.test.js","skipped":false,"dir":"tests"},{"name":"should render emojis","suites":["Test renderRepoCard"],"updatePoint":{"line":60,"column":26,"index":2867},"line":60,"code":"  it(\"should render emojis\", () => {\n    document.body.innerHTML = renderRepoCard({\n      ...data_repo.repository,\n      description: \"This is a text with a :poop: poo emoji\"\n    });\n\n    // poop emoji may not show in all editors but it's there between \"a\" and \"poo\"\n    expect(document.getElementsByClassName(\"description\")[0]).toHaveTextContent(\"This is a text with a ðŸ’© poo emoji\");\n  });","file":"renderRepoCard.test.js","skipped":false,"dir":"tests"},{"name":"should hide language if primaryLanguage is null & fallback to correct values","suites":["Test renderRepoCard"],"updatePoint":{"line":69,"column":82,"index":3315},"line":69,"code":"  it(\"should hide language if primaryLanguage is null & fallback to correct values\", () => {\n    document.body.innerHTML = renderRepoCard({\n      ...data_repo.repository,\n      primaryLanguage: null\n    });\n    expect(queryByTestId(document.body, \"primary-lang\")).toBeNull();\n    document.body.innerHTML = renderRepoCard({\n      ...data_repo.repository,\n      primaryLanguage: {\n        color: null,\n        name: null\n      }\n    });\n    expect(queryByTestId(document.body, \"primary-lang\")).toBeInTheDocument();\n    expect(queryByTestId(document.body, \"lang-color\")).toHaveAttribute(\"fill\", \"#333\");\n    expect(queryByTestId(document.body, \"lang-name\")).toHaveTextContent(\"Unspecified\");\n  });","file":"renderRepoCard.test.js","skipped":false,"dir":"tests"},{"name":"should render default colors properly","suites":["Test renderRepoCard"],"updatePoint":{"line":86,"column":43,"index":3971},"line":86,"code":"  it(\"should render default colors properly\", () => {\n    document.body.innerHTML = renderRepoCard(data_repo.repository);\n    const styleTag = document.querySelector(\"style\");\n    const stylesObject = cssToObject(styleTag.innerHTML);\n    const headerClassStyles = stylesObject[\":host\"][\".header \"];\n    const descClassStyles = stylesObject[\":host\"][\".description \"];\n    const iconClassStyles = stylesObject[\":host\"][\".icon \"];\n    expect(headerClassStyles.fill.trim()).toBe(\"#2f80ed\");\n    expect(descClassStyles.fill.trim()).toBe(\"#434d58\");\n    expect(iconClassStyles.fill.trim()).toBe(\"#586069\");\n    expect(queryByTestId(document.body, \"card-bg\")).toHaveAttribute(\"fill\", \"#fffefe\");\n  });","file":"renderRepoCard.test.js","skipped":false,"dir":"tests"},{"name":"should render custom colors properly","suites":["Test renderRepoCard"],"updatePoint":{"line":98,"column":42,"index":4665},"line":98,"code":"  it(\"should render custom colors properly\", () => {\n    const customColors = {\n      title_color: \"5a0\",\n      icon_color: \"1b998b\",\n      text_color: \"9991\",\n      bg_color: \"252525\"\n    };\n    document.body.innerHTML = renderRepoCard(data_repo.repository, {\n      ...customColors\n    });\n    const styleTag = document.querySelector(\"style\");\n    const stylesObject = cssToObject(styleTag.innerHTML);\n    const headerClassStyles = stylesObject[\":host\"][\".header \"];\n    const descClassStyles = stylesObject[\":host\"][\".description \"];\n    const iconClassStyles = stylesObject[\":host\"][\".icon \"];\n    expect(headerClassStyles.fill.trim()).toBe(`#${customColors.title_color}`);\n    expect(descClassStyles.fill.trim()).toBe(`#${customColors.text_color}`);\n    expect(iconClassStyles.fill.trim()).toBe(`#${customColors.icon_color}`);\n    expect(queryByTestId(document.body, \"card-bg\")).toHaveAttribute(\"fill\", \"#252525\");\n  });","file":"renderRepoCard.test.js","skipped":false,"dir":"tests"},{"name":"should render with all the themes","suites":["Test renderRepoCard"],"updatePoint":{"line":118,"column":39,"index":5587},"line":118,"code":"  it(\"should render with all the themes\", () => {\n    Object.keys(themes).forEach(name => {\n      document.body.innerHTML = renderRepoCard(data_repo.repository, {\n        theme: name\n      });\n      const styleTag = document.querySelector(\"style\");\n      const stylesObject = cssToObject(styleTag.innerHTML);\n      const headerClassStyles = stylesObject[\":host\"][\".header \"];\n      const descClassStyles = stylesObject[\":host\"][\".description \"];\n      const iconClassStyles = stylesObject[\":host\"][\".icon \"];\n      expect(headerClassStyles.fill.trim()).toBe(`#${themes[name].title_color}`);\n      expect(descClassStyles.fill.trim()).toBe(`#${themes[name].text_color}`);\n      expect(iconClassStyles.fill.trim()).toBe(`#${themes[name].icon_color}`);\n      expect(queryByTestId(document.body, \"card-bg\")).toHaveAttribute(\"fill\", `#${themes[name].bg_color}`);\n    });\n  });","file":"renderRepoCard.test.js","skipped":false,"dir":"tests"},{"name":"should render custom colors with themes","suites":["Test renderRepoCard"],"updatePoint":{"line":134,"column":45,"index":6464},"line":134,"code":"  it(\"should render custom colors with themes\", () => {\n    document.body.innerHTML = renderRepoCard(data_repo.repository, {\n      title_color: \"5a0\",\n      theme: \"radical\"\n    });\n    const styleTag = document.querySelector(\"style\");\n    const stylesObject = cssToObject(styleTag.innerHTML);\n    const headerClassStyles = stylesObject[\":host\"][\".header \"];\n    const descClassStyles = stylesObject[\":host\"][\".description \"];\n    const iconClassStyles = stylesObject[\":host\"][\".icon \"];\n    expect(headerClassStyles.fill.trim()).toBe(\"#5a0\");\n    expect(descClassStyles.fill.trim()).toBe(`#${themes.radical.text_color}`);\n    expect(iconClassStyles.fill.trim()).toBe(`#${themes.radical.icon_color}`);\n    expect(queryByTestId(document.body, \"card-bg\")).toHaveAttribute(\"fill\", `#${themes.radical.bg_color}`);\n  });","file":"renderRepoCard.test.js","skipped":false,"dir":"tests"},{"name":"should render custom colors with themes and fallback to default colors if invalid","suites":["Test renderRepoCard"],"updatePoint":{"line":149,"column":87,"index":7322},"line":149,"code":"  it(\"should render custom colors with themes and fallback to default colors if invalid\", () => {\n    document.body.innerHTML = renderRepoCard(data_repo.repository, {\n      title_color: \"invalid color\",\n      text_color: \"invalid color\",\n      theme: \"radical\"\n    });\n    const styleTag = document.querySelector(\"style\");\n    const stylesObject = cssToObject(styleTag.innerHTML);\n    const headerClassStyles = stylesObject[\":host\"][\".header \"];\n    const descClassStyles = stylesObject[\":host\"][\".description \"];\n    const iconClassStyles = stylesObject[\":host\"][\".icon \"];\n    expect(headerClassStyles.fill.trim()).toBe(`#${themes.default.title_color}`);\n    expect(descClassStyles.fill.trim()).toBe(`#${themes.default.text_color}`);\n    expect(iconClassStyles.fill.trim()).toBe(`#${themes.radical.icon_color}`);\n    expect(queryByTestId(document.body, \"card-bg\")).toHaveAttribute(\"fill\", `#${themes.radical.bg_color}`);\n  });","file":"renderRepoCard.test.js","skipped":false,"dir":"tests"},{"name":"should not render star count or fork count if either of the are zero","suites":["Test renderRepoCard"],"updatePoint":{"line":165,"column":74,"index":8238},"line":165,"code":"  it(\"should not render star count or fork count if either of the are zero\", () => {\n    document.body.innerHTML = renderRepoCard({\n      ...data_repo.repository,\n      starCount: 0\n    });\n    expect(queryByTestId(document.body, \"stargazers\")).toBeNull();\n    expect(queryByTestId(document.body, \"forkcount\")).toBeInTheDocument();\n    document.body.innerHTML = renderRepoCard({\n      ...data_repo.repository,\n      starCount: 1,\n      forkCount: 0\n    });\n    expect(queryByTestId(document.body, \"stargazers\")).toBeInTheDocument();\n    expect(queryByTestId(document.body, \"forkcount\")).toBeNull();\n    document.body.innerHTML = renderRepoCard({\n      ...data_repo.repository,\n      starCount: 0,\n      forkCount: 0\n    });\n    expect(queryByTestId(document.body, \"stargazers\")).toBeNull();\n    expect(queryByTestId(document.body, \"forkcount\")).toBeNull();\n  });","file":"renderRepoCard.test.js","skipped":false,"dir":"tests"},{"name":"should render badges","suites":["Test renderRepoCard"],"updatePoint":{"line":187,"column":26,"index":9053},"line":187,"code":"  it(\"should render badges\", () => {\n    document.body.innerHTML = renderRepoCard({\n      ...data_repo.repository,\n      isArchived: true\n    });\n    expect(queryByTestId(document.body, \"badge\")).toHaveTextContent(\"Archived\");\n    document.body.innerHTML = renderRepoCard({\n      ...data_repo.repository,\n      isTemplate: true\n    });\n    expect(queryByTestId(document.body, \"badge\")).toHaveTextContent(\"Template\");\n  });","file":"renderRepoCard.test.js","skipped":false,"dir":"tests"},{"name":"should not render template","suites":["Test renderRepoCard"],"updatePoint":{"line":199,"column":32,"index":9482},"line":199,"code":"  it(\"should not render template\", () => {\n    document.body.innerHTML = renderRepoCard({\n      ...data_repo.repository\n    });\n    expect(queryByTestId(document.body, \"badge\")).toBeNull();\n  });","file":"renderRepoCard.test.js","skipped":false,"dir":"tests"},{"name":"should render translated badges","suites":["Test renderRepoCard"],"updatePoint":{"line":205,"column":37,"index":9683},"line":205,"code":"  it(\"should render translated badges\", () => {\n    document.body.innerHTML = renderRepoCard({\n      ...data_repo.repository,\n      isArchived: true\n    }, {\n      locale: \"cn\"\n    });\n    expect(queryByTestId(document.body, \"badge\")).toHaveTextContent(\"å·²å½’æ¡£\");\n    document.body.innerHTML = renderRepoCard({\n      ...data_repo.repository,\n      isTemplate: true\n    }, {\n      locale: \"cn\"\n    });\n    expect(queryByTestId(document.body, \"badge\")).toHaveTextContent(\"æ¨¡æ¿\");\n  });","file":"renderRepoCard.test.js","skipped":false,"dir":"tests"},{"name":"should render without rounding","suites":["Test renderRepoCard"],"updatePoint":{"line":221,"column":36,"index":10161},"line":221,"code":"  it(\"should render without rounding\", () => {\n    document.body.innerHTML = renderRepoCard(data_repo.repository, {\n      border_radius: \"0\"\n    });\n    expect(document.querySelector(\"rect\")).toHaveAttribute(\"rx\", \"0\");\n    document.body.innerHTML = renderRepoCard(data_repo.repository, {});\n    expect(document.querySelector(\"rect\")).toHaveAttribute(\"rx\", \"4.5\");\n  });","file":"renderRepoCard.test.js","skipped":false,"dir":"tests"},{"name":"should fallback to default description","suites":["Test renderRepoCard"],"updatePoint":{"line":229,"column":44,"index":10540},"line":229,"code":"  it(\"should fallback to default description\", () => {\n    document.body.innerHTML = renderRepoCard({\n      ...data_repo.repository,\n      description: undefined,\n      isArchived: true\n    });\n    expect(document.getElementsByClassName(\"description\")[0]).toHaveTextContent(\"No description provided\");\n  });","file":"renderRepoCard.test.js","skipped":false,"dir":"tests"},{"name":"should render correctly","suites":["Test renderStatsCard"],"updatePoint":{"line":20,"column":29,"index":591},"line":20,"code":"  it(\"should render correctly\", () => {\n    document.body.innerHTML = renderStatsCard(stats);\n    expect(document.getElementsByClassName(\"header\")[0].textContent).toBe(\"Anurag Hazra's GitHub Stats\");\n    expect(document.body.getElementsByTagName(\"svg\")[0].getAttribute(\"height\")).toBe(\"195\");\n    expect(getByTestId(document.body, \"stars\").textContent).toBe(\"100\");\n    expect(getByTestId(document.body, \"commits\").textContent).toBe(\"200\");\n    expect(getByTestId(document.body, \"issues\").textContent).toBe(\"300\");\n    expect(getByTestId(document.body, \"prs\").textContent).toBe(\"400\");\n    expect(getByTestId(document.body, \"contribs\").textContent).toBe(\"500\");\n    expect(queryByTestId(document.body, \"card-bg\")).toBeInTheDocument();\n    expect(queryByTestId(document.body, \"rank-circle\")).toBeInTheDocument();\n  });","file":"renderStatsCard.test.js","skipped":false,"dir":"tests"},{"name":"should have proper name apostrophe","suites":["Test renderStatsCard"],"updatePoint":{"line":32,"column":40,"index":1420},"line":32,"code":"  it(\"should have proper name apostrophe\", () => {\n    document.body.innerHTML = renderStatsCard({\n      ...stats,\n      name: \"Anil Das\"\n    });\n    expect(document.getElementsByClassName(\"header\")[0].textContent).toBe(\"Anil Das' GitHub Stats\");\n    document.body.innerHTML = renderStatsCard({\n      ...stats,\n      name: \"Felix\"\n    });\n    expect(document.getElementsByClassName(\"header\")[0].textContent).toBe(\"Felix' GitHub Stats\");\n  });","file":"renderStatsCard.test.js","skipped":false,"dir":"tests"},{"name":"should hide individual stats","suites":["Test renderStatsCard"],"updatePoint":{"line":44,"column":34,"index":1857},"line":44,"code":"  it(\"should hide individual stats\", () => {\n    document.body.innerHTML = renderStatsCard(stats, {\n      hide: [\"issues\", \"prs\", \"contribs\"]\n    });\n    expect(document.body.getElementsByTagName(\"svg\")[0].getAttribute(\"height\")).toBe(\"150\"); // height should be 150 because we clamped it.\n\n    expect(queryByTestId(document.body, \"stars\")).toBeDefined();\n    expect(queryByTestId(document.body, \"commits\")).toBeDefined();\n    expect(queryByTestId(document.body, \"issues\")).toBeNull();\n    expect(queryByTestId(document.body, \"prs\")).toBeNull();\n    expect(queryByTestId(document.body, \"contribs\")).toBeNull();\n  });","file":"renderStatsCard.test.js","skipped":false,"dir":"tests"},{"name":"should hide_rank","suites":["Test renderStatsCard"],"updatePoint":{"line":56,"column":22,"index":2462},"line":56,"code":"  it(\"should hide_rank\", () => {\n    document.body.innerHTML = renderStatsCard(stats, {\n      hide_rank: true\n    });\n    expect(queryByTestId(document.body, \"rank-circle\")).not.toBeInTheDocument();\n  });","file":"renderStatsCard.test.js","skipped":false,"dir":"tests"},{"name":"should render with custom width set","suites":["Test renderStatsCard"],"updatePoint":{"line":62,"column":41,"index":2686},"line":62,"code":"  it(\"should render with custom width set\", () => {\n    document.body.innerHTML = renderStatsCard(stats);\n    expect(document.querySelector(\"svg\")).toHaveAttribute(\"width\", \"495\");\n    document.body.innerHTML = renderStatsCard(stats, {\n      card_width: 400\n    });\n    expect(document.querySelector(\"svg\")).toHaveAttribute(\"width\", \"400\");\n  });","file":"renderStatsCard.test.js","skipped":false,"dir":"tests"},{"name":"should render with custom width set and limit minimum width","suites":["Test renderStatsCard"],"updatePoint":{"line":70,"column":65,"index":3057},"line":70,"code":"  it(\"should render with custom width set and limit minimum width\", () => {\n    document.body.innerHTML = renderStatsCard(stats, {\n      card_width: 1\n    });\n    expect(document.querySelector(\"svg\")).toHaveAttribute(\"width\", \"340\");\n    document.body.innerHTML = renderStatsCard(stats, {\n      card_width: 1,\n      hide_rank: true\n    });\n    expect(document.querySelector(\"svg\")).toHaveAttribute(\"width\", \"305.81250000000006\");\n    document.body.innerHTML = renderStatsCard(stats, {\n      card_width: 1,\n      hide_rank: true,\n      show_icons: true\n    });\n    expect(document.querySelector(\"svg\")).toHaveAttribute(\"width\", \"305.81250000000006\");\n    document.body.innerHTML = renderStatsCard(stats, {\n      card_width: 1,\n      hide_rank: false,\n      show_icons: true\n    });\n    expect(document.querySelector(\"svg\")).toHaveAttribute(\"width\", \"356\");\n    document.body.innerHTML = renderStatsCard(stats, {\n      card_width: 1,\n      hide_rank: false,\n      show_icons: false\n    });\n    expect(document.querySelector(\"svg\")).toHaveAttribute(\"width\", \"340\");\n  });","file":"renderStatsCard.test.js","skipped":false,"dir":"tests"},{"name":"should render default colors properly","suites":["Test renderStatsCard"],"updatePoint":{"line":99,"column":43,"index":4104},"line":99,"code":"  it(\"should render default colors properly\", () => {\n    document.body.innerHTML = renderStatsCard(stats);\n    const styleTag = document.querySelector(\"style\");\n    const stylesObject = cssToObject(styleTag.textContent);\n    const headerClassStyles = stylesObject[\":host\"][\".header \"];\n    const statClassStyles = stylesObject[\":host\"][\".stat \"];\n    const iconClassStyles = stylesObject[\":host\"][\".icon \"];\n    expect(headerClassStyles.fill.trim()).toBe(\"#2f80ed\");\n    expect(statClassStyles.fill.trim()).toBe(\"#434d58\");\n    expect(iconClassStyles.fill.trim()).toBe(\"#4c71f2\");\n    expect(queryByTestId(document.body, \"card-bg\")).toHaveAttribute(\"fill\", \"#fffefe\");\n  });","file":"renderStatsCard.test.js","skipped":false,"dir":"tests"},{"name":"should render custom colors properly","suites":["Test renderStatsCard"],"updatePoint":{"line":111,"column":42,"index":4779},"line":111,"code":"  it(\"should render custom colors properly\", () => {\n    const customColors = {\n      title_color: \"5a0\",\n      icon_color: \"1b998b\",\n      text_color: \"9991\",\n      bg_color: \"252525\"\n    };\n    document.body.innerHTML = renderStatsCard(stats, {\n      ...customColors\n    });\n    const styleTag = document.querySelector(\"style\");\n    const stylesObject = cssToObject(styleTag.innerHTML);\n    const headerClassStyles = stylesObject[\":host\"][\".header \"];\n    const statClassStyles = stylesObject[\":host\"][\".stat \"];\n    const iconClassStyles = stylesObject[\":host\"][\".icon \"];\n    expect(headerClassStyles.fill.trim()).toBe(`#${customColors.title_color}`);\n    expect(statClassStyles.fill.trim()).toBe(`#${customColors.text_color}`);\n    expect(iconClassStyles.fill.trim()).toBe(`#${customColors.icon_color}`);\n    expect(queryByTestId(document.body, \"card-bg\")).toHaveAttribute(\"fill\", \"#252525\");\n  });","file":"renderStatsCard.test.js","skipped":false,"dir":"tests"},{"name":"should render custom colors with themes","suites":["Test renderStatsCard"],"updatePoint":{"line":131,"column":45,"index":5686},"line":131,"code":"  it(\"should render custom colors with themes\", () => {\n    document.body.innerHTML = renderStatsCard(stats, {\n      title_color: \"5a0\",\n      theme: \"radical\"\n    });\n    const styleTag = document.querySelector(\"style\");\n    const stylesObject = cssToObject(styleTag.innerHTML);\n    const headerClassStyles = stylesObject[\":host\"][\".header \"];\n    const statClassStyles = stylesObject[\":host\"][\".stat \"];\n    const iconClassStyles = stylesObject[\":host\"][\".icon \"];\n    expect(headerClassStyles.fill.trim()).toBe(\"#5a0\");\n    expect(statClassStyles.fill.trim()).toBe(`#${themes.radical.text_color}`);\n    expect(iconClassStyles.fill.trim()).toBe(`#${themes.radical.icon_color}`);\n    expect(queryByTestId(document.body, \"card-bg\")).toHaveAttribute(\"fill\", `#${themes.radical.bg_color}`);\n  });","file":"renderStatsCard.test.js","skipped":false,"dir":"tests"},{"name":"should render with all the themes","suites":["Test renderStatsCard"],"updatePoint":{"line":146,"column":39,"index":6475},"line":146,"code":"  it(\"should render with all the themes\", () => {\n    Object.keys(themes).forEach(name => {\n      document.body.innerHTML = renderStatsCard(stats, {\n        theme: name\n      });\n      const styleTag = document.querySelector(\"style\");\n      const stylesObject = cssToObject(styleTag.innerHTML);\n      const headerClassStyles = stylesObject[\":host\"][\".header \"];\n      const statClassStyles = stylesObject[\":host\"][\".stat \"];\n      const iconClassStyles = stylesObject[\":host\"][\".icon \"];\n      expect(headerClassStyles.fill.trim()).toBe(`#${themes[name].title_color}`);\n      expect(statClassStyles.fill.trim()).toBe(`#${themes[name].text_color}`);\n      expect(iconClassStyles.fill.trim()).toBe(`#${themes[name].icon_color}`);\n      expect(queryByTestId(document.body, \"card-bg\")).toHaveAttribute(\"fill\", `#${themes[name].bg_color}`);\n    });\n  });","file":"renderStatsCard.test.js","skipped":false,"dir":"tests"},{"name":"should render custom colors with themes and fallback to default colors if invalid","suites":["Test renderStatsCard"],"updatePoint":{"line":162,"column":87,"index":7373},"line":162,"code":"  it(\"should render custom colors with themes and fallback to default colors if invalid\", () => {\n    document.body.innerHTML = renderStatsCard(stats, {\n      title_color: \"invalid color\",\n      text_color: \"invalid color\",\n      theme: \"radical\"\n    });\n    const styleTag = document.querySelector(\"style\");\n    const stylesObject = cssToObject(styleTag.innerHTML);\n    const headerClassStyles = stylesObject[\":host\"][\".header \"];\n    const statClassStyles = stylesObject[\":host\"][\".stat \"];\n    const iconClassStyles = stylesObject[\":host\"][\".icon \"];\n    expect(headerClassStyles.fill.trim()).toBe(`#${themes.default.title_color}`);\n    expect(statClassStyles.fill.trim()).toBe(`#${themes.default.text_color}`);\n    expect(iconClassStyles.fill.trim()).toBe(`#${themes.radical.icon_color}`);\n    expect(queryByTestId(document.body, \"card-bg\")).toHaveAttribute(\"fill\", `#${themes.radical.bg_color}`);\n  });","file":"renderStatsCard.test.js","skipped":false,"dir":"tests"},{"name":"should render icons correctly","suites":["Test renderStatsCard"],"updatePoint":{"line":178,"column":35,"index":8229},"line":178,"code":"  it(\"should render icons correctly\", () => {\n    document.body.innerHTML = renderStatsCard(stats, {\n      show_icons: true\n    });\n    expect(queryAllByTestId(document.body, \"icon\")[0]).toBeDefined();\n    expect(queryByTestId(document.body, \"stars\")).toBeDefined();\n    expect(queryByTestId(document.body, \"stars\").previousElementSibling // the label\n    ).toHaveAttribute(\"x\", \"25\");\n  });","file":"renderStatsCard.test.js","skipped":false,"dir":"tests"},{"name":"should not have icons if show_icons is false","suites":["Test renderStatsCard"],"updatePoint":{"line":187,"column":50,"index":8636},"line":187,"code":"  it(\"should not have icons if show_icons is false\", () => {\n    document.body.innerHTML = renderStatsCard(stats, {\n      show_icons: false\n    });\n    expect(queryAllByTestId(document.body, \"icon\")[0]).not.toBeDefined();\n    expect(queryByTestId(document.body, \"stars\")).toBeDefined();\n    expect(queryByTestId(document.body, \"stars\").previousElementSibling // the label\n    ).not.toHaveAttribute(\"x\");\n  });","file":"renderStatsCard.test.js","skipped":false,"dir":"tests"},{"name":"should auto resize if hide_rank is true","suites":["Test renderStatsCard"],"updatePoint":{"line":196,"column":45,"index":9041},"line":196,"code":"  it(\"should auto resize if hide_rank is true\", () => {\n    document.body.innerHTML = renderStatsCard(stats, {\n      hide_rank: true\n    });\n    expect(document.body.getElementsByTagName(\"svg\")[0].getAttribute(\"width\")).toBe(\"305.81250000000006\");\n  });","file":"renderStatsCard.test.js","skipped":false,"dir":"tests"},{"name":"should auto resize if hide_rank is true & custom_title is set","suites":["Test renderStatsCard"],"updatePoint":{"line":202,"column":67,"index":9317},"line":202,"code":"  it(\"should auto resize if hide_rank is true & custom_title is set\", () => {\n    document.body.innerHTML = renderStatsCard(stats, {\n      hide_rank: true,\n      custom_title: \"Hello world\"\n    });\n    expect(document.body.getElementsByTagName(\"svg\")[0].getAttribute(\"width\")).toBe(\"270\");\n  });","file":"renderStatsCard.test.js","skipped":false,"dir":"tests"},{"name":"should render translations","suites":["Test renderStatsCard"],"updatePoint":{"line":209,"column":32,"index":9578},"line":209,"code":"  it(\"should render translations\", () => {\n    document.body.innerHTML = renderStatsCard(stats, {\n      locale: \"cn\"\n    });\n    expect(document.getElementsByClassName(\"header\")[0].textContent).toBe(\"Anurag Hazra çš„ GitHub ç»Ÿè®¡æ•°æ®\");\n    expect(document.querySelector('g[transform=\"translate(0, 0)\"]>.stagger>.stat.bold').textContent).toMatchInlineSnapshot(`\"èŽ·æ ‡æ˜Ÿæ•°ï¼ˆstarï¼‰:\"`);\n    expect(document.querySelector('g[transform=\"translate(0, 25)\"]>.stagger>.stat.bold').textContent).toMatchInlineSnapshot(`\"ç´¯è®¡æäº¤æ•°ï¼ˆcommitï¼‰ (2022):\"`);\n    expect(document.querySelector('g[transform=\"translate(0, 50)\"]>.stagger>.stat.bold').textContent).toMatchInlineSnapshot(`\"æ‹‰å–è¯·æ±‚æ•°ï¼ˆPRï¼‰:\"`);\n    expect(document.querySelector('g[transform=\"translate(0, 75)\"]>.stagger>.stat.bold').textContent).toMatchInlineSnapshot(`\"æŒ‡å‡ºé—®é¢˜æ•°ï¼ˆissueï¼‰:\"`);\n    expect(document.querySelector('g[transform=\"translate(0, 100)\"]>.stagger>.stat.bold').textContent).toMatchInlineSnapshot(`\"å‚ä¸Žé¡¹ç›®æ•°:\"`);\n  });","file":"renderStatsCard.test.js","skipped":false,"dir":"tests"},{"name":"should render without rounding","suites":["Test renderStatsCard"],"updatePoint":{"line":220,"column":36,"index":10534},"line":220,"code":"  it(\"should render without rounding\", () => {\n    document.body.innerHTML = renderStatsCard(stats, {\n      border_radius: \"0\"\n    });\n    expect(document.querySelector(\"rect\")).toHaveAttribute(\"rx\", \"0\");\n    document.body.innerHTML = renderStatsCard(stats, {});\n    expect(document.querySelector(\"rect\")).toHaveAttribute(\"rx\", \"4.5\");\n  });","file":"renderStatsCard.test.js","skipped":false,"dir":"tests"},{"name":"should render correctly","suites":["Test renderTopLanguages"],"updatePoint":{"line":25,"column":29,"index":647},"line":25,"code":"  it(\"should render correctly\", () => {\n    document.body.innerHTML = renderTopLanguages(langs);\n    expect(queryByTestId(document.body, \"header\")).toHaveTextContent(\"Most Used Languages\");\n    expect(queryAllByTestId(document.body, \"lang-name\")[0]).toHaveTextContent(\"HTML\");\n    expect(queryAllByTestId(document.body, \"lang-name\")[1]).toHaveTextContent(\"javascript\");\n    expect(queryAllByTestId(document.body, \"lang-name\")[2]).toHaveTextContent(\"css\");\n    expect(queryAllByTestId(document.body, \"lang-progress\")[0]).toHaveAttribute(\"width\", \"40%\");\n    expect(queryAllByTestId(document.body, \"lang-progress\")[1]).toHaveAttribute(\"width\", \"40%\");\n    expect(queryAllByTestId(document.body, \"lang-progress\")[2]).toHaveAttribute(\"width\", \"20%\");\n  });","file":"renderTopLanguages.test.js","skipped":false,"dir":"tests"},{"name":"should hide languages when hide is passed","suites":["Test renderTopLanguages"],"updatePoint":{"line":35,"column":47,"index":1418},"line":35,"code":"  it(\"should hide languages when hide is passed\", () => {\n    document.body.innerHTML = renderTopLanguages(langs, {\n      hide: [\"HTML\"]\n    });\n    expect(queryAllByTestId(document.body, \"lang-name\")[0]).toBeInTheDocument(\"javascript\");\n    expect(queryAllByTestId(document.body, \"lang-name\")[1]).toBeInTheDocument(\"css\");\n    expect(queryAllByTestId(document.body, \"lang-name\")[2]).not.toBeDefined();\n\n    // multiple languages passed\n    document.body.innerHTML = renderTopLanguages(langs, {\n      hide: [\"HTML\", \"css\"]\n    });\n    expect(queryAllByTestId(document.body, \"lang-name\")[0]).toBeInTheDocument(\"javascript\");\n    expect(queryAllByTestId(document.body, \"lang-name\")[1]).not.toBeDefined();\n  });","file":"renderTopLanguages.test.js","skipped":false,"dir":"tests"},{"name":"should resize the height correctly depending on langs","suites":["Test renderTopLanguages"],"updatePoint":{"line":50,"column":59,"index":2139},"line":50,"code":"  it(\"should resize the height correctly depending on langs\", () => {\n    document.body.innerHTML = renderTopLanguages(langs, {});\n    expect(document.querySelector(\"svg\")).toHaveAttribute(\"height\", \"205\");\n    document.body.innerHTML = renderTopLanguages({\n      ...langs,\n      python: {\n        color: \"#ff0\",\n        name: \"python\",\n        size: 100\n      }\n    }, {});\n    expect(document.querySelector(\"svg\")).toHaveAttribute(\"height\", \"245\");\n  });","file":"renderTopLanguages.test.js","skipped":false,"dir":"tests"},{"name":"should render with custom width set","suites":["Test renderTopLanguages"],"updatePoint":{"line":63,"column":41,"index":2578},"line":63,"code":"  it(\"should render with custom width set\", () => {\n    document.body.innerHTML = renderTopLanguages(langs, {});\n    expect(document.querySelector(\"svg\")).toHaveAttribute(\"width\", \"300\");\n    document.body.innerHTML = renderTopLanguages(langs, {\n      card_width: 400\n    });\n    expect(document.querySelector(\"svg\")).toHaveAttribute(\"width\", \"400\");\n  });","file":"renderTopLanguages.test.js","skipped":false,"dir":"tests"},{"name":"should render with min width","suites":["Test renderTopLanguages"],"updatePoint":{"line":71,"column":34,"index":2928},"line":71,"code":"  it(\"should render with min width\", () => {\n    document.body.innerHTML = renderTopLanguages(langs, {\n      card_width: 190\n    });\n    expect(document.querySelector(\"svg\")).toHaveAttribute(\"width\", MIN_CARD_WIDTH.toString());\n    document.body.innerHTML = renderTopLanguages(langs, {\n      card_width: 100\n    });\n    expect(document.querySelector(\"svg\")).toHaveAttribute(\"width\", MIN_CARD_WIDTH.toString());\n  });","file":"renderTopLanguages.test.js","skipped":false,"dir":"tests"},{"name":"should render default colors properly","suites":["Test renderTopLanguages"],"updatePoint":{"line":81,"column":43,"index":3354},"line":81,"code":"  it(\"should render default colors properly\", () => {\n    document.body.innerHTML = renderTopLanguages(langs);\n    const styleTag = document.querySelector(\"style\");\n    const stylesObject = cssToObject(styleTag.textContent);\n    const headerStyles = stylesObject[\":host\"][\".header \"];\n    const langNameStyles = stylesObject[\":host\"][\".lang-name \"];\n    expect(headerStyles.fill.trim()).toBe(\"#2f80ed\");\n    expect(langNameStyles.fill.trim()).toBe(\"#434d58\");\n    expect(queryByTestId(document.body, \"card-bg\")).toHaveAttribute(\"fill\", \"#fffefe\");\n  });","file":"renderTopLanguages.test.js","skipped":false,"dir":"tests"},{"name":"should render custom colors properly","suites":["Test renderTopLanguages"],"updatePoint":{"line":91,"column":42,"index":3907},"line":91,"code":"  it(\"should render custom colors properly\", () => {\n    const customColors = {\n      title_color: \"5a0\",\n      icon_color: \"1b998b\",\n      text_color: \"9991\",\n      bg_color: \"252525\"\n    };\n    document.body.innerHTML = renderTopLanguages(langs, {\n      ...customColors\n    });\n    const styleTag = document.querySelector(\"style\");\n    const stylesObject = cssToObject(styleTag.innerHTML);\n    const headerStyles = stylesObject[\":host\"][\".header \"];\n    const langNameStyles = stylesObject[\":host\"][\".lang-name \"];\n    expect(headerStyles.fill.trim()).toBe(`#${customColors.title_color}`);\n    expect(langNameStyles.fill.trim()).toBe(`#${customColors.text_color}`);\n    expect(queryByTestId(document.body, \"card-bg\")).toHaveAttribute(\"fill\", \"#252525\");\n  });","file":"renderTopLanguages.test.js","skipped":false,"dir":"tests"},{"name":"should render custom colors with themes","suites":["Test renderTopLanguages"],"updatePoint":{"line":109,"column":45,"index":4672},"line":109,"code":"  it(\"should render custom colors with themes\", () => {\n    document.body.innerHTML = renderTopLanguages(langs, {\n      title_color: \"5a0\",\n      theme: \"radical\"\n    });\n    const styleTag = document.querySelector(\"style\");\n    const stylesObject = cssToObject(styleTag.innerHTML);\n    const headerStyles = stylesObject[\":host\"][\".header \"];\n    const langNameStyles = stylesObject[\":host\"][\".lang-name \"];\n    expect(headerStyles.fill.trim()).toBe(\"#5a0\");\n    expect(langNameStyles.fill.trim()).toBe(`#${themes.radical.text_color}`);\n    expect(queryByTestId(document.body, \"card-bg\")).toHaveAttribute(\"fill\", `#${themes.radical.bg_color}`);\n  });","file":"renderTopLanguages.test.js","skipped":false,"dir":"tests"},{"name":"should render with all the themes","suites":["Test renderTopLanguages"],"updatePoint":{"line":122,"column":39,"index":5317},"line":122,"code":"  it(\"should render with all the themes\", () => {\n    Object.keys(themes).forEach(name => {\n      document.body.innerHTML = renderTopLanguages(langs, {\n        theme: name\n      });\n      const styleTag = document.querySelector(\"style\");\n      const stylesObject = cssToObject(styleTag.innerHTML);\n      const headerStyles = stylesObject[\":host\"][\".header \"];\n      const langNameStyles = stylesObject[\":host\"][\".lang-name \"];\n      expect(headerStyles.fill.trim()).toBe(`#${themes[name].title_color}`);\n      expect(langNameStyles.fill.trim()).toBe(`#${themes[name].text_color}`);\n      expect(queryByTestId(document.body, \"card-bg\")).toHaveAttribute(\"fill\", `#${themes[name].bg_color}`);\n    });\n  });","file":"renderTopLanguages.test.js","skipped":false,"dir":"tests"},{"name":"should render with layout compact","suites":["Test renderTopLanguages"],"updatePoint":{"line":136,"column":39,"index":6021},"line":136,"code":"  it(\"should render with layout compact\", () => {\n    document.body.innerHTML = renderTopLanguages(langs, {\n      layout: \"compact\"\n    });\n    expect(queryByTestId(document.body, \"header\")).toHaveTextContent(\"Most Used Languages\");\n    expect(queryAllByTestId(document.body, \"lang-name\")[0]).toHaveTextContent(\"HTML 40.00%\");\n    expect(queryAllByTestId(document.body, \"lang-progress\")[0]).toHaveAttribute(\"width\", \"120\");\n    expect(queryAllByTestId(document.body, \"lang-name\")[1]).toHaveTextContent(\"javascript 40.00%\");\n    expect(queryAllByTestId(document.body, \"lang-progress\")[1]).toHaveAttribute(\"width\", \"120\");\n    expect(queryAllByTestId(document.body, \"lang-name\")[2]).toHaveTextContent(\"css 20.00%\");\n    expect(queryAllByTestId(document.body, \"lang-progress\")[2]).toHaveAttribute(\"width\", \"60\");\n  });","file":"renderTopLanguages.test.js","skipped":false,"dir":"tests"},{"name":"should render a translated title","suites":["Test renderTopLanguages"],"updatePoint":{"line":148,"column":38,"index":6836},"line":148,"code":"  it(\"should render a translated title\", () => {\n    document.body.innerHTML = renderTopLanguages(langs, {\n      locale: \"cn\"\n    });\n    expect(document.getElementsByClassName(\"header\")[0].textContent).toBe(\"æœ€å¸¸ç”¨çš„è¯­è¨€\");\n  });","file":"renderTopLanguages.test.js","skipped":false,"dir":"tests"},{"name":"should render without rounding","suites":["Test renderTopLanguages"],"updatePoint":{"line":154,"column":36,"index":7059},"line":154,"code":"  it(\"should render without rounding\", () => {\n    document.body.innerHTML = renderTopLanguages(langs, {\n      border_radius: \"0\"\n    });\n    expect(document.querySelector(\"rect\")).toHaveAttribute(\"rx\", \"0\");\n    document.body.innerHTML = renderTopLanguages(langs, {});\n    expect(document.querySelector(\"rect\")).toHaveAttribute(\"rx\", \"4.5\");\n  });","file":"renderTopLanguages.test.js","skipped":false,"dir":"tests"},{"name":"should render langs with specified langs_count","suites":["Test renderTopLanguages"],"updatePoint":{"line":162,"column":52,"index":7424},"line":162,"code":"  it(\"should render langs with specified langs_count\", async () => {\n    const options = {\n      langs_count: 1\n    };\n    document.body.innerHTML = renderTopLanguages(langs, {\n      ...options\n    });\n    expect(queryAllByTestId(document.body, \"lang-name\").length).toBe(options.langs_count);\n  });","file":"renderTopLanguages.test.js","skipped":false,"dir":"tests"},{"name":"should render langs with specified langs_count even when hide is set","suites":["Test renderTopLanguages"],"updatePoint":{"line":171,"column":74,"index":7745},"line":171,"code":"  it(\"should render langs with specified langs_count even when hide is set\", async () => {\n    const options = {\n      hide: [\"HTML\"],\n      langs_count: 2\n    };\n    document.body.innerHTML = renderTopLanguages(langs, {\n      ...options\n    });\n    expect(queryAllByTestId(document.body, \"lang-name\").length).toBe(options.langs_count);\n  });","file":"renderTopLanguages.test.js","skipped":false,"dir":"tests"},{"name":"should render correctly","suites":["Test Render Wakatime Card"],"updatePoint":{"line":7,"column":29,"index":346},"line":7,"code":"  it(\"should render correctly\", () => {\n    const card = renderWakatimeCard(wakaTimeData.data);\n    expect(getCardColors).toMatchSnapshot();\n  });","file":"renderWakatimeCard.test.js","skipped":false,"dir":"tests"},{"name":"should render correctly with compact layout","suites":["Test Render Wakatime Card"],"updatePoint":{"line":11,"column":49,"index":513},"line":11,"code":"  it(\"should render correctly with compact layout\", () => {\n    const card = renderWakatimeCard(wakaTimeData.data, {\n      layout: \"compact\"\n    });\n    expect(card).toMatchSnapshot();\n  });","file":"renderWakatimeCard.test.js","skipped":false,"dir":"tests"},{"name":"should render correctly with compact layout when langs_count is set","suites":["Test Render Wakatime Card"],"updatePoint":{"line":17,"column":73,"index":728},"line":17,"code":"  it(\"should render correctly with compact layout when langs_count is set\", () => {\n    const card = renderWakatimeCard(wakaTimeData.data, {\n      layout: \"compact\",\n      langs_count: 2\n    });\n    expect(card).toMatchSnapshot();\n  });","file":"renderWakatimeCard.test.js","skipped":false,"dir":"tests"},{"name":"should hide languages when hide is passed","suites":["Test Render Wakatime Card"],"updatePoint":{"line":24,"column":47,"index":939},"line":24,"code":"  it(\"should hide languages when hide is passed\", () => {\n    document.body.innerHTML = renderWakatimeCard(wakaTimeData.data, {\n      hide: [\"YAML\", \"Other\"]\n    });\n    expect(queryByTestId(document.body, /YAML/i)).toBeNull();\n    expect(queryByTestId(document.body, /Other/i)).toBeNull();\n    expect(queryByTestId(document.body, /TypeScript/i)).not.toBeNull();\n  });","file":"renderWakatimeCard.test.js","skipped":false,"dir":"tests"},{"name":"should render translations","suites":["Test Render Wakatime Card"],"updatePoint":{"line":32,"column":32,"index":1293},"line":32,"code":"  it(\"should render translations\", () => {\n    document.body.innerHTML = renderWakatimeCard({}, {\n      locale: \"cn\"\n    });\n    expect(document.getElementsByClassName(\"header\")[0].textContent).toBe(\"Wakatime å‘¨ç»Ÿè®¡\");\n    expect(document.querySelector('g[transform=\"translate(0, 0)\"]>text.stat.bold').textContent).toBe(\"æœ¬å‘¨æ²¡æœ‰ç¼–ç¨‹æ´»åŠ¨\");\n  });","file":"renderWakatimeCard.test.js","skipped":false,"dir":"tests"},{"name":"should render without rounding","suites":["Test Render Wakatime Card"],"updatePoint":{"line":39,"column":36,"index":1633},"line":39,"code":"  it(\"should render without rounding\", () => {\n    document.body.innerHTML = renderWakatimeCard(wakaTimeData.data, {\n      border_radius: \"0\"\n    });\n    expect(document.querySelector(\"rect\")).toHaveAttribute(\"rx\", \"0\");\n    document.body.innerHTML = renderWakatimeCard(wakaTimeData.data, {});\n    expect(document.querySelector(\"rect\")).toHaveAttribute(\"rx\", \"4.5\");\n  });","file":"renderWakatimeCard.test.js","skipped":false,"dir":"tests"},{"name":"should show \"no coding activitiy this week\" message when there hasn not been activity","suites":["Test Render Wakatime Card"],"updatePoint":{"line":47,"column":91,"index":2061},"line":47,"code":"  it('should show \"no coding activitiy this week\" message when there hasn not been activity', () => {\n    document.body.innerHTML = renderWakatimeCard({\n      ...wakaTimeData.data,\n      languages: undefined\n    }, {});\n    expect(document.querySelector(\".stat\").textContent).toBe(\"No coding activity this week\");\n  });","file":"renderWakatimeCard.test.js","skipped":false,"dir":"tests"},{"name":"retryer should return value and have zero retries on first try","suites":["Test Retryer"],"updatePoint":{"line":38,"column":68,"index":919},"line":38,"code":"  it(\"retryer should return value and have zero retries on first try\", async () => {\n    let res = await retryer(fetcher, {});\n    expect(fetcher).toBeCalledTimes(1);\n    expect(res).toStrictEqual({\n      data: \"ok\"\n    });\n  });","file":"retryer.test.js","skipped":false,"dir":"tests"},{"name":"retryer should return value and have 2 retries","suites":["Test Retryer"],"updatePoint":{"line":45,"column":52,"index":1133},"line":45,"code":"  it(\"retryer should return value and have 2 retries\", async () => {\n    let res = await retryer(fetcherFailOnSecondTry, {});\n    expect(fetcherFailOnSecondTry).toBeCalledTimes(2);\n    expect(res).toStrictEqual({\n      data: \"ok\"\n    });\n  });","file":"retryer.test.js","skipped":false,"dir":"tests"},{"name":"retryer should throw error if maximum retries reached","suites":["Test Retryer"],"updatePoint":{"line":52,"column":59,"index":1384},"line":52,"code":"  it(\"retryer should throw error if maximum retries reached\", async () => {\n    let res;\n    try {\n      res = await retryer(fetcherFail, {});\n    } catch (err) {\n      expect(fetcherFail).toBeCalledTimes(8);\n      expect(err.message).toBe(\"Maximum retries exceeded\");\n    }\n  });","file":"retryer.test.js","skipped":false,"dir":"tests"},{"name":"should test the request","suites":["Test /api/top-langs"],"updatePoint":{"line":82,"column":29,"index":1706},"line":82,"code":"  it(\"should test the request\", async () => {\n    const req = {\n      query: {\n        username: \"anuraghazra\"\n      }\n    };\n    const res = {\n      setHeader: jest.fn(),\n      send: jest.fn()\n    };\n    mock.onPost(\"https://api.github.com/graphql\").reply(200, data_langs);\n    await topLangs(req, res);\n    expect(res.setHeader).toBeCalledWith(\"Content-Type\", \"image/svg+xml\");\n    expect(res.send).toBeCalledWith(renderTopLanguages(langs));\n  });","file":"top-langs.test.js","skipped":false,"dir":"tests"},{"name":"should work with the query options","suites":["Test /api/top-langs"],"updatePoint":{"line":97,"column":40,"index":2167},"line":97,"code":"  it(\"should work with the query options\", async () => {\n    const req = {\n      query: {\n        username: \"anuraghazra\",\n        hide_title: true,\n        card_width: 100,\n        title_color: \"fff\",\n        icon_color: \"fff\",\n        text_color: \"fff\",\n        bg_color: \"fff\"\n      }\n    };\n    const res = {\n      setHeader: jest.fn(),\n      send: jest.fn()\n    };\n    mock.onPost(\"https://api.github.com/graphql\").reply(200, data_langs);\n    await topLangs(req, res);\n    expect(res.setHeader).toBeCalledWith(\"Content-Type\", \"image/svg+xml\");\n    expect(res.send).toBeCalledWith(renderTopLanguages(langs, {\n      hide_title: true,\n      card_width: 100,\n      title_color: \"fff\",\n      icon_color: \"fff\",\n      text_color: \"fff\",\n      bg_color: \"fff\"\n    }));\n  });","file":"top-langs.test.js","skipped":false,"dir":"tests"},{"name":"should render error card on error","suites":["Test /api/top-langs"],"updatePoint":{"line":125,"column":39,"index":2939},"line":125,"code":"  it(\"should render error card on error\", async () => {\n    const req = {\n      query: {\n        username: \"anuraghazra\"\n      }\n    };\n    const res = {\n      setHeader: jest.fn(),\n      send: jest.fn()\n    };\n    mock.onPost(\"https://api.github.com/graphql\").reply(200, error);\n    await topLangs(req, res);\n    expect(res.setHeader).toBeCalledWith(\"Content-Type\", \"image/svg+xml\");\n    expect(res.send).toBeCalledWith(renderError(error.errors[0].message));\n  });","file":"top-langs.test.js","skipped":false,"dir":"tests"},{"name":"should test kFormatter","suites":["Test utils.js"],"updatePoint":{"line":5,"column":28,"index":265},"line":5,"code":"  it(\"should test kFormatter\", () => {\n    expect(kFormatter(1)).toBe(1);\n    expect(kFormatter(-1)).toBe(-1);\n    expect(kFormatter(500)).toBe(500);\n    expect(kFormatter(1000)).toBe(\"1k\");\n    expect(kFormatter(10000)).toBe(\"10k\");\n    expect(kFormatter(12345)).toBe(\"12.3k\");\n    expect(kFormatter(9900000)).toBe(\"9900k\");\n  });","file":"utils.test.js","skipped":false,"dir":"tests"},{"name":"should test encodeHTML","suites":["Test utils.js"],"updatePoint":{"line":14,"column":28,"index":597},"line":14,"code":"  it(\"should test encodeHTML\", () => {\n    expect(encodeHTML(`<html>hello world<,.#4^&^@%!))`)).toBe(\"&#60;html&#62;hello world&#60;,.#4^&#38;^@%!))\");\n  });","file":"utils.test.js","skipped":false,"dir":"tests"},{"name":"should test renderError","suites":["Test utils.js"],"updatePoint":{"line":17,"column":29,"index":756},"line":17,"code":"  it(\"should test renderError\", () => {\n    document.body.innerHTML = renderError(\"Something went wrong\");\n    expect(queryByTestId(document.body, \"message\").children[0]).toHaveTextContent(/Something went wrong/gim);\n    expect(queryByTestId(document.body, \"message\").children[1]).toBeEmptyDOMElement(2);\n\n    // Secondary message\n    document.body.innerHTML = renderError(\"Something went wrong\", \"Secondary Message\");\n    expect(queryByTestId(document.body, \"message\").children[1]).toHaveTextContent(/Secondary Message/gim);\n  });","file":"utils.test.js","skipped":false,"dir":"tests"},{"name":"getCardColors: should return expected values","suites":["Test utils.js"],"updatePoint":{"line":26,"column":50,"index":1309},"line":26,"code":"  it(\"getCardColors: should return expected values\", () => {\n    let colors = getCardColors({\n      title_color: \"f00\",\n      text_color: \"0f0\",\n      icon_color: \"00f\",\n      bg_color: \"fff\",\n      border_color: \"fff\",\n      theme: \"dark\"\n    });\n    expect(colors).toStrictEqual({\n      titleColor: \"#f00\",\n      textColor: \"#0f0\",\n      iconColor: \"#00f\",\n      bgColor: \"#fff\",\n      borderColor: \"#fff\"\n    });\n  });","file":"utils.test.js","skipped":false,"dir":"tests"},{"name":"getCardColors: should fallback to default colors if color is invalid","suites":["Test utils.js"],"updatePoint":{"line":43,"column":74,"index":1755},"line":43,"code":"  it(\"getCardColors: should fallback to default colors if color is invalid\", () => {\n    let colors = getCardColors({\n      title_color: \"invalidcolor\",\n      text_color: \"0f0\",\n      icon_color: \"00f\",\n      bg_color: \"fff\",\n      border_color: \"invalidColor\",\n      theme: \"dark\"\n    });\n    expect(colors).toStrictEqual({\n      titleColor: \"#2f80ed\",\n      textColor: \"#0f0\",\n      iconColor: \"#00f\",\n      bgColor: \"#fff\",\n      borderColor: \"#e4e2e2\"\n    });\n  });","file":"utils.test.js","skipped":false,"dir":"tests"},{"name":"getCardColors: should fallback to specified theme colors if is not defined","suites":["Test utils.js"],"updatePoint":{"line":60,"column":80,"index":2231},"line":60,"code":"  it(\"getCardColors: should fallback to specified theme colors if is not defined\", () => {\n    let colors = getCardColors({\n      theme: \"dark\"\n    });\n    expect(colors).toStrictEqual({\n      titleColor: \"#fff\",\n      textColor: \"#9f9f9f\",\n      iconColor: \"#79ff97\",\n      bgColor: \"#151515\",\n      borderColor: \"#e4e2e2\"\n    });\n  });","file":"utils.test.js","skipped":false,"dir":"tests"},{"name":"should not wrap small texts","suites":["wrapTextMultiline"],"updatePoint":{"line":74,"column":33,"index":2564},"line":74,"code":"  it(\"should not wrap small texts\", () => {\n    {\n      let multiLineText = wrapTextMultiline(\"Small text should not wrap\");\n      expect(multiLineText).toEqual([\"Small text should not wrap\"]);\n    }\n  });","file":"utils.test.js","skipped":false,"dir":"tests"},{"name":"should wrap large texts","suites":["wrapTextMultiline"],"updatePoint":{"line":80,"column":29,"index":2766},"line":80,"code":"  it(\"should wrap large texts\", () => {\n    let multiLineText = wrapTextMultiline(\"Hello world long long long text\", 20, 3);\n    expect(multiLineText).toEqual([\"Hello world long\", \"long long text\"]);\n  });","file":"utils.test.js","skipped":false,"dir":"tests"},{"name":"should wrap large texts and limit max lines","suites":["wrapTextMultiline"],"updatePoint":{"line":84,"column":49,"index":2992},"line":84,"code":"  it(\"should wrap large texts and limit max lines\", () => {\n    let multiLineText = wrapTextMultiline(\"Hello world long long long text\", 10, 2);\n    expect(multiLineText).toEqual([\"Hello\", \"world long...\"]);\n  });","file":"utils.test.js","skipped":false,"dir":"tests"},{"name":"should wrap chinese by punctuation","suites":["wrapTextMultiline"],"updatePoint":{"line":88,"column":40,"index":3197},"line":88,"code":"  it(\"should wrap chinese by punctuation\", () => {\n    let multiLineText = wrapTextMultiline(\"ä¸“é—¨ä¸ºåˆšå¼€å§‹åˆ·é¢˜çš„åŒå­¦å‡†å¤‡çš„ç®—æ³•åŸºåœ°ï¼Œæ²¡æœ‰æœ€ç»†åªæœ‰æ›´ç»†ï¼Œç«‹å¿—ç”¨åŠ¨ç”»å°†æ™¦æ¶©éš¾æ‡‚çš„ç®—æ³•è¯´çš„é€šä¿—æ˜“æ‡‚ï¼\");\n    expect(multiLineText.length).toEqual(3);\n    expect(multiLineText[0].length).toEqual(18 * 8); // &#xxxxx; x 8\n  });","file":"utils.test.js","skipped":false,"dir":"tests"}]}