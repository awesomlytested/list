{"repo":"dropzone/dropzone","url":"https://github.com/dropzone/dropzone","branch":"main","configs":[{"package":"dropzone","lang":"js","dir":"cypress","framework":"mocha","pattern":"**/*[._-]{test,spec,unittest,unit}.{ts,js}"}],"tests":[{"name":"uploads single file","suites":["Dropzone with zero configuration"],"updatePoint":{"line":7,"column":25,"index":191},"line":7,"code":"  it(\"uploads single file\", () => {\n    cy.intercept(\"POST\", \"/\").as(\"upload\");\n    cy.get(\".dropzone\").attachFile(\"image.jpg\", {\n      subjectType: \"drag-n-drop\"\n    });\n    cy.wait(\"@upload\").then(interception => {\n      expect(JSON.parse(interception.response.body)).to.deep.eq({\n        success: true\n      });\n    });\n  });","file":"integration/1-basic/zero_configuration.spec.js","skipped":false,"dir":"cypress"},{"name":"uploads single file","suites":["Dropzone with zero configuration"],"updatePoint":{"line":9,"column":25,"index":256},"line":9,"code":"  it(\"uploads single file\", () => {\n    cy.intercept(\"PUT\", \"/amazon-multipart-upload?uploadId=demo-id&partNumber=*\").as(\"upload\");\n    cy.intercept(\"POST\", \"/amazon-complete\").as(\"complete\");\n    cy.get(\".dropzone\").attachFile(\"image.jpg\", {\n      subjectType: \"drag-n-drop\"\n    });\n    let remainingSize = imageSize;\n    let partEtags = [];\n    for (let i = 0; i < 4; i++) {\n      cy.wait(\"@upload\").then(interception => {\n        partEtags.push(interception.response.headers[\"etag\"].replaceAll('\"', \"\"));\n        expect(interception.request.headers[\"content-type\"]).to.eq(\"image/jpeg\");\n        expect(interception.request.headers[\"content-length\"]).to.eq(`${remainingSize > chunkSize ? chunkSize : remainingSize}`);\n        expect(JSON.parse(interception.response.body)).to.deep.eq({\n          success: true\n        });\n        remainingSize -= chunkSize;\n      });\n    }\n    cy.wait(\"@complete\").then(interception => {\n      // Now making sure that the finalise request is valid as well.\n      expect(interception.request.body).to.eq(JSON.stringify({\n        // This is the demo id that we defined in the html.\n        UploadId: \"demo-id\",\n        MultipartUpload: {\n          Parts: [\n          // The individual etags have been returned by the server, and\n          // stored in the `@upload` intercept handler.\n          {\n            PartNumber: 1,\n            ETag: partEtags[0]\n          }, {\n            PartNumber: 2,\n            ETag: partEtags[1]\n          }, {\n            PartNumber: 3,\n            ETag: partEtags[2]\n          }, {\n            PartNumber: 4,\n            ETag: partEtags[3]\n          }]\n        }\n      }));\n    });\n  });","file":"integration/2-integrations/aws-s3-multipart.spec.js","skipped":false,"dir":"cypress"}]}